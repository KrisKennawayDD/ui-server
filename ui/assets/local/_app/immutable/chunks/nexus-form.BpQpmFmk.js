import{s as Fe,d as w,i as G,w as De,c as He,a as ke,u as we,g as Ce,b as Ne,O as _e,a3 as pe,h as g,j as Z,k as O,l as y,e as D,m as te,q as Oe,n as B,f as q,t as ne,v as Te,V as Be,L as qe,o as Ge}from"./scheduler.gES7FyoG.js";import{S as Ke,i as Qe,t as h,a as $,g as je,e as Ae,h as de,d as F,m as H,c as K,b as Q}from"./index.DpnGbpCk.js";import{w as Je}from"./entry.DW4hARBY.js";import{p as Ue}from"./stores.BLbp4vQc.js";import{A as We}from"./alert.B7mQa_SE.js";import{C as Me}from"./combobox.iI6-Z5_T.js";import{I as Ie}from"./input.DxerhoSt.js";import{E as Xe}from"./editor.CLBBUyRB.js";import{M as Ye}from"./markdown.B_O2CibK.js";import{T as Ze,a as Ve}from"./toggle-buttons.RZC0FSZU.js";import{t as T}from"./translate.DzDeFYDI.js";const ye=l=>({}),Re=l=>({});function xe(l){let e;const n=l[3].fallback,t=ke(n,l,l[2],Re);return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,a){t&&t.m(s,a),e=!0},p(s,a){t&&t.p&&(!e||a&4)&&we(t,n,s,s[2],e?Ne(n,s[2],a,ye):Ce(s[2]),Re)},i(s){e||($(t,s),e=!0)},o(s){h(t,s),e=!1},d(s){t&&t.d(s)}}}function et(l){let e;const n=l[3].default,t=ke(n,l,l[2],null);return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,a){t&&t.m(s,a),e=!0},p(s,a){t&&t.p&&(!e||a&4)&&we(t,n,s,s[2],e?Ne(n,s[2],a,null):Ce(s[2]),null)},i(s){e||($(t,s),e=!0)},o(s){h(t,s),e=!1},d(s){t&&t.d(s)}}}function tt(l){let e,n,t,s;const a=[et,xe],i=[];function p(f,b){var m,L,E;return f[0]||(E=(L=(m=f[1].data)==null?void 0:m.settings)==null?void 0:L.runtimeEnvironment)!=null&&E.isCloud?0:1}return e=p(l),n=i[e]=a[e](l),{c(){n.c(),t=De()},l(f){n.l(f),t=De()},m(f,b){i[e].m(f,b),G(f,t,b),s=!0},p(f,[b]){let m=e;e=p(f),e===m?i[e].p(f,b):(je(),h(i[m],1,1,()=>{i[m]=null}),Ae(),n=i[e],n?n.p(f,b):(n=i[e]=a[e](f),n.c()),$(n,1),n.m(t.parentNode,t))},i(f){s||($(n),s=!0)},o(f){h(n),s=!1},d(f){f&&w(t),i[e].d(f)}}}function nt(l,e,n){let t;He(l,Ue,p=>n(1,t=p));let{$$slots:s={},$$scope:a}=e,{isCloud:i=!1}=e;return l.$$set=p=>{"isCloud"in p&&n(0,i=p.isCloud),"$$scope"in p&&n(2,a=p.$$scope)},[i,t,a,s]}class lt extends Ke{constructor(e){super(),Qe(this,e,nt,tt,Fe,{isCloud:0})}}const st=l=>({}),Se=l=>({});function at(l){let e,n,t=T("nexus.access-policy")+"",s,a,i,p=T("nexus.allowed-caller-namespaces-description")+"",f,b,m,L,E;function z(c){l[20](c)}let C={id:"caller-namespace-filter-menu",multiselect:!0,displayChips:!1,options:l[12],label:T("nexus.allowed-caller-namespaces"),leadingIcon:"search",noResultsText:T("common.no-results"),valid:!!l[9].length,error:"Please select at least one Namespace.",placeholder:T("nexus.select-namespaces"),optionValueKey:"value",optionLabelKey:"label"};return l[9]!==void 0&&(C.value=l[9]),m=new Me({props:C}),_e.push(()=>de(m,"value",z)),{c(){e=B("div"),n=B("p"),s=ne(t),a=q(),i=B("p"),f=ne(p),b=q(),Q(m.$$.fragment),this.h()},l(c){e=O(c,"DIV",{class:!0});var v=y(e);n=O(v,"P",{class:!0});var d=y(n);s=te(d,t),d.forEach(w),a=D(v),i=O(v,"P",{class:!0});var _=y(i);f=te(_,p),_.forEach(w),v.forEach(w),b=D(c),K(m.$$.fragment,c),this.h()},h(){Z(n,"class","text-base text-primary"),Z(i,"class","text-xs text-secondary"),Z(e,"class","flex flex-col gap-0")},m(c,v){G(c,e,v),g(e,n),g(n,s),g(e,a),g(e,i),g(i,f),G(c,b,v),H(m,c,v),E=!0},p(c,v){const d={};v[0]&4096&&(d.options=c[12]),v[0]&512&&(d.valid=!!c[9].length),!L&&v[0]&512&&(L=!0,d.value=c[9],pe(()=>L=!1)),m.$set(d)},i(c){E||($(m.$$.fragment,c),E=!0)},o(c){h(m.$$.fragment,c),E=!1},d(c){c&&(w(e),w(b)),F(m,c)}}}function ot(l){let e=T("common.description")+"",n;return{c(){n=ne(e)},l(t){n=te(t,e)},m(t,s){G(t,n,s)},p:Te,d(t){t&&w(n)}}}function rt(l){let e=T("common.preview")+"",n;return{c(){n=ne(e)},l(t){n=te(t,e)},m(t,s){G(t,n,s)},p:Te,d(t){t&&w(n)}}}function it(l){let e,n,t,s;return e=new Ve({props:{active:l[10]===!1,"data-testid":"description-editor",$$slots:{default:[ot]},$$scope:{ctx:l}}}),e.$on("click",l[21]),t=new Ve({props:{active:l[10]===!0,"data-testid":"description-preview",$$slots:{default:[rt]},$$scope:{ctx:l}}}),t.$on("click",l[22]),{c(){Q(e.$$.fragment),n=q(),Q(t.$$.fragment)},l(a){K(e.$$.fragment,a),n=D(a),K(t.$$.fragment,a)},m(a,i){H(e,a,i),G(a,n,i),H(t,a,i),s=!0},p(a,i){const p={};i[0]&1024&&(p.active=a[10]===!1),i[0]&16777216&&(p.$$scope={dirty:i,ctx:a}),e.$set(p);const f={};i[0]&1024&&(f.active=a[10]===!0),i[0]&16777216&&(f.$$scope={dirty:i,ctx:a}),t.$set(f)},i(a){s||($(e.$$.fragment,a),$(t.$$.fragment,a),s=!0)},o(a){h(e.$$.fragment,a),h(t.$$.fragment,a),s=!1},d(a){a&&w(n),F(e,a),F(t,a)}}}function ut(l){let e,n;return e=new Xe({props:{content:l[6]}}),e.$on("change",l[23]),{c(){Q(e.$$.fragment)},l(t){K(e.$$.fragment,t)},m(t,s){H(e,t,s),n=!0},p(t,s){const a={};s[0]&64&&(a.content=t[6]),e.$set(a)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){F(e,t)}}}function ft(l){let e,n;return e=new Ye({props:{content:l[6]}}),{c(){Q(e.$$.fragment)},l(t){K(e.$$.fragment,t)},m(t,s){H(e,t,s),n=!0},p(t,s){const a={};s[0]&64&&(a.content=t[6]),e.$set(a)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){F(e,t)}}}function ct(l){var t;let e=((t=l[1])==null?void 0:t.message)+"",n;return{c(){n=ne(e)},l(s){n=te(s,e)},m(s,a){G(s,n,a)},p(s,a){var i;a[0]&2&&e!==(e=((i=s[1])==null?void 0:i.message)+"")&&Ge(n,e)},d(s){s&&w(n)}}}function mt(l){var Ee;let e,n,t,s,a,i,p=T("nexus.target")+"",f,b,m,L=T("nexus.target-description")+"",E,z,C,c,v,d,_,le,I,se,R,ae,S,N,k,J,V,x="Do not include sensitive data.",U,W,j,X;function ge(o){l[17](o)}let ie={required:!0,disabled:l[2],error:!l[5]||!l[11](l[5]),hintText:l[4],label:T("nexus.endpoint-name"),id:"name",maxLength:255,placeholder:T("nexus.endpoint-name-placeholder")};l[5]!==void 0&&(ie.value=l[5]),n=new Ie({props:ie}),_e.push(()=>de(n,"value",ge));function ve(o){l[18](o)}let ue={label:T("nexus.target-namespace"),noResultsText:T("common.no-results"),valid:!!l[7],error:"Please select a target Namespace.",required:!0,id:"target-namespace",placeholder:T("nexus.select-namespace"),leadingIcon:"namespace-switcher",options:l[0],optionValueKey:"namespace",minSize:32};l[7]!==void 0&&(ue.value=l[7]),C=new Me({props:ue}),_e.push(()=>de(C,"value",ve));function be(o){l[19](o)}let fe={required:!0,error:!l[8],label:T("common.task-queue"),id:"task-queue",placeholder:T("nexus.task-queue-placeholder")};l[8]!==void 0&&(fe.value=l[8]),d=new Ie({props:fe}),_e.push(()=>de(d,"value",be)),I=new lt({props:{isCloud:l[3],$$slots:{default:[at]},$$scope:{ctx:l}}}),R=new Ze({props:{$$slots:{default:[it]},$$scope:{ctx:l}}});const u=[ft,ut],A=[];function ce(o,r){return o[10]?0:1}N=ce(l),k=A[N]=u[N](l);const re=l[16].footer,P=ke(re,l,l[24],Se);return j=new We({props:{title:(Ee=l[1])==null?void 0:Ee.statusText,intent:"error",hidden:!l[1],$$slots:{default:[ct]},$$scope:{ctx:l}}}),{c(){e=B("div"),Q(n.$$.fragment),s=q(),a=B("div"),i=B("p"),f=ne(p),b=q(),m=B("p"),E=ne(L),z=q(),Q(C.$$.fragment),v=q(),Q(d.$$.fragment),le=q(),Q(I.$$.fragment),se=q(),Q(R.$$.fragment),ae=q(),S=B("div"),k.c(),J=q(),V=B("p"),V.textContent=x,U=q(),P&&P.c(),W=q(),Q(j.$$.fragment),this.h()},l(o){e=O(o,"DIV",{class:!0});var r=y(e);K(n.$$.fragment,r),s=D(r),a=O(r,"DIV",{class:!0});var M=y(a);i=O(M,"P",{class:!0});var ee=y(i);f=te(ee,p),ee.forEach(w),b=D(M),m=O(M,"P",{class:!0});var oe=y(m);E=te(oe,L),oe.forEach(w),M.forEach(w),z=D(r),K(C.$$.fragment,r),v=D(r),K(d.$$.fragment,r),le=D(r),K(I.$$.fragment,r),se=D(r),K(R.$$.fragment,r),ae=D(r),S=O(r,"DIV",{});var Y=y(S);k.l(Y),J=D(Y),V=O(Y,"P",{class:!0,"data-svelte-h":!0}),Oe(V)!=="svelte-11lgqx1"&&(V.textContent=x),Y.forEach(w),U=D(r),P&&P.l(r),r.forEach(w),W=D(o),K(j.$$.fragment,o),this.h()},h(){Z(i,"class","text-base text-primary"),Z(m,"class","text-xs text-secondary"),Z(a,"class","flex flex-col gap-0"),Z(V,"class","my-2 text-xs text-secondary"),Z(e,"class","flex w-full flex-col gap-4 xl:w-1/2")},m(o,r){G(o,e,r),H(n,e,null),g(e,s),g(e,a),g(a,i),g(i,f),g(a,b),g(a,m),g(m,E),g(e,z),H(C,e,null),g(e,v),H(d,e,null),g(e,le),H(I,e,null),g(e,se),H(R,e,null),g(e,ae),g(e,S),A[N].m(S,null),g(S,J),g(S,V),g(e,U),P&&P.m(e,null),G(o,W,r),H(j,o,r),X=!0},p(o,r){var Le;const M={};r[0]&4&&(M.disabled=o[2]),r[0]&2080&&(M.error=!o[5]||!o[11](o[5])),r[0]&16&&(M.hintText=o[4]),!t&&r[0]&32&&(t=!0,M.value=o[5],pe(()=>t=!1)),n.$set(M);const ee={};r[0]&128&&(ee.valid=!!o[7]),r[0]&1&&(ee.options=o[0]),!c&&r[0]&128&&(c=!0,ee.value=o[7],pe(()=>c=!1)),C.$set(ee);const oe={};r[0]&256&&(oe.error=!o[8]),!_&&r[0]&256&&(_=!0,oe.value=o[8],pe(()=>_=!1)),d.$set(oe);const Y={};r[0]&8&&(Y.isCloud=o[3]),r[0]&16781824&&(Y.$$scope={dirty:r,ctx:o}),I.$set(Y);const Pe={};r[0]&16778240&&(Pe.$$scope={dirty:r,ctx:o}),R.$set(Pe);let he=N;N=ce(o),N===he?A[N].p(o,r):(je(),h(A[he],1,1,()=>{A[he]=null}),Ae(),k=A[N],k?k.p(o,r):(k=A[N]=u[N](o),k.c()),$(k,1),k.m(S,J)),P&&P.p&&(!X||r[0]&16777216)&&we(P,re,o,o[24],X?Ne(re,o[24],r,st):Ce(o[24]),Se);const me={};r[0]&2&&(me.title=(Le=o[1])==null?void 0:Le.statusText),r[0]&2&&(me.hidden=!o[1]),r[0]&16777218&&(me.$$scope={dirty:r,ctx:o}),j.$set(me)},i(o){X||($(n.$$.fragment,o),$(C.$$.fragment,o),$(d.$$.fragment,o),$(I.$$.fragment,o),$(R.$$.fragment,o),$(k),$(P,o),$(j.$$.fragment,o),X=!0)},o(o){h(n.$$.fragment,o),h(C.$$.fragment,o),h(d.$$.fragment,o),h(I.$$.fragment,o),h(R.$$.fragment,o),h(k),h(P,o),h(j.$$.fragment,o),X=!1},d(o){o&&(w(e),w(W)),F(n),F(C),F(d),F(I),F(R),A[N].d(),P&&P.d(o),F(j,o)}}}const ze={spec:{name:"",descriptionString:"",target:{worker:{namespace:"",taskQueue:""}},allowedCallerNamespaces:[]}},$e=Je(ze);function _t(l,e,n){let t,s,a,i=Te;He(l,$e,u=>n(34,a=u)),l.$$.on_destroy.push(()=>i());let{$$slots:p={},$$scope:f}=e;var b,m,L,E,z,C,c,v,d;let{endpoint:_=void 0}=e,{targetNamespaceList:le=[]}=e,{callerNamespaceList:I=[]}=e,{error:se=void 0}=e,{nameDisabled:R=!1}=e,{isCloud:ae=!0}=e,{nameHintText:S}=e,{nameRegexPattern:N}=e,k=((b=_==null?void 0:_.spec)===null||b===void 0?void 0:b.name)||"",J=((m=_==null?void 0:_.spec)===null||m===void 0?void 0:m.descriptionString)||"",V=((z=(E=(L=_==null?void 0:_.spec)===null||L===void 0?void 0:L.target)===null||E===void 0?void 0:E.worker)===null||z===void 0?void 0:z.namespace)||"",x=((v=(c=(C=_==null?void 0:_.spec)===null||C===void 0?void 0:C.target)===null||c===void 0?void 0:c.worker)===null||v===void 0?void 0:v.taskQueue)||"",U=((d=_==null?void 0:_.spec)===null||d===void 0?void 0:d.allowedCallerNamespaces)||[],W=!1;const j=(u,A,ce,re,P)=>{qe($e,a={spec:{name:u,descriptionString:A,target:{worker:{namespace:ce,taskQueue:re}},allowedCallerNamespaces:P}},a)};Be(()=>{qe($e,a=ze,a)});function X(u){k=u,n(5,k)}function ge(u){V=u,n(7,V)}function ie(u){x=u,n(8,x)}function ve(u){U=u,n(9,U)}const ue=()=>n(10,W=!1),be=()=>n(10,W=!0),fe=u=>n(6,J=u.detail.value);return l.$$set=u=>{"endpoint"in u&&n(13,_=u.endpoint),"targetNamespaceList"in u&&n(0,le=u.targetNamespaceList),"callerNamespaceList"in u&&n(14,I=u.callerNamespaceList),"error"in u&&n(1,se=u.error),"nameDisabled"in u&&n(2,R=u.nameDisabled),"isCloud"in u&&n(3,ae=u.isCloud),"nameHintText"in u&&n(4,S=u.nameHintText),"nameRegexPattern"in u&&n(15,N=u.nameRegexPattern),"$$scope"in u&&n(24,f=u.$$scope)},l.$$.update=()=>{l.$$.dirty[0]&992&&j(k,J,V,x,U),l.$$.dirty[0]&16384&&n(12,t=I.map(u=>({value:u.namespace,label:u.namespace}))),l.$$.dirty[0]&32768&&n(11,s=u=>N.test(u))},[le,se,R,ae,S,k,J,V,x,U,W,s,t,_,I,N,p,X,ge,ie,ve,ue,be,fe,f]}class Tt extends Ke{constructor(e){super(),Qe(this,e,_t,mt,Fe,{endpoint:13,targetNamespaceList:0,callerNamespaceList:14,error:1,nameDisabled:2,isCloud:3,nameHintText:4,nameRegexPattern:15},null,[-1,-1])}}export{Tt as N,$e as e};
