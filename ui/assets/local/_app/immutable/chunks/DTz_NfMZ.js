import"./CWj6FrbW.js";import"./69_IOA4Y.js";import{p as se,as as Bt,l as Fe,s as S,m as P,ag as Ft,a as Ne,e as _,r as v,t as H,d as o,g as e,b as le,n as re,c as l,f as be,ay as Oe,i as Nt}from"./BZ1i_Yzi.js";import{s as O}from"./BtIgVYD3.js";import{i as Xe}from"./Pfo2U1_a.js";import{t as q,a as I,b as ae}from"./B11KKQxI.js";import{i as ne}from"./EXou6kTq.js";import{l as dt,p as g}from"./DQFlnzBt.js";import{a as xe,s as Qe,b as Ee,d as Qt}from"./nHCSEYHe.js";import{a as zt,w as Kt}from"./Dm8LSs3h.js";import{p as ft}from"./0-Rj4NUp.js";import{s as ht}from"./DBXxAZ3D.js";import{C as Ut}from"./C2k67nnR.js";import{I as fe}from"./DdwH5MWq.js";import{c as Vt,T as gt,a as mt,b as Se}from"./yMB5vANo.js";import{b as Jt,C as Gt,s as Rt}from"./BqyZnqh5.js";import{t as c}from"./D2OY9xdY.js";import{e as He,i as Be}from"./DT_Kaee1.js";import{B as Pe}from"./DoY1gYLG.js";import{m as Xt,T as Yt,g as Ge,w as Zt}from"./Bg70iDFh.js";import{I as er}from"./DrUA5UyL.js";import{S as tr}from"./D2eubMAU.js";import{S as rr,O as De}from"./kNaa6Tqq.js";import{A as ar}from"./CR4vVWSJ.js";import{C as sr}from"./Bga7QKHu.js";import{L as lr}from"./37X4KTfe.js";import{L as nr}from"./CJSepuex.js";import{e as Re,l as or}from"./C11Tg4gV.js";import{b as ir}from"./BIBmBwr0.js";import{d as ut}from"./CRDc5qpn.js";import{o as dr,p as ur}from"./BWhIZ6Gb.js";import{P as cr,m as vr,j as fr}from"./aUZDCBGV.js";import{a as ct}from"./DDXQMJHw.js";import{g as hr}from"./Di71q1hW.js";import{P as gr}from"./BQjUR50P.js";import{A as vt}from"./C4Crqavy.js";var mr=q("<div><!></div>");function Ae(L,t){const n=dt(t,["children","$$slots","$$events","$$legacy"]),b=dt(n,["id","tabId"]);se(t,!1);const[w,f]=Qe(),s=()=>xe(y,"$activePanel",w),r=P();let a=g(t,"id",8),i=g(t,"tabId",8);const{registerPanel:h,activePanel:y}=Bt(Vt);h(a()),Fe(()=>(s(),Ft(a())),()=>{S(r,s()===a())}),Ne(),ne();var u=mr();let d;var k=_(u);ht(k,t,"default",{},null),v(u),H(m=>d=Jt(u,d,{id:a(),"aria-labelledby":i(),tabindex:"0",role:"tabpanel",...b,[Gt]:m}),[()=>({hidden:!e(r),"text-primary":e(r)})],o),I(L,u),le(),f()}var pr=q('<div class="surface-primary grid place-items-center gap-1 rounded border border-subtle px-0 py-4 text-center sm:gap-4 md:gap-x-8 md:px-2 xl:gap-x-16 xl:px-4 svelte-qnj0j6"></div>');function _r(L,t){se(t,!1);const n=Array.from({length:31}).map((s,r)=>r+1);let b=g(t,"daysOfMonth",12);const w=(s,r)=>{s.metaKey?b().includes(r)?b().filter(a=>a!==r):b([...b(),r]):b([r])};ne();var f=pr();He(f,5,()=>n,Be,(s,r)=>{const a=o(()=>b().includes(e(r))),i=o(()=>e(a)&&"bg-interactive-secondary-active");Pe(s,{variant:"secondary",get class(){return`max-md:h-9 max-md:px-4 max-md:py-1.5 max-md:text-sm max-sm:h-8 max-sm:px-2 max-sm:py-1 max-sm:text-xs ${e(i)??""}`},$$events:{click:h=>w(h,e(r))},children:(h,y)=>{re();var u=ae();H(()=>O(u,e(r))),I(h,u)},$$slots:{default:!0}})}),v(f),I(L,f),le()}var xr=q('<div class="flex flex-wrap gap-4 text-center"></div>');function br(L,t){se(t,!1);let n=g(t,"months",12);const b=(f,s)=>{f.metaKey&&s!=="*"?(n().includes("*")&&n(n().filter(r=>r!=="*")),n().includes(s)?n(n().filter(r=>r!==s)):n([...n(),s])):n([s])};ne();var w=xr();He(w,5,()=>Xt,Be,(f,s)=>{let r=()=>e(s).label,a=()=>e(s).value;const i=o(()=>n().includes(a())),h=o(()=>e(i)&&"bg-interactive-secondary-active");Pe(f,{variant:"secondary",get class(){return e(h)},$$events:{click:y=>b(y,a())},children:(y,u)=>{re();var d=ae();H(()=>O(d,r())),I(y,d)},$$slots:{default:!0}})}),v(w),I(L,w),le()}var yr=q('<div class="flex flex-col gap-4"><div class="flex flex-col gap-2"><h3> </h3> <p class="text-secondary"> </p> <!></div> <div class="flex w-full flex-row items-center gap-2"><!> <span class="text-xs font-normal text-slate-500"> </span></div></div>');function pt(L,t){se(t,!1);let n=g(t,"hour",12,""),b=g(t,"minute",12,"");ne();var w=yr(),f=_(w),s=_(f),r=_(s,!0);v(s);var a=l(s,2),i=_(a,!0);v(a);var h=l(a,2);Yt(h,{twelveHourClock:!1,includeSeconds:!1,get hour(){return n()},set hour(m){n(m)},get minute(){return b()},set minute(m){b(m)},$$legacy:!0}),v(f);var y=l(f,2),u=_(y);er(u,{name:"clock","aria-hidden":"true"});var d=l(u,2),k=_(d);v(d),v(y),v(w),H((m,E,U)=>{O(r,m),O(i,E),O(k,`${U??""} Universal Standard Time (UTC)`)},[()=>c("schedules.time-view-heading"),()=>c("schedules.time-view-description"),()=>c("common.based-on-time-preface")],o),I(L,w),le()}var $r=q('<div class="flex flex-col gap-4"><div class="flex flex-col gap-2"><h3> </h3> <p class="text-secondary"> </p> <!></div> <!> <!></div>');function wr(L,t){se(t,!1);let n=g(t,"daysOfMonth",12),b=g(t,"months",12),w=g(t,"hour",12),f=g(t,"minute",12);ne();var s=$r(),r=_(s),a=_(r),i=_(a,!0);v(a);var h=l(a,2),y=_(h,!0);v(h);var u=l(h,2);_r(u,{get daysOfMonth(){return n()},set daysOfMonth(m){n(m)},$$legacy:!0}),v(r);var d=l(r,2);br(d,{get months(){return b()},set months(m){b(m)},$$legacy:!0});var k=l(d,2);pt(k,{get hour(){return w()},set hour(m){w(m)},get minute(){return f()},set minute(m){f(m)},$$legacy:!0}),v(s),H((m,E)=>{O(i,m),O(y,E)},[()=>c("schedules.recurring-dates-heading"),()=>c("schedules.recurring-dates-description")],o),I(L,s),le()}var kr=q('<div class="flex flex-col gap-4 text-center"><div class="flex flex-wrap gap-2 text-center"></div> <div class="flex flex-wrap gap-2 text-center"></div></div>');function Ir(L,t){se(t,!1);let n=g(t,"daysOfWeek",12);const b=(r,a)=>{r.metaKey?(Ge.find(i=>i.value===a)?n([a]):n().find(i=>Ge.find(h=>h.value===i))&&n([a]),n().includes(a)?n().filter(i=>i!==a):n([...n(),a])):n([a])};ne();var w=kr(),f=_(w);He(f,5,()=>Ge,Be,(r,a)=>{let i=()=>e(a).label,h=()=>e(a).value;const y=o(()=>n().includes(h())),u=o(()=>e(y)&&"bg-interactive-secondary-active");Pe(r,{variant:"secondary",get class(){return e(u)},$$events:{click:d=>b(d,h())},children:(d,k)=>{re();var m=ae();H(()=>O(m,i())),I(d,m)},$$slots:{default:!0}})}),v(f);var s=l(f,2);He(s,5,()=>Zt,Be,(r,a)=>{let i=()=>e(a).label,h=()=>e(a).value;const y=o(()=>n().includes(h())),u=o(()=>e(y)&&"bg-interactive-secondary-active");Pe(r,{variant:"secondary",get class(){return e(u)},$$events:{click:d=>b(d,h())},children:(d,k)=>{re();var m=ae();H(()=>O(m,i())),I(d,m)},$$slots:{default:!0}})}),v(s),v(w),I(L,w),le()}var Sr=q('<div class="flex flex-col gap-4"><div class="flex flex-col gap-2"><h3> </h3> <p class="text-secondary"> </p> <!></div> <!></div>');function Ar(L,t){se(t,!1);let n=g(t,"daysOfWeek",12),b=g(t,"hour",12),w=g(t,"minute",12);ne();var f=Sr(),s=_(f),r=_(s),a=_(r,!0);v(r);var i=l(r,2),h=_(i,!0);v(i);var y=l(i,2);Ir(y,{get daysOfWeek(){return n()},set daysOfWeek(d){n(d)},$$legacy:!0}),v(s);var u=l(s,2);pt(u,{get hour(){return b()},set hour(d){b(d)},get minute(){return w()},set minute(d){w(d)},$$legacy:!0}),v(f),H((d,k)=>{O(a,d),O(h,k)},[()=>c("schedules.recurring-days-heading"),()=>c("schedules.recurring-days-description")],o),I(L,f),le()}var Pr=q("<!> <!> <!> <!>",1),Tr=q('<div class="flex flex-col gap-4"><div class="flex flex-col gap-2"><h3> </h3> <p class="text-secondary"> </p> <div class="flex flex-col gap-2 md:flex-row md:items-center"><!> <div class="hidden md:block">:</div> <!> <div class="hidden md:block">:</div> <!> <div class="hidden md:block">:</div> <!></div></div> <div class="flex flex-col gap-2"><h3> </h3> <p class="text-secondary"> </p> <div class="flex w-48 gap-2"><!> <!></div></div></div>');function Or(L,t){se(t,!1);let n=g(t,"days",12,""),b=g(t,"hour",12,""),w=g(t,"minute",12,""),f=g(t,"second",12,""),s=g(t,"phase",12,""),r=P(""),a=P("min");const i=M=>M?isNaN(parseInt(M)):!1;Fe(()=>(e(r),e(a)),()=>{e(r)&&(e(a)==="days"?s((parseInt(e(r))*60*60*24).toString()+"s"):e(a)==="hrs"?s((parseInt(e(r))*60*60).toString()+"s"):e(a)==="min"?s((parseInt(e(r))*60).toString()+"s"):e(a)==="sec"&&s(parseInt(e(r)).toString()+"s"))}),Ne(),ne();var h=Tr(),y=_(h),u=_(y),d=_(u,!0);v(u);var k=l(u,2),m=_(k,!0);v(k);var E=l(k,2),U=_(E);const he=o(()=>c("common.days")),ue=o(()=>c("common.days")),G=o(()=>i(n()));fe(U,{id:"days","data-testid":"days-input",class:"w-28",get label(){return e(he)},labelHidden:!0,placeholder:"000",get suffix(){return e(ue)},hideCount:!0,maxLength:3,get error(){return e(G)},get value(){return n()},set value(M){n(M)},$$legacy:!0});var C=l(U,4);const Z=o(()=>c("common.hours-abbreviated")),B=o(()=>c("common.hours-abbreviated")),Q=o(()=>i(b()));fe(C,{id:"hour-interval","data-testid":"hour-interval-input",class:"w-24",get label(){return e(Z)},labelHidden:!0,placeholder:"00",get suffix(){return e(B)},hideCount:!0,maxLength:2,get error(){return e(Q)},get value(){return b()},set value(M){b(M)},$$legacy:!0});var z=l(C,4);const $=o(()=>c("common.minutes-abbreviated")),oe=o(()=>c("common.minutes-abbreviated")),R=o(()=>i(w()));fe(z,{id:"minute-interval","data-testid":"minute-interval-input",class:"w-24",get label(){return e($)},labelHidden:!0,placeholder:"00",get suffix(){return e(oe)},hideCount:!0,maxLength:2,get error(){return e(R)},get value(){return w()},set value(M){w(M)},$$legacy:!0});var ge=l(z,4);const me=o(()=>c("common.seconds-abbreviated")),Ce=o(()=>c("common.seconds-abbreviated")),D=o(()=>i(f()));fe(ge,{id:"second","data-testid":"second-interval-input",class:"w-24",get label(){return e(me)},labelHidden:!0,placeholder:"00",get suffix(){return e(Ce)},hideCount:!0,maxLength:2,get error(){return e(D)},get value(){return f()},set value(M){f(M)},$$legacy:!0}),v(E),v(y);var ie=l(y,2),x=_(ie),ee=_(x,!0);v(x);var A=l(x,2),V=_(A,!0);v(A);var W=l(A,2),j=_(W);const F=o(()=>c("schedules.offset-heading")),K=o(()=>i(s()));fe(j,{id:"phase",class:"w-28",get label(){return e(F)},labelHidden:!0,placeholder:"00",maxLength:3,hideCount:!0,get error(){return e(K)},get value(){return e(r)},set value(M){S(r,M)},$$legacy:!0});var pe=l(j,2);const ye=o(()=>c("schedules.offset-unit"));rr(pe,{get label(){return e(ye)},labelHidden:!0,id:"phase-unit",get value(){return e(a)},set value(M){S(a,M)},children:(M,ce)=>{var J=Pr(),te=be(J);De(te,{value:"days",children:(X,we)=>{re();var N=ae();H(de=>O(N,de),[()=>c("common.days")],o),I(X,N)},$$slots:{default:!0}});var ve=l(te,2);De(ve,{value:"hrs",children:(X,we)=>{re();var N=ae();H(de=>O(N,de),[()=>c("common.hours-abbreviated")],o),I(X,N)},$$slots:{default:!0}});var _e=l(ve,2);De(_e,{value:"min",children:(X,we)=>{re();var N=ae();H(de=>O(N,de),[()=>c("common.minutes-abbreviated")],o),I(X,N)},$$slots:{default:!0}});var $e=l(_e,2);De($e,{value:"sec",children:(X,we)=>{re();var N=ae();H(de=>O(N,de),[()=>c("common.seconds-abbreviated")],o),I(X,N)},$$slots:{default:!0}}),I(M,J)},$$slots:{default:!0},$$legacy:!0}),v(W),v(ie),v(h),H((M,ce,J,te)=>{O(d,M),O(m,ce),O(ee,J),O(V,te)},[()=>c("schedules.interval-view-heading"),()=>c("schedules.interval-view-description"),()=>c("schedules.offset-heading"),()=>c("schedules.offset-description")],o),I(L,h),le()}var Cr=q("<!> <!> <!> <!> <!>",1),Wr=q('<div class="flex flex-col gap-2"><h3> </h3> <p class="text-secondary"> </p> <!></div> <div class="flex flex-col gap-2"><p class="text-secondary"> </p> <!></div>',1),Mr=q('<h2 class="mb-4"> </h2> <!> <div class="mt-4 flex w-full flex-wrap gap-6"><!> <!> <!> <!> <!></div> <!>',1);function Lr(L,t){se(t,!1);const[n,b]=Qe();let f=xe(ft,"$page",n).params.schedule,s=P(f?"existing":"interval"),r=g(t,"schedule",8,null),a=g(t,"daysOfWeek",12),i=g(t,"daysOfMonth",12),h=g(t,"months",12),y=g(t,"days",12),u=g(t,"hour",12),d=g(t,"minute",12),k=g(t,"second",12),m=g(t,"phase",12),E=g(t,"cronString",12);const U=()=>{a([]),i([]),h([]),y(""),u(""),d(""),k(""),m(""),E("")};Fe(()=>{},()=>{U()}),Ne(),ne(),gt(L,{class:"mt-8 w-full",children:(he,ue)=>{var G=Mr(),C=be(G),Z=_(C,!0);v(C);var B=l(C,2);mt(B,{label:"Schedule Tabs",class:"flex flex-wrap gap-6",children:(D,ie)=>{var x=Cr(),ee=be(x);{var A=K=>{Se(K,{label:"Existing",id:"existing-tab","data-testid":"existing-tab",panelId:"existing-panel",onClick:()=>S(s,"existing")})};Xe(ee,K=>{r()&&K(A)})}var V=l(ee,2);Se(V,{label:"Interval",id:"interval-tab","data-testid":"interval-tab",panelId:"interval-panel",onClick:()=>S(s,"interval")});var W=l(V,2);Se(W,{label:"Days of the Week",id:"daily-tab","data-testid":"daily-tab",panelId:"daily-panel",onClick:()=>S(s,"week")});var j=l(W,2);Se(j,{label:"Days of the Month",id:"monthly-tab","data-testid":"monthly-tab",panelId:"monthly-panel",onClick:()=>S(s,"month")});var F=l(j,2);Se(F,{label:"String",id:"string-tab","data-testid":"string-tab",panelId:"string-panel",onClick:()=>S(s,"string")}),I(D,x)},$$slots:{default:!0}});var Q=l(B,2),z=_(Q);{var $=D=>{Ae(D,{id:"existing-panel",tabId:"existing-tab",class:"w-full",children:(ie,x)=>{const ee=o(()=>{var W,j,F;return(F=(j=(W=r())==null?void 0:W.spec)==null?void 0:j.structuredCalendar)==null?void 0:F[0]}),A=o(()=>{var W,j,F;return(F=(j=(W=r())==null?void 0:W.spec)==null?void 0:j.interval)==null?void 0:F[0]}),V=o(()=>{var W,j;return(j=(W=r())==null?void 0:W.spec)==null?void 0:j.timezoneName});tr(ie,{get calendar(){return e(ee)},get interval(){return e(A)},get timezoneName(){return e(V)}})},$$slots:{default:!0}})};Xe(z,D=>{r()&&D($)})}var oe=l(z,2);Ae(oe,{id:"interval-panel",tabId:"interval-tab",children:(D,ie)=>{Or(D,{get days(){return y()},set days(x){y(x)},get hour(){return u()},set hour(x){u(x)},get minute(){return d()},set minute(x){d(x)},get second(){return k()},set second(x){k(x)},get phase(){return m()},set phase(x){m(x)},$$legacy:!0})},$$slots:{default:!0}});var R=l(oe,2);Ae(R,{id:"daily-panel",tabId:"daily-tab",children:(D,ie)=>{Ar(D,{get daysOfWeek(){return a()},set daysOfWeek(x){a(x)},get hour(){return u()},set hour(x){u(x)},get minute(){return d()},set minute(x){d(x)},$$legacy:!0})},$$slots:{default:!0}});var ge=l(R,2);Ae(ge,{id:"monthly-panel",tabId:"monthly-tab",children:(D,ie)=>{wr(D,{get daysOfMonth(){return i()},set daysOfMonth(x){i(x)},get months(){return h()},set months(x){h(x)},get hour(){return u()},set hour(x){u(x)},get minute(){return d()},set minute(x){d(x)},$$legacy:!0})},$$slots:{default:!0}});var me=l(ge,2);Ae(me,{id:"string-panel",tabId:"string-tab",class:"flex w-full flex-col gap-4",children:(D,ie)=>{var x=Wr(),ee=be(x),A=_(ee),V=_(A,!0);v(A);var W=l(A,2),j=_(W,!0);v(W);var F=l(W,2);Ut(F,{inline:!0,language:"text",content:`┌───────────── minute (0 - 59) 
│ ┌───────────── hour (0 - 23)
│ │ ┌───────────── day of the month (1 - 31)
│ │ │ ┌───────────── month (1 - 12)
│ │ │ │ ┌───────────── day of the week (0 - 6) (Sunday to Saturday)
│ │ │ │ │
* * * * *`,copyable:!1}),v(ee);var K=l(ee,2),pe=_(K),ye=_(pe,!0);v(pe);var M=l(pe,2);const ce=o(()=>c("schedules.cron-view-title"));fe(M,{get label(){return e(ce)},labelHidden:!0,id:"cronString",placeholder:"* * * * *",get value(){return E()},set value(J){E(J)},$$legacy:!0}),v(K),H((J,te,ve)=>{O(V,J),O(j,te),O(ye,ve)},[()=>c("schedules.cron-view-title"),()=>c("schedules.crow-view-example-description"),()=>c("schedules.cron-view-description")],o),I(D,x)},$$slots:{default:!0}}),v(Q);var Ce=l(Q,2);ht(Ce,t,"default",{get preset(){return e(s)}},null),H(D=>O(Z,D),[()=>c("schedules.schedule-spec")],o),I(he,G)},$$slots:{default:!0}}),le(),b()}var jr=q('<div slot="action"><!></div>'),qr=q('<div class="flex flex-col gap-1"><!></div>');function Dr(L,t){se(t,!1);const[n,b]=Qe(),w=()=>xe(r(),"$encoding",n);let f=g(t,"input",12),s=g(t,"editInput",12),r=g(t,"encoding",12),a=g(t,"messageType",12),i=g(t,"payloads",8),h=g(t,"showEditActions",8,!1),y="",u="json/plain",d="",k=P(!0);const m=ue=>{var G,C,Z,B,Q,z,$;y=hr(ue),f(y);const oe=ct(String((Z=(C=(G=i()===null||i()===void 0?void 0:i().payloads[0])===null||G===void 0?void 0:G.metadata)===null||C===void 0?void 0:C.encoding)!==null&&Z!==void 0?Z:"json/plain")),R=!((Q=(B=i()===null||i()===void 0?void 0:i().payloads[0])===null||B===void 0?void 0:B.metadata)===null||Q===void 0)&&Q.messageType?ct(String(($=(z=i()===null||i()===void 0?void 0:i().payloads[0])===null||z===void 0?void 0:z.metadata)===null||$===void 0?void 0:$.messageType)):"";vr(oe)&&(Ee(r(),oe),u=w(),oe==="json/protobuf"&&R&&(a(R),d=R)),S(k,!1)},E=()=>{s()?(s(!1),f(y),Ee(r(),u),a(d)):(s(!0),f())};ne();var U=qr(),he=_(U);gr(he,{get value(){return i()},key:"payloads",onDecode:m,children:(ue,G)=>{cr(ue,{get editing(){return s()},id:"schedule-payload-input",get input(){return f()},set input(C){f(C)},get encoding(){return r()},set encoding(C){r(C)},get messageType(){return a()},set messageType(C){a(C)},get loading(){return e(k)},set loading(C){S(k,C)},$$slots:{action:(C,Z)=>{var B=jr();let Q;var z=_(B);Pe(z,{variant:"secondary",$$events:{click:E},children:($,oe)=>{re();var R=ae();H(ge=>O(R,ge),[()=>s()?c("common.cancel"):c("common.edit")],o),I($,R)},$$slots:{default:!0}}),v(B),H($=>Q=Rt(B,1,"",null,Q,$),[()=>({hidden:!h()})],o),I(C,B)}},$$legacy:!0})},$$slots:{default:!0}}),v(U),I(L,U),le(),b()}var Er=q("<!> <!>",1),Hr=q('<h2 class="mb-4 mt-12">Search Attributes</h2> <!> <div class="mt-4 flex w-full flex-wrap gap-6"><!> <!></div>',1);function Br(L,t){se(t,!1);let n=g(t,"searchAttributesInput",28,()=>[]),b=g(t,"workflowSearchAttributesInput",28,()=>[]);ne(),gt(L,{children:(w,f)=>{var s=Hr(),r=l(be(s),2);const a=o(()=>c("schedules.add-schedule-attr"));mt(r,{get label(){return e(a)},class:"flex flex-wrap gap-6",children:(u,d)=>{var k=Er(),m=be(k);Se(m,{label:"Schedule",id:"schedule-tab","data-testid":"schedule-tab",panelId:"schedule-panel"});var E=l(m,2);Se(E,{label:"Workflows",id:"workflows-tab","data-testid":"workflows-tab",panelId:"workflows-panel"}),I(u,k)},$$slots:{default:!0}});var i=l(r,2),h=_(i);Ae(h,{id:"schedule-panel",tabId:"schedule-tab",class:"w-full","data-testid":"schedule-panel",children:(u,d)=>{vt(u,{class:"w-full",get attributesToAdd(){return n()},set attributesToAdd(k){n(k)},$$legacy:!0})},$$slots:{default:!0}});var y=l(h,2);Ae(y,{id:"workflows-panel",tabId:"workflows-tab",class:"w-full","data-testid":"workflows-panel",children:(u,d)=>{vt(u,{class:"w-full",get attributesToAdd(){return b()},set attributesToAdd(k){b(k)},$$legacy:!0})},$$slots:{default:!0}}),v(i),I(w,s)},$$slots:{default:!0}}),le()}var Fr=q('<!> <div class="mt-4 flex flex-row items-center gap-4 max-sm:flex-col"><!> <!></div>',1),Nr=q('<form class="mb-4 flex w-full flex-col gap-4"><!> <!> <!> <!> <!> <!> <!></form>'),Qr=q("<!> <h1></h1> <!>",1),zr=q('<div class="flex flex-col gap-4 pb-10"><!></div>');function Aa(L,t){se(t,!1);const[n,b]=Qe(),w=()=>xe(ft,"$page",n),f=()=>xe(ir,"$customSearchAttributes",n),s=()=>xe(e(ye),"$encoding",n),r=()=>xe(Re,"$error",n),a=()=>xe(or,"$loading",n),i=P();var h,y,u,d,k,m,E,U,he,ue,G,C,Z,B,Q,z;let $=g(t,"schedule",8,null),oe=g(t,"searchAttributes",24,()=>({})),R=g(t,"onConfirm",8),ge=w().params.namespace,me=w().params.schedule,Ce=c($()?"schedules.edit":"schedules.create"),D=c($()?"schedules.editing":"schedules.creating"),ie=c($()?"schedules.back-to-schedule":"schedules.back-to-schedules"),x=$()?dr({namespace:ge,scheduleId:me}):ur({namespace:ge}),ee=$()?c("common.save"):c("schedules.create"),A=P({}),V=P(me??""),W=P((d=(u=(y=(h=$()===null||$()===void 0?void 0:$().action)===null||h===void 0?void 0:h.startWorkflow)===null||y===void 0?void 0:y.workflowType)===null||u===void 0?void 0:u.name)!==null&&d!==void 0?d:""),j=P((E=(m=(k=$()===null||$()===void 0?void 0:$().action)===null||k===void 0?void 0:k.startWorkflow)===null||m===void 0?void 0:m.workflowId)!==null&&E!==void 0?E:""),F=P((G=(ue=(he=(U=$()===null||$()===void 0?void 0:$().action)===null||U===void 0?void 0:U.startWorkflow)===null||he===void 0?void 0:he.taskQueue)===null||ue===void 0?void 0:ue.name)!==null&&G!==void 0?G:""),K=P(""),pe=P(!$()),ye=P(Kt("json/plain")),M=P(""),ce=P([]),J=P([]),te=P([]),ve=P(""),_e=P(""),$e=P(""),X=P(""),we=P(""),N=P("");const de=ut({searchAttributes:oe()}),ze=ut({searchAttributes:(B=(Z=(C=$()===null||$()===void 0?void 0:$().action)===null||C===void 0?void 0:C.startWorkflow)===null||Z===void 0?void 0:Z.searchAttributes)!==null&&B!==void 0?B:{}}),_t=(Q=de==null?void 0:de.searchAttributes.indexedFields)!==null&&Q!==void 0?Q:{},xt=(z=ze==null?void 0:ze.searchAttributes.indexedFields)!==null&&z!==void 0?z:{};let Ke=P(Object.entries(_t).map(([T,Y])=>({label:T,value:Y,type:f()[T]}))),Ue=P(Object.entries(xt).map(([T,Y])=>({label:T,value:Y,type:f()[T]})));const bt=(T,Y)=>{const ke={name:e(V).trimEnd(),workflowType:e(W),workflowId:e(j),taskQueue:e(F),...e(pe)&&{input:e(K)},encoding:s(),messageType:e(M),hour:e(_e),minute:e($e),second:e(X),phase:e(we),cronString:e(N),daysOfWeek:e(ce),daysOfMonth:e(J),days:e(ve),months:e(te),searchAttributes:e(Ke),workflowSearchAttributes:e(Ue)};R()(T,ke,Y)},Le=T=>{const{id:Y}=T.target;Oe(A,e(A)[Y]=!1),r()&&Ee(Re,"")},je=T=>{const{value:Y,id:ke}=T.target;Y.trim()?Oe(A,e(A)[ke]=!1):Oe(A,e(A)[ke]=!0)},yt=T=>{if(!e(K))return Oe(A,e(A).input=!1),!0;try{return JSON.parse(T),Oe(A,e(A).input=!1),!0}catch{return Oe(A,e(A).input=!0),!1}};zt(()=>Ee(Re,"")),Fe(()=>(e(V),e(W),e(j),e(F),e(K),e(ve),e(_e),e($e),e(X),e(ce),e(J),e(te),e(N)),()=>{S(i,T=>!e(V)||!e(W)||!e(j)||!e(F)||!yt(e(K))?!0:T==="interval"?!e(ve)&&!e(_e)&&!e($e)&&!e(X):T==="week"?!e(ce).length:T==="month"?!e(J).length||!e(te).length:T==="string"?!e(N):!1)}),Ne(),ne();var Ve=zr(),$t=_(Ve);{var wt=T=>{nr(T,{title:D})},kt=T=>{var Y=Qr(),ke=be(Y);lr(ke,{href:x,icon:"chevron-left",children:(Je,St)=>{re();var Te=ae();Te.nodeValue=ie,I(Je,Te)},$$slots:{default:!0}});var Ye=l(ke,2);Ye.textContent=Ce;var It=l(Ye,2);sr(It,{class:"w-full xl:w-3/4 2xl:w-1/2",children:(Je,St)=>{var Te=Nr(),Ze=_(Te);const At=o(()=>c("schedules.name-label")),Pt=o(()=>!!me);fe(Ze,{id:"name","data-testid":"schedule-name-input",get label(){return e(At)},get error(){return e(A).name},maxLength:232,get disabled(){return e(Pt)},required:!0,get value(){return e(V)},set value(p){S(V,p)},$$events:{input:Le,blur:je},$$legacy:!0});var et=l(Ze,2);const Tt=o(()=>c("schedules.workflow-type-label"));fe(et,{id:"workflowType","data-testid":"schedule-type-input",get label(){return e(Tt)},get error(){return e(A).workflowType},required:!0,get value(){return e(W)},set value(p){S(W,p)},$$events:{input:Le,blur:je},$$legacy:!0});var tt=l(et,2);const Ot=o(()=>c("schedules.workflow-id-label"));fe(tt,{id:"workflowId","data-testid":"schedule-workflow-id-input",get label(){return e(Ot)},get error(){return e(A).workflowId},required:!0,get value(){return e(j)},set value(p){S(j,p)},$$events:{input:Le,blur:je},$$legacy:!0});var rt=l(tt,2);const Ct=o(()=>c("schedules.task-queue-label"));fe(rt,{id:"taskQueue","data-testid":"schedule-task-queue-input",get label(){return e(Ct)},get error(){return e(A).taskQueue},required:!0,get value(){return e(F)},set value(p){S(F,p)},$$events:{input:Le,blur:je},$$legacy:!0});var at=l(rt,2);const Wt=o(()=>{var p,qe,We;return(We=(qe=(p=$())==null?void 0:p.action)==null?void 0:qe.startWorkflow)==null?void 0:We.input}),Mt=o(()=>!!$());Dr(at,{get payloads(){return e(Wt)},get showEditActions(){return e(Mt)},get input(){return e(K)},set input(p){S(K,p)},get editInput(){return e(pe)},set editInput(p){S(pe,p)},get encoding(){return e(ye)},set encoding(p){Qt(S(ye,p),"$encoding",n)},get messageType(){return e(M)},set messageType(p){S(M,p)},$$legacy:!0});var st=l(at,2);Lr(st,{get schedule(){return $()},get daysOfWeek(){return e(ce)},set daysOfWeek(p){S(ce,p)},get daysOfMonth(){return e(J)},set daysOfMonth(p){S(J,p)},get months(){return e(te)},set months(p){S(te,p)},get days(){return e(ve)},set days(p){S(ve,p)},get hour(){return e(_e)},set hour(p){S(_e,p)},get minute(){return e($e)},set minute(p){S($e,p)},get second(){return e(X)},set second(p){S(X,p)},get phase(){return e(we)},set phase(p){S(we,p)},get cronString(){return e(N)},set cronString(p){S(N,p)},children:Nt,$$slots:{default:(p,qe)=>{const We=o(()=>qe.preset);var lt=Fr(),nt=be(lt);Br(nt,{get searchAttributesInput(){return e(Ke)},set searchAttributesInput(Ie){S(Ke,Ie)},get workflowSearchAttributesInput(){return e(Ue)},set workflowSearchAttributesInput(Ie){S(Ue,Ie)},$$legacy:!0});var ot=l(nt,2),it=_(ot);const qt=o(()=>e(i)(e(We))||!fr());Pe(it,{get disabled(){return e(qt)},class:"max-sm:w-full","data-testid":"create-schedule-button",$$events:{click:()=>bt(e(We),$())},children:(Ie,Et)=>{re();var Me=ae();Me.nodeValue=ee,I(Ie,Me)},$$slots:{default:!0}});var Dt=l(it,2);Pe(Dt,{variant:"ghost",href:x,class:"max-sm:w-full","data-testid":"cancel-schedule-button",children:(Ie,Et)=>{re();var Me=ae();H(Ht=>O(Me,Ht),[()=>c("common.cancel")],o),I(Ie,Me)},$$slots:{default:!0}}),v(ot),I(p,lt)}},$$legacy:!0});var Lt=l(st,2);const jt=o(()=>!r());ar(Lt,{intent:"error",get title(){return r()},get hidden(){return e(jt)}}),v(Te),I(Je,Te)},$$slots:{default:!0}}),I(T,Y)};Xe($t,T=>{a()?T(wt):T(kt,!1)})}v(Ve),I(L,Ve),le(),b()}export{Aa as S};
