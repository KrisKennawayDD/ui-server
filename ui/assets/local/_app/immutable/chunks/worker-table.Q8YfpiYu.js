import{s as _e,d as i,i as d,h as b,j as h,k,l as v,m as P,e as Q,n as T,t as H,f as I,c as X,o as U,x as we,w as ae,v as ee}from"./scheduler.gES7FyoG.js";import{S as he,i as $e,d as j,t as R,a as A,m as q,c as x,b as z,g as re,e as oe}from"./index.DpnGbpCk.js";import{e as ne}from"./each.CDwUSmAp.js";import{B as ke}from"./badge.CaNx3HvD.js";import{E as ve}from"./empty-state.D2QxL8QK.js";import{T as Te,a as be,b as ge}from"./table.1w7r_2Dj.js";import{t as N}from"./translate.DzDeFYDI.js";import"./auth-user.BaRTcdYR.js";import"./toaster.B51OPo-A.js";import"./paths.rON4_a8B.js";import"./entry.DvOJPYLi.js";import{i as Ee}from"./advanced-visibility.B5tzwm9E.js";import{t as ye,r as Qe,f as ie}from"./time-format._jb2xjli.js";import{I as Ie}from"./icon.iMHg4y68.js";function Ce(f){let e,s;return e=new Ie({props:{name:f[0]?"checkmark":"close",class:"m-auto "+(f[0]?"text-blue-700":"text-primary"),title:f[0]?N("common.yes"):N("common.no")}}),{c(){z(e.$$.fragment)},l(t){x(e.$$.fragment,t)},m(t,l){q(e,t,l),s=!0},p(t,[l]){const a={};l&1&&(a.name=t[0]?"checkmark":"close"),l&1&&(a.class="m-auto "+(t[0]?"text-blue-700":"text-primary")),l&1&&(a.title=t[0]?N("common.yes"):N("common.no")),e.$set(a)},i(t){s||(A(e.$$.fragment,t),s=!0)},o(t){R(e.$$.fragment,t),s=!1},d(t){j(e,t)}}}function De(f,e,s){let{includesTaskQueueType:t}=e;return f.$$set=l=>{"includesTaskQueueType"in l&&s(0,t=l.includesTaskQueueType)},[t]}class ce extends he{constructor(e){super(),$e(this,e,De,Ce,_e,{includesTaskQueueType:0})}}function ue(f,e,s){const t=f.slice();return t[5]=e[s],t}function Z(f){const e=f.slice(),s=e[4](e[5]);return e[8]=s,e}function Pe(f){var t,l;let e=(((l=(t=f[0])==null?void 0:t.pollers)==null?void 0:l.length)||0)+"",s;return{c(){s=H(e)},l(a){s=P(a,e)},m(a,o){d(a,s,o)},p(a,o){var p,r;o&1&&e!==(e=(((r=(p=a[0])==null?void 0:p.pollers)==null?void 0:r.length)||0)+"")&&U(s,e)},d(a){a&&i(s)}}}function fe(f){let e,s,t,l,a;return t=new ve({props:{title:N("workflows.workers-empty-state")}}),{c(){e=T("tr"),s=T("td"),z(t.$$.fragment),l=I(),this.h()},l(o){e=k(o,"TR",{class:!0});var p=v(e);s=k(p,"TD",{colspan:!0});var r=v(s);x(t.$$.fragment,r),r.forEach(i),l=Q(p),p.forEach(i),this.h()},h(){h(s,"colspan","5"),h(e,"class","w-full")},m(o,p){d(o,e,p),b(e,s),q(t,s,null),b(e,l),a=!0},p:ee,i(o){a||(A(t.$$.fragment,o),a=!0)},o(o){R(t.$$.fragment,o),a=!1},d(o){o&&i(e),j(t)}}}function me(f){let e,s,t=(f[8]??"")+"",l;return{c(){e=T("td"),s=T("p"),l=H(t),this.h()},l(a){e=k(a,"TD",{class:!0,"data-testid":!0});var o=v(e);s=k(o,"P",{class:!0});var p=v(s);l=P(p,t),p.forEach(i),o.forEach(i),this.h()},h(){h(s,"class","select-all break-all"),h(e,"class","text-left"),h(e,"data-testid","worker-build-id")},m(a,o){d(a,e,o),b(e,s),b(s,l)},p(a,o){o&1&&t!==(t=(a[8]??"")+"")&&U(l,t)},d(a){a&&i(e)}}}function He(f){var g,J;let e,s,t=f[5].identity+"",l,a,o,p,r=(((J=(g=f[5])==null?void 0:g.workerVersionCapabilities)==null?void 0:J.buildId)??"")+"",n,m,_,E,O,C=ie(f[5].lastAccessTime,f[2],{relative:f[3]})+"",V,G,F,D,W,y,B,S,w,u=!f[1]&&me(Z(f));return D=new ce({props:{includesTaskQueueType:f[5].taskQueueTypes.includes("WORKFLOW")}}),B=new ce({props:{includesTaskQueueType:f[5].taskQueueTypes.includes("ACTIVITY")}}),{c(){e=T("td"),s=T("p"),l=H(t),a=I(),o=T("td"),p=T("p"),n=H(r),m=I(),u&&u.c(),_=I(),E=T("td"),O=T("p"),V=H(C),G=I(),F=T("td"),z(D.$$.fragment),W=I(),y=T("td"),z(B.$$.fragment),S=I(),this.h()},l(c){e=k(c,"TD",{class:!0,"data-testid":!0});var $=v(e);s=k($,"P",{class:!0});var K=v(s);l=P(K,t),K.forEach(i),$.forEach(i),a=Q(c),o=k(c,"TD",{class:!0,"data-testid":!0});var L=v(o);p=k(L,"P",{class:!0});var Y=v(p);n=P(Y,r),Y.forEach(i),L.forEach(i),m=Q(c),u&&u.l(c),_=Q(c),E=k(c,"TD",{class:!0,"data-testid":!0});var M=v(E);O=k(M,"P",{class:!0});var te=v(O);V=P(te,C),te.forEach(i),M.forEach(i),G=Q(c),F=k(c,"TD",{"data-testid":!0});var le=v(F);x(D.$$.fragment,le),le.forEach(i),W=Q(c),y=k(c,"TD",{"data-testid":!0});var se=v(y);x(B.$$.fragment,se),se.forEach(i),S=Q(c),this.h()},h(){h(s,"class","select-all"),h(e,"class","text-left"),h(e,"data-testid","worker-identity"),h(p,"class","select-all break-all"),h(o,"class","text-left"),h(o,"data-testid","worker-build-id"),h(O,"class","select-all"),h(E,"class","text-left"),h(E,"data-testid","worker-last-access-time"),h(F,"data-testid","workflow-poller"),h(y,"data-testid","activity-poller")},m(c,$){d(c,e,$),b(e,s),b(s,l),d(c,a,$),d(c,o,$),b(o,p),b(p,n),d(c,m,$),u&&u.m(c,$),d(c,_,$),d(c,E,$),b(E,O),b(O,V),d(c,G,$),d(c,F,$),q(D,F,null),d(c,W,$),d(c,y,$),q(B,y,null),d(c,S,$),w=!0},p(c,$){var Y,M;(!w||$&1)&&t!==(t=c[5].identity+"")&&U(l,t),(!w||$&1)&&r!==(r=(((M=(Y=c[5])==null?void 0:Y.workerVersionCapabilities)==null?void 0:M.buildId)??"")+"")&&U(n,r),c[1]?u&&(u.d(1),u=null):u?u.p(Z(c),$):(u=me(Z(c)),u.c(),u.m(_.parentNode,_)),(!w||$&13)&&C!==(C=ie(c[5].lastAccessTime,c[2],{relative:c[3]})+"")&&U(V,C);const K={};$&1&&(K.includesTaskQueueType=c[5].taskQueueTypes.includes("WORKFLOW")),D.$set(K);const L={};$&1&&(L.includesTaskQueueType=c[5].taskQueueTypes.includes("ACTIVITY")),B.$set(L)},i(c){w||(A(D.$$.fragment,c),A(B.$$.fragment,c),w=!0)},o(c){R(D.$$.fragment,c),R(B.$$.fragment,c),w=!1},d(c){c&&(i(e),i(a),i(o),i(m),i(_),i(E),i(G),i(F),i(W),i(y),i(S)),u&&u.d(c),j(D),j(B)}}}function pe(f){let e,s;return e=new ge({props:{"data-testid":"worker-row",$$slots:{default:[He]},$$scope:{ctx:f}}}),{c(){z(e.$$.fragment)},l(t){x(e.$$.fragment,t)},m(t,l){q(e,t,l),s=!0},p(t,l){const a={};l&527&&(a.$$scope={dirty:l,ctx:t}),e.$set(a)},i(t){s||(A(e.$$.fragment,t),s=!0)},o(t){R(e.$$.fragment,t),s=!1},d(t){j(e,t)}}}function Ne(f){var p;let e,s,t=ne((p=f[0])==null?void 0:p.pollers),l=[];for(let r=0;r<t.length;r+=1)l[r]=pe(ue(f,t,r));const a=r=>R(l[r],1,1,()=>{l[r]=null});let o=null;return t.length||(o=fe()),{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=ae(),o&&o.c()},l(r){for(let n=0;n<l.length;n+=1)l[n].l(r);e=ae(),o&&o.l(r)},m(r,n){for(let m=0;m<l.length;m+=1)l[m]&&l[m].m(r,n);d(r,e,n),o&&o.m(r,n),s=!0},p(r,n){var m;if(n&31){t=ne((m=r[0])==null?void 0:m.pollers);let _;for(_=0;_<t.length;_+=1){const E=ue(r,t,_);l[_]?(l[_].p(E,n),A(l[_],1)):(l[_]=pe(E),l[_].c(),A(l[_],1),l[_].m(e.parentNode,e))}for(re(),_=t.length;_<l.length;_+=1)a(_);oe(),!t.length&&o?o.p(r,n):t.length?o&&(re(),R(o,1,1,()=>{o=null}),oe()):(o=fe(),o.c(),A(o,1),o.m(e.parentNode,e))}},i(r){if(!s){for(let n=0;n<t.length;n+=1)A(l[n]);s=!0}},o(r){l=l.filter(Boolean);for(let n=0;n<l.length;n+=1)R(l[n]);s=!1},d(r){r&&i(e),we(l,r),o&&o.d(r)}}}function We(f){let e,s=N("workflows.workers-tab")+"",t;return{c(){e=T("caption"),t=H(s),this.h()},l(l){e=k(l,"CAPTION",{class:!0,slot:!0});var a=v(e);t=P(a,s),a.forEach(i),this.h()},h(){h(e,"class","sr-only"),h(e,"slot","caption")},m(l,a){d(l,e,a),b(e,t)},p:ee,d(l){l&&i(e)}}}function de(f){let e,s=N("deployments.deployment")+"",t;return{c(){e=T("th"),t=H(s),this.h()},l(l){e=k(l,"TH",{class:!0});var a=v(e);t=P(a,s),a.forEach(i),this.h()},h(){h(e,"class","w-3/12")},m(l,a){d(l,e,a),b(e,t)},p:ee,d(l){l&&i(e)}}}function Ae(f){let e,s=N("common.id")+"",t,l,a,o=N("workers.buildId")+"",p,r,n,m,_=N("workflows.last-accessed")+"",E,O,C,V,G=N("workflows.workflow-task-handler")+"",F,D,W,y,B=N("workflows.activity-handler")+"",S,w=!f[1]&&de();return{c(){e=T("th"),t=H(s),l=I(),a=T("th"),p=H(o),r=I(),w&&w.c(),n=I(),m=T("th"),E=H(_),O=I(),C=T("th"),V=T("p"),F=H(G),D=I(),W=T("th"),y=T("p"),S=H(B),this.h()},l(u){e=k(u,"TH",{class:!0});var g=v(e);t=P(g,s),g.forEach(i),l=Q(u),a=k(u,"TH",{class:!0});var J=v(a);p=P(J,o),J.forEach(i),r=Q(u),w&&w.l(u),n=Q(u),m=k(u,"TH",{class:!0});var c=v(m);E=P(c,_),c.forEach(i),O=Q(u),C=k(u,"TH",{class:!0});var $=v(C);V=k($,"P",{class:!0});var K=v(V);F=P(K,G),K.forEach(i),$.forEach(i),D=Q(u),W=k(u,"TH",{class:!0});var L=v(W);y=k(L,"P",{class:!0});var Y=v(y);S=P(Y,B),Y.forEach(i),L.forEach(i),this.h()},h(){h(e,"class","w-4/12"),h(a,"class","w-3/12"),h(m,"class","w-2/12"),h(V,"class","text-center"),h(C,"class","w-2/12"),h(y,"class","text-center"),h(W,"class","w-2/12 text-center")},m(u,g){d(u,e,g),b(e,t),d(u,l,g),d(u,a,g),b(a,p),d(u,r,g),w&&w.m(u,g),d(u,n,g),d(u,m,g),b(m,E),d(u,O,g),d(u,C,g),b(C,V),b(V,F),d(u,D,g),d(u,W,g),b(W,y),b(y,S)},p(u,g){u[1]?w&&(w.d(1),w=null):w?w.p(u,g):(w=de(),w.c(),w.m(n.parentNode,n))},d(u){u&&(i(e),i(l),i(a),i(r),i(n),i(m),i(O),i(C),i(D),i(W)),w&&w.d(u)}}}function Oe(f){let e,s;return e=new be({props:{slot:"headers",$$slots:{default:[Ae]},$$scope:{ctx:f}}}),{c(){z(e.$$.fragment)},l(t){x(e.$$.fragment,t)},m(t,l){q(e,t,l),s=!0},p(t,l){const a={};l&514&&(a.$$scope={dirty:l,ctx:t}),e.$set(a)},i(t){s||(A(e.$$.fragment,t),s=!0)},o(t){R(e.$$.fragment,t),s=!1},d(t){j(e,t)}}}function Ve(f){let e,s=N("workers.workers")+"",t,l,a,o,p,r;return a=new ke({props:{type:"count",$$slots:{default:[Pe]},$$scope:{ctx:f}}}),p=new Te({props:{class:"mb-6 w-full min-w-[600px] table-fixed",$$slots:{headers:[Oe],caption:[We],default:[Ne]},$$scope:{ctx:f}}}),{c(){e=T("h2"),t=H(s),l=I(),z(a.$$.fragment),o=I(),z(p.$$.fragment),this.h()},l(n){e=k(n,"H2",{class:!0,"data-testid":!0});var m=v(e);t=P(m,s),l=Q(m),x(a.$$.fragment,m),m.forEach(i),o=Q(n),x(p.$$.fragment,n),this.h()},h(){h(e,"class","flex items-center gap-2"),h(e,"data-testid","workers")},m(n,m){d(n,e,m),b(e,t),b(e,l),q(a,e,null),d(n,o,m),q(p,n,m),r=!0},p(n,[m]){const _={};m&513&&(_.$$scope={dirty:m,ctx:n}),a.$set(_);const E={};m&527&&(E.$$scope={dirty:m,ctx:n}),p.$set(E)},i(n){r||(A(a.$$.fragment,n),A(p.$$.fragment,n),r=!0)},o(n){R(a.$$.fragment,n),R(p.$$.fragment,n),r=!1},d(n){n&&(i(e),i(o)),j(a),j(p,n)}}}function Fe(f,e,s){let t,l,a;X(f,Ee,r=>s(1,t=r)),X(f,ye,r=>s(2,l=r)),X(f,Qe,r=>s(3,a=r));let{workers:o}=e;const p=r=>{var n;const m=(n=r==null?void 0:r.workerVersionCapabilities)===null||n===void 0?void 0:n.deploymentSeriesName;return m??""};return f.$$set=r=>{"workers"in r&&s(0,o=r.workers)},[o,t,l,a,p]}class Xe extends he{constructor(e){super(),$e(this,e,Fe,Ve,_e,{workers:0})}}export{ce as P,Xe as W};
