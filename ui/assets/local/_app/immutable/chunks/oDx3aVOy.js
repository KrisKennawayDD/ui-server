import"./CWj6FrbW.js";import"./69_IOA4Y.js";import{p as ce,aN as Pe,l as ue,ag as fe,a as me,f as v,c as j,t as ie,d as M,g as t,e as ve,r as ge,b as _e,as as ke,m as A,s as I}from"./BZ1i_Yzi.js";import{t as B,c as q,a as i}from"./B11KKQxI.js";import{s as E}from"./DBXxAZ3D.js";import{b as Ie}from"./ByJhdzoF.js";import{i as pe}from"./EXou6kTq.js";import{l as W,p as a}from"./DQFlnzBt.js";import{b as se,a as X,s as be}from"./nHCSEYHe.js";import{w as F,o as xe,c as Me,a as qe}from"./Dm8LSs3h.js";import"./iJCz208_.js";import{M as Ee,a as Le,d as Oe}from"./B3tpXrOU.js";import{s as Se}from"./BtIgVYD3.js";import{i as le}from"./Pfo2U1_a.js";import{k as we}from"./DKCxbUKs.js";import{r as Ve,b as He,C as Ne}from"./BqyZnqh5.js";import{I as de}from"./DrUA5UyL.js";import{L as Te}from"./DHadn8eT.js";import{M as ze}from"./Cxk0ruB5.js";import{t as De}from"./Ds6tgvmq.js";const he="select-context";var je=B("<input> <!>",1),Ae=B('<span class="text-xs text-danger"> </span>'),Fe=B("<!> <!> <!> <!>",1);function ct(G,e){const J=W(e,["children","$$slots","$$events","$$legacy"]),L=W(J,["label","labelHidden","id","value","placeholder","disabled","leadingIcon","onChange","menuClass","variant","required","error","valid"]);ce(e,!1);const[h,K]=be(),C=()=>X(l,"$labelCtx",h),$=()=>X(H,"$optionsCtx",h);let Q=a(e,"label",8),R=a(e,"labelHidden",8,!1),g=a(e,"id",8),s=a(e,"value",12,void 0),o=a(e,"placeholder",8,""),_=a(e,"disabled",8,!1),O=a(e,"leadingIcon",8,null),U=a(e,"onChange",8,()=>{}),S=a(e,"menuClass",8,void 0),d=a(e,"variant",8,"secondary"),n=a(e,"required",8,!1),w=a(e,"error",8,""),p=a(e,"valid",8,!0);const V=F(s()),H=F([]),l=F(s()===null||s()===void 0?void 0:s().toString()),c=F(!1);function r(){se(V,s()),se(l,N(s()))}const u=y=>{s(y),U()(s())};function N(y){const Y=$().find(T=>T.value===y);return Y!==void 0?Y.label:""}Pe(he,{selectValue:V,selectLabel:l,options:H,open:c,handleChange:u}),xe(()=>{se(l,N(s()))}),ue(()=>fe(s()),()=>{s(),r()}),me(),pe(),Ee(G,{class:"w-full",open:c,children:(y,Y)=>{var T=Fe(),ne=v(T);Te(ne,{class:"pb-1",get label(){return Q()},get hidden(){return R()},get for(){return g()},get required(){return n()}});var re=j(ne,2);we(re,C,f=>{const b=M(()=>De("w-full",p()?void 0:"border-danger")),x=M(()=>!_()),Z=M(()=>`${L["data-testid"]??""}-button`);ze(f,{get class(){return t(b)},get hasIndicator(){return t(x)},get disabled(){return _()},get controls(){return`${g()??""}-select`},get variant(){return d()},get"data-testid"(){return t(Z)},children:(ee,ye)=>{var P=je(),k=v(P);Ve(k);let z;var D=j(k,2);{var te=m=>{de(m,{slot:"trailing",name:"lock"})};le(D,m=>{_()&&m(te)})}ie(m=>z=He(k,z,{id:g(),value:!s()&&o()!==""?o():C(),tabindex:"-1",disabled:!0,required:n(),"aria-required":n(),...L,[Ne]:m},"svelte-1j0yr8e"),[()=>({disabled:_()})],M),i(ee,P)},$$slots:{default:!0,leading:(ee,ye)=>{var P=q(),k=v(P);E(k,e,"leading",{},z=>{var D=q(),te=v(D);{var m=ae=>{de(ae,{get name(){return O()}})};le(te,ae=>{O()&&ae(m)})}i(z,D)}),i(ee,P)}}})});var oe=j(re,2);Le(oe,{role:"listbox",get id(){return`${g()??""}-select`},get class(){return S()},children:(f,b)=>{var x=q(),Z=v(x);E(Z,e,"default",{},null),i(f,x)},$$slots:{default:!0}});var Ce=j(oe,2);{var $e=f=>{var b=Ae(),x=ve(b,!0);ge(b),ie(()=>Se(x,w())),i(f,b)};le(Ce,f=>{w()&&!p()&&f($e)})}i(y,T)},$$slots:{default:!0}}),_e(),K()}var We=B("<span><!></span>");function ut(G,e){const J=W(e,["children","$$slots","$$events","$$legacy"]),L=W(J,["value","description","disabled","class"]);ce(e,!1);const[h,K]=be(),C=()=>X(Q,"$selectValue",h),$=()=>X(g,"$options",h),{selectValue:Q,handleChange:R,options:g}=ke(he),s=Me();let o=a(e,"value",8),_=a(e,"description",8,""),O=a(e,"disabled",8,!1),U=a(e,"class",8,""),S=A(!1),d=A(),n=A(),w,p=A();xe(()=>{t(n)&&(I(p,t(n).textContent),$().push({value:o(),label:t(p),nativeElement:w}))}),qe(()=>{let l=$().findIndex(c=>c.value===o());l!==void 0&&$().splice(l,1)});const V=()=>{R(t(d)),s("click",{value:t(d)})};ue(()=>(t(n),t(d),fe(o()),C()),()=>{t(n)&&(I(d,o()!==null&&o()!==void 0?o():t(n).textContent),I(S,C()===t(d)),I(p,t(n).textContent))}),me(),pe();const H=M(()=>L["data-testid"]??"");Oe(G,{role:"option",get selected(){return t(S)},get description(){return _()},get disabled(){return O()},get class(){return U()},get"data-testid"(){return t(H)},$$events:{click:V},children:(l,c)=>{var r=We(),u=ve(r);E(u,e,"default",{},null),ge(r),Ie(r,N=>I(n,N),()=>t(n)),i(l,r)},$$slots:{default:!0,leading:(l,c)=>{var r=q(),u=v(r);E(u,e,"leading",{},null),i(l,r)},trailing:(l,c)=>{var r=q(),u=v(r);E(u,e,"trailing",{},null),i(l,r)}}}),_e(),K()}export{ut as O,ct as S};
