import{B as d}from"./scheduler.CnYDgCRb.js";import{e as c}from"./data-encoder.DfhFKeMQ.js";import{d as p}from"./data-encoder.QGhLCFfE.js";import{B as f}from"./prod-browser.CoG0geaG.js";import{p as l,s as m}from"./parse-with-big-int.DJQKqIvA.js";const g=t=>window.btoa(encodeURIComponent(t).replace(/%([0-9A-F]{2})/g,(n,o)=>String.fromCharCode(parseInt(o,16)))),a=(t,n=f)=>n?g(t):t,C=t=>{if(t){const n=l(t),o=n==null?void 0:n[0];if(o)return m(o)}return""},y=(t,n="json/plain",o="")=>o?{metadata:{encoding:a(n),messageType:a(o)},data:a(JSON.stringify(t))}:{metadata:{encoding:a(n)},data:a(JSON.stringify(t))},O=async({input:t,encoding:n,messageType:o="",encodeWithCodec:s=!0})=>{let e=null;if(t){const i=JSON.parse(t);if(e=[y(i,n,o)],d(p).endpoint&&s){const r=await c({payloads:{payloads:e}});e=(r==null?void 0:r.payloads)??null}}return e};export{O as e,C as g,y as s};
