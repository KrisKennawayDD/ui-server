import"./CWj6FrbW.js";import"./69_IOA4Y.js";import{p as I,m as o,l as c,s as a,g as t,az as f,ag as W,a as w,f as z,b as B}from"./BZ1i_Yzi.js";import{c as j,a as q}from"./B11KKQxI.js";import{s as F}from"./DBXxAZ3D.js";import{i as G}from"./EXou6kTq.js";import{p as g}from"./DQFlnzBt.js";import{a as P,s as H}from"./nHCSEYHe.js";import{p as J}from"./C_BNG6hb.js";import{a as K}from"./BipkNA2r.js";import{c as L,d as M}from"./BCsfzXE6.js";import{g as N,a as O,b as Q}from"./DyCkqA1n.js";import{s as y}from"./CTBtQUu0.js";function ce(b,d){I(d,!1);const[_,T]=H(),e=()=>P(J,"$page",_),U=()=>P(K,"$authUser",_),p=o(),m=o(),u=o(),v=o();var r=o();let s=g(d,"value",8),n=g(d,"key",8,""),h=g(d,"onDecode",8,void 0),V=n()&&(!(s()===null||s()===void 0)&&s()[n()])?s()[n()]:s(),i=o(y(V));const x=async E=>{try{const C=await L(E,e().params.namespace,t(v),U().accessToken),l=M(C),A=n()&&(l==null?void 0:l[n()]);A?a(i,y(A)):a(i,y(l)),h()&&h()(t(i))}catch{console.error("Could not decode payloads")}};c(()=>e(),()=>{a(p,N(e().data.settings))}),c(()=>e(),()=>{a(m,O(e().data.settings))}),c(()=>e(),()=>{a(u,Q(e().data.settings))}),c(()=>(e(),f(r),t(p),t(m),t(u)),()=>{a(v,{...e().data.settings,codec:{...a(r,e().data.settings)===null||f(r)===void 0?void 0:f(r).codec,endpoint:t(p),passAccessToken:t(m),includeCredentials:t(u)}})}),c(()=>W(s()),()=>{x(s())}),w(),G();var k=j(),D=z(k);F(D,d,"default",{get decodedValue(){return t(i)}},null),q(b,k),B(),T()}export{ce as P};
