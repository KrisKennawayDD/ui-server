import{s as k,h as g,j as w,k as b,f as u,m as c,i as I,M as E,v as R,c as d,N as h,p as S,O as T}from"./scheduler.D6mQsyhd.js";import{S as q,i as D,f as N}from"./index.CDeUyeTp.js";import{f as O}from"./index.2cpoF_sa.js";import{p as U}from"./stores.BcLzXQ7A.js";import{u as j}from"./dark-mode.DvkiX00y.js";function _(s){let e,n,i,o;return{c(){e=g("iframe"),this.h()},l(t){e=w(t,"IFRAME",{title:!0,src:!0,class:!0}),b(e).forEach(u),this.h()},h(){c(e,"title","output"),h(e.src,n="/render?content="+encodeURIComponent(s[3])+"&theme="+s[1])||c(e,"src",n),c(e,"class","w-full rounded-md")},m(t,a){I(t,e,a),s[6](e),i||(o=S(e,"load",s[2]),i=!0)},p(t,a){a&2&&!h(e.src,n="/render?content="+encodeURIComponent(t[3])+"&theme="+t[1])&&c(e,"src",n)},d(t){t&&u(e),s[6](null),i=!1,o()}}}function z(s){let e,n=s[1],i,o=_(s);return{c(){e=g("section"),o.c(),this.h()},l(t){e=w(t,"SECTION",{class:!0});var a=b(e);o.l(a),a.forEach(u),this.h()},h(){c(e,"class","h-full w-full")},m(t,a){I(t,e,a),o.m(e,null)},p(t,[a]){a&2&&k(n,n=t[1])?(o.d(1),o=_(t),o.c(),o.m(e,null)):o.p(t,a)},i(t){t&&(i||E(()=>{i=N(e,O,{duration:1e3}),i.start()}))},o:R,d(t){t&&u(e),o.d(t)}}}function A(s,e,n){let i,o,t;d(s,U,r=>n(7,o=r)),d(s,j,r=>n(5,t=r));let{content:a}=e,l;const M=()=>{l&&(n(0,l.height="",l),n(0,l.height=l.contentWindow.document.body.scrollHeight+2+"px",l))},{workflow:f,run:m,namespace:p}=o.params,y=(r=>(p&&(r=r.replace(/\{namespace\}/g,p)),f&&(r=r.replace(/\{workflowId\}/g,f)),m&&(r=r.replace(/\{runId\}/g,m)),r))(a);function C(r){T[r?"unshift":"push"](()=>{l=r,n(0,l)})}return s.$$set=r=>{"content"in r&&n(4,a=r.content)},s.$$.update=()=>{s.$$.dirty&32&&n(1,i=t?"dark":"light")},[l,i,M,y,a,t,C]}class K extends q{constructor(e){super(),D(this,e,A,z,k,{content:4})}}export{K as M};
