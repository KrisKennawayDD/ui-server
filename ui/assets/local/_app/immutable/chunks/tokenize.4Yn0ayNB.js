import{i as r,a as d,b as p,c as f,d as $,e as k,f as m,g as P}from"./has.BnvKvYqj.js";const T=o=>{const a=[],n=()=>{i&&(a.push(i),i="")};let i="",e=0;const u=(t,l=!1)=>{for(let c=l?e:e+1;c<o.length;c++){const s=o[c];if(t(s)){l&&(i+=s),n(),e=c+1;return}i+=s}e++};for(;e<o.length;){const t=o[e];if(r(t)){const s=e===0||k(o[e-1])&&m(a[a.length-1])||d(o[e-1]),h=o.slice(e+1).includes(t);if(s&&h){n(),u(r);continue}}if(d(t)){const s=a[a.length-1];if(p(s)){u(P,!0);continue}else{i+=t,n(),e++;continue}}const l=`${o[e]}${o[e+1]}`,c=`${o[e]}${o[e+1]}${o[e+2]}`;if(f(c)){i+=c,n(),e+=3;continue}else if(f(l)){i+=l,n(),e+=2;continue}else if(f(t)){n(),i+=t,e++;continue}if($(t)){n();const s=f(o[e-1]),h=o.slice(e+1).includes(t);if(s&&h){u(C=>C===t);continue}e++;continue}if(k(t)){n(),e++;continue}i+=t,e++}return n(),a};export{T as t};
