import{s as Fe,w as De,i as B,f as w,c as He,a as ke,u as we,g as Ce,e as Ne,O as de,h as O,b as D,t as te,j as W,k as Z,d as q,l as ne,o as Oe,m as y,n as g,a4 as _e,W as We,L as qe,q as Be,v as Te}from"./scheduler.CnYDgCRb.js";import{S as Ke,i as Qe,g as je,b as $,e as Ae,t as v,h as pe,c as F,a as H,m as K,d as Q}from"./index.DW7Zsqzm.js";import{w as Ge}from"./entry.CzIalwKL.js";import{p as Je}from"./stores.Bp0ijJTk.js";import{A as Ue}from"./alert.BmiNYDVZ.js";import{C as Me}from"./combobox.CIMsInYe.js";import{I as Ie}from"./input.BMhZREvo.js";import{E as Xe}from"./editor.CnTxdC7N.js";import{M as Ye}from"./markdown.D-Y9rNA7.js";import{T as Ze,a as Re}from"./toggle-buttons.C6q9vM1m.js";import{t as T}from"./translate.BBe5dcco.js";const ye=l=>({}),Se=l=>({});function xe(l){let e;const n=l[3].fallback,t=ke(n,l,l[2],Se);return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,a){t&&t.m(s,a),e=!0},p(s,a){t&&t.p&&(!e||a&4)&&we(t,n,s,s[2],e?Ne(n,s[2],a,ye):Ce(s[2]),Se)},i(s){e||(v(t,s),e=!0)},o(s){$(t,s),e=!1},d(s){t&&t.d(s)}}}function et(l){let e;const n=l[3].default,t=ke(n,l,l[2],null);return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,a){t&&t.m(s,a),e=!0},p(s,a){t&&t.p&&(!e||a&4)&&we(t,n,s,s[2],e?Ne(n,s[2],a,null):Ce(s[2]),null)},i(s){e||(v(t,s),e=!0)},o(s){$(t,s),e=!1},d(s){t&&t.d(s)}}}function tt(l){let e,n,t,s;const a=[et,xe],i=[];function _(f,h){var m,L,E;return f[0]||(E=(L=(m=f[1].data)==null?void 0:m.settings)==null?void 0:L.runtimeEnvironment)!=null&&E.isCloud?0:1}return e=_(l),n=i[e]=a[e](l),{c(){n.c(),t=De()},l(f){n.l(f),t=De()},m(f,h){i[e].m(f,h),B(f,t,h),s=!0},p(f,[h]){let m=e;e=_(f),e===m?i[e].p(f,h):(je(),$(i[m],1,1,()=>{i[m]=null}),Ae(),n=i[e],n?n.p(f,h):(n=i[e]=a[e](f),n.c()),v(n,1),n.m(t.parentNode,t))},i(f){s||(v(n),s=!0)},o(f){$(n),s=!1},d(f){f&&w(t),i[e].d(f)}}}function nt(l,e,n){let t;He(l,Je,_=>n(1,t=_));let{$$slots:s={},$$scope:a}=e,{isCloud:i=!1}=e;return l.$$set=_=>{"isCloud"in _&&n(0,i=_.isCloud),"$$scope"in _&&n(2,a=_.$$scope)},[i,t,a,s]}class lt extends Ke{constructor(e){super(),Qe(this,e,nt,tt,Fe,{isCloud:0})}}const st=l=>({}),Ve=l=>({});function at(l){let e,n,t=T("nexus.access-policy")+"",s,a,i,_=T("nexus.allowed-caller-namespaces-description")+"",f,h,m,L,E;function z(c){l[20](c)}let C={id:"caller-namespace-filter-menu",multiselect:!0,displayChips:!1,options:l[12],label:T("nexus.allowed-caller-namespaces"),leadingIcon:"search",noResultsText:T("common.no-results"),valid:!!l[9].length,error:"Please select at least one Namespace.",placeholder:T("nexus.select-namespaces"),optionValueKey:"value",optionLabelKey:"label"};return l[9]!==void 0&&(C.value=l[9]),m=new Me({props:C}),de.push(()=>pe(m,"value",z)),{c(){e=O("div"),n=O("p"),s=te(t),a=D(),i=O("p"),f=te(_),h=D(),F(m.$$.fragment),this.h()},l(c){e=W(c,"DIV",{class:!0});var b=Z(e);n=W(b,"P",{class:!0});var p=Z(n);s=ne(p,t),p.forEach(w),a=q(b),i=W(b,"P",{class:!0});var d=Z(i);f=ne(d,_),d.forEach(w),b.forEach(w),h=q(c),H(m.$$.fragment,c),this.h()},h(){y(n,"class","text-base text-primary"),y(i,"class","text-xs text-secondary"),y(e,"class","flex flex-col gap-0")},m(c,b){B(c,e,b),g(e,n),g(n,s),g(e,a),g(e,i),g(i,f),B(c,h,b),K(m,c,b),E=!0},p(c,b){const p={};b[0]&4096&&(p.options=c[12]),b[0]&512&&(p.valid=!!c[9].length),!L&&b[0]&512&&(L=!0,p.value=c[9],_e(()=>L=!1)),m.$set(p)},i(c){E||(v(m.$$.fragment,c),E=!0)},o(c){$(m.$$.fragment,c),E=!1},d(c){c&&(w(e),w(h)),Q(m,c)}}}function ot(l){let e=T("common.description")+"",n;return{c(){n=te(e)},l(t){n=ne(t,e)},m(t,s){B(t,n,s)},p:Te,d(t){t&&w(n)}}}function rt(l){let e=T("common.preview")+"",n;return{c(){n=te(e)},l(t){n=ne(t,e)},m(t,s){B(t,n,s)},p:Te,d(t){t&&w(n)}}}function it(l){let e,n,t,s;return e=new Re({props:{active:l[10]===!1,"data-testid":"description-editor",$$slots:{default:[ot]},$$scope:{ctx:l}}}),e.$on("click",l[21]),t=new Re({props:{active:l[10]===!0,"data-testid":"description-preview",$$slots:{default:[rt]},$$scope:{ctx:l}}}),t.$on("click",l[22]),{c(){F(e.$$.fragment),n=D(),F(t.$$.fragment)},l(a){H(e.$$.fragment,a),n=q(a),H(t.$$.fragment,a)},m(a,i){K(e,a,i),B(a,n,i),K(t,a,i),s=!0},p(a,i){const _={};i[0]&1024&&(_.active=a[10]===!1),i[0]&16777216&&(_.$$scope={dirty:i,ctx:a}),e.$set(_);const f={};i[0]&1024&&(f.active=a[10]===!0),i[0]&16777216&&(f.$$scope={dirty:i,ctx:a}),t.$set(f)},i(a){s||(v(e.$$.fragment,a),v(t.$$.fragment,a),s=!0)},o(a){$(e.$$.fragment,a),$(t.$$.fragment,a),s=!1},d(a){a&&w(n),Q(e,a),Q(t,a)}}}function ut(l){let e,n;return e=new Xe({props:{content:l[6]}}),e.$on("change",l[23]),{c(){F(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,s){K(e,t,s),n=!0},p(t,s){const a={};s[0]&64&&(a.content=t[6]),e.$set(a)},i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){Q(e,t)}}}function ft(l){let e,n;return e=new Ye({props:{content:l[6]}}),{c(){F(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,s){K(e,t,s),n=!0},p(t,s){const a={};s[0]&64&&(a.content=t[6]),e.$set(a)},i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){Q(e,t)}}}function ct(l){var t;let e=((t=l[1])==null?void 0:t.message)+"",n;return{c(){n=te(e)},l(s){n=ne(s,e)},m(s,a){B(s,n,a)},p(s,a){var i;a[0]&2&&e!==(e=((i=s[1])==null?void 0:i.message)+"")&&Be(n,e)},d(s){s&&w(n)}}}function mt(l){var Ee;let e,n,t,s,a,i,_=T("nexus.target")+"",f,h,m,L=T("nexus.target-description")+"",E,z,C,c,b,p,d,le,I,se,S,ae,V,N,k,G,R,x="Do not include sensitive data.",J,U,j,X;function ge(o){l[17](o)}let ie={required:!0,disabled:l[2],error:!l[5]||!l[11](l[5]),hintText:l[4],label:T("nexus.endpoint-name"),id:"name",maxLength:255,placeholder:T("nexus.endpoint-name-placeholder")};l[5]!==void 0&&(ie.value=l[5]),n=new Ie({props:ie}),de.push(()=>pe(n,"value",ge));function be(o){l[18](o)}let ue={label:T("nexus.target-namespace"),noResultsText:T("common.no-results"),valid:!!l[7],error:"Please select a target Namespace.",required:!0,id:"target-namespace",placeholder:T("nexus.select-namespace"),leadingIcon:"namespace-switcher",options:l[0],optionValueKey:"namespace",minSize:32};l[7]!==void 0&&(ue.value=l[7]),C=new Me({props:ue}),de.push(()=>pe(C,"value",be));function he(o){l[19](o)}let fe={required:!0,error:!l[8],label:T("common.task-queue"),id:"task-queue",placeholder:T("nexus.task-queue-placeholder")};l[8]!==void 0&&(fe.value=l[8]),p=new Ie({props:fe}),de.push(()=>pe(p,"value",he)),I=new lt({props:{isCloud:l[3],$$slots:{default:[at]},$$scope:{ctx:l}}}),S=new Ze({props:{$$slots:{default:[it]},$$scope:{ctx:l}}});const u=[ft,ut],A=[];function ce(o,r){return o[10]?0:1}N=ce(l),k=A[N]=u[N](l);const re=l[16].footer,P=ke(re,l,l[24],Ve);return j=new Ue({props:{title:(Ee=l[1])==null?void 0:Ee.statusText,intent:"error",hidden:!l[1],$$slots:{default:[ct]},$$scope:{ctx:l}}}),{c(){e=O("div"),F(n.$$.fragment),s=D(),a=O("div"),i=O("p"),f=te(_),h=D(),m=O("p"),E=te(L),z=D(),F(C.$$.fragment),b=D(),F(p.$$.fragment),le=D(),F(I.$$.fragment),se=D(),F(S.$$.fragment),ae=D(),V=O("div"),k.c(),G=D(),R=O("p"),R.textContent=x,J=D(),P&&P.c(),U=D(),F(j.$$.fragment),this.h()},l(o){e=W(o,"DIV",{class:!0});var r=Z(e);H(n.$$.fragment,r),s=q(r),a=W(r,"DIV",{class:!0});var M=Z(a);i=W(M,"P",{class:!0});var ee=Z(i);f=ne(ee,_),ee.forEach(w),h=q(M),m=W(M,"P",{class:!0});var oe=Z(m);E=ne(oe,L),oe.forEach(w),M.forEach(w),z=q(r),H(C.$$.fragment,r),b=q(r),H(p.$$.fragment,r),le=q(r),H(I.$$.fragment,r),se=q(r),H(S.$$.fragment,r),ae=q(r),V=W(r,"DIV",{});var Y=Z(V);k.l(Y),G=q(Y),R=W(Y,"P",{class:!0,"data-svelte-h":!0}),Oe(R)!=="svelte-11lgqx1"&&(R.textContent=x),Y.forEach(w),J=q(r),P&&P.l(r),r.forEach(w),U=q(o),H(j.$$.fragment,o),this.h()},h(){y(i,"class","text-base text-primary"),y(m,"class","text-xs text-secondary"),y(a,"class","flex flex-col gap-0"),y(R,"class","my-2 text-xs text-secondary"),y(e,"class","flex w-full flex-col gap-4 xl:w-1/2")},m(o,r){B(o,e,r),K(n,e,null),g(e,s),g(e,a),g(a,i),g(i,f),g(a,h),g(a,m),g(m,E),g(e,z),K(C,e,null),g(e,b),K(p,e,null),g(e,le),K(I,e,null),g(e,se),K(S,e,null),g(e,ae),g(e,V),A[N].m(V,null),g(V,G),g(V,R),g(e,J),P&&P.m(e,null),B(o,U,r),K(j,o,r),X=!0},p(o,r){var Le;const M={};r[0]&4&&(M.disabled=o[2]),r[0]&2080&&(M.error=!o[5]||!o[11](o[5])),r[0]&16&&(M.hintText=o[4]),!t&&r[0]&32&&(t=!0,M.value=o[5],_e(()=>t=!1)),n.$set(M);const ee={};r[0]&128&&(ee.valid=!!o[7]),r[0]&1&&(ee.options=o[0]),!c&&r[0]&128&&(c=!0,ee.value=o[7],_e(()=>c=!1)),C.$set(ee);const oe={};r[0]&256&&(oe.error=!o[8]),!d&&r[0]&256&&(d=!0,oe.value=o[8],_e(()=>d=!1)),p.$set(oe);const Y={};r[0]&8&&(Y.isCloud=o[3]),r[0]&16781824&&(Y.$$scope={dirty:r,ctx:o}),I.$set(Y);const Pe={};r[0]&16778240&&(Pe.$$scope={dirty:r,ctx:o}),S.$set(Pe);let $e=N;N=ce(o),N===$e?A[N].p(o,r):(je(),$(A[$e],1,1,()=>{A[$e]=null}),Ae(),k=A[N],k?k.p(o,r):(k=A[N]=u[N](o),k.c()),v(k,1),k.m(V,G)),P&&P.p&&(!X||r[0]&16777216)&&we(P,re,o,o[24],X?Ne(re,o[24],r,st):Ce(o[24]),Ve);const me={};r[0]&2&&(me.title=(Le=o[1])==null?void 0:Le.statusText),r[0]&2&&(me.hidden=!o[1]),r[0]&16777218&&(me.$$scope={dirty:r,ctx:o}),j.$set(me)},i(o){X||(v(n.$$.fragment,o),v(C.$$.fragment,o),v(p.$$.fragment,o),v(I.$$.fragment,o),v(S.$$.fragment,o),v(k),v(P,o),v(j.$$.fragment,o),X=!0)},o(o){$(n.$$.fragment,o),$(C.$$.fragment,o),$(p.$$.fragment,o),$(I.$$.fragment,o),$(S.$$.fragment,o),$(k),$(P,o),$(j.$$.fragment,o),X=!1},d(o){o&&(w(e),w(U)),Q(n),Q(C),Q(p),Q(I),Q(S),A[N].d(),P&&P.d(o),Q(j,o)}}}const ze={spec:{name:"",descriptionString:"",target:{worker:{namespace:"",taskQueue:""}},allowedCallerNamespaces:[]}},ve=Ge(ze);function dt(l,e,n){let t,s,a,i=Te;He(l,ve,u=>n(34,a=u)),l.$$.on_destroy.push(()=>i());let{$$slots:_={},$$scope:f}=e;var h,m,L,E,z,C,c,b,p;let{endpoint:d=void 0}=e,{targetNamespaceList:le=[]}=e,{callerNamespaceList:I=[]}=e,{error:se=void 0}=e,{nameDisabled:S=!1}=e,{isCloud:ae=!0}=e,{nameHintText:V}=e,{nameRegexPattern:N}=e,k=((h=d==null?void 0:d.spec)===null||h===void 0?void 0:h.name)||"",G=((m=d==null?void 0:d.spec)===null||m===void 0?void 0:m.descriptionString)||"",R=((z=(E=(L=d==null?void 0:d.spec)===null||L===void 0?void 0:L.target)===null||E===void 0?void 0:E.worker)===null||z===void 0?void 0:z.namespace)||"",x=((b=(c=(C=d==null?void 0:d.spec)===null||C===void 0?void 0:C.target)===null||c===void 0?void 0:c.worker)===null||b===void 0?void 0:b.taskQueue)||"",J=((p=d==null?void 0:d.spec)===null||p===void 0?void 0:p.allowedCallerNamespaces)||[],U=!1;const j=(u,A,ce,re,P)=>{qe(ve,a={spec:{name:u,descriptionString:A,target:{worker:{namespace:ce,taskQueue:re}},allowedCallerNamespaces:P}},a)};We(()=>{qe(ve,a=ze,a)});function X(u){k=u,n(5,k)}function ge(u){R=u,n(7,R)}function ie(u){x=u,n(8,x)}function be(u){J=u,n(9,J)}const ue=()=>n(10,U=!1),he=()=>n(10,U=!0),fe=u=>n(6,G=u.detail.value);return l.$$set=u=>{"endpoint"in u&&n(13,d=u.endpoint),"targetNamespaceList"in u&&n(0,le=u.targetNamespaceList),"callerNamespaceList"in u&&n(14,I=u.callerNamespaceList),"error"in u&&n(1,se=u.error),"nameDisabled"in u&&n(2,S=u.nameDisabled),"isCloud"in u&&n(3,ae=u.isCloud),"nameHintText"in u&&n(4,V=u.nameHintText),"nameRegexPattern"in u&&n(15,N=u.nameRegexPattern),"$$scope"in u&&n(24,f=u.$$scope)},l.$$.update=()=>{l.$$.dirty[0]&992&&j(k,G,R,x,J),l.$$.dirty[0]&16384&&n(12,t=I.map(u=>({value:u.namespace,label:u.namespace}))),l.$$.dirty[0]&32768&&n(11,s=u=>N.test(u))},[le,se,S,ae,V,k,G,R,x,J,U,s,t,d,I,N,_,X,ge,ie,be,ue,he,fe,f]}class Tt extends Ke{constructor(e){super(),Qe(this,e,dt,mt,Fe,{endpoint:13,targetNamespaceList:0,callerNamespaceList:14,error:1,nameDisabled:2,isCloud:3,nameHintText:4,nameRegexPattern:15},null,[-1,-1])}}export{Tt as N,ve as e};
