import{s as Fe,x as Le,i as G,f as w,c as He,a as ke,u as we,g as Ce,e as Ne,O as de,h as O,b as L,t as te,j as B,k as Z,d as q,l as ne,o as Oe,m as y,n as g,Q as _e,P as Be,w as qe,q as Ge,v as Pe}from"./scheduler.9nPpm2FE.js";import{S as Qe,i as Ke,g as je,b as $,e as Ae,t as v,h as pe,c as F,a as H,m as Q,d as K}from"./index.DU2w1i_i.js";import{w as Je}from"./entry.D0BehKiy.js";import{p as Ue}from"./stores.DkhbjL7W.js";import{A as We}from"./alert.CH4kp_NS.js";import{C as Me}from"./combobox.Z_9V99As.js";import{I as Ie}from"./input.DX3UpPmu.js";import{E as Xe}from"./editor.DXwl5gAI.js";import{M as Ye}from"./markdown.jIqNtXSk.js";import{T as Ze,a as Re}from"./toggle-buttons.ChmEQW2H.js";import{t as P}from"./translate.BBe5dcco.js";const ye=l=>({}),Se=l=>({});function xe(l){let e;const n=l[3].fallback,t=ke(n,l,l[2],Se);return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,a){t&&t.m(s,a),e=!0},p(s,a){t&&t.p&&(!e||a&4)&&we(t,n,s,s[2],e?Ne(n,s[2],a,ye):Ce(s[2]),Se)},i(s){e||(v(t,s),e=!0)},o(s){$(t,s),e=!1},d(s){t&&t.d(s)}}}function et(l){let e;const n=l[3].default,t=ke(n,l,l[2],null);return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,a){t&&t.m(s,a),e=!0},p(s,a){t&&t.p&&(!e||a&4)&&we(t,n,s,s[2],e?Ne(n,s[2],a,null):Ce(s[2]),null)},i(s){e||(v(t,s),e=!0)},o(s){$(t,s),e=!1},d(s){t&&t.d(s)}}}function tt(l){let e,n,t,s;const a=[et,xe],i=[];function _(f,h){var m,D,T;return f[0]||(T=(D=(m=f[1].data)==null?void 0:m.settings)==null?void 0:D.runtimeEnvironment)!=null&&T.isCloud?0:1}return e=_(l),n=i[e]=a[e](l),{c(){n.c(),t=Le()},l(f){n.l(f),t=Le()},m(f,h){i[e].m(f,h),G(f,t,h),s=!0},p(f,[h]){let m=e;e=_(f),e===m?i[e].p(f,h):(je(),$(i[m],1,1,()=>{i[m]=null}),Ae(),n=i[e],n?n.p(f,h):(n=i[e]=a[e](f),n.c()),v(n,1),n.m(t.parentNode,t))},i(f){s||(v(n),s=!0)},o(f){$(n),s=!1},d(f){f&&w(t),i[e].d(f)}}}function nt(l,e,n){let t;He(l,Ue,_=>n(1,t=_));let{$$slots:s={},$$scope:a}=e,{isCloud:i=!1}=e;return l.$$set=_=>{"isCloud"in _&&n(0,i=_.isCloud),"$$scope"in _&&n(2,a=_.$$scope)},[i,t,a,s]}class lt extends Qe{constructor(e){super(),Ke(this,e,nt,tt,Fe,{isCloud:0})}}const st=l=>({}),Ve=l=>({});function at(l){let e,n,t=P("nexus.access-policy")+"",s,a,i,_=P("nexus.allowed-caller-namespaces-description")+"",f,h,m,D,T;function z(c){l[20](c)}let C={id:"caller-namespace-filter-menu",multiselect:!0,displayChips:!1,options:l[12],label:P("nexus.allowed-caller-namespaces"),leadingIcon:"search",noResultsText:P("common.no-results"),valid:!!l[9].length,error:"Please select at least one Namespace.",placeholder:P("nexus.select-namespaces"),optionValueKey:"value",optionLabelKey:"label"};return l[9]!==void 0&&(C.value=l[9]),m=new Me({props:C}),de.push(()=>pe(m,"value",z)),{c(){e=O("div"),n=O("p"),s=te(t),a=L(),i=O("p"),f=te(_),h=L(),F(m.$$.fragment),this.h()},l(c){e=B(c,"DIV",{class:!0});var b=Z(e);n=B(b,"P",{class:!0});var p=Z(n);s=ne(p,t),p.forEach(w),a=q(b),i=B(b,"P",{class:!0});var d=Z(i);f=ne(d,_),d.forEach(w),b.forEach(w),h=q(c),H(m.$$.fragment,c),this.h()},h(){y(n,"class","text-base text-primary"),y(i,"class","text-xs text-secondary"),y(e,"class","flex flex-col gap-0")},m(c,b){G(c,e,b),g(e,n),g(n,s),g(e,a),g(e,i),g(i,f),G(c,h,b),Q(m,c,b),T=!0},p(c,b){const p={};b[0]&4096&&(p.options=c[12]),b[0]&512&&(p.valid=!!c[9].length),!D&&b[0]&512&&(D=!0,p.value=c[9],_e(()=>D=!1)),m.$set(p)},i(c){T||(v(m.$$.fragment,c),T=!0)},o(c){$(m.$$.fragment,c),T=!1},d(c){c&&(w(e),w(h)),K(m,c)}}}function ot(l){let e=P("common.description")+"",n;return{c(){n=te(e)},l(t){n=ne(t,e)},m(t,s){G(t,n,s)},p:Pe,d(t){t&&w(n)}}}function rt(l){let e=P("common.preview")+"",n;return{c(){n=te(e)},l(t){n=ne(t,e)},m(t,s){G(t,n,s)},p:Pe,d(t){t&&w(n)}}}function it(l){let e,n,t,s;return e=new Re({props:{active:l[10]===!1,"data-testid":"description-editor",$$slots:{default:[ot]},$$scope:{ctx:l}}}),e.$on("click",l[21]),t=new Re({props:{active:l[10]===!0,"data-testid":"description-preview",$$slots:{default:[rt]},$$scope:{ctx:l}}}),t.$on("click",l[22]),{c(){F(e.$$.fragment),n=L(),F(t.$$.fragment)},l(a){H(e.$$.fragment,a),n=q(a),H(t.$$.fragment,a)},m(a,i){Q(e,a,i),G(a,n,i),Q(t,a,i),s=!0},p(a,i){const _={};i[0]&1024&&(_.active=a[10]===!1),i[0]&16777216&&(_.$$scope={dirty:i,ctx:a}),e.$set(_);const f={};i[0]&1024&&(f.active=a[10]===!0),i[0]&16777216&&(f.$$scope={dirty:i,ctx:a}),t.$set(f)},i(a){s||(v(e.$$.fragment,a),v(t.$$.fragment,a),s=!0)},o(a){$(e.$$.fragment,a),$(t.$$.fragment,a),s=!1},d(a){a&&w(n),K(e,a),K(t,a)}}}function ut(l){let e,n;return e=new Xe({props:{content:l[6]}}),e.$on("change",l[23]),{c(){F(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,s){Q(e,t,s),n=!0},p(t,s){const a={};s[0]&64&&(a.content=t[6]),e.$set(a)},i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){K(e,t)}}}function ft(l){let e,n;return e=new Ye({props:{content:l[6]}}),{c(){F(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,s){Q(e,t,s),n=!0},p(t,s){const a={};s[0]&64&&(a.content=t[6]),e.$set(a)},i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){K(e,t)}}}function ct(l){var t;let e=((t=l[1])==null?void 0:t.message)+"",n;return{c(){n=te(e)},l(s){n=ne(s,e)},m(s,a){G(s,n,a)},p(s,a){var i;a[0]&2&&e!==(e=((i=s[1])==null?void 0:i.message)+"")&&Ge(n,e)},d(s){s&&w(n)}}}function mt(l){var Te;let e,n,t,s,a,i,_=P("nexus.target")+"",f,h,m,D=P("nexus.target-description")+"",T,z,C,c,b,p,d,le,I,se,S,ae,V,N,k,J,R,x="Do not include sensitive data.",U,W,j,X;function ge(o){l[17](o)}let ie={required:!0,disabled:l[2],error:!l[5]||!l[11](l[5]),hintText:l[4],label:P("nexus.endpoint-name"),id:"name",maxLength:255,placeholder:P("nexus.endpoint-name-placeholder")};l[5]!==void 0&&(ie.value=l[5]),n=new Ie({props:ie}),de.push(()=>pe(n,"value",ge));function be(o){l[18](o)}let ue={label:P("nexus.target-namespace"),noResultsText:P("common.no-results"),valid:!!l[7],error:"Please select a target Namespace.",required:!0,id:"target-namespace",placeholder:P("nexus.select-namespace"),leadingIcon:"namespace-switcher",options:l[0],optionValueKey:"namespace",minSize:32};l[7]!==void 0&&(ue.value=l[7]),C=new Me({props:ue}),de.push(()=>pe(C,"value",be));function he(o){l[19](o)}let fe={required:!0,error:!l[8],label:P("common.task-queue"),id:"task-queue",placeholder:P("nexus.task-queue-placeholder")};l[8]!==void 0&&(fe.value=l[8]),p=new Ie({props:fe}),de.push(()=>pe(p,"value",he)),I=new lt({props:{isCloud:l[3],$$slots:{default:[at]},$$scope:{ctx:l}}}),S=new Ze({props:{$$slots:{default:[it]},$$scope:{ctx:l}}});const u=[ft,ut],A=[];function ce(o,r){return o[10]?0:1}N=ce(l),k=A[N]=u[N](l);const re=l[16].footer,E=ke(re,l,l[24],Ve);return j=new We({props:{title:(Te=l[1])==null?void 0:Te.statusText,intent:"error",hidden:!l[1],$$slots:{default:[ct]},$$scope:{ctx:l}}}),{c(){e=O("div"),F(n.$$.fragment),s=L(),a=O("div"),i=O("p"),f=te(_),h=L(),m=O("p"),T=te(D),z=L(),F(C.$$.fragment),b=L(),F(p.$$.fragment),le=L(),F(I.$$.fragment),se=L(),F(S.$$.fragment),ae=L(),V=O("div"),k.c(),J=L(),R=O("p"),R.textContent=x,U=L(),E&&E.c(),W=L(),F(j.$$.fragment),this.h()},l(o){e=B(o,"DIV",{class:!0});var r=Z(e);H(n.$$.fragment,r),s=q(r),a=B(r,"DIV",{class:!0});var M=Z(a);i=B(M,"P",{class:!0});var ee=Z(i);f=ne(ee,_),ee.forEach(w),h=q(M),m=B(M,"P",{class:!0});var oe=Z(m);T=ne(oe,D),oe.forEach(w),M.forEach(w),z=q(r),H(C.$$.fragment,r),b=q(r),H(p.$$.fragment,r),le=q(r),H(I.$$.fragment,r),se=q(r),H(S.$$.fragment,r),ae=q(r),V=B(r,"DIV",{});var Y=Z(V);k.l(Y),J=q(Y),R=B(Y,"P",{class:!0,"data-svelte-h":!0}),Oe(R)!=="svelte-11lgqx1"&&(R.textContent=x),Y.forEach(w),U=q(r),E&&E.l(r),r.forEach(w),W=q(o),H(j.$$.fragment,o),this.h()},h(){y(i,"class","text-base text-primary"),y(m,"class","text-xs text-secondary"),y(a,"class","flex flex-col gap-0"),y(R,"class","my-2 text-xs text-secondary"),y(e,"class","flex w-full flex-col gap-4 xl:w-1/2")},m(o,r){G(o,e,r),Q(n,e,null),g(e,s),g(e,a),g(a,i),g(i,f),g(a,h),g(a,m),g(m,T),g(e,z),Q(C,e,null),g(e,b),Q(p,e,null),g(e,le),Q(I,e,null),g(e,se),Q(S,e,null),g(e,ae),g(e,V),A[N].m(V,null),g(V,J),g(V,R),g(e,U),E&&E.m(e,null),G(o,W,r),Q(j,o,r),X=!0},p(o,r){var De;const M={};r[0]&4&&(M.disabled=o[2]),r[0]&2080&&(M.error=!o[5]||!o[11](o[5])),r[0]&16&&(M.hintText=o[4]),!t&&r[0]&32&&(t=!0,M.value=o[5],_e(()=>t=!1)),n.$set(M);const ee={};r[0]&128&&(ee.valid=!!o[7]),r[0]&1&&(ee.options=o[0]),!c&&r[0]&128&&(c=!0,ee.value=o[7],_e(()=>c=!1)),C.$set(ee);const oe={};r[0]&256&&(oe.error=!o[8]),!d&&r[0]&256&&(d=!0,oe.value=o[8],_e(()=>d=!1)),p.$set(oe);const Y={};r[0]&8&&(Y.isCloud=o[3]),r[0]&16781824&&(Y.$$scope={dirty:r,ctx:o}),I.$set(Y);const Ee={};r[0]&16778240&&(Ee.$$scope={dirty:r,ctx:o}),S.$set(Ee);let $e=N;N=ce(o),N===$e?A[N].p(o,r):(je(),$(A[$e],1,1,()=>{A[$e]=null}),Ae(),k=A[N],k?k.p(o,r):(k=A[N]=u[N](o),k.c()),v(k,1),k.m(V,J)),E&&E.p&&(!X||r[0]&16777216)&&we(E,re,o,o[24],X?Ne(re,o[24],r,st):Ce(o[24]),Ve);const me={};r[0]&2&&(me.title=(De=o[1])==null?void 0:De.statusText),r[0]&2&&(me.hidden=!o[1]),r[0]&16777218&&(me.$$scope={dirty:r,ctx:o}),j.$set(me)},i(o){X||(v(n.$$.fragment,o),v(C.$$.fragment,o),v(p.$$.fragment,o),v(I.$$.fragment,o),v(S.$$.fragment,o),v(k),v(E,o),v(j.$$.fragment,o),X=!0)},o(o){$(n.$$.fragment,o),$(C.$$.fragment,o),$(p.$$.fragment,o),$(I.$$.fragment,o),$(S.$$.fragment,o),$(k),$(E,o),$(j.$$.fragment,o),X=!1},d(o){o&&(w(e),w(W)),K(n),K(C),K(p),K(I),K(S),A[N].d(),E&&E.d(o),K(j,o)}}}const ze={spec:{name:"",descriptionString:"",target:{worker:{namespace:"",taskQueue:""}},allowedCallerNamespaces:[]}},ve=Je(ze);function dt(l,e,n){let t,s,a,i=Pe;He(l,ve,u=>n(34,a=u)),l.$$.on_destroy.push(()=>i());let{$$slots:_={},$$scope:f}=e;var h,m,D,T,z,C,c,b,p;let{endpoint:d=void 0}=e,{targetNamespaceList:le=[]}=e,{callerNamespaceList:I=[]}=e,{error:se=void 0}=e,{nameDisabled:S=!1}=e,{isCloud:ae=!0}=e,{nameHintText:V}=e,{nameRegexPattern:N}=e,k=((h=d==null?void 0:d.spec)===null||h===void 0?void 0:h.name)||"",J=((m=d==null?void 0:d.spec)===null||m===void 0?void 0:m.descriptionString)||"",R=((z=(T=(D=d==null?void 0:d.spec)===null||D===void 0?void 0:D.target)===null||T===void 0?void 0:T.worker)===null||z===void 0?void 0:z.namespace)||"",x=((b=(c=(C=d==null?void 0:d.spec)===null||C===void 0?void 0:C.target)===null||c===void 0?void 0:c.worker)===null||b===void 0?void 0:b.taskQueue)||"",U=((p=d==null?void 0:d.spec)===null||p===void 0?void 0:p.allowedCallerNamespaces)||[],W=!1;const j=(u,A,ce,re,E)=>{qe(ve,a={spec:{name:u,descriptionString:A,target:{worker:{namespace:ce,taskQueue:re}},allowedCallerNamespaces:E}},a)};Be(()=>{qe(ve,a=ze,a)});function X(u){k=u,n(5,k)}function ge(u){R=u,n(7,R)}function ie(u){x=u,n(8,x)}function be(u){U=u,n(9,U)}const ue=()=>n(10,W=!1),he=()=>n(10,W=!0),fe=u=>n(6,J=u.detail.value);return l.$$set=u=>{"endpoint"in u&&n(13,d=u.endpoint),"targetNamespaceList"in u&&n(0,le=u.targetNamespaceList),"callerNamespaceList"in u&&n(14,I=u.callerNamespaceList),"error"in u&&n(1,se=u.error),"nameDisabled"in u&&n(2,S=u.nameDisabled),"isCloud"in u&&n(3,ae=u.isCloud),"nameHintText"in u&&n(4,V=u.nameHintText),"nameRegexPattern"in u&&n(15,N=u.nameRegexPattern),"$$scope"in u&&n(24,f=u.$$scope)},l.$$.update=()=>{l.$$.dirty[0]&992&&j(k,J,R,x,U),l.$$.dirty[0]&16384&&n(12,t=I.map(u=>({value:u.namespace,label:u.namespace}))),l.$$.dirty[0]&32768&&n(11,s=u=>N.test(u))},[le,se,S,ae,V,k,J,R,x,U,W,s,t,d,I,N,_,X,ge,ie,be,ue,he,fe,f]}class Pt extends Qe{constructor(e){super(),Ke(this,e,dt,mt,Fe,{endpoint:13,targetNamespaceList:0,callerNamespaceList:14,error:1,nameDisabled:2,isCloud:3,nameHintText:4,nameRegexPattern:15},null,[-1,-1])}}export{Pt as N,ve as e};
