import"./CWj6FrbW.js";import"./69_IOA4Y.js";import{p as _e,e as i,c as n,r as l,t as A,d,b as be,f as me,g as t,m as W,l as de,s as u,az as q,a as Be,n as ue}from"./BZ1i_Yzi.js";import{s as T}from"./BtIgVYD3.js";import{i as Z}from"./Pfo2U1_a.js";import{t as S,a as _,c as ze,b as fe}from"./B11KKQxI.js";import{c as ge,s as se,b as Ne,a as Oe}from"./BqyZnqh5.js";import{t as Me,a as We}from"./B36Kfl8J.js";import{i as xe}from"./EXou6kTq.js";import{l as ye,p as s}from"./DQFlnzBt.js";import{a as Q,s as Fe,b as F}from"./nHCSEYHe.js";import{w as He}from"./Dm8LSs3h.js";import{p as Ge}from"./Buf7M4Xt.js";import{A as Ie}from"./_VWKXSg6.js";import{B as Ce}from"./DKXNLr4K.js";import{L as Je}from"./BXy_ecf4.js";import{t as a}from"./D2OY9xdY.js";import{c as $e,p as Te,i as je,o as Ee}from"./CIJUcuVK.js";import{r as Ke}from"./Dp52_Yis.js";import{v as Qe,a as Le}from"./Dq3hB7XF.js";import{s as Ue}from"./DBXxAZ3D.js";import{g as Xe,e as re}from"./D5cC3u49.js";import{a as Ye}from"./CzDbKCyC.js";import{s as Ze}from"./Bfc47y5P.js";import{b as ae}from"./DReKAyjN.js";import{L as et}from"./DHadn8eT.js";import{t as ce}from"./Ds6tgvmq.js";import{T as Pe}from"./BkG9Mf0M.js";import{R as tt,a as De}from"./BEdqJc0w.js";var rt=S('<p class="-mt-1 text-sm"> </p>'),at=S("<p> </p>"),st=S("<!> <!>",1),ot=S('<span class="count svelte-1ie3gjb"><span> </span> </span>'),it=S('<div><!> <!> <div><textarea></textarea></div> <div class="flex justify-between gap-2"><div><!></div> <!></div></div>');function nt(G,e){const b=ye(e,["children","$$slots","$$events","$$legacy"]),U=ye(b,["disabled","error","isValid","placeholder","rows","spellcheck","value","label","labelHidden","id","required","description","maxLength","class"]);_e(e,!1);let m=s(e,"disabled",8,!1),j=s(e,"error",8,""),x=s(e,"isValid",8,!0),I=s(e,"placeholder",8,""),V=s(e,"rows",8,5),J=s(e,"spellcheck",8,null),H=s(e,"value",12),w=s(e,"label",8),E=s(e,"labelHidden",8,!1),k=s(e,"id",8),B=s(e,"required",8,!1),L=s(e,"description",8,""),y=s(e,"maxLength",8,0),f=s(e,"class",8,"text-primary");xe();var g=it(),o=i(g);et(o,{get required(){return B()},get hidden(){return E()},get label(){return w()},get for(){return k()}});var P=n(o,2);{var X=r=>{var c=rt(),p=i(c,!0);l(c),A(()=>T(p,L())),_(r,c)};Z(P,r=>{L()&&r(X)})}var z=n(P,2),C=i(z);Xe(C);let oe;l(z);var ie=n(z,2),R=i(ie);let N;var ne=i(R);{var ee=r=>{var c=st(),p=me(c);{var O=K=>{var $=at(),D=i($,!0);l($),A(()=>T(D,j())),_(K,$)};Z(p,K=>{j()&&K(O)})}var Y=n(p,2);Ue(Y,e,"error",{},null),_(r,c)};Z(ne,r=>{x()||r(ee)})}l(R);var le=n(R,2);{var ve=r=>{var c=ot(),p=i(c);let O;var Y=i(p,!0);l(p);var K=n(p);l(c),A($=>{var D;O=se(p,1,"text-information svelte-1ie3gjb",null,O,$),T(Y,((D=H())==null?void 0:D.length)??0),T(K,` / ${y()??""}`)},[()=>{var $,D;return{warn:y()-(($=H())==null?void 0:$.length)<=5,error:y()===((D=H())==null?void 0:D.length)}}],d),_(r,c)};Z(le,r=>{y()&&!m()&&r(ve)})}l(ie),l(g),A((r,c,p,O)=>{se(g,1,r,"svelte-1ie3gjb"),se(z,1,c,"svelte-1ie3gjb"),oe=Ne(C,oe,{class:p,id:k(),disabled:m(),placeholder:I(),rows:V(),spellcheck:J(),maxlength:y()>0?y():void 0,"data-testid":k(),...U},"svelte-1ie3gjb"),N=se(R,1,"error-msg svelte-1ie3gjb",null,N,O),Oe(R,"aria-live",x()?"off":"assertive")},[()=>ge(ce("group flex flex-col gap-1",f())),()=>ge(ce("relative box-border inline-flex w-full border border-subtle focus-within:border-information focus-within:ring-2 focus-within:ring-primary/70",!x()&&"error",!m()&&"hover:border-information")),()=>ce("surface-primary min-h-fit w-full px-3 py-2 text-sm placeholder:text-secondary focus-visible:outline-none",m()&&"cursor-not-allowed opacity-50"),()=>({"min-width":y()})],d),Ye(C,H),re("input",C,function(r){ae.call(this,e,r)}),re("change",C,function(r){ae.call(this,e,r)}),re("focus",C,function(r){ae.call(this,e,r)}),re("blur",C,function(r){ae.call(this,e,r)}),re("keydown",C,Ze(function(r){ae.call(this,e,r)})),_(G,g),be()}var lt=S('<small data-testid="data-encoder-cross-origin-credentials"> </small>'),dt=S('<div class="flex flex-col gap-4"><div class="flex flex-col gap-2"><!> <!> <!> <!></div></div>');function ct(G,e){_e(e,!1);let b=s(e,"endpoint",12,""),U=s(e,"passToken",12,!1),m=s(e,"includeCreds",12,!1),j=s(e,"error",8,"");xe();var x=dt(),I=i(x),V=i(I);const J=d(()=>a("data-encoder.endpoint-placeholder")),H=d(()=>!j()),w=d(()=>a("data-encoder.endpoint-title")),E=d(()=>a("data-encoder.endpoint-description"));nt(V,{id:"data-encoder-endpoint-input",rows:3,get placeholder(){return t(J)},get error(){return j()},get isValid(){return t(H)},get label(){return t(w)},get description(){return t(E)},get value(){return b()},set value(o){b(o)},$$legacy:!0});var k=n(V,2);const B=d(()=>a("data-encoder.pass-access-token-label"));Pe(k,{get label(){return t(B)},id:"pass-access-token","data-testid":"data-encoder-pass-access-token",get checked(){return U()},set checked(o){U(o)},$$legacy:!0});var L=n(k,2);const y=d(()=>a("data-encoder.include-cross-origin-credentials-label"));Pe(L,{get label(){return t(y)},id:"pass-access-credentials","data-testid":"data-encoder-include-credentials",get checked(){return m()},set checked(o){m(o)},$$legacy:!0});var f=n(L,2);{var g=o=>{var P=lt(),X=i(P,!0);l(P),A(z=>T(X,z),[()=>a("data-encoder.include-cross-origin-credentials-warning")],d),_(o,P)};Z(f,o=>{m()&&o(g)})}l(I),l(x),_(G,x),be()}const vt=G=>G.replace(/\/+$/,""),pe=He(!1);var ut=S("<!> <!>",1),ft=S('<aside><div class="flex w-full flex-col gap-4 xl:w-1/2"><div class="flex items-center justify-between space-x-2"><h3 data-testid="data-encoder-title"> </h3></div> <p class="text-sm"> <!> </p> <!> <!> <div class="flex items-center gap-4"><!> <!></div></div></aside>');function Wt(G,e){_e(e,!1);const[b,U]=Fe(),m=()=>Q($e,"$codecEndpoint",b),j=()=>Q(Te,"$passAccessToken",b),x=()=>Q(je,"$includeCredentials",b),I=()=>Q(Ee,"$overrideRemoteCodecConfiguration",b),V=()=>Q(Ge,"$page",b),J=()=>Q(pe,"$viewDataEncoderSettings",b),H=()=>Q(P,"$override",b),w=W(),E=W();var k=W(),B=W(),L=W();let y=s(e,"class",8,""),f=W(m()!==null&&m()!==void 0?m():""),g=W(j()!==null&&j()!==void 0?j():!1),o=W(x()!==null&&x()!==void 0?x():!1),P=He(I());const X=()=>{u(f,m()),u(g,j()),u(o,x()),F(P,I()),F(pe,!1)},z=()=>{u(w,""),F($e,t(f)?vt(t(f)):t(f)),F(Te,t(g)),F(je,t(o)),F(pe,!1),F(Ee,H()),V().url.pathname.endsWith("history")&&F(Ke,Date.now())};de(()=>{},()=>{u(w,"")}),de(()=>(q(L),q(B),q(k),V(),a),()=>{u(E,!(u(L,u(B,u(k,V().data)===null||q(k)===void 0?void 0:q(k).settings)===null||q(B)===void 0?void 0:q(B).runtimeEnvironment)===null||q(L)===void 0)&&q(L).isCloud?a("common.namespaces"):a("common.cluster"))}),de(()=>(t(g),t(f),Le),()=>{t(g)&&!Qe(t(f))?u(w,a("data-encoder.access-token-https-error")):t(f)&&!Le(t(f))?u(w,a("data-encoder.prefix-error")):u(w,"")}),de(()=>J(),()=>{J()||X()}),Be(),xe();var C=ze(),oe=me(C);{var ie=R=>{var N=ft(),ne=i(N),ee=i(ne),le=i(ee),ve=i(le,!0);l(le),l(ee);var r=n(ee,2),c=i(r,!0),p=n(c);Je(p,{href:"https://docs.temporal.io/dataconversion#codec-server",newTab:!0,children:(v,te)=>{ue();var h=fe();A(M=>T(h,M),[()=>a("common.codec-server")],d),_(v,h)},$$slots:{default:!0}});var O=n(p);l(r);var Y=n(r,2);const K=d(()=>H()?a("data-encoder.browser-override-description",{level:t(E)}):a("data-encoder.no-browser-override-description",{level:t(E)}));Ie(Y,{"data-testid":"override-accordion",get title(){return t(K)},children:(v,te)=>{tt(v,{name:"override",group:P,children:(h,M)=>{var we=ut(),ke=me(we);const Ae=d(()=>a("data-encoder.no-browser-override-description",{level:t(E)}));De(ke,{id:"use-configuration-endpoint-radio","data-testid":"use-configuration-endpoint-input",value:!1,get label(){return t(Ae)}});var Se=n(ke,2);const Ve=d(()=>a("data-encoder.browser-override-description",{level:t(E)}));De(Se,{id:"use-local-endpoint-radio","data-testid":"use-local-endpoint-input",value:!0,get label(){return t(Ve)}}),_(h,we)},$$slots:{default:!0}})},$$slots:{default:!0}});var $=n(Y,2);ct($,{get error(){return t(w)},get endpoint(){return t(f)},set endpoint(v){u(f,v)},get passToken(){return t(g)},set passToken(v){u(g,v)},get includeCreds(){return t(o)},set includeCreds(v){u(o,v)},$$legacy:!0});var D=n($,2),he=i(D);const Re=d(()=>!!t(w));Ce(he,{get disabled(){return t(Re)},"data-testid":"confirm-data-encoder-button",type:"submit",$$events:{click:z},children:(v,te)=>{ue();var h=fe();A(M=>T(h,M),[()=>a("common.apply")],d),_(v,h)},$$slots:{default:!0}});var qe=n(he,2);Ce(qe,{variant:"ghost","data-testid":"cancel-data-encoder-button",$$events:{click:X},children:(v,te)=>{ue();var h=fe();A(M=>T(h,M),[()=>a("common.cancel")],d),_(v,h)},$$slots:{default:!0}}),l(D),l(ne),l(N),A((v,te,h,M)=>{se(N,1,v),T(ve,te),T(c,h),T(O,` ${M??""}`)},[()=>ge(ce("surface-primary relative flex h-[540px] w-full flex-col gap-6 overflow-auto border-b border-subtle p-4 md:p-12",y())),()=>a("common.codec-server"),()=>a("data-encoder.codec-server-description-prefix"),()=>a("data-encoder.codec-server-description-suffix",{level:t(E)})],d),Me(1,N,()=>We,()=>({y:-50,delay:0,duration:500})),_(R,N)};Z(oe,R=>{J()&&R(ie)})}_(G,C),be(),U()}export{Wt as D,pe as v};
