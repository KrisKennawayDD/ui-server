import"./CWj6FrbW.js";import"./69_IOA4Y.js";import{p as fe,aN as Ee,l as me,ag as ve,a as ge,f as v,c as j,t as ue,d as h,g as t,e as _e,r as pe,b as be,as as Le,m as A,s as q}from"./BZ1i_Yzi.js";import{t as G,c as E,a as c}from"./B11KKQxI.js";import{s as L}from"./DBXxAZ3D.js";import{b as Oe}from"./ByJhdzoF.js";import{i as xe}from"./EXou6kTq.js";import{l as X,p as a}from"./DQFlnzBt.js";import{b as ne,a as B,s as he}from"./nHCSEYHe.js";import{w as F,o as Ce,c as Se,a as we}from"./Dm8LSs3h.js";import"./CGneVVhM.js";import{M as Ve,a as He,d as Ne}from"./B3tpXrOU.js";import{s as Te}from"./BtIgVYD3.js";import{i as W}from"./Pfo2U1_a.js";import{k as ze}from"./DKCxbUKs.js";import{r as De,b as je,C as Ae}from"./BqyZnqh5.js";import{I as re}from"./DrUA5UyL.js";import{L as Fe}from"./DHadn8eT.js";import{M as We}from"./CJutTngd.js";import{t as Xe}from"./Ds6tgvmq.js";const $e="select-context";var Be=G("<input> <!>",1),Ge=G('<span class="text-xs text-danger"> </span>'),Je=G("<!> <!> <!> <!>",1);function gt(J,e){const K=X(e,["children","$$slots","$$events","$$legacy"]),O=X(K,["label","labelHidden","id","value","placeholder","disabled","loading","leadingIcon","onChange","menuClass","variant","required","error","valid"]);fe(e,!1);const[C,Q]=he(),$=()=>B(d,"$labelCtx",C),y=()=>B(r,"$optionsCtx",C);let R=a(e,"label",8),U=a(e,"labelHidden",8,!1),g=a(e,"id",8),s=a(e,"value",12,void 0),i=a(e,"placeholder",8,""),_=a(e,"disabled",8,!1),S=a(e,"loading",8,!1),w=a(e,"leadingIcon",8,null),V=a(e,"onChange",8,()=>{}),u=a(e,"menuClass",8,void 0),o=a(e,"variant",8,"secondary"),P=a(e,"required",8,!1),p=a(e,"error",8,""),H=a(e,"valid",8,!0);const N=F(s()),r=F([]),d=F(s()===null||s()===void 0?void 0:s().toString()),l=F(!1);function f(){ne(N,s()),ne(d,oe(s()))}const Y=k=>{s(k),V()(s())};function oe(k){const Z=y().find(T=>T.value===k);return Z!==void 0?Z.label:""}Ee($e,{selectValue:N,selectLabel:d,options:r,open:l,handleChange:Y}),Ce(()=>{ne(d,oe(s()))}),me(()=>ve(s()),()=>{s(),f()}),ge(),xe(),Ve(J,{class:"w-full",open:l,children:(k,Z)=>{var T=Je(),ie=v(T);Fe(ie,{class:"pb-1",get label(){return R()},get hidden(){return U()},get for(){return g()},get required(){return P()}});var de=j(ie,2);ze(de,$,m=>{const b=h(()=>Xe("w-full",H()?void 0:"border-danger")),x=h(()=>!_()),ee=h(()=>_()||S()),ke=h(()=>`${O["data-testid"]??""}-button`);We(m,{get class(){return t(b)},get hasIndicator(){return t(x)},get disabled(){return t(ee)},get controls(){return`${g()??""}-select`},get variant(){return o()},get"data-testid"(){return t(ke)},children:(te,Ie)=>{var I=Be(),M=v(I);De(M);let z;var D=j(M,2);{var ae=n=>{re(n,{slot:"trailing",name:"lock"})},se=(n,Me)=>{{var qe=le=>{re(le,{name:"spinner",class:"animate-spin"})};W(n,le=>{S()&&le(qe)},Me)}};W(D,n=>{_()?n(ae):n(se,!1)})}ue(n=>z=je(M,z,{id:g(),value:!s()&&i()!==""?i():$(),tabindex:"-1",disabled:!0,required:P(),"aria-required":P(),...O,[Ae]:n},"svelte-1j0yr8e"),[()=>({disabled:_()})],h),c(te,I)},$$slots:{default:!0,leading:(te,Ie)=>{var I=E(),M=v(I);L(M,e,"leading",{},z=>{var D=E(),ae=v(D);{var se=n=>{re(n,{get name(){return w()}})};W(ae,n=>{w()&&n(se)})}c(z,D)}),c(te,I)}}})});var ce=j(de,2);He(ce,{role:"listbox",get id(){return`${g()??""}-select`},get class(){return u()},children:(m,b)=>{var x=E(),ee=v(x);L(ee,e,"default",{},null),c(m,x)},$$slots:{default:!0}});var ye=j(ce,2);{var Pe=m=>{var b=Ge(),x=_e(b,!0);pe(b),ue(()=>Te(x,p())),c(m,b)};W(ye,m=>{p()&&!H()&&m(Pe)})}c(k,T)},$$slots:{default:!0}}),be(),Q()}var Ke=G("<span><!></span>");function _t(J,e){const K=X(e,["children","$$slots","$$events","$$legacy"]),O=X(K,["value","description","disabled","class"]);fe(e,!1);const[C,Q]=he(),$=()=>B(R,"$selectValue",C),y=()=>B(g,"$options",C),{selectValue:R,handleChange:U,options:g}=Le($e),s=Se();let i=a(e,"value",8),_=a(e,"description",8,""),S=a(e,"disabled",8,!1),w=a(e,"class",8,""),V=A(!1),u=A(),o=A(),P,p=A();Ce(()=>{t(o)&&(q(p,t(o).textContent),y().push({value:i(),label:t(p),nativeElement:P}))}),we(()=>{let r=y().findIndex(d=>d.value===i());r!==void 0&&y().splice(r,1)});const H=()=>{U(t(u)),s("click",{value:t(u)})};me(()=>(t(o),t(u),ve(i()),$()),()=>{t(o)&&(q(u,i()!==null&&i()!==void 0?i():t(o).textContent),q(V,$()===t(u)),q(p,t(o).textContent))}),ge(),xe();const N=h(()=>O["data-testid"]??"");Ne(J,{role:"option",get selected(){return t(V)},get description(){return _()},get disabled(){return S()},get class(){return w()},get"data-testid"(){return t(N)},$$events:{click:H},children:(r,d)=>{var l=Ke(),f=_e(l);L(f,e,"default",{},null),pe(l),Oe(l,Y=>q(o,Y),()=>t(o)),c(r,l)},$$slots:{default:!0,leading:(r,d)=>{var l=E(),f=v(l);L(f,e,"leading",{},null),c(r,l)},trailing:(r,d)=>{var l=E(),f=v(l);L(f,e,"trailing",{},null),c(r,l)}}}),be(),Q()}export{_t as O,gt as S};
