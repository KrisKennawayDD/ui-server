import{s as re,h as v,t as V,b as N,j as T,k as y,l as S,f as c,d as Q,m as b,i as h,n as R,c as ee,x as W,q as z,v as C,y as fe,H as ge,o as x,a as tt,u as lt,g as rt,e as st,a3 as me,w as ot}from"../chunks/scheduler.D6mQsyhd.js";import{S as se,i as ae,c as H,a as q,m as A,t as g,b as k,d as P,g as L,e as Y}from"../chunks/index.CDeUyeTp.js";import{p as $e}from"../chunks/stores.BmKzqtMg.js";import{P as it}from"../chunks/page-title.h9prjCqF.js";import{h as te,u as he}from"../chunks/await_block.84Q0hgOp.js";import{P as be,W as ft}from"../chunks/worker-table.nkDXbdei.js";import{T as ut,a as ct,b as ke}from"../chunks/tab.B6pDUmin.js";import{t as j}from"../chunks/translate.BBe5dcco.js";import{a as _t,b as mt,c as $t,d as ht,e as we,f as ve,h as Te,p as dt,i as pt,j as Ee,g as ye}from"../chunks/pollers-service.B2-qo-8F.js";import{p as gt}from"../chunks/persist-store.DV75L-zO.js";import{e as K,u as ue,o as ce}from"../chunks/each.5YhwczXz.js";import{B as bt}from"../chunks/badge.R7mYic6p.js";import{C as de}from"../chunks/compatibility-badge.COQj7tOB.js";import{E as _e}from"../chunks/empty-state.CdXD21ju.js";import{T as oe,a as ie,b as ne}from"../chunks/table.BP9Vn0iB.js";import{t as at,r as kt,f as le}from"../chunks/time-format.BcqjYxpE.js";import"../chunks/auth-user.CtRvbO6a.js";import"../chunks/toaster.CAOGYxyt.js";import"../chunks/paths.CX1JHPkl.js";import"../chunks/entry.YpKWaSZQ.js";import{S as wt}from"../chunks/index.B6vKAamH.js";const Ie=gt("taskQueueView","workers",!0);function Ce(o,t,r){const e=o.slice();e[8]=t[r];const l=$t(e[8]);e[9]=l;const s=ht(e[2],e[0],e[9]);return e[10]=s,e}function De(o,t,r){const e=o.slice();return e[13]=t[r],e[15]=r,e}function Re(o,t,r){const e=o.slice();return e[9]=t[r],e}function Ne(o){let t,r,e,l,s;return e=new _e({props:{title:j("workers.no-version-sets-found")}}),{c(){t=v("tr"),r=v("td"),H(e.$$.fragment),l=N(),this.h()},l(a){t=T(a,"TR",{class:!0});var n=y(t);r=T(n,"TD",{colspan:!0});var f=y(r);q(e.$$.fragment,f),f.forEach(c),l=Q(n),n.forEach(c),this.h()},h(){b(r,"colspan","2"),b(t,"class","w-full")},m(a,n){h(a,t,n),R(t,r),A(e,r,null),R(t,l),s=!0},p:C,i(a){s||(g(e.$$.fragment,a),s=!0)},o(a){k(e.$$.fragment,a),s=!1},d(a){a&&c(t),P(e)}}}function Qe(o){let t=j("workers.overall")+"",r;return{c(){r=V(t)},l(e){r=S(e,t)},m(e,l){h(e,r,l)},p:C,d(e){e&&c(r)}}}function vt(o){let t,r=o[15]===0&&Qe();return{c(){r&&r.c(),t=W()},l(e){r&&r.l(e),t=W()},m(e,l){r&&r.m(e,l),h(e,t,l)},p(e,l){e[15]===0?r?r.p(e,l):(r=Qe(),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null)},d(e){e&&c(t),r&&r.d(e)}}}function Tt(o){let t=j("workers.default")+"",r;return{c(){r=V(t)},l(e){r=S(e,t)},m(e,l){h(e,r,l)},p:C,d(e){e&&c(r)}}}function Et(o){let t=j("workers.default")+"",r,e;return{c(){r=V(t),e=N()},l(l){r=S(l,t),e=Q(l)},m(l,s){h(l,r,s),h(l,e,s)},p:C,d(l){l&&(c(r),c(e))}}}function He(o){let t,r;return t=new de({props:{active:!1,buildId:o[9],$$slots:{"default-worker":[Et]},$$scope:{ctx:o}}}),{c(){H(t.$$.fragment)},l(e){q(t.$$.fragment,e)},m(e,l){A(t,e,l),r=!0},p(e,l){const s={};l&16&&(s.buildId=e[9]),l&262144&&(s.$$scope={dirty:l,ctx:e}),t.$set(s)},i(e){r||(g(t.$$.fragment,e),r=!0)},o(e){k(t.$$.fragment,e),r=!1},d(e){P(t,e)}}}function yt(o){let t,r,e,l,s,a,n;r=new de({props:{defaultVersion:!0,active:o[15]===0,buildId:we(o[13].buildIds),$$slots:{"default-worker":[Tt],"overall-default-worker":[vt]},$$scope:{ctx:o}}});let f=K(ve(o[13].buildIds)),i=[];for(let u=0;u<f.length;u+=1)i[u]=He(Re(o,f,u));const _=u=>k(i[u],1,1,()=>{i[u]=null});return{c(){t=v("td"),H(r.$$.fragment),e=N(),l=v("td"),s=v("div");for(let u=0;u<i.length;u+=1)i[u].c();a=N(),this.h()},l(u){t=T(u,"TD",{class:!0,"data-testid":!0});var m=y(t);q(r.$$.fragment,m),m.forEach(c),e=Q(u),l=T(u,"TD",{class:!0,"data-testid":!0});var $=y(l);s=T($,"DIV",{class:!0});var d=y(s);for(let p=0;p<i.length;p+=1)i[p].l(d);d.forEach(c),$.forEach(c),a=Q(u),this.h()},h(){b(t,"class","text-left"),b(t,"data-testid","version-default"),b(s,"class","flex flex-wrap gap-2 font-mono"),b(l,"class","text-left"),b(l,"data-testid","version-compatible-builds")},m(u,m){h(u,t,m),A(r,t,null),h(u,e,m),h(u,l,m),R(l,s);for(let $=0;$<i.length;$+=1)i[$]&&i[$].m(s,null);h(u,a,m),n=!0},p(u,m){const $={};if(m&16&&($.active=u[15]===0),m&16&&($.buildId=we(u[13].buildIds)),m&262160&&($.$$scope={dirty:m,ctx:u}),r.$set($),m&16){f=K(ve(u[13].buildIds));let d;for(d=0;d<f.length;d+=1){const p=Re(u,f,d);i[d]?(i[d].p(p,m),g(i[d],1)):(i[d]=He(p),i[d].c(),g(i[d],1),i[d].m(s,null))}for(L(),d=f.length;d<i.length;d+=1)_(d);Y()}},i(u){if(!n){g(r.$$.fragment,u);for(let m=0;m<f.length;m+=1)g(i[m]);n=!0}},o(u){k(r.$$.fragment,u),i=i.filter(Boolean);for(let m=0;m<i.length;m+=1)k(i[m]);n=!1},d(u){u&&(c(t),c(e),c(l),c(a)),P(r),fe(i,u)}}}function qe(o,t){let r,e,l;return e=new ne({props:{"data-testid":"version-row",$$slots:{default:[yt]},$$scope:{ctx:t}}}),{key:o,first:null,c(){r=W(),H(e.$$.fragment),this.h()},l(s){r=W(),q(e.$$.fragment,s),this.h()},h(){this.first=r},m(s,a){h(s,r,a),A(e,s,a),l=!0},p(s,a){t=s;const n={};a&262160&&(n.$$scope={dirty:a,ctx:t}),e.$set(n)},i(s){l||(g(e.$$.fragment,s),l=!0)},o(s){k(e.$$.fragment,s),l=!1},d(s){s&&c(r),P(e,s)}}}function It(o){let t=[],r=new Map,e,l,s=K(o[4]);const a=f=>f[15];for(let f=0;f<s.length;f+=1){let i=De(o,s,f),_=a(i);r.set(_,t[f]=qe(_,i))}let n=null;return s.length||(n=Ne()),{c(){for(let f=0;f<t.length;f+=1)t[f].c();e=W(),n&&n.c()},l(f){for(let i=0;i<t.length;i+=1)t[i].l(f);e=W(),n&&n.l(f)},m(f,i){for(let _=0;_<t.length;_+=1)t[_]&&t[_].m(f,i);h(f,e,i),n&&n.m(f,i),l=!0},p(f,i){i&16&&(s=K(f[4]),L(),t=ue(t,i,a,1,f,s,r,e.parentNode,ce,qe,e,De),Y(),!s.length&&n?n.p(f,i):s.length?n&&(L(),k(n,1,1,()=>{n=null}),Y()):(n=Ne(),n.c(),g(n,1),n.m(e.parentNode,e)))},i(f){if(!l){for(let i=0;i<s.length;i+=1)g(t[i]);l=!0}},o(f){for(let i=0;i<t.length;i+=1)k(t[i]);l=!1},d(f){f&&c(e);for(let i=0;i<t.length;i+=1)t[i].d(f);n&&n.d(f)}}}function Ct(o){let t,r=j("workers.default")+"",e,l,s,a=j("workers.compatible-build-ids")+"",n;return{c(){t=v("th"),e=V(r),l=N(),s=v("th"),n=V(a),this.h()},l(f){t=T(f,"TH",{class:!0});var i=y(t);e=S(i,r),i.forEach(c),l=Q(f),s=T(f,"TH",{class:!0});var _=y(s);n=S(_,a),_.forEach(c),this.h()},h(){b(t,"class","w-3/12"),b(s,"class","w-9/12")},m(f,i){h(f,t,i),R(t,e),h(f,l,i),h(f,s,i),R(s,n)},p:C,d(f){f&&(c(t),c(l),c(s))}}}function Dt(o){let t,r;return t=new ie({props:{slot:"headers",$$slots:{default:[Ct]},$$scope:{ctx:o}}}),{c(){H(t.$$.fragment)},l(e){q(t.$$.fragment,e)},m(e,l){A(t,e,l),r=!0},p(e,l){const s={};l&262144&&(s.$$scope={dirty:l,ctx:e}),t.$set(s)},i(e){r||(g(t.$$.fragment,e),r=!0)},o(e){k(t.$$.fragment,e),r=!1},d(e){P(t,e)}}}function Rt(o){var e,l;let t=(((l=(e=o[1])==null?void 0:e.pollers)==null?void 0:l.length)||0)+"",r;return{c(){r=V(t)},l(s){r=S(s,t)},m(s,a){h(s,r,a)},p(s,a){var n,f;a&2&&t!==(t=(((f=(n=s[1])==null?void 0:n.pollers)==null?void 0:f.length)||0)+"")&&z(r,t)},d(s){s&&c(r)}}}function Ae(o){let t,r,e,l,s,a;return e=new _e({props:{title:j("workflows.workers-empty-state")}}),{c(){t=v("tr"),r=v("td"),H(e.$$.fragment),s=N(),this.h()},l(n){t=T(n,"TR",{class:!0});var f=y(t);r=T(f,"TD",{colspan:!0});var i=y(r);q(e.$$.fragment,i),i.forEach(c),s=Q(f),f.forEach(c),this.h()},h(){var n,f;b(r,"colspan",l=(f=(n=o[2])==null?void 0:n.buildIdReachability)!=null&&f.length?6:4),b(t,"class","w-full")},m(n,f){h(n,t,f),R(t,r),A(e,r,null),R(t,s),a=!0},p(n,f){var i,_;(!a||f&4&&l!==(l=(_=(i=n[2])==null?void 0:i.buildIdReachability)!=null&&_.length?6:4))&&b(r,"colspan",l)},i(n){a||(g(e.$$.fragment,n),a=!0)},o(n){k(e.$$.fragment,n),a=!1},d(n){n&&c(t),P(e)}}}function Pe(o){let t,r,e,l,s,a,n,f=o[10]+"",i,_;return e=new de({props:{defaultVersion:o[9]===o[3],active:o[9]===o[3],buildId:o[9],$$slots:{"default-worker":[Qt],"overall-default-worker":[Nt]},$$scope:{ctx:o}}}),{c(){t=v("td"),r=v("p"),H(e.$$.fragment),l=N(),s=v("td"),a=v("p"),n=v("span"),i=V(f),this.h()},l(u){t=T(u,"TD",{class:!0,"data-testid":!0});var m=y(t);r=T(m,"P",{class:!0});var $=y(r);q(e.$$.fragment,$),$.forEach(c),m.forEach(c),l=Q(u),s=T(u,"TD",{class:!0,"data-testid":!0});var d=y(s);a=T(d,"P",{});var p=y(a);n=T(p,"SPAN",{class:!0});var w=y(n);i=S(w,f),w.forEach(c),p.forEach(c),d.forEach(c),this.h()},h(){b(r,"class","select-all"),b(t,"class","text-left"),b(t,"data-testid","worker-identity"),b(n,"class","svelte-kdqm2r"),ge(n,"reachability",!!o[10]),b(s,"class","text-left"),b(s,"data-testid","worker-last-access-time")},m(u,m){h(u,t,m),R(t,r),A(e,r,null),h(u,l,m),h(u,s,m),R(s,a),R(a,n),R(n,i),_=!0},p(u,m){const $={};m&10&&($.defaultVersion=u[9]===u[3]),m&10&&($.active=u[9]===u[3]),m&2&&($.buildId=u[9]),m&262154&&($.$$scope={dirty:m,ctx:u}),e.$set($),(!_||m&7)&&f!==(f=u[10]+"")&&z(i,f),(!_||m&7)&&ge(n,"reachability",!!u[10])},i(u){_||(g(e.$$.fragment,u),_=!0)},o(u){k(e.$$.fragment,u),_=!1},d(u){u&&(c(t),c(l),c(s)),P(e)}}}function Be(o){let t=j("workers.overall")+"",r;return{c(){r=V(t)},l(e){r=S(e,t)},m(e,l){h(e,r,l)},p:C,d(e){e&&c(r)}}}function Nt(o){let t,r=o[9]===o[3]&&Be();return{c(){r&&r.c(),t=W()},l(e){r&&r.l(e),t=W()},m(e,l){r&&r.m(e,l),h(e,t,l)},p(e,l){e[9]===e[3]?r?r.p(e,l):(r=Be(),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null)},d(e){e&&c(t),r&&r.d(e)}}}function Qt(o){let t=j("workers.default")+"",r;return{c(){r=V(t)},l(e){r=S(e,t)},m(e,l){h(e,r,l)},p:C,d(e){e&&c(r)}}}function Ht(o){var B,U;let t,r,e=o[8].identity+"",l,s,a,n,f,i=le(o[8].lastAccessTime,o[5],{relative:o[6]})+"",_,u,m,$,d,p,w,F,M,I=((U=(B=o[2])==null?void 0:B.buildIdReachability)==null?void 0:U.length)&&Pe(o);return $=new be({props:{includesTaskQueueType:o[8].taskQueueTypes.includes("WORKFLOW")}}),w=new be({props:{includesTaskQueueType:o[8].taskQueueTypes.includes("ACTIVITY")}}),{c(){t=v("td"),r=v("p"),l=V(e),s=N(),I&&I.c(),a=N(),n=v("td"),f=v("p"),_=V(i),u=N(),m=v("td"),H($.$$.fragment),d=N(),p=v("td"),H(w.$$.fragment),F=N(),this.h()},l(D){t=T(D,"TD",{class:!0,"data-testid":!0});var E=y(t);r=T(E,"P",{class:!0});var O=y(r);l=S(O,e),O.forEach(c),E.forEach(c),s=Q(D),I&&I.l(D),a=Q(D),n=T(D,"TD",{class:!0,"data-testid":!0});var G=y(n);f=T(G,"P",{class:!0});var J=y(f);_=S(J,i),J.forEach(c),G.forEach(c),u=Q(D),m=T(D,"TD",{"data-testid":!0});var X=y(m);q($.$$.fragment,X),X.forEach(c),d=Q(D),p=T(D,"TD",{"data-testid":!0});var Z=y(p);q(w.$$.fragment,Z),Z.forEach(c),F=Q(D),this.h()},h(){b(r,"class","select-all"),b(t,"class","text-left"),b(t,"data-testid","worker-identity"),b(f,"class","select-all"),b(n,"class","text-left"),b(n,"data-testid","worker-last-access-time"),b(m,"data-testid","workflow-poller"),b(p,"data-testid","activity-poller")},m(D,E){h(D,t,E),R(t,r),R(r,l),h(D,s,E),I&&I.m(D,E),h(D,a,E),h(D,n,E),R(n,f),R(f,_),h(D,u,E),h(D,m,E),A($,m,null),h(D,d,E),h(D,p,E),A(w,p,null),h(D,F,E),M=!0},p(D,E){var J,X;(!M||E&2)&&e!==(e=D[8].identity+"")&&z(l,e),(X=(J=D[2])==null?void 0:J.buildIdReachability)!=null&&X.length?I?(I.p(D,E),E&4&&g(I,1)):(I=Pe(D),I.c(),g(I,1),I.m(a.parentNode,a)):I&&(L(),k(I,1,1,()=>{I=null}),Y()),(!M||E&98)&&i!==(i=le(D[8].lastAccessTime,D[5],{relative:D[6]})+"")&&z(_,i);const O={};E&2&&(O.includesTaskQueueType=D[8].taskQueueTypes.includes("WORKFLOW")),$.$set(O);const G={};E&2&&(G.includesTaskQueueType=D[8].taskQueueTypes.includes("ACTIVITY")),w.$set(G)},i(D){M||(g(I),g($.$$.fragment,D),g(w.$$.fragment,D),M=!0)},o(D){k(I),k($.$$.fragment,D),k(w.$$.fragment,D),M=!1},d(D){D&&(c(t),c(s),c(a),c(n),c(u),c(m),c(d),c(p),c(F)),I&&I.d(D),P($),P(w)}}}function Ve(o,t){let r,e,l;return e=new ne({props:{"data-testid":"worker-row",$$slots:{default:[Ht]},$$scope:{ctx:t}}}),{key:o,first:null,c(){r=W(),H(e.$$.fragment),this.h()},l(s){r=W(),q(e.$$.fragment,s),this.h()},h(){this.first=r},m(s,a){h(s,r,a),A(e,s,a),l=!0},p(s,a){t=s;const n={};a&262255&&(n.$$scope={dirty:a,ctx:t}),e.$set(n)},i(s){l||(g(e.$$.fragment,s),l=!0)},o(s){k(e.$$.fragment,s),l=!1},d(s){s&&c(r),P(e,s)}}}function qt(o){var f;let t=[],r=new Map,e,l,s=K((f=o[1])==null?void 0:f.pollers);const a=i=>i[8].identity;for(let i=0;i<s.length;i+=1){let _=Ce(o,s,i),u=a(_);r.set(u,t[i]=Ve(u,_))}let n=null;return s.length||(n=Ae(o)),{c(){for(let i=0;i<t.length;i+=1)t[i].c();e=W(),n&&n.c()},l(i){for(let _=0;_<t.length;_+=1)t[_].l(i);e=W(),n&&n.l(i)},m(i,_){for(let u=0;u<t.length;u+=1)t[u]&&t[u].m(i,_);h(i,e,_),n&&n.m(i,_),l=!0},p(i,_){var u;_&111&&(s=K((u=i[1])==null?void 0:u.pollers),L(),t=ue(t,_,a,1,i,s,r,e.parentNode,ce,Ve,e,Ce),Y(),!s.length&&n?n.p(i,_):s.length?n&&(L(),k(n,1,1,()=>{n=null}),Y()):(n=Ae(i),n.c(),g(n,1),n.m(e.parentNode,e)))},i(i){if(!l){for(let _=0;_<s.length;_+=1)g(t[_]);l=!0}},o(i){for(let _=0;_<t.length;_+=1)k(t[_]);l=!1},d(i){i&&c(e);for(let _=0;_<t.length;_+=1)t[_].d(i);n&&n.d(i)}}}function At(o){let t,r=j("workflows.workers-tab")+"",e;return{c(){t=v("caption"),e=V(r),this.h()},l(l){t=T(l,"CAPTION",{class:!0,slot:!0});var s=y(t);e=S(s,r),s.forEach(c),this.h()},h(){b(t,"class","sr-only"),b(t,"slot","caption")},m(l,s){h(l,t,s),R(t,e)},p:C,d(l){l&&c(t)}}}function Se(o){let t,r=j("workers.version")+"",e,l,s,a=j("workers.retirability")+"",n;return{c(){t=v("th"),e=V(r),l=N(),s=v("th"),n=V(a),this.h()},l(f){t=T(f,"TH",{class:!0});var i=y(t);e=S(i,r),i.forEach(c),l=Q(f),s=T(f,"TH",{class:!0});var _=y(s);n=S(_,a),_.forEach(c),this.h()},h(){b(t,"class","w-3/12"),b(s,"class","w-2/12")},m(f,i){h(f,t,i),R(t,e),h(f,l,i),h(f,s,i),R(s,n)},p:C,d(f){f&&(c(t),c(l),c(s))}}}function Pt(o){var U,D;let t,r=j("common.id")+"",e,l,s,a,n,f=j("workflows.last-accessed")+"",i,_,u,m,$=j("workflows.workflow-task-handler")+"",d,p,w,F,M=j("workflows.activity-handler")+"",I,B=((D=(U=o[2])==null?void 0:U.buildIdReachability)==null?void 0:D.length)&&Se();return{c(){t=v("th"),e=V(r),s=N(),B&&B.c(),a=N(),n=v("th"),i=V(f),_=N(),u=v("th"),m=v("p"),d=V($),p=N(),w=v("th"),F=v("p"),I=V(M),this.h()},l(E){t=T(E,"TH",{class:!0});var O=y(t);e=S(O,r),O.forEach(c),s=Q(E),B&&B.l(E),a=Q(E),n=T(E,"TH",{class:!0});var G=y(n);i=S(G,f),G.forEach(c),_=Q(E),u=T(E,"TH",{class:!0});var J=y(u);m=T(J,"P",{class:!0});var X=y(m);d=S(X,$),X.forEach(c),J.forEach(c),p=Q(E),w=T(E,"TH",{class:!0});var Z=y(w);F=T(Z,"P",{class:!0});var pe=y(F);I=S(pe,M),pe.forEach(c),Z.forEach(c),this.h()},h(){var E,O;b(t,"class",l=(O=(E=o[2])==null?void 0:E.buildIdReachability)!=null&&O.length?"w-3/12":"w-6/12"),b(n,"class","w-2/12"),b(m,"class","text-center"),b(u,"class","w-2/12"),b(F,"class","text-center"),b(w,"class","w-2/12 text-center")},m(E,O){h(E,t,O),R(t,e),h(E,s,O),B&&B.m(E,O),h(E,a,O),h(E,n,O),R(n,i),h(E,_,O),h(E,u,O),R(u,m),R(m,d),h(E,p,O),h(E,w,O),R(w,F),R(F,I)},p(E,O){var G,J,X,Z;O&4&&l!==(l=(J=(G=E[2])==null?void 0:G.buildIdReachability)!=null&&J.length?"w-3/12":"w-6/12")&&b(t,"class",l),(Z=(X=E[2])==null?void 0:X.buildIdReachability)!=null&&Z.length?B?B.p(E,O):(B=Se(),B.c(),B.m(a.parentNode,a)):B&&(B.d(1),B=null)},d(E){E&&(c(t),c(s),c(a),c(n),c(_),c(u),c(p),c(w)),B&&B.d(E)}}}function Bt(o){let t,r;return t=new ie({props:{slot:"headers",$$slots:{default:[Pt]},$$scope:{ctx:o}}}),{c(){H(t.$$.fragment)},l(e){q(t.$$.fragment,e)},m(e,l){A(t,e,l),r=!0},p(e,l){const s={};l&262148&&(s.$$scope={dirty:l,ctx:e}),t.$set(s)},i(e){r||(g(t.$$.fragment,e),r=!0)},o(e){k(t.$$.fragment,e),r=!1},d(e){P(t,e)}}}function Vt(o){let t,r=j("workers.version-sets")+"",e,l,s,a,n,f=j("workers.workers")+"",i,_,u,m,$,d;return s=new oe({props:{class:"mb-6 w-full min-w-[600px] table-fixed",$$slots:{headers:[Dt],default:[It]},$$scope:{ctx:o}}}),u=new bt({props:{type:"count",$$slots:{default:[Rt]},$$scope:{ctx:o}}}),$=new oe({props:{class:"mb-6 w-full min-w-[600px] table-fixed",$$slots:{headers:[Bt],caption:[At],default:[qt]},$$scope:{ctx:o}}}),{c(){t=v("h2"),e=V(r),l=N(),H(s.$$.fragment),a=N(),n=v("h2"),i=V(f),_=N(),H(u.$$.fragment),m=N(),H($.$$.fragment),this.h()},l(p){t=T(p,"H2",{"data-testid":!0});var w=y(t);e=S(w,r),w.forEach(c),l=Q(p),q(s.$$.fragment,p),a=Q(p),n=T(p,"H2",{class:!0,"data-testid":!0});var F=y(n);i=S(F,f),_=Q(F),q(u.$$.fragment,F),F.forEach(c),m=Q(p),q($.$$.fragment,p),this.h()},h(){b(t,"data-testid","version-sets"),b(n,"class","flex items-center gap-2"),b(n,"data-testid","workers")},m(p,w){h(p,t,w),R(t,e),h(p,l,w),A(s,p,w),h(p,a,w),h(p,n,w),R(n,i),R(n,_),A(u,n,null),h(p,m,w),A($,p,w),d=!0},p(p,[w]){const F={};w&262160&&(F.$$scope={dirty:w,ctx:p}),s.$set(F);const M={};w&262146&&(M.$$scope={dirty:w,ctx:p}),u.$set(M);const I={};w&262255&&(I.$$scope={dirty:w,ctx:p}),$.$set(I)},i(p){d||(g(s.$$.fragment,p),g(u.$$.fragment,p),g($.$$.fragment,p),d=!0)},o(p){k(s.$$.fragment,p),k(u.$$.fragment,p),k($.$$.fragment,p),d=!1},d(p){p&&(c(t),c(l),c(a),c(n),c(m)),P(s,p),P(u),P($,p)}}}function St(o,t,r){let e,l,s,a;ee(o,at,u=>r(5,s=u)),ee(o,kt,u=>r(6,a=u));let{taskQueue:n}=t,{workers:f}=t,{reachability:i=void 0}=t,{compatibility:_=void 0}=t;return o.$$set=u=>{"taskQueue"in u&&r(0,n=u.taskQueue),"workers"in u&&r(1,f=u.workers),"reachability"in u&&r(2,i=u.reachability),"compatibility"in u&&r(7,_=u.compatibility)},o.$$.update=()=>{o.$$.dirty&128&&r(4,e=_t(_)),o.$$.dirty&128&&r(3,l=mt(_))},[n,f,i,l,e,s,a,_]}class Wt extends se{constructor(t){super(),ae(this,t,St,Vt,re,{taskQueue:0,workers:1,reachability:2,compatibility:7})}}function We(o,t,r){const e=o.slice();return e[12]=t[r],e[14]=r,e}function Fe(o,t,r){const e=o.slice();return e[12]=t[r],e[14]=r,e}function Oe(o){let t,r,e,l;return e=new _e({props:{title:j("workers.no-assignment-rules-found")}}),{c(){t=v("tr"),r=v("td"),H(e.$$.fragment),this.h()},l(s){t=T(s,"TR",{class:!0});var a=y(t);r=T(a,"TD",{colspan:!0});var n=y(r);q(e.$$.fragment,n),n.forEach(c),a.forEach(c),this.h()},h(){b(r,"colspan","4"),b(t,"class","w-full")},m(s,a){h(s,t,a),R(t,r),A(e,r,null),l=!0},p:C,i(s){l||(g(e.$$.fragment,s),l=!0)},o(s){k(e.$$.fragment,s),l=!1},d(s){s&&c(t),P(e)}}}function Ft(o){var M;let t,r=o[14]+"",e,l,s,a=((M=o[12].rule)==null?void 0:M.targetBuildId)+"",n,f,i,_=o[5](o[12]).toFixed(0)+"",u,m,$,d,p,w=le(o[12].createTime,o[4])+"",F;return{c(){t=v("td"),e=V(r),l=N(),s=v("td"),n=V(a),f=N(),i=v("td"),u=V(_),m=V("%"),$=N(),d=v("td"),p=v("p"),F=V(w),this.h()},l(I){t=T(I,"TD",{class:!0,"data-testid":!0});var B=y(t);e=S(B,r),B.forEach(c),l=Q(I),s=T(I,"TD",{class:!0,"data-testid":!0});var U=y(s);n=S(U,a),U.forEach(c),f=Q(I),i=T(I,"TD",{class:!0,"data-testid":!0});var D=y(i);u=S(D,_),m=S(D,"%"),D.forEach(c),$=Q(I),d=T(I,"TD",{class:!0,"data-testid":!0});var E=y(d);p=T(E,"P",{});var O=y(p);F=S(O,w),O.forEach(c),E.forEach(c),this.h()},h(){b(t,"class","text-left"),b(t,"data-testid","index"),b(s,"class","break-all text-left"),b(s,"data-testid","target-build-id"),b(i,"class","text-right"),b(i,"data-testid","target-ramp"),b(d,"class","justfiy-between flex w-full items-center text-right"),b(d,"data-testid","target-create-time")},m(I,B){h(I,t,B),R(t,e),h(I,l,B),h(I,s,B),R(s,n),h(I,f,B),h(I,i,B),R(i,u),R(i,m),h(I,$,B),h(I,d,B),R(d,p),R(p,F)},p(I,B){var U;B&4&&r!==(r=I[14]+"")&&z(e,r),B&4&&a!==(a=((U=I[12].rule)==null?void 0:U.targetBuildId)+"")&&z(n,a),B&4&&_!==(_=I[5](I[12]).toFixed(0)+"")&&z(u,_),B&20&&w!==(w=le(I[12].createTime,I[4])+"")&&z(F,w)},d(I){I&&(c(t),c(l),c(s),c(f),c(i),c($),c(d))}}}function je(o,t){let r,e,l;return e=new ne({props:{"data-testid":"version-row",$$slots:{default:[Ft]},$$scope:{ctx:t}}}),{key:o,first:null,c(){r=W(),H(e.$$.fragment),this.h()},l(s){r=W(),q(e.$$.fragment,s),this.h()},h(){this.first=r},m(s,a){h(s,r,a),A(e,s,a),l=!0},p(s,a){t=s;const n={};a&65556&&(n.$$scope={dirty:a,ctx:t}),e.$set(n)},i(s){l||(g(e.$$.fragment,s),l=!0)},o(s){k(e.$$.fragment,s),l=!1},d(s){s&&c(r),P(e,s)}}}function Me(o){let t,r;return t=new ne({props:{"data-testid":"view-all",class:"surface-subtle cursor-pointer",$$slots:{default:[Ot]},$$scope:{ctx:o}}}),t.$on("click",o[11]),{c(){H(t.$$.fragment)},l(e){q(t.$$.fragment,e)},m(e,l){A(t,e,l),r=!0},p(e,l){const s={};l&65536&&(s.$$scope={dirty:l,ctx:e}),t.$set(s)},i(e){r||(g(t.$$.fragment,e),r=!0)},o(e){k(t.$$.fragment,e),r=!1},d(e){P(t,e)}}}function Ot(o){let t,r,e,l=j("workers.show-inactive-assignment-rules")+"",s,a,n,f,i;return{c(){t=v("td"),r=N(),e=v("td"),s=V(l),a=N(),n=v("td"),f=N(),i=v("td"),this.h()},l(_){t=T(_,"TD",{}),y(t).forEach(c),r=Q(_),e=T(_,"TD",{class:!0});var u=y(e);s=S(u,l),u.forEach(c),a=Q(_),n=T(_,"TD",{}),y(n).forEach(c),f=Q(_),i=T(_,"TD",{}),y(i).forEach(c),this.h()},h(){b(e,"class","break-all text-left text-blue-700 underline")},m(_,u){h(_,t,u),h(_,r,u),h(_,e,u),R(e,s),h(_,a,u),h(_,n,u),h(_,f,u),h(_,i,u)},p:C,d(_){_&&(c(t),c(r),c(e),c(a),c(n),c(f),c(i))}}}function jt(o){var _;let t=[],r=new Map,e,l,s,a=K(o[2]);const n=u=>u[14];for(let u=0;u<a.length;u+=1){let m=Fe(o,a,u),$=n(m);r.set($,t[u]=je($,m))}let f=null;a.length||(f=Oe());let i=!o[0]&&((_=o[1])==null?void 0:_.length)&&Me(o);return{c(){for(let u=0;u<t.length;u+=1)t[u].c();f&&f.c(),e=N(),i&&i.c(),l=W()},l(u){for(let m=0;m<t.length;m+=1)t[m].l(u);f&&f.l(u),e=Q(u),i&&i.l(u),l=W()},m(u,m){for(let $=0;$<t.length;$+=1)t[$]&&t[$].m(u,m);f&&f.m(u,m),h(u,e,m),i&&i.m(u,m),h(u,l,m),s=!0},p(u,m){var $;m&52&&(a=K(u[2]),L(),t=ue(t,m,n,1,u,a,r,e.parentNode,ce,je,e,Fe),Y(),!a.length&&f?f.p(u,m):a.length?f&&(L(),k(f,1,1,()=>{f=null}),Y()):(f=Oe(),f.c(),g(f,1),f.m(e.parentNode,e))),!u[0]&&(($=u[1])!=null&&$.length)?i?(i.p(u,m),m&3&&g(i,1)):(i=Me(u),i.c(),g(i,1),i.m(l.parentNode,l)):i&&(L(),k(i,1,1,()=>{i=null}),Y())},i(u){if(!s){for(let m=0;m<a.length;m+=1)g(t[m]);g(i),s=!0}},o(u){for(let m=0;m<t.length;m+=1)k(t[m]);k(i),s=!1},d(u){u&&(c(e),c(l));for(let m=0;m<t.length;m+=1)t[m].d(u);f&&f.d(u),i&&i.d(u)}}}function Mt(o){let t,r="Index",e,l,s="Target Build ID",a,n,f="Ramp",i,_,u="Create Time";return{c(){t=v("th"),t.textContent=r,e=N(),l=v("th"),l.textContent=s,a=N(),n=v("th"),n.textContent=f,i=N(),_=v("th"),_.textContent=u,this.h()},l(m){t=T(m,"TH",{class:!0,"data-svelte-h":!0}),x(t)!=="svelte-9c3h6b"&&(t.textContent=r),e=Q(m),l=T(m,"TH",{class:!0,"data-svelte-h":!0}),x(l)!=="svelte-1y9wj7a"&&(l.textContent=s),a=Q(m),n=T(m,"TH",{class:!0,"data-svelte-h":!0}),x(n)!=="svelte-v0wniv"&&(n.textContent=f),i=Q(m),_=T(m,"TH",{class:!0,"data-svelte-h":!0}),x(_)!=="svelte-1bmkxw8"&&(_.textContent=u),this.h()},h(){b(t,"class","w-20"),b(l,"class","grow"),b(n,"class","w-20"),b(_,"class","text-right")},m(m,$){h(m,t,$),h(m,e,$),h(m,l,$),h(m,a,$),h(m,n,$),h(m,i,$),h(m,_,$)},p:C,d(m){m&&(c(t),c(e),c(l),c(a),c(n),c(i),c(_))}}}function Kt(o){let t,r;return t=new ie({props:{slot:"headers",$$slots:{default:[Mt]},$$scope:{ctx:o}}}),{c(){H(t.$$.fragment)},l(e){q(t.$$.fragment,e)},m(e,l){A(t,e,l),r=!0},p(e,l){const s={};l&65536&&(s.$$scope={dirty:l,ctx:e}),t.$set(s)},i(e){r||(g(t.$$.fragment,e),r=!0)},o(e){k(t.$$.fragment,e),r=!1},d(e){P(t,e)}}}function Ke(o){let t,r,e,l,s;return e=new _e({props:{title:j("workers.no-redirect-rules-found")}}),{c(){t=v("tr"),r=v("td"),H(e.$$.fragment),l=N(),this.h()},l(a){t=T(a,"TR",{class:!0});var n=y(t);r=T(n,"TD",{colspan:!0});var f=y(r);q(e.$$.fragment,f),f.forEach(c),l=Q(n),n.forEach(c),this.h()},h(){b(r,"colspan","3"),b(t,"class","w-full")},m(a,n){h(a,t,n),R(t,r),A(e,r,null),R(t,l),s=!0},p:C,i(a){s||(g(e.$$.fragment,a),s=!0)},o(a){k(e.$$.fragment,a),s=!1},d(a){a&&c(t),P(e)}}}function Lt(o){let t,r=o[12].rule.sourceBuildId+"",e,l,s,a=o[12].rule.targetBuildId+"",n,f,i,_=le(o[12].createTime,o[4])+"",u,m;return{c(){t=v("td"),e=V(r),l=N(),s=v("td"),n=V(a),f=N(),i=v("td"),u=V(_),m=N(),this.h()},l($){t=T($,"TD",{class:!0,"data-testid":!0});var d=y(t);e=S(d,r),d.forEach(c),l=Q($),s=T($,"TD",{class:!0,"data-testid":!0});var p=y(s);n=S(p,a),p.forEach(c),f=Q($),i=T($,"TD",{class:!0,"data-testid":!0});var w=y(i);u=S(w,_),w.forEach(c),m=Q($),this.h()},h(){b(t,"class","text-left"),b(t,"data-testid","target-source"),b(s,"class","text-left"),b(s,"data-testid","target-source"),b(i,"class","text-left"),b(i,"data-testid","target-source")},m($,d){h($,t,d),R(t,e),h($,l,d),h($,s,d),R(s,n),h($,f,d),h($,i,d),R(i,u),h($,m,d)},p($,d){d&8&&r!==(r=$[12].rule.sourceBuildId+"")&&z(e,r),d&8&&a!==(a=$[12].rule.targetBuildId+"")&&z(n,a),d&24&&_!==(_=le($[12].createTime,$[4])+"")&&z(u,_)},d($){$&&(c(t),c(l),c(s),c(f),c(i),c(m))}}}function Le(o,t){let r,e,l;return e=new ne({props:{"data-testid":"version-row",$$slots:{default:[Lt]},$$scope:{ctx:t}}}),{key:o,first:null,c(){r=W(),H(e.$$.fragment),this.h()},l(s){r=W(),q(e.$$.fragment,s),this.h()},h(){this.first=r},m(s,a){h(s,r,a),A(e,s,a),l=!0},p(s,a){t=s;const n={};a&65560&&(n.$$scope={dirty:a,ctx:t}),e.$set(n)},i(s){l||(g(e.$$.fragment,s),l=!0)},o(s){k(e.$$.fragment,s),l=!1},d(s){s&&c(r),P(e,s)}}}function Yt(o){let t=[],r=new Map,e,l,s=K(o[3]);const a=f=>f[14];for(let f=0;f<s.length;f+=1){let i=We(o,s,f),_=a(i);r.set(_,t[f]=Le(_,i))}let n=null;return s.length||(n=Ke()),{c(){for(let f=0;f<t.length;f+=1)t[f].c();e=W(),n&&n.c()},l(f){for(let i=0;i<t.length;i+=1)t[i].l(f);e=W(),n&&n.l(f)},m(f,i){for(let _=0;_<t.length;_+=1)t[_]&&t[_].m(f,i);h(f,e,i),n&&n.m(f,i),l=!0},p(f,i){i&24&&(s=K(f[3]),L(),t=ue(t,i,a,1,f,s,r,e.parentNode,ce,Le,e,We),Y(),!s.length&&n?n.p(f,i):s.length?n&&(L(),k(n,1,1,()=>{n=null}),Y()):(n=Ke(),n.c(),g(n,1),n.m(e.parentNode,e)))},i(f){if(!l){for(let i=0;i<s.length;i+=1)g(t[i]);l=!0}},o(f){for(let i=0;i<t.length;i+=1)k(t[i]);l=!1},d(f){f&&c(e);for(let i=0;i<t.length;i+=1)t[i].d(f);n&&n.d(f)}}}function zt(o){let t,r="Source Build ID",e,l,s="Target Build ID",a,n,f="Create Time";return{c(){t=v("th"),t.textContent=r,e=N(),l=v("th"),l.textContent=s,a=N(),n=v("th"),n.textContent=f,this.h()},l(i){t=T(i,"TH",{class:!0,"data-svelte-h":!0}),x(t)!=="svelte-1ojbhda"&&(t.textContent=r),e=Q(i),l=T(i,"TH",{class:!0,"data-svelte-h":!0}),x(l)!=="svelte-1kj4z8i"&&(l.textContent=s),a=Q(i),n=T(i,"TH",{class:!0,"data-svelte-h":!0}),x(n)!=="svelte-jrosx7"&&(n.textContent=f),this.h()},h(){b(t,"class","w-1/3"),b(l,"class","w-1/3"),b(n,"class","w-1/3")},m(i,_){h(i,t,_),h(i,e,_),h(i,l,_),h(i,a,_),h(i,n,_)},p:C,d(i){i&&(c(t),c(e),c(l),c(a),c(n))}}}function Ut(o){let t,r;return t=new ie({props:{slot:"headers",$$slots:{default:[zt]},$$scope:{ctx:o}}}),{c(){H(t.$$.fragment)},l(e){q(t.$$.fragment,e)},m(e,l){A(t,e,l),r=!0},p(e,l){const s={};l&65536&&(s.$$scope={dirty:l,ctx:e}),t.$set(s)},i(e){r||(g(t.$$.fragment,e),r=!0)},o(e){k(t.$$.fragment,e),r=!1},d(e){P(t,e)}}}function Gt(o){let t,r=j("workers.assignment-rules")+"",e,l,s,a,n,f=j("workers.redirect-rules")+"",i,_,u,m;return s=new oe({props:{class:"mb-6 w-full table-fixed",$$slots:{headers:[Kt],default:[jt]},$$scope:{ctx:o}}}),u=new oe({props:{class:"mb-6 w-full table-fixed",$$slots:{headers:[Ut],default:[Yt]},$$scope:{ctx:o}}}),{c(){t=v("h2"),e=V(r),l=N(),H(s.$$.fragment),a=N(),n=v("h2"),i=V(f),_=N(),H(u.$$.fragment),this.h()},l($){t=T($,"H2",{"data-testid":!0});var d=y(t);e=S(d,r),d.forEach(c),l=Q($),q(s.$$.fragment,$),a=Q($),n=T($,"H2",{"data-testid":!0});var p=y(n);i=S(p,f),p.forEach(c),_=Q($),q(u.$$.fragment,$),this.h()},h(){b(t,"data-testid","worker-rules"),b(n,"data-testid","worker-rules")},m($,d){h($,t,d),R(t,e),h($,l,d),A(s,$,d),h($,a,d),h($,n,d),R(n,i),h($,_,d),A(u,$,d),m=!0},p($,[d]){const p={};d&65559&&(p.$$scope={dirty:d,ctx:$}),s.$set(p);const w={};d&65560&&(w.$$scope={dirty:d,ctx:$}),u.$set(w)},i($){m||(g(s.$$.fragment,$),g(u.$$.fragment,$),m=!0)},o($){k(s.$$.fragment,$),k(u.$$.fragment,$),m=!1},d($){$&&(c(t),c(l),c(a),c(n),c(_)),P(s,$),P(u,$)}}}function Jt(o,t,r){let e,l,s,a,n,f,i,_;ee(o,at,p=>r(4,_=p));let{rules:u}=t,m=!1;const $=p=>{var w,F,M;return!((w=p.rule)===null||w===void 0)&&w.percentageRamp?!((M=(F=p.rule)===null||F===void 0?void 0:F.percentageRamp)===null||M===void 0)&&M.rampPercentage?p.rule.percentageRamp.rampPercentage:0:100},d=()=>r(0,m=!m);return o.$$set=p=>{"rules"in p&&r(6,u=p.rules)},o.$$.update=()=>{o.$$.dirty&64&&r(9,{assignmentRules:e=[],compatibleRedirectRules:l=[]}=u,e,(r(3,l),r(6,u))),o.$$.dirty&512&&r(10,s=e.find(p=>$(p)===100)),o.$$.dirty&1536&&r(8,a=e.indexOf(s)),o.$$.dirty&768&&r(7,n=e.filter((p,w)=>w<=a)),o.$$.dirty&768&&r(1,f=e.filter((p,w)=>w>a)),o.$$.dirty&131&&r(2,i=m?[...n,...f]:n)},[m,f,i,l,_,$,u,n,a,e,s,d]}class Xt extends se{constructor(t){super(),ae(this,t,Jt,Gt,re,{rules:6})}}function Ye(o,t,r){const e=o.slice();return e[8]=t[r],e}function ze(o,t,r){const e=o.slice();return e[5]=t[r],e}function Ue(o,t,r){const e=o.slice();return e[5]=t[r],e[7]=r,e}const Zt=o=>({}),Ge=o=>({});function Je(o){let t,r,e;return r=new wt({props:{class:"h-4 w-full"}}),{c(){t=v("td"),H(r.$$.fragment),this.h()},l(l){t=T(l,"TD",{style:!0});var s=y(t);q(r.$$.fragment,s),s.forEach(c),this.h()},h(){me(t,"padding-right","0.5rem")},m(l,s){h(l,t,s),A(r,t,null),e=!0},p:C,i(l){e||(g(r.$$.fragment,l),e=!0)},o(l){k(r.$$.fragment,l),e=!1},d(l){l&&c(t),P(r)}}}function xt(o){let t,r,e=K(Array.from(new Array(o[1]))),l=[];for(let a=0;a<e.length;a+=1)l[a]=Je(ze(o,e,a));const s=a=>k(l[a],1,1,()=>{l[a]=null});return{c(){for(let a=0;a<l.length;a+=1)l[a].c();t=N()},l(a){for(let n=0;n<l.length;n+=1)l[n].l(a);t=Q(a)},m(a,n){for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(a,n);h(a,t,n),r=!0},p(a,n){if(n&2){e=K(Array.from(new Array(a[1])));let f;for(f=0;f<e.length;f+=1){const i=ze(a,e,f);l[f]?(l[f].p(i,n),g(l[f],1)):(l[f]=Je(),l[f].c(),g(l[f],1),l[f].m(t.parentNode,t))}for(L(),f=e.length;f<l.length;f+=1)s(f);Y()}},i(a){if(!r){for(let n=0;n<e.length;n+=1)g(l[n]);r=!0}},o(a){l=l.filter(Boolean);for(let n=0;n<l.length;n+=1)k(l[n]);r=!1},d(a){a&&c(t),fe(l,a)}}}function Xe(o){let t,r;return t=new ne({props:{$$slots:{default:[xt]},$$scope:{ctx:o}}}),{c(){H(t.$$.fragment)},l(e){q(t.$$.fragment,e)},m(e,l){A(t,e,l),r=!0},p(e,l){const s={};l&18&&(s.$$scope={dirty:l,ctx:e}),t.$set(s)},i(e){r||(g(t.$$.fragment,e),r=!0)},o(e){k(t.$$.fragment,e),r=!1},d(e){P(t,e)}}}function el(o){let t,r,e=K(Array.from(Array(o[0]).keys())),l=[];for(let a=0;a<e.length;a+=1)l[a]=Xe(Ye(o,e,a));const s=a=>k(l[a],1,1,()=>{l[a]=null});return{c(){for(let a=0;a<l.length;a+=1)l[a].c();t=W()},l(a){for(let n=0;n<l.length;n+=1)l[n].l(a);t=W()},m(a,n){for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(a,n);h(a,t,n),r=!0},p(a,n){if(n&3){e=K(Array.from(Array(a[0]).keys()));let f;for(f=0;f<e.length;f+=1){const i=Ye(a,e,f);l[f]?(l[f].p(i,n),g(l[f],1)):(l[f]=Xe(i),l[f].c(),g(l[f],1),l[f].m(t.parentNode,t))}for(L(),f=e.length;f<l.length;f+=1)s(f);Y()}},i(a){if(!r){for(let n=0;n<e.length;n+=1)g(l[n]);r=!0}},o(a){l=l.filter(Boolean);for(let n=0;n<l.length;n+=1)k(l[n]);r=!1},d(a){a&&c(t),fe(l,a)}}}function Ze(o){let t;return{c(){t=v("th"),this.h()},l(r){t=T(r,"TH",{style:!0}),y(t).forEach(c),this.h()},h(){me(t,"width",o[2][o[7]]+"%")},m(r,e){h(r,t,e)},p(r,e){e&4&&me(t,"width",r[2][r[7]]+"%")},d(r){r&&c(t)}}}function tl(o){let t,r=K(Array.from(new Array(o[1]))),e=[];for(let l=0;l<r.length;l+=1)e[l]=Ze(Ue(o,r,l));return{c(){for(let l=0;l<e.length;l+=1)e[l].c();t=W()},l(l){for(let s=0;s<e.length;s+=1)e[s].l(l);t=W()},m(l,s){for(let a=0;a<e.length;a+=1)e[a]&&e[a].m(l,s);h(l,t,s)},p(l,s){if(s&6){r=K(Array.from(new Array(l[1])));let a;for(a=0;a<r.length;a+=1){const n=Ue(l,r,a);e[a]?e[a].p(n,s):(e[a]=Ze(n),e[a].c(),e[a].m(t.parentNode,t))}for(;a<e.length;a+=1)e[a].d(1);e.length=r.length}},d(l){l&&c(t),fe(e,l)}}}function ll(o){let t;const r=o[3].headers,e=tt(r,o,o[4],Ge),l=e||tl(o);return{c(){l&&l.c()},l(s){l&&l.l(s)},m(s,a){l&&l.m(s,a),t=!0},p(s,a){e?e.p&&(!t||a&16)&&lt(e,r,s,s[4],t?st(r,s[4],a,Zt):rt(s[4]),Ge):l&&l.p&&(!t||a&6)&&l.p(s,t?a:-1)},i(s){t||(g(l,s),t=!0)},o(s){k(l,s),t=!1},d(s){l&&l.d(s)}}}function rl(o){let t,r;return t=new ie({props:{slot:"headers",class:"h-8",$$slots:{default:[ll]},$$scope:{ctx:o}}}),{c(){H(t.$$.fragment)},l(e){q(t.$$.fragment,e)},m(e,l){A(t,e,l),r=!0},p(e,l){const s={};l&22&&(s.$$scope={dirty:l,ctx:e}),t.$set(s)},i(e){r||(g(t.$$.fragment,e),r=!0)},o(e){k(t.$$.fragment,e),r=!1},d(e){P(t,e)}}}function sl(o){let t,r;return t=new oe({props:{class:"w-full table-fixed",variant:"fancy",$$slots:{headers:[rl],default:[el]},$$scope:{ctx:o}}}),{c(){H(t.$$.fragment)},l(e){q(t.$$.fragment,e)},m(e,l){A(t,e,l),r=!0},p(e,[l]){const s={};l&23&&(s.$$scope={dirty:l,ctx:e}),t.$set(s)},i(e){r||(g(t.$$.fragment,e),r=!0)},o(e){k(t.$$.fragment,e),r=!1},d(e){P(t,e)}}}function al(o,t,r){let{$$slots:e={},$$scope:l}=t,{rows:s=10}=t,{columns:a=4}=t,{columnWidths:n=new Array(a).fill(100/a)}=t;return o.$$set=f=>{"rows"in f&&r(0,s=f.rows),"columns"in f&&r(1,a=f.columns),"columnWidths"in f&&r(2,n=f.columnWidths),"$$scope"in f&&r(4,l=f.$$scope)},[s,a,n,e,l]}class nt extends se{constructor(t){super(),ae(this,t,al,sl,re,{rows:0,columns:1,columnWidths:2})}}function xe(o){o[9]=o[12].rules,o[10]=o[12].compatibility,o[11]=o[12].versionSets}const nl=o=>({compatibility:o&33}),et=o=>({compatibility:o[10]});function ol(o){return{c:C,l:C,m:C,p:C,i:C,o:C,d:C}}function il(o){xe(o);let t,r,e,l,s;const a=[cl,ul,fl],n=[];function f(i,_){var u;return _&37&&(t=null),t==null&&(t=!!i[2](i[9])),t?0:i[4]&&((u=i[11])!=null&&u.length)?1:2}return r=f(o,-1),e=n[r]=a[r](o),{c(){e.c(),l=W()},l(i){e.l(i),l=W()},m(i,_){n[r].m(i,_),h(i,l,_),s=!0},p(i,_){xe(i);let u=r;r=f(i,_),r===u?n[r].p(i,_):(L(),k(n[u],1,1,()=>{n[u]=null}),Y(),e=n[r],e?e.p(i,_):(e=n[r]=a[r](i),e.c()),g(e,1),e.m(l.parentNode,l))},i(i){s||(g(e),s=!0)},o(i){k(e),s=!1},d(i){i&&c(l),n[r].d(i)}}}function fl(o){let t,r="No versioning configured for task queue.";return{c(){t=v("p"),t.textContent=r},l(e){t=T(e,"P",{"data-svelte-h":!0}),x(t)!=="svelte-1l2qp7c"&&(t.textContent=r)},m(e,l){h(e,t,l)},p:C,i:C,o:C,d(e){e&&c(t)}}}function ul(o){let t,r,e,l={ctx:o,current:null,token:null,hasCatch:!1,pending:$l,then:ml,catch:_l,value:13,blocks:[,,,]};return te(r=Ee({namespace:o[5],buildIds:o[3],queue:o[0]}),l),{c(){t=W(),l.block.c()},l(s){t=W(),l.block.l(s)},m(s,a){h(s,t,a),l.block.m(s,l.anchor=a),l.mount=()=>t.parentNode,l.anchor=t,e=!0},p(s,a){o=s,l.ctx=o,a&41&&r!==(r=Ee({namespace:o[5],buildIds:o[3],queue:o[0]}))&&te(r,l)||he(l,o,a)},i(s){e||(g(l.block),e=!0)},o(s){for(let a=0;a<3;a+=1){const n=l.blocks[a];k(n)}e=!1},d(s){s&&c(t),l.block.d(s),l.token=null,l=null}}}function cl(o){let t,r;return t=new Xt({props:{rules:o[9]}}),{c(){H(t.$$.fragment)},l(e){q(t.$$.fragment,e)},m(e,l){A(t,e,l),r=!0},p(e,l){const s={};l&33&&(s.rules=e[9]),t.$set(s)},i(e){r||(g(t.$$.fragment,e),r=!0)},o(e){k(t.$$.fragment,e),r=!1},d(e){P(t,e)}}}function _l(o){return{c:C,l:C,m:C,p:C,i:C,o:C,d:C}}function ml(o){let t,r,e;const l=o[8].default,s=tt(l,o,o[7],et);return r=new Wt({props:{taskQueue:o[0],workers:o[1],compatibility:o[10],reachability:o[13]}}),{c(){s&&s.c(),t=N(),H(r.$$.fragment)},l(a){s&&s.l(a),t=Q(a),q(r.$$.fragment,a)},m(a,n){s&&s.m(a,n),h(a,t,n),A(r,a,n),e=!0},p(a,n){s&&s.p&&(!e||n&161)&&lt(s,l,a,a[7],e?st(l,a[7],n,nl):rt(a[7]),et);const f={};n&1&&(f.taskQueue=a[0]),n&2&&(f.workers=a[1]),n&33&&(f.compatibility=a[10]),n&41&&(f.reachability=a[13]),r.$set(f)},i(a){e||(g(s,a),g(r.$$.fragment,a),e=!0)},o(a){k(s,a),k(r.$$.fragment,a),e=!1},d(a){a&&c(t),s&&s.d(a),P(r,a)}}}function $l(o){let t,r;return t=new nt({props:{rows:3}}),{c(){H(t.$$.fragment)},l(e){q(t.$$.fragment,e)},m(e,l){A(t,e,l),r=!0},p:C,i(e){r||(g(t.$$.fragment,e),r=!0)},o(e){k(t.$$.fragment,e),r=!1},d(e){P(t,e)}}}function hl(o){let t,r;return t=new nt({props:{rows:3}}),{c(){H(t.$$.fragment)},l(e){q(t.$$.fragment,e)},m(e,l){A(t,e,l),r=!0},p:C,i(e){r||(g(t.$$.fragment,e),r=!0)},o(e){k(t.$$.fragment,e),r=!1},d(e){P(t,e)}}}function dl(o){let t,r,e,l={ctx:o,current:null,token:null,hasCatch:!1,pending:hl,then:il,catch:ol,value:12,blocks:[,,,]};return te(r=Te({namespace:o[5],queue:o[0]}),l),{c(){t=W(),l.block.c()},l(s){t=W(),l.block.l(s)},m(s,a){h(s,t,a),l.block.m(s,l.anchor=a),l.mount=()=>t.parentNode,l.anchor=t,e=!0},p(s,[a]){o=s,l.ctx=o,a&33&&r!==(r=Te({namespace:o[5],queue:o[0]}))&&te(r,l)||he(l,o,a)},i(s){e||(g(l.block),e=!0)},o(s){for(let a=0;a<3;a+=1){const n=l.blocks[a];k(n)}e=!1},d(s){s&&c(t),l.block.d(s),l.token=null,l=null}}}function pl(o,t,r){let e,l,s,a,n;ee(o,$e,m=>r(6,n=m));let{$$slots:f={},$$scope:i}=t,{taskQueue:_}=t,{workers:u}=t;return o.$$set=m=>{"taskQueue"in m&&r(0,_=m.taskQueue),"workers"in m&&r(1,u=m.workers),"$$scope"in m&&r(7,i=m.$$scope)},o.$$.update=()=>{o.$$.dirty&64&&r(5,{namespace:e}=n.params,e),o.$$.dirty&2&&r(4,l=dt(u.pollers)),o.$$.dirty&2&&r(3,s=pt(u.pollers))},r(2,a=m=>(m==null?void 0:m.assignmentRules)||(m==null?void 0:m.compatibleRedirectRules)),[_,u,a,s,l,e,n,i,f]}class gl extends se{constructor(t){super(),ae(this,t,pl,dl,re,{taskQueue:0,workers:1})}}function bl(o){return{c:C,l:C,m:C,p:C,i:C,o:C,d:C}}function kl(o){let t,r,e,l,s,a,n,f,i;s=new ut({props:{$$slots:{default:[vl]},$$scope:{ctx:o}}});const _=[El,Tl],u=[];function m($,d){return $[2]==="versioning"?0:1}return n=m(o),f=u[n]=_[n](o),{c(){t=v("section"),r=v("h2"),e=V(o[1]),l=N(),H(s.$$.fragment),a=N(),f.c(),this.h()},l($){t=T($,"SECTION",{class:!0});var d=y(t);r=T(d,"H2",{"data-testid":!0});var p=y(r);e=S(p,o[1]),p.forEach(c),l=Q(d),q(s.$$.fragment,d),a=Q(d),f.l(d),d.forEach(c),this.h()},h(){b(r,"data-testid","task-queue-name"),b(t,"class","flex flex-col gap-4")},m($,d){h($,t,d),R(t,r),R(r,e),R(t,l),A(s,t,null),R(t,a),u[n].m(t,null),i=!0},p($,d){(!i||d&2)&&z(e,$[1]);const p={};d&260&&(p.$$scope={dirty:d,ctx:$}),s.$set(p);let w=n;n=m($),n===w?u[n].p($,d):(L(),k(u[w],1,1,()=>{u[w]=null}),Y(),f=u[n],f?f.p($,d):(f=u[n]=_[n]($),f.c()),g(f,1),f.m(t,null))},i($){i||(g(s.$$.fragment,$),g(f),i=!0)},o($){k(s.$$.fragment,$),k(f),i=!1},d($){$&&c(t),P(s),u[n].d()}}}function wl(o){let t,r,e,l;return t=new ke({props:{label:j("workers.workers"),id:"worker-tab",onClick:o[5],active:o[2]==="workers"}}),e=new ke({props:{label:j("workers.versioning"),id:"versioning-tab",onClick:o[6],active:o[2]==="versioning"}}),{c(){H(t.$$.fragment),r=N(),H(e.$$.fragment)},l(s){q(t.$$.fragment,s),r=Q(s),q(e.$$.fragment,s)},m(s,a){A(t,s,a),h(s,r,a),A(e,s,a),l=!0},p(s,a){const n={};a&4&&(n.active=s[2]==="workers"),t.$set(n);const f={};a&4&&(f.active=s[2]==="versioning"),e.$set(f)},i(s){l||(g(t.$$.fragment,s),g(e.$$.fragment,s),l=!0)},o(s){k(t.$$.fragment,s),k(e.$$.fragment,s),l=!1},d(s){s&&c(r),P(t,s),P(e,s)}}}function vl(o){let t,r;return t=new ct({props:{class:"flex flex-wrap gap-6 p-4 pl-0",label:"task queue detail",$$slots:{default:[wl]},$$scope:{ctx:o}}}),{c(){H(t.$$.fragment)},l(e){q(t.$$.fragment,e)},m(e,l){A(t,e,l),r=!0},p(e,l){const s={};l&260&&(s.$$scope={dirty:l,ctx:e}),t.$set(s)},i(e){r||(g(t.$$.fragment,e),r=!0)},o(e){k(t.$$.fragment,e),r=!1},d(e){P(t,e)}}}function Tl(o){let t,r;return t=new ft({props:{workers:o[7]}}),{c(){H(t.$$.fragment)},l(e){q(t.$$.fragment,e)},m(e,l){A(t,e,l),r=!0},p(e,l){const s={};l&3&&(s.workers=e[7]),t.$set(s)},i(e){r||(g(t.$$.fragment,e),r=!0)},o(e){k(t.$$.fragment,e),r=!1},d(e){P(t,e)}}}function El(o){let t,r;return t=new gl({props:{taskQueue:o[1],workers:o[7]}}),{c(){H(t.$$.fragment)},l(e){q(t.$$.fragment,e)},m(e,l){A(t,e,l),r=!0},p(e,l){const s={};l&2&&(s.taskQueue=e[1]),l&3&&(s.workers=e[7]),t.$set(s)},i(e){r||(g(t.$$.fragment,e),r=!0)},o(e){k(t.$$.fragment,e),r=!1},d(e){P(t,e)}}}function yl(o){return{c:C,l:C,m:C,p:C,i:C,o:C,d:C}}function Il(o){let t,r,e,l={ctx:o,current:null,token:null,hasCatch:!1,pending:yl,then:kl,catch:bl,value:7,blocks:[,,,]};return te(r=ye({queue:o[1],namespace:o[0]}),l),{c(){t=W(),l.block.c()},l(s){t=W(),l.block.l(s)},m(s,a){h(s,t,a),l.block.m(s,l.anchor=a),l.mount=()=>t.parentNode,l.anchor=t,e=!0},p(s,[a]){o=s,l.ctx=o,a&3&&r!==(r=ye({queue:o[1],namespace:o[0]}))&&te(r,l)||he(l,o,a)},i(s){e||(g(l.block),e=!0)},o(s){for(let a=0;a<3;a+=1){const n=l.blocks[a];k(n)}e=!1},d(s){s&&c(t),l.block.d(s),l.token=null,l=null}}}function Cl(o,t,r){let e,l,s,a;ee(o,Ie,_=>r(2,s=_)),ee(o,$e,_=>r(4,a=_));const n=_=>{ot(Ie,s=_,s)},f=()=>n("workers"),i=()=>n("versioning");return o.$$.update=()=>{o.$$.dirty&16&&r(1,{queue:e,namespace:l}=a.params,e,(r(0,l),r(4,a)))},[l,e,s,n,a,f,i]}class Dl extends se{constructor(t){super(),ae(this,t,Cl,Il,re,{})}}function Rl(o){let t,r,e,l;return t=new it({props:{title:`Task Queue | ${o[1]}`,url:o[0].url.href}}),e=new Dl({}),{c(){H(t.$$.fragment),r=N(),H(e.$$.fragment)},l(s){q(t.$$.fragment,s),r=Q(s),q(e.$$.fragment,s)},m(s,a){A(t,s,a),h(s,r,a),A(e,s,a),l=!0},p(s,[a]){const n={};a&1&&(n.url=s[0].url.href),t.$set(n)},i(s){l||(g(t.$$.fragment,s),g(e.$$.fragment,s),l=!0)},o(s){k(t.$$.fragment,s),k(e.$$.fragment,s),l=!1},d(s){s&&c(r),P(t,s),P(e,s)}}}function Nl(o,t,r){let e;ee(o,$e,s=>r(0,e=s));const l=e.params.queue;return[e,l]}class Zl extends se{constructor(t){super(),ae(this,t,Nl,Rl,re,{})}}export{Zl as component};
