import{s as ve,h as z,b as H,t as ee,j as J,k as Y,f as h,d as y,l as te,m as Q,i as W,n as B,q as ce,c as ne,v as de,D as Dt,z as Ct,A as Xn,H as Qe,x as le,w as we,O as re,a4 as oe,P as et,y as Je,a3 as Zn,M as Pn,V as xn,W as Rn,a as Vn,u as An,g as Mn,e as Nn}from"../chunks/scheduler.YDRWenqQ.js";import{S as Te,i as De,c as E,a as T,m as D,t as c,b as m,d as C,g as G,e as K,h as fe,f as Fn}from"../chunks/index.BSjRBCtK.js";import{p as Ve}from"../chunks/stores.Bv32QJxc.js";import{v as el}from"../chunks/data-encoder-settings.BpxJBZ6Q.js";import{L as Me}from"../chunks/link.VlvV_Hc1.js";import{t as S}from"../chunks/translate.BBe5dcco.js";import{c as qn,n as tl,P as nl,o as ll,u as rl,p as Wt}from"../chunks/workflows.BzPNPW5p.js";import{e as ze,n as St,w as Ae,o as Pt,x as Rt,y as Vt,b as Se,z as Ue,A as He,c as ye,B as je,C as Oe}from"../chunks/route-for.CrQ4PSKp.js";import{B as ol}from"../chunks/button.GIUrNQPR.js";import{L as fl}from"../chunks/loading.DWU_xT4c.js";import{a as Bn}from"../chunks/index.BfOveuUZ.js";import{f as Ie,r as sl,t as il}from"../chunks/time-format.bTrSAkS-.js";import{o as al}from"../chunks/format-time.D8nHWdIk.js";import{C as Un}from"../chunks/index.CQFhq1or.js";import{I as Ne}from"../chunks/icon.yxhl5ZRc.js";import{T as Ye}from"../chunks/tooltip.HHsjaJE0.js";import{A as Hn}from"../chunks/accordion-light.iBC4MsI0.js";import{B as rt}from"../chunks/button.Pj9kfi_4.js";import{M as ot}from"../chunks/markdown.Hwx8_JZO.js";import{a as yn}from"../chunks/query-service.BCxZI_S-.js";import{a as jn}from"../chunks/auth-user.DClhzQ54.js";import{w as Ee,r as Fe,i as ul}from"../chunks/workflow-run.ClFANHbL.js";import{e as Pe}from"../chunks/each.CXxL8H8R.js";import{w as Ge,g as At}from"../chunks/entry.xDqSk-n6.js";import{w as cl,a as ml,b as pl,C as dl,T as _l}from"../chunks/workflow-terminate-enabled.BS3-83xH.js";import{C as tt}from"../chunks/checkbox.CU3RNEB3.js";import{I as Ke}from"../chunks/input.Ccm3TVRq.js";import{M as ft}from"../chunks/modal.VxycJYas.js";import{S as st,O as qe}from"../chunks/option.B6z7vran.js";import{i as On}from"../chunks/advanced-visibility.Dv0h47YF.js";import{r as Ln,f as Le,b as Mt,p as gl,c as Nt,t as Ft}from"../chunks/events.oqzrrFNk.js";import{p as $l}from"../chunks/persist-store.DSl9V3Kn.js";import{t as wl}from"../chunks/versions.CpRlxl0o.js";import{i as it}from"../chunks/is-network-error.C2uLOQyq.js";import{m as hl}from"../chunks/version-check.8b9VeVr0.js";import{t as Qn}from"../chunks/toaster.CFNESijy.js";import{P as kl}from"../chunks/payload-decoder.CnMtpql0.js";import"../chunks/card.D8bAKIYY.js";import"../chunks/radio-input.viB8HQeE.js";import{P as bl}from"../chunks/payload-input.DjDx7K7S.js";import{A as Be}from"../chunks/alert.CqCoLBxw.js";import{C as zn}from"../chunks/code-block.Cx4h1FWN.js";import{v as qt}from"../chunks/v4.BOvFkHkt.js";import{d as at}from"../chunks/menu.B87Z4pvK.js";import{M as Jn}from"../chunks/menu-divider.B8DaMyGe.js";import{S as Yn}from"../chunks/split-button.BHH-zr09.js";import{c as vl}from"../chunks/core-user.F3mVQRZX.js";import{w as nt}from"../chunks/workflow-create-disabled.Tkk40mqt.js";import{W as Il}from"../chunks/workflow-status.DndGSq8s.js";import{B as Xe}from"../chunks/badge.5rRciWky.js";import{T as El,a as Tl,b as Re}from"../chunks/tab.TbAFPAIS.js";import{n as Dl}from"../chunks/namespaces.Ds8f9KiY.js";import{g as Cl}from"../chunks/get-workflow-relationships.M4kw2oYe.js";import{h as Wl}from"../chunks/has.HNIa2swf.js";import{t as Sl,f as Pl}from"../chunks/events-service.Db2twBom.js";import{g as Rl}from"../chunks/pollers-service.DUBbEGTL.js";import{r as Vl}from"../chunks/data-encoder-config.BV95xX3H.js";import{c as Al}from"../chunks/dark-mode.DywTKmUK.js";import{a as Bt}from"../chunks/decode-payload.DifkMjs0.js";import{s as lt}from"../chunks/parse-with-big-int.DJQKqIvA.js";function Ml(r){let t=S("workflows.back-to-workflows")+"",n;return{c(){n=ee(t)},l(e){n=te(e,t)},m(e,l){W(e,n,l)},p:de,d(e){e&&h(n)}}}function Nl(r){var g,v;let t,n,e,l,o,f,i=(((g=r[0])==null?void 0:g.statusCode)??"500")+"",s,a,u,d,I,$,k=(((v=r[0])==null?void 0:v.statusText)??"")+"",p,w;return e=new Me({props:{href:`${ze({namespace:r[2]})}?${r[3]}`,"data-testid":"back-to-workflows",icon:"chevron-left",$$slots:{default:[Ml]},$$scope:{ctx:r}}}),{c(){t=z("header"),n=z("div"),E(e.$$.fragment),l=H(),o=z("div"),f=z("h1"),s=ee(i),a=H(),u=z("p"),d=ee(r[1]),I=H(),$=z("p"),p=ee(k),this.h()},l(_){t=J(_,"HEADER",{class:!0});var b=Y(t);n=J(b,"DIV",{class:!0});var P=Y(n);T(e.$$.fragment,P),P.forEach(h),b.forEach(h),l=y(_),o=J(_,"DIV",{class:!0});var A=Y(o);f=J(A,"H1",{class:!0});var F=Y(f);s=te(F,i),F.forEach(h),a=y(A),u=J(A,"P",{class:!0});var V=Y(u);d=te(V,r[1]),V.forEach(h),I=y(A),$=J(A,"P",{class:!0});var q=Y($);p=te(q,k),q.forEach(h),A.forEach(h),this.h()},h(){Q(n,"class","mb-4 block"),Q(t,"class","mb-4 flex flex-col gap-1"),Q(f,"class","leading-0 text-[12rem] font-semibold"),Q(u,"class","-mt-12 text-lg"),Q($,"class","text-2xl font-bold text-red-700"),Q(o,"class","text-center align-middle")},m(_,b){W(_,t,b),B(t,n),D(e,n,null),W(_,l,b),W(_,o,b),B(o,f),B(f,s),B(o,a),B(o,u),B(u,d),B(o,I),B(o,$),B($,p),w=!0},p(_,[b]){var A,F;const P={};b&12&&(P.href=`${ze({namespace:_[2]})}?${_[3]}`),b&32&&(P.$$scope={dirty:b,ctx:_}),e.$set(P),(!w||b&1)&&i!==(i=(((A=_[0])==null?void 0:A.statusCode)??"500")+"")&&ce(s,i),(!w||b&2)&&ce(d,_[1]),(!w||b&1)&&k!==(k=(((F=_[0])==null?void 0:F.statusText)??"")+"")&&ce(p,k)},i(_){w||(c(e.$$.fragment,_),w=!0)},o(_){m(e.$$.fragment,_),w=!1},d(_){_&&(h(t),h(l),h(o)),C(e)}}}function Fl(r,t,n){let e,l,o,f;ne(r,Ve,s=>n(4,o=s)),ne(r,qn,s=>n(3,f=s));let{error:i}=t;return r.$$set=s=>{"error"in s&&n(0,i=s.error)},r.$$.update=()=>{r.$$.dirty&16&&n(2,{namespace:e}=o.params,e),r.$$.dirty&1&&n(1,l=i.statusCode===404?S("workflows.workflow-404-title"):S("workflows.workflow-error-title"))},[i,l,e,f,o]}class ql extends Te{constructor(t){super(),De(this,t,Fl,Nl,ve,{error:0})}}function Ut(r){let t,n;return{c(){t=z("span"),n=ee(r[0]),this.h()},l(e){t=J(e,"SPAN",{class:!0});var l=Y(t);n=te(l,r[0]),l.forEach(h),this.h()},h(){Q(t,"class","font-mono")},m(e,l){W(e,t,l),B(t,n)},p(e,l){l&1&&ce(n,e[0])},d(e){e&&h(t)}}}function Ht(r){let t,n;return t=new Ne({props:{name:r[5]}}),{c(){E(t.$$.fragment)},l(e){T(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l&32&&(o.name=e[5]),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){m(t.$$.fragment,e),n=!1},d(e){C(t,e)}}}function Bl(r){let t,n;return t=new Ye({props:{text:r[6],hide:!r[6],top:!0,$$slots:{default:[yl]},$$scope:{ctx:r}}}),{c(){E(t.$$.fragment)},l(e){T(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l&64&&(o.text=e[6]),l&64&&(o.hide=!e[6]),l&642&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){m(t.$$.fragment,e),n=!1},d(e){C(t,e)}}}function Ul(r){let t,n;return t=new Me({props:{href:r[4],class:"value truncate rounded-sm p-1 leading-4 "+(r[7]&&"surface-subtle"),$$slots:{default:[jl]},$$scope:{ctx:r}}}),{c(){E(t.$$.fragment)},l(e){T(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l&16&&(o.href=e[4]),l&128&&(o.class="value truncate rounded-sm p-1 leading-4 "+(e[7]&&"surface-subtle")),l&514&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){m(t.$$.fragment,e),n=!1},d(e){C(t,e)}}}function Hl(r){let t,n;return t=new Un({props:{copyIconTitle:S("common.copy-icon-title"),copySuccessIconTitle:S("common.copy-success-icon-title"),content:r[1],visible:!0,"container-class":"gap-1 w-full justify-end",$$slots:{default:[Jl]},$$scope:{ctx:r}}}),{c(){E(t.$$.fragment)},l(e){T(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l&2&&(o.content=e[1]),l&730&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){m(t.$$.fragment,e),n=!1},d(e){C(t,e)}}}function yl(r){let t,n;return{c(){t=z("span"),n=ee(r[1]),this.h()},l(e){t=J(e,"SPAN",{class:!0});var l=Y(t);n=te(l,r[1]),l.forEach(h),this.h()},h(){Q(t,"class","w-fit select-all truncate rounded-sm p-1 leading-4"),Qe(t,"surface-subtle",r[7])},m(e,l){W(e,t,l),B(t,n)},p(e,l){l&2&&ce(n,e[1]),l&128&&Qe(t,"surface-subtle",e[7])},d(e){e&&h(t)}}}function jl(r){let t;return{c(){t=ee(r[1])},l(n){t=te(n,r[1])},m(n,e){W(n,t,e)},p(n,e){e&2&&ce(t,n[1])},d(n){n&&h(t)}}}function Ol(r){let t,n;return t=new Ye({props:{text:r[6],hide:!r[6],top:!0,$$slots:{default:[Ql]},$$scope:{ctx:r}}}),{c(){E(t.$$.fragment)},l(e){T(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l&64&&(o.text=e[6]),l&64&&(o.hide=!e[6]),l&642&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){m(t.$$.fragment,e),n=!1},d(e){C(t,e)}}}function Ll(r){let t,n;return t=new Me({props:{href:r[4],class:"flex w-fit flex-row items-center gap-1 truncate rounded-sm p-1 leading-4 "+(r[7]&&"surface-subtle"),$$slots:{default:[zl]},$$scope:{ctx:r}}}),{c(){E(t.$$.fragment)},l(e){T(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l&16&&(o.href=e[4]),l&128&&(o.class="flex w-fit flex-row items-center gap-1 truncate rounded-sm p-1 leading-4 "+(e[7]&&"surface-subtle")),l&522&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){m(t.$$.fragment,e),n=!1},d(e){C(t,e)}}}function Ql(r){let t,n;return{c(){t=z("span"),n=ee(r[1]),this.h()},l(e){t=J(e,"SPAN",{class:!0});var l=Y(t);n=te(l,r[1]),l.forEach(h),this.h()},h(){Q(t,"class","w-fit select-all truncate rounded-sm p-1 leading-4"),Qe(t,"surface-subtle",r[7])},m(e,l){W(e,t,l),B(t,n)},p(e,l){l&2&&ce(n,e[1]),l&128&&Qe(t,"surface-subtle",e[7])},d(e){e&&h(t)}}}function yt(r){let t,n;return t=new Ne({props:{name:"filter",class:"shrink-0"}}),{c(){E(t.$$.fragment)},l(e){T(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){m(t.$$.fragment,e),n=!1},d(e){C(t,e)}}}function zl(r){let t,n,e,l,o,f=r[3]&&yt();return{c(){t=z("span"),n=ee(r[1]),e=H(),f&&f.c(),l=le(),this.h()},l(i){t=J(i,"SPAN",{class:!0});var s=Y(t);n=te(s,r[1]),s.forEach(h),e=y(i),f&&f.l(i),l=le(),this.h()},h(){Q(t,"class","truncate")},m(i,s){W(i,t,s),B(t,n),W(i,e,s),f&&f.m(i,s),W(i,l,s),o=!0},p(i,s){(!o||s&2)&&ce(n,i[1]),i[3]?f?s&8&&c(f,1):(f=yt(),f.c(),c(f,1),f.m(l.parentNode,l)):f&&(G(),m(f,1,1,()=>{f=null}),K())},i(i){o||(c(f),o=!0)},o(i){m(f),o=!1},d(i){i&&(h(t),h(e),h(l)),f&&f.d(i)}}}function Jl(r){let t,n,e,l;const o=[Ll,Ol],f=[];function i(s,a){return s[4]?0:1}return t=i(r),n=f[t]=o[t](r),{c(){n.c(),e=le()},l(s){n.l(s),e=le()},m(s,a){f[t].m(s,a),W(s,e,a),l=!0},p(s,a){let u=t;t=i(s),t===u?f[t].p(s,a):(G(),m(f[u],1,1,()=>{f[u]=null}),K(),n=f[t],n?n.p(s,a):(n=f[t]=o[t](s),n.c()),c(n,1),n.m(e.parentNode,e))},i(s){l||(c(n),l=!0)},o(s){m(n),l=!1},d(s){s&&h(e),f[t].d(s)}}}function Yl(r){let t,n,e,l,o,f,i,s=r[0]&&Ut(r),a=r[5]&&Ht(r);const u=[Hl,Ul,Bl],d=[];function I($,k){return $[2]?0:$[4]?1:2}return l=I(r),o=d[l]=u[l](r),{c(){t=z("p"),s&&s.c(),n=H(),a&&a.c(),e=H(),o.c(),this.h()},l($){t=J($,"P",{class:!0});var k=Y(t);s&&s.l(k),n=y(k),a&&a.l(k),e=y(k),o.l(k),k.forEach(h),this.h()},h(){Q(t,"class",f="flex h-4 items-center justify-between gap-16 truncate whitespace-nowrap "+r[8].class)},m($,k){W($,t,k),s&&s.m(t,null),B(t,n),a&&a.m(t,null),B(t,e),d[l].m(t,null),i=!0},p($,[k]){$[0]?s?s.p($,k):(s=Ut($),s.c(),s.m(t,n)):s&&(s.d(1),s=null),$[5]?a?(a.p($,k),k&32&&c(a,1)):(a=Ht($),a.c(),c(a,1),a.m(t,e)):a&&(G(),m(a,1,1,()=>{a=null}),K());let p=l;l=I($),l===p?d[l].p($,k):(G(),m(d[p],1,1,()=>{d[p]=null}),K(),o=d[l],o?o.p($,k):(o=d[l]=u[l]($),o.c()),c(o,1),o.m(t,null)),(!i||k&256&&f!==(f="flex h-4 items-center justify-between gap-16 truncate whitespace-nowrap "+$[8].class))&&Q(t,"class",f)},i($){i||(c(a),c(o),i=!0)},o($){m(a),m(o),i=!1},d($){$&&h(t),s&&s.d(),a&&a.d(),d[l].d()}}}function Gl(r,t,n){const e=["title","content","copyable","filterable","href","icon","tooltip","badge"];let l=Dt(t,e),{title:o=""}=t,{content:f}=t,{copyable:i=!1}=t,{filterable:s=!1}=t,{href:a=null}=t,{icon:u=void 0}=t,{tooltip:d=""}=t,{badge:I=!1}=t;return r.$$set=$=>{t=Ct(Ct({},t),Xn($)),n(8,l=Dt(t,e)),"title"in $&&n(0,o=$.title),"content"in $&&n(1,f=$.content),"copyable"in $&&n(2,i=$.copyable),"filterable"in $&&n(3,s=$.filterable),"href"in $&&n(4,a=$.href),"icon"in $&&n(5,u=$.icon),"tooltip"in $&&n(6,d=$.tooltip),"badge"in $&&n(7,I=$.badge)},[o,f,i,s,a,u,d,I,l]}class Ce extends Te{constructor(t){super(),De(this,t,Gl,Yl,ve,{title:0,content:1,copyable:2,filterable:3,href:4,icon:5,tooltip:6,badge:7})}}function jt(r){let t,n,e,l,o;n=new Ce({props:{title:S("deployments.deployment"),content:r[4],href:Pt({namespace:r[6],deployment:r[4]})}});let f=r[3]&&Ot(r),i=r[2]&&Lt(r);return{c(){t=z("div"),E(n.$$.fragment),e=H(),f&&f.c(),l=H(),i&&i.c(),this.h()},l(s){t=J(s,"DIV",{class:!0});var a=Y(t);T(n.$$.fragment,a),e=y(a),f&&f.l(a),l=y(a),i&&i.l(a),a.forEach(h),this.h()},h(){Q(t,"class","flex w-full flex-col gap-2 2xl:w-1/4")},m(s,a){W(s,t,a),D(n,t,null),B(t,e),f&&f.m(t,null),B(t,l),i&&i.m(t,null),o=!0},p(s,a){const u={};a&16&&(u.content=s[4]),a&80&&(u.href=Pt({namespace:s[6],deployment:s[4]})),n.$set(u),s[3]?f?(f.p(s,a),a&8&&c(f,1)):(f=Ot(s),f.c(),c(f,1),f.m(t,l)):f&&(G(),m(f,1,1,()=>{f=null}),K()),s[2]?i?(i.p(s,a),a&4&&c(i,1)):(i=Lt(s),i.c(),c(i,1),i.m(t,null)):i&&(G(),m(i,1,1,()=>{i=null}),K())},i(s){o||(c(n.$$.fragment,s),c(f),c(i),o=!0)},o(s){m(n.$$.fragment,s),m(f),m(i),o=!1},d(s){s&&h(t),C(n),f&&f.d(),i&&i.d()}}}function Ot(r){let t,n;return t=new Ce({props:{title:S("deployments.deployment-version"),content:r[0].searchAttributes.indexedFields.TemporalWorkerDeploymentVersion}}),{c(){E(t.$$.fragment)},l(e){T(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l&1&&(o.content=e[0].searchAttributes.indexedFields.TemporalWorkerDeploymentVersion),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){m(t.$$.fragment,e),n=!1},d(e){C(t,e)}}}function Lt(r){let t,n;return t=new Ce({props:{title:S("deployments.deployment-behavior"),content:r[2]}}),{c(){E(t.$$.fragment)},l(e){T(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l&4&&(o.content=e[2]),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){m(t.$$.fragment,e),n=!1},d(e){C(t,e)}}}function Qt(r){var e,l,o,f,i,s;let t,n;return t=new Ce({props:{title:S("workflows.parent-workflow"),content:(l=(e=r[0])==null?void 0:e.parent)==null?void 0:l.workflowId,href:Rt({namespace:r[6],workflow:(f=(o=r[0])==null?void 0:o.parent)==null?void 0:f.workflowId,run:(s=(i=r[0])==null?void 0:i.parent)==null?void 0:s.runId})}}),{c(){E(t.$$.fragment)},l(a){T(t.$$.fragment,a)},m(a,u){D(t,a,u),n=!0},p(a,u){var I,$,k,p,w,g;const d={};u&1&&(d.content=($=(I=a[0])==null?void 0:I.parent)==null?void 0:$.workflowId),u&65&&(d.href=Rt({namespace:a[6],workflow:(p=(k=a[0])==null?void 0:k.parent)==null?void 0:p.workflowId,run:(g=(w=a[0])==null?void 0:w.parent)==null?void 0:g.runId})),t.$set(d)},i(a){n||(c(t.$$.fragment,a),n=!0)},o(a){m(t.$$.fragment,a),n=!1},d(a){C(t,a)}}}function Kl(r){var ue,ie,_e,j,me,O,M,R,ae,he,U,x,X,se,pe;let t,n,e,l,o,f,i,s,a,u,d,I,$,k,p,w,g,v,_,b,P,A,F,V;e=new Ce({props:{title:S("common.start"),tooltip:r[7]?Ie((ue=r[0])==null?void 0:ue.startTime,r[8],{relative:!1}):Ie((ie=r[0])==null?void 0:ie.startTime,r[8],{relative:!0}),content:Ie((_e=r[0])==null?void 0:_e.startTime,r[8],{relative:r[7]})}}),o=new Ce({props:{title:S("common.end"),tooltip:r[7]?Ie((j=r[0])==null?void 0:j.endTime,r[8],{relative:!1}):Ie((me=r[0])==null?void 0:me.endTime,r[8],{relative:!0}),content:(O=r[0])!=null&&O.endTime?Ie((M=r[0])==null?void 0:M.endTime,r[8],{relative:r[7]}):"-"}}),i=new Ce({props:{content:r[5],icon:"clock"}}),d=new Ce({props:{title:S("common.run-id"),content:(R=r[0])==null?void 0:R.runId,copyable:!0}}),$=new Ce({props:{title:S("common.workflow-type"),content:(ae=r[0])==null?void 0:ae.name,copyable:!0,filterable:!0,href:St({namespace:r[6],query:`WorkflowType="${(he=r[0])==null?void 0:he.name}"`})}}),p=new Ce({props:{title:S("common.task-queue"),content:(U=r[0])==null?void 0:U.taskQueue,href:Ae({namespace:r[1].params.namespace,workflow:(x=r[0])==null?void 0:x.id,run:(X=r[0])==null?void 0:X.runId})}});let q=r[4]&&jt(r),L=((se=r[0])==null?void 0:se.parent)&&Qt(r);return P=new Ce({props:{title:S("common.history-size-bytes"),content:(pe=r[0])==null?void 0:pe.historySizeBytes}}),{c(){t=z("div"),n=z("div"),E(e.$$.fragment),l=H(),E(o.$$.fragment),f=H(),E(i.$$.fragment),a=H(),u=z("div"),E(d.$$.fragment),I=H(),E($.$$.fragment),k=H(),E(p.$$.fragment),g=H(),q&&q.c(),v=H(),_=z("div"),L&&L.c(),b=H(),E(P.$$.fragment),this.h()},l(N){t=J(N,"DIV",{class:!0});var Z=Y(t);n=J(Z,"DIV",{class:!0});var ge=Y(n);T(e.$$.fragment,ge),l=y(ge),T(o.$$.fragment,ge),f=y(ge),T(i.$$.fragment,ge),ge.forEach(h),a=y(Z),u=J(Z,"DIV",{class:!0});var $e=Y(u);T(d.$$.fragment,$e),I=y($e),T($.$$.fragment,$e),k=y($e),T(p.$$.fragment,$e),$e.forEach(h),g=y(Z),q&&q.l(Z),v=y(Z),_=J(Z,"DIV",{class:!0});var be=Y(_);L&&L.l(be),b=y(be),T(P.$$.fragment,be),be.forEach(h),Z.forEach(h),this.h()},h(){Q(n,"class",s="flex w-full flex-col gap-2 "+(r[4]?"2xl:w-1/4":"xl:w-1/3")),Q(u,"class",w="flex w-full flex-col gap-2 "+(r[4]?"2xl:w-1/4":"xl:w-1/3")),Q(_,"class",A="flex w-full flex-col gap-2 "+(r[4]?"2xl:w-1/4":"xl:w-1/3")),Q(t,"class",F="flex w-full flex-col gap-2 "+(r[4]?"2xl:flex-row 2xl:gap-8":"xl:flex-row xl:gap-8"))},m(N,Z){W(N,t,Z),B(t,n),D(e,n,null),B(n,l),D(o,n,null),B(n,f),D(i,n,null),B(t,a),B(t,u),D(d,u,null),B(u,I),D($,u,null),B(u,k),D(p,u,null),B(t,g),q&&q.m(t,null),B(t,v),B(t,_),L&&L.m(_,null),B(_,b),D(P,_,null),V=!0},p(N,[Z]){var ct,mt,pt,dt,_t,gt,$t,wt,ht,kt,bt,vt,It,Et,Tt;const ge={};Z&385&&(ge.tooltip=N[7]?Ie((ct=N[0])==null?void 0:ct.startTime,N[8],{relative:!1}):Ie((mt=N[0])==null?void 0:mt.startTime,N[8],{relative:!0})),Z&385&&(ge.content=Ie((pt=N[0])==null?void 0:pt.startTime,N[8],{relative:N[7]})),e.$set(ge);const $e={};Z&385&&($e.tooltip=N[7]?Ie((dt=N[0])==null?void 0:dt.endTime,N[8],{relative:!1}):Ie((_t=N[0])==null?void 0:_t.endTime,N[8],{relative:!0})),Z&385&&($e.content=(gt=N[0])!=null&&gt.endTime?Ie(($t=N[0])==null?void 0:$t.endTime,N[8],{relative:N[7]}):"-"),o.$set($e);const be={};Z&32&&(be.content=N[5]),i.$set(be),(!V||Z&16&&s!==(s="flex w-full flex-col gap-2 "+(N[4]?"2xl:w-1/4":"xl:w-1/3")))&&Q(n,"class",s);const We={};Z&1&&(We.content=(wt=N[0])==null?void 0:wt.runId),d.$set(We);const Ze={};Z&1&&(Ze.content=(ht=N[0])==null?void 0:ht.name),Z&65&&(Ze.href=St({namespace:N[6],query:`WorkflowType="${(kt=N[0])==null?void 0:kt.name}"`})),$.$set(Ze);const xe={};Z&1&&(xe.content=(bt=N[0])==null?void 0:bt.taskQueue),Z&3&&(xe.href=Ae({namespace:N[1].params.namespace,workflow:(vt=N[0])==null?void 0:vt.id,run:(It=N[0])==null?void 0:It.runId})),p.$set(xe),(!V||Z&16&&w!==(w="flex w-full flex-col gap-2 "+(N[4]?"2xl:w-1/4":"xl:w-1/3")))&&Q(u,"class",w),N[4]?q?(q.p(N,Z),Z&16&&c(q,1)):(q=jt(N),q.c(),c(q,1),q.m(t,v)):q&&(G(),m(q,1,1,()=>{q=null}),K()),(Et=N[0])!=null&&Et.parent?L?(L.p(N,Z),Z&1&&c(L,1)):(L=Qt(N),L.c(),c(L,1),L.m(_,b)):L&&(G(),m(L,1,1,()=>{L=null}),K());const ut={};Z&1&&(ut.content=(Tt=N[0])==null?void 0:Tt.historySizeBytes),P.$set(ut),(!V||Z&16&&A!==(A="flex w-full flex-col gap-2 "+(N[4]?"2xl:w-1/4":"xl:w-1/3")))&&Q(_,"class",A),(!V||Z&16&&F!==(F="flex w-full flex-col gap-2 "+(N[4]?"2xl:flex-row 2xl:gap-8":"xl:flex-row xl:gap-8")))&&Q(t,"class",F)},i(N){V||(c(e.$$.fragment,N),c(o.$$.fragment,N),c(i.$$.fragment,N),c(d.$$.fragment,N),c($.$$.fragment,N),c(p.$$.fragment,N),c(q),c(L),c(P.$$.fragment,N),V=!0)},o(N){m(e.$$.fragment,N),m(o.$$.fragment,N),m(i.$$.fragment,N),m(d.$$.fragment,N),m($.$$.fragment,N),m(p.$$.fragment,N),m(q),m(L),m(P.$$.fragment,N),V=!1},d(N){N&&h(t),C(e),C(o),C(i),C(d),C($),C(p),q&&q.d(),L&&L.d(),C(P)}}}function Xl(r,t,n){let e,l,o,f,i,s,a,u;ne(r,Ve,v=>n(1,s=v)),ne(r,sl,v=>n(7,a=v)),ne(r,il,v=>n(8,u=v));var d,I,$,k,p,w;let{workflow:g}=t;return r.$$set=v=>{"workflow"in v&&n(0,g=v.workflow)},r.$$.update=()=>{r.$$.dirty&2&&n(6,{namespace:e}=s.params,e),r.$$.dirty&1&&n(5,l=al({start:g==null?void 0:g.startTime,end:(g==null?void 0:g.endTime)||Date.now(),includeMilliseconds:!0})),r.$$.dirty&1537&&n(4,o=n(10,I=n(9,d=g==null?void 0:g.searchAttributes)===null||d===void 0?void 0:d.indexedFields)===null||I===void 0?void 0:I.TemporalWorkerDeployment),r.$$.dirty&6145&&n(3,f=n(12,k=n(11,$=g==null?void 0:g.searchAttributes)===null||$===void 0?void 0:$.indexedFields)===null||k===void 0?void 0:k.TemporalWorkerDeploymentVersion),r.$$.dirty&24577&&n(2,i=n(14,w=n(13,p=g==null?void 0:g.searchAttributes)===null||p===void 0?void 0:p.indexedFields)===null||w===void 0?void 0:w.TemporalWorkflowVersioningBehavior)},[g,s,i,f,o,l,e,a,u,d,I,$,k,p,w]}class Zl extends Te{constructor(t){super(),De(this,t,Xl,Kl,ve,{workflow:0})}}function zt(r){let t=r[1],n,e,l=Jt(r);return{c(){l.c(),n=le()},l(o){l.l(o),n=le()},m(o,f){l.m(o,f),W(o,n,f),e=!0},p(o,f){f&2&&ve(t,t=o[1])?(G(),m(l,1,1,de),K(),l=Jt(o),l.c(),c(l,1),l.m(n.parentNode,n)):l.p(o,f)},i(o){e||(c(l),e=!0)},o(o){m(l),e=!1},d(o){o&&h(n),l.d(o)}}}function Jt(r){let t,n;return t=new ot({props:{content:r[1]}}),{c(){E(t.$$.fragment)},l(e){T(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l&2&&(o.content=e[1]),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){m(t.$$.fragment,e),n=!1},d(e){C(t,e)}}}function xl(r){let t,n,e=r[10]&&zt(r);return{c(){e&&e.c(),t=le()},l(l){e&&e.l(l),t=le()},m(l,o){e&&e.m(l,o),W(l,t,o),n=!0},p(l,o){l[10]?e?(e.p(l,o),o&1024&&c(e,1)):(e=zt(l),e.c(),c(e,1),e.m(t.parentNode,t)):e&&(G(),m(e,1,1,()=>{e=null}),K())},i(l){n||(c(e),n=!0)},o(l){m(e),n=!1},d(l){l&&h(t),e&&e.d(l)}}}function Yt(r){let t=S("common.loading")+"",n;return{c(){n=ee(t)},l(e){n=te(e,t)},m(e,l){W(e,n,l)},p:de,d(e){e&&h(n)}}}function er(r){let t,n,e,l=S("workflows.current-details")+"",o,f,i;n=new Ne({props:{name:"flag",class:"text-brand",width:32,height:32}});let s=r[2]&&Yt();return{c(){t=z("div"),E(n.$$.fragment),e=H(),o=ee(l),f=H(),s&&s.c(),this.h()},l(a){t=J(a,"DIV",{slot:!0,class:!0});var u=Y(t);T(n.$$.fragment,u),e=y(u),o=te(u,l),f=y(u),s&&s.l(u),u.forEach(h),this.h()},h(){Q(t,"slot","title"),Q(t,"class","flex w-full items-center gap-2 p-2 text-xl")},m(a,u){W(a,t,u),D(n,t,null),B(t,e),B(t,o),B(t,f),s&&s.m(t,null),i=!0},p(a,u){a[2]?s?s.p(a,u):(s=Yt(),s.c(),s.m(t,null)):s&&(s.d(1),s=null)},i(a){i||(c(n.$$.fragment,a),i=!0)},o(a){m(n.$$.fragment,a),i=!1},d(a){a&&h(t),C(n),s&&s.d()}}}function Gt(r){let t,n;return t=new Ye({props:{text:S("workflows.update-details"),left:!0,$$slots:{default:[nr]},$$scope:{ctx:r}}}),{c(){E(t.$$.fragment)},l(e){T(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l&2052&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){m(t.$$.fragment,e),n=!1},d(e){C(t,e)}}}function tr(r){let t,n;return t=new Ne({props:{name:"retry"}}),{c(){E(t.$$.fragment)},l(e){T(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p:de,i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){m(t.$$.fragment,e),n=!1},d(e){C(t,e)}}}function nr(r){let t,n;return t=new rt({props:{variant:"ghost",disabled:r[2],$$slots:{default:[tr]},$$scope:{ctx:r}}}),t.$on("click",r[4]),{c(){E(t.$$.fragment)},l(e){T(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l&4&&(o.disabled=e[2]),l&2048&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){m(t.$$.fragment,e),n=!1},d(e){C(t,e)}}}function lr(r){let t,n,e=r[0].isRunning&&Gt(r);return{c(){e&&e.c(),t=le()},l(l){e&&e.l(l),t=le()},m(l,o){e&&e.m(l,o),W(l,t,o),n=!0},p(l,o){l[0].isRunning?e?(e.p(l,o),o&1&&c(e,1)):(e=Gt(l),e.c(),c(e,1),e.m(t.parentNode,t)):e&&(G(),m(e,1,1,()=>{e=null}),K())},i(l){n||(c(e),n=!0)},o(l){m(e),n=!1},d(l){l&&h(t),e&&e.d(l)}}}function rr(r){let t,n;return t=new Hn({props:{onToggle:r[3]?r[4]:void 0,icon:r[3]?"retry":void 0,$$slots:{action:[lr],title:[er],default:[xl,({open:e})=>({10:e}),({open:e})=>e?1024:0]},$$scope:{ctx:r}}}),{c(){E(t.$$.fragment)},l(e){T(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,[l]){const o={};l&8&&(o.onToggle=e[3]?e[4]:void 0),l&8&&(o.icon=e[3]?"retry":void 0),l&3079&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){m(t.$$.fragment,e),n=!1},d(e){C(t,e)}}}function or(r,t,n){let e,l,o,f,i,s,a;ne(r,Ee,$=>n(6,i=$)),ne(r,jn,$=>n(9,s=$)),ne(r,Ve,$=>n(7,a=$));var u;let d=!1;const I=async()=>{if(!d){n(2,d=!0);try{const{settings:$}=a.data,k=await yn({namespace:e,workflow:{id:l.id,runId:l.runId}},$,s==null?void 0:s.accessToken);we(Ee,i.metadata=k,i)}catch($){console.error("Error fetching current details:",$)}finally{n(2,d=!1)}}};return r.$$.update=()=>{r.$$.dirty&128&&({namespace:e}=a.params),r.$$.dirty&64&&n(0,{workflow:l}=i,l),r.$$.dirty&96&&n(1,o=(n(5,u=i==null?void 0:i.metadata)===null||u===void 0?void 0:u.currentDetails)||""),r.$$.dirty&3&&n(3,f=!l.isRunning&&!o)},[l,o,d,f,I,u,i,a]}class fr extends Te{constructor(t){super(),De(this,t,or,rr,ve,{})}}function Kt(r){let t,n;return t=new Hn({props:{$$slots:{title:[ir],default:[sr,({open:e})=>({6:e}),({open:e})=>e?64:0]},$$scope:{ctx:r}}}),{c(){E(t.$$.fragment)},l(e){T(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l&195&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){m(t.$$.fragment,e),n=!1},d(e){C(t,e)}}}function Xt(r){let t,n=S("workflows.summary")+"",e,l,o,f;return o=new ot({props:{content:r[1]}}),{c(){t=z("h3"),e=ee(n),l=H(),E(o.$$.fragment)},l(i){t=J(i,"H3",{});var s=Y(t);e=te(s,n),s.forEach(h),l=y(i),T(o.$$.fragment,i)},m(i,s){W(i,t,s),B(t,e),W(i,l,s),D(o,i,s),f=!0},p(i,s){const a={};s&2&&(a.content=i[1]),o.$set(a)},i(i){f||(c(o.$$.fragment,i),f=!0)},o(i){m(o.$$.fragment,i),f=!1},d(i){i&&(h(t),h(l)),C(o,i)}}}function Zt(r){let t,n=S("workflows.details")+"",e,l,o,f;return o=new ot({props:{content:r[0]}}),{c(){t=z("h3"),e=ee(n),l=H(),E(o.$$.fragment)},l(i){t=J(i,"H3",{});var s=Y(t);e=te(s,n),s.forEach(h),l=y(i),T(o.$$.fragment,i)},m(i,s){W(i,t,s),B(t,e),W(i,l,s),D(o,i,s),f=!0},p(i,s){const a={};s&1&&(a.content=i[0]),o.$set(a)},i(i){f||(c(o.$$.fragment,i),f=!0)},o(i){m(o.$$.fragment,i),f=!1},d(i){i&&(h(t),h(l)),C(o,i)}}}function sr(r){let t,n,e,l=r[6]&&r[1]&&Xt(r),o=r[6]&&r[0]&&Zt(r);return{c(){l&&l.c(),t=H(),o&&o.c(),n=le()},l(f){l&&l.l(f),t=y(f),o&&o.l(f),n=le()},m(f,i){l&&l.m(f,i),W(f,t,i),o&&o.m(f,i),W(f,n,i),e=!0},p(f,i){f[6]&&f[1]?l?(l.p(f,i),i&66&&c(l,1)):(l=Xt(f),l.c(),c(l,1),l.m(t.parentNode,t)):l&&(G(),m(l,1,1,()=>{l=null}),K()),f[6]&&f[0]?o?(o.p(f,i),i&65&&c(o,1)):(o=Zt(f),o.c(),c(o,1),o.m(n.parentNode,n)):o&&(G(),m(o,1,1,()=>{o=null}),K())},i(f){e||(c(l),c(o),e=!0)},o(f){m(l),m(o),e=!1},d(f){f&&(h(t),h(n)),l&&l.d(f),o&&o.d(f)}}}function ir(r){let t,n,e=S("workflows.summary-and-details")+"",l,o;return n=new Ne({props:{name:"info",class:"text-brand",width:32,height:32}}),{c(){t=z("div"),E(n.$$.fragment),l=ee(e),this.h()},l(f){t=J(f,"DIV",{slot:!0,class:!0});var i=Y(t);T(n.$$.fragment,i),l=te(i,e),i.forEach(h),this.h()},h(){Q(t,"slot","title"),Q(t,"class","flex w-full items-center gap-2 p-2 text-xl")},m(f,i){W(f,t,i),D(n,t,null),B(t,l),o=!0},p:de,i(f){o||(c(n.$$.fragment,f),o=!0)},o(f){m(n.$$.fragment,f),o=!1},d(f){f&&h(t),C(n)}}}function ar(r){let t,n,e=r[2]&&Kt(r);return{c(){e&&e.c(),t=le()},l(l){e&&e.l(l),t=le()},m(l,o){e&&e.m(l,o),W(l,t,o),n=!0},p(l,[o]){l[2]?e?(e.p(l,o),o&4&&c(e,1)):(e=Kt(l),e.c(),c(e,1),e.m(t.parentNode,t)):e&&(G(),m(e,1,1,()=>{e=null}),K())},i(l){n||(c(e),n=!0)},o(l){m(e),n=!1},d(l){l&&h(t),e&&e.d(l)}}}function ur(r,t,n){let e,l,o,f;ne(r,Ee,a=>n(5,f=a));var i,s;return r.$$.update=()=>{r.$$.dirty&40&&n(1,e=n(3,i=f==null?void 0:f.userMetadata)===null||i===void 0?void 0:i.summary),r.$$.dirty&48&&n(0,l=n(4,s=f==null?void 0:f.userMetadata)===null||s===void 0?void 0:s.details),r.$$.dirty&3&&n(2,o=e||l)},[l,e,o,i,s,f]}class cr extends Te{constructor(t){super(),De(this,t,ur,ar,ve,{})}}const Gn=$l("resetWorkflows",{});function xt(r,t,n){const e=r.slice();return e[25]=t[n],e}function mr(r){let t,n=S("workflows.reset-modal-title")+"",e;return{c(){t=z("h3"),e=ee(n),this.h()},l(l){t=J(l,"H3",{slot:!0});var o=Y(t);e=te(o,n),o.forEach(h),this.h()},h(){Q(t,"slot","title")},m(l,o){W(l,t,o),B(t,e)},p:de,d(l){l&&h(t)}}}function pr(r){let t=r[25].id+"",n,e,l=r[25].eventType+"",o;return{c(){n=ee(t),e=ee(" - "),o=ee(l)},l(f){n=te(f,t),e=te(f," - "),o=te(f,l)},m(f,i){W(f,n,i),W(f,e,i),W(f,o,i)},p(f,i){i&512&&t!==(t=f[25].id+"")&&ce(n,t),i&512&&l!==(l=f[25].eventType+"")&&ce(o,l)},d(f){f&&(h(n),h(e),h(o))}}}function en(r){let t,n;return t=new qe({props:{value:r[25].id,$$slots:{default:[pr]},$$scope:{ctx:r}}}),{c(){E(t.$$.fragment)},l(e){T(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l&512&&(o.value=e[25].id),l&268435968&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){m(t.$$.fragment,e),n=!1},d(e){C(t,e)}}}function dr(r){let t,n,e=Pe(r[9]),l=[];for(let f=0;f<e.length;f+=1)l[f]=en(xt(r,e,f));const o=f=>m(l[f],1,1,()=>{l[f]=null});return{c(){for(let f=0;f<l.length;f+=1)l[f].c();t=le()},l(f){for(let i=0;i<l.length;i+=1)l[i].l(f);t=le()},m(f,i){for(let s=0;s<l.length;s+=1)l[s]&&l[s].m(f,i);W(f,t,i),n=!0},p(f,i){if(i&512){e=Pe(f[9]);let s;for(s=0;s<e.length;s+=1){const a=xt(f,e,s);l[s]?(l[s].p(a,i),c(l[s],1)):(l[s]=en(a),l[s].c(),c(l[s],1),l[s].m(t.parentNode,t))}for(G(),s=e.length;s<l.length;s+=1)o(s);K()}},i(f){if(!n){for(let i=0;i<e.length;i+=1)c(l[i]);n=!0}},o(f){l=l.filter(Boolean);for(let i=0;i<l.length;i+=1)m(l[i]);n=!1},d(f){f&&h(t),Je(l,f)}}}function _r(r){let t,n,e;function l(f){r[20](f)}let o={id:"reset-include-signals-checkbox","data-testid":"reset-include-signals-checkbox",label:S("workflows.reset-reapply-type-label")};return r[5]!==void 0&&(o.checked=r[5]),t=new tt({props:o}),re.push(()=>fe(t,"checked",l)),{c(){E(t.$$.fragment)},l(f){T(t.$$.fragment,f)},m(f,i){D(t,f,i),e=!0},p(f,i){const s={};!n&&i&32&&(n=!0,s.checked=f[5],oe(()=>n=!1)),t.$set(s)},i(f){e||(c(t.$$.fragment,f),e=!0)},o(f){m(t.$$.fragment,f),e=!1},d(f){C(t,f)}}}function gr(r){let t,n,e,l,o,f;function i(d){r[18](d)}let s={id:"reset-exclude-signals-checkbox","data-testid":"reset-exclude-signals-checkbox",label:S("workflows.reset-exclude-signals")};r[6]!==void 0&&(s.checked=r[6]),t=new tt({props:s}),re.push(()=>fe(t,"checked",i));function a(d){r[19](d)}let u={id:"reset-exclude-updates-checkbox","data-testid":"reset-exclude-updates-checkbox",label:S("workflows.reset-exclude-updates")};return r[7]!==void 0&&(u.checked=r[7]),l=new tt({props:u}),re.push(()=>fe(l,"checked",a)),{c(){E(t.$$.fragment),e=H(),E(l.$$.fragment)},l(d){T(t.$$.fragment,d),e=y(d),T(l.$$.fragment,d)},m(d,I){D(t,d,I),W(d,e,I),D(l,d,I),f=!0},p(d,I){const $={};!n&&I&64&&(n=!0,$.checked=d[6],oe(()=>n=!1)),t.$set($);const k={};!o&&I&128&&(o=!0,k.checked=d[7],oe(()=>o=!1)),l.$set(k)},i(d){f||(c(t.$$.fragment,d),c(l.$$.fragment,d),f=!0)},o(d){m(t.$$.fragment,d),m(l.$$.fragment,d),f=!1},d(d){d&&h(e),C(t,d),C(l,d)}}}function $r(r){let t,n,e,l,o,f,i,s,a,u,d;function I(_){r[17](_)}let $={"data-testid":"workflow-reset-event-id-select",menuClass:"max-h-[16rem]",label:S("workflows.reset-event-radio-group-description"),id:"reset-event-id",$$slots:{default:[dr]},$$scope:{ctx:r}};r[8]!==void 0&&($.value=r[8]),n=new st({props:$}),re.push(()=>fe(n,"value",I));const k=[gr,_r],p=[];function w(_,b){return b&3072&&(o=null),o==null&&(o=!!(_[10]||hl("1.24.0",_[11]))),o?0:1}f=w(r,-1),i=p[f]=k[f](r);function g(_){r[21](_)}let v={id:"reset-reason",label:S("common.reason")};return r[4]!==void 0&&(v.value=r[4]),a=new Ke({props:v}),re.push(()=>fe(a,"value",g)),{c(){t=z("div"),E(n.$$.fragment),l=H(),i.c(),s=H(),E(a.$$.fragment),this.h()},l(_){t=J(_,"DIV",{class:!0});var b=Y(t);T(n.$$.fragment,b),l=y(b),i.l(b),s=y(b),T(a.$$.fragment,b),b.forEach(h),this.h()},h(){Q(t,"class","flex w-full flex-col gap-4")},m(_,b){W(_,t,b),D(n,t,null),B(t,l),p[f].m(t,null),B(t,s),D(a,t,null),d=!0},p(_,b){const P={};b&268435968&&(P.$$scope={dirty:b,ctx:_}),!e&&b&256&&(e=!0,P.value=_[8],oe(()=>e=!1)),n.$set(P);let A=f;f=w(_,b),f===A?p[f].p(_,b):(G(),m(p[A],1,1,()=>{p[A]=null}),K(),i=p[f],i?i.p(_,b):(i=p[f]=k[f](_),i.c()),c(i,1),i.m(t,s));const F={};!u&&b&16&&(u=!0,F.value=_[4],oe(()=>u=!1)),a.$set(F)},i(_){d||(c(n.$$.fragment,_),c(i),c(a.$$.fragment,_),d=!0)},o(_){m(n.$$.fragment,_),m(i),m(a.$$.fragment,_),d=!1},d(_){_&&h(t),C(n),p[f].d(),C(a)}}}function wr(r){let t,n,e,l;function o(s){r[22](s)}function f(s){r[23](s)}let i={id:"reset-confirmation-modal","data-testid":"reset-confirmation-modal",confirmText:S("common.confirm"),cancelText:S("common.cancel"),loading:r[3],confirmDisabled:!r[8],$$slots:{content:[$r],title:[mr]},$$scope:{ctx:r}};return r[2]!==void 0&&(i.error=r[2]),r[0]!==void 0&&(i.open=r[0]),t=new ft({props:i}),re.push(()=>fe(t,"error",o)),re.push(()=>fe(t,"open",f)),t.$on("confirmModal",r[14]),t.$on("cancelModal",r[13]),{c(){E(t.$$.fragment)},l(s){T(t.$$.fragment,s)},m(s,a){D(t,s,a),l=!0},p(s,[a]){const u={};a&8&&(u.loading=s[3]),a&256&&(u.confirmDisabled=!s[8]),a&268439536&&(u.$$scope={dirty:a,ctx:s}),!n&&a&4&&(n=!0,u.error=s[2],oe(()=>n=!1)),!e&&a&1&&(e=!0,u.open=s[0],oe(()=>e=!1)),t.$set(u)},i(s){l||(c(t.$$.fragment,s),l=!0)},o(s){m(t.$$.fragment,s),l=!1},d(s){C(t,s)}}}function hr(r,t,n){let e,l=de,o=()=>(l(),l=et($,j=>n(24,e=j)),$),f,i,s,a;ne(r,Ln,j=>n(9,i=j)),ne(r,On,j=>n(10,s=j)),ne(r,wl,j=>n(11,a=j)),r.$$.on_destroy.push(()=>l());let{open:u}=t,{workflow:d}=t,{namespace:I}=t,{refresh:$}=t;o();let k="",p=!1,w=Ge("");ne(r,w,j=>n(8,f=j));let g,v=!0,_=!1,b=!1;const P=()=>{n(0,u=!1),n(5,v=!0),n(6,_=!1),n(7,b=!1),we(w,f="",f),n(4,g="")},A=async()=>{n(2,k=""),n(3,p=!0);try{const j=await tl({namespace:I,workflow:d,eventId:f,reason:g,includeSignals:v,excludeSignals:_,excludeUpdates:b});j&&j.runId&&Gn.update(me=>({...me,[d.runId]:j.runId})),we($,e=Date.now(),e),P()}catch(j){n(2,k=it(j)?j.message:S("common.unknown-error"))}finally{n(3,p=!1)}P()};function F(j){f=j,w.set(f)}function V(j){_=j,n(6,_)}function q(j){b=j,n(7,b)}function L(j){v=j,n(5,v)}function ue(j){g=j,n(4,g)}function ie(j){k=j,n(2,k)}function _e(j){u=j,n(0,u)}return r.$$set=j=>{"open"in j&&n(0,u=j.open),"workflow"in j&&n(15,d=j.workflow),"namespace"in j&&n(16,I=j.namespace),"refresh"in j&&o(n(1,$=j.refresh))},[u,$,k,p,g,v,_,b,f,i,s,a,w,P,A,d,I,F,V,q,L,ue,ie,_e]}class kr extends Te{constructor(t){super(),De(this,t,hr,wr,ve,{open:0,workflow:15,namespace:16,refresh:1})}}function tn(r,t,n){const e=r.slice();return e[27]=t[n].name,e[28]=t[n].description!==void 0?t[n].description:"",e}function br(r){let t,n=S("workflows.signal-modal-title")+"",e;return{c(){t=z("h3"),e=ee(n),this.h()},l(l){t=J(l,"H3",{slot:!0});var o=Y(t);e=te(o,n),o.forEach(h),this.h()},h(){Q(t,"slot","title")},m(l,o){W(l,t,o),B(t,e)},p:de,d(l){l&&h(t)}}}function vr(r){let t,n,e;function l(f){r[19](f)}let o={id:"signal-name",label:S("workflows.signal-name-label"),required:!0};return r[4]!==void 0&&(o.value=r[4]),t=new Ke({props:o}),re.push(()=>fe(t,"value",l)),{c(){E(t.$$.fragment)},l(f){T(t.$$.fragment,f)},m(f,i){D(t,f,i),e=!0},p(f,i){const s={};!n&&i[0]&16&&(n=!0,s.value=f[4],oe(()=>n=!1)),t.$set(s)},i(f){e||(c(t.$$.fragment,f),e=!0)},o(f){m(t.$$.fragment,f),e=!1},d(f){C(t,f)}}}function Ir(r){let t,n,e;function l(f){r[18](f)}let o={id:"signal-select",label:S("workflows.signal-name-label"),class:"min-w-fit","data-testid":"signal-select",placeholder:"Select a signal",required:!0,$$slots:{default:[Dr]},$$scope:{ctx:r}};return r[4]!==void 0&&(o.value=r[4]),t=new st({props:o}),re.push(()=>fe(t,"value",l)),{c(){E(t.$$.fragment)},l(f){T(t.$$.fragment,f)},m(f,i){D(t,f,i),e=!0},p(f,i){const s={};i[0]&512|i[1]&1&&(s.$$scope={dirty:i,ctx:f}),!n&&i[0]&16&&(n=!0,s.value=f[4],oe(()=>n=!1)),t.$set(s)},i(f){e||(c(t.$$.fragment,f),e=!0)},o(f){m(t.$$.fragment,f),e=!1},d(f){C(t,f)}}}function Er(r){let t=r[27]+"",n;return{c(){n=ee(t)},l(e){n=te(e,t)},m(e,l){W(e,n,l)},p(e,l){l[0]&512&&t!==(t=e[27]+"")&&ce(n,t)},d(e){e&&h(n)}}}function nn(r){let t,n;return t=new qe({props:{value:r[27],description:r[28],$$slots:{default:[Er]},$$scope:{ctx:r}}}),{c(){E(t.$$.fragment)},l(e){T(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l[0]&512&&(o.value=e[27]),l[0]&512&&(o.description=e[28]),l[0]&512|l[1]&1&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){m(t.$$.fragment,e),n=!1},d(e){C(t,e)}}}function Tr(r){let t;return{c(){t=ee("Custom")},l(n){t=te(n,"Custom")},m(n,e){W(n,t,e)},d(n){n&&h(t)}}}function Dr(r){let t,n,e,l=Pe(r[9]),o=[];for(let i=0;i<l.length;i+=1)o[i]=nn(tn(r,l,i));const f=i=>m(o[i],1,1,()=>{o[i]=null});return n=new qe({props:{value:"custom",description:"Input Signal name",$$slots:{default:[Tr]},$$scope:{ctx:r}}}),n.$on("click",r[12]),{c(){for(let i=0;i<o.length;i+=1)o[i].c();t=H(),E(n.$$.fragment)},l(i){for(let s=0;s<o.length;s+=1)o[s].l(i);t=y(i),T(n.$$.fragment,i)},m(i,s){for(let a=0;a<o.length;a+=1)o[a]&&o[a].m(i,s);W(i,t,s),D(n,i,s),e=!0},p(i,s){if(s[0]&512){l=Pe(i[9]);let u;for(u=0;u<l.length;u+=1){const d=tn(i,l,u);o[u]?(o[u].p(d,s),c(o[u],1)):(o[u]=nn(d),o[u].c(),c(o[u],1),o[u].m(t.parentNode,t))}for(G(),u=l.length;u<o.length;u+=1)f(u);K()}const a={};s[1]&1&&(a.$$scope={dirty:s,ctx:i}),n.$set(a)},i(i){if(!e){for(let s=0;s<l.length;s+=1)c(o[s]);c(n.$$.fragment,i),e=!0}},o(i){o=o.filter(Boolean);for(let s=0;s<o.length;s+=1)m(o[s]);m(n.$$.fragment,i),e=!1},d(i){i&&h(t),Je(o,i),C(n,i)}}}function Cr(r){let t,n,e,l,o,f,i,s,a;const u=[Ir,vr],d=[];function I(g,v){var _;return((_=g[9])==null?void 0:_.length)>0&&!g[5]?0:1}n=I(r),e=d[n]=u[n](r);function $(g){r[20](g)}function k(g){r[21](g)}function p(g){r[22](g)}let w={};return r[6]!==void 0&&(w.input=r[6]),r[7]!==void 0&&(w.encoding=r[7]),r[8]!==void 0&&(w.messageType=r[8]),o=new nl({props:w}),re.push(()=>fe(o,"input",$)),re.push(()=>fe(o,"encoding",k)),re.push(()=>fe(o,"messageType",p)),{c(){t=z("div"),e.c(),l=H(),E(o.$$.fragment),this.h()},l(g){t=J(g,"DIV",{slot:!0,class:!0});var v=Y(t);e.l(v),l=y(v),T(o.$$.fragment,v),v.forEach(h),this.h()},h(){Q(t,"slot","content"),Q(t,"class","flex flex-col gap-4")},m(g,v){W(g,t,v),d[n].m(t,null),B(t,l),D(o,t,null),a=!0},p(g,v){let _=n;n=I(g),n===_?d[n].p(g,v):(G(),m(d[_],1,1,()=>{d[_]=null}),K(),e=d[n],e?e.p(g,v):(e=d[n]=u[n](g),e.c()),c(e,1),e.m(t,l));const b={};!f&&v[0]&64&&(f=!0,b.input=g[6],oe(()=>f=!1)),!i&&v[0]&128&&(i=!0,b.encoding=g[7],oe(()=>i=!1)),!s&&v[0]&256&&(s=!0,b.messageType=g[8],oe(()=>s=!1)),o.$set(b)},i(g){a||(c(e),c(o.$$.fragment,g),a=!0)},o(g){m(e),m(o.$$.fragment,g),a=!1},d(g){g&&h(t),d[n].d(),C(o)}}}function Wr(r){let t,n,e,l;function o(s){r[23](s)}function f(s){r[24](s)}let i={id:"signal-confirmation-modal","data-testid":"signal-confirmation-modal",loading:r[3],confirmText:S("common.submit"),cancelText:S("common.cancel"),confirmDisabled:!r[4]||!r[7],$$slots:{content:[Cr],title:[br]},$$scope:{ctx:r}};return r[2]!==void 0&&(i.error=r[2]),r[0]!==void 0&&(i.open=r[0]),t=new ft({props:i}),re.push(()=>fe(t,"error",o)),re.push(()=>fe(t,"open",f)),t.$on("cancelModal",r[10]),t.$on("confirmModal",r[11]),{c(){E(t.$$.fragment)},l(s){T(t.$$.fragment,s)},m(s,a){D(t,s,a),l=!0},p(s,a){const u={};a[0]&8&&(u.loading=s[3]),a[0]&144&&(u.confirmDisabled=!s[4]||!s[7]),a[0]&1008|a[1]&1&&(u.$$scope={dirty:a,ctx:s}),!n&&a[0]&4&&(n=!0,u.error=s[2],oe(()=>n=!1)),!e&&a[0]&1&&(e=!0,u.open=s[0],oe(()=>e=!1)),t.$set(u)},i(s){l||(c(t.$$.fragment,s),l=!0)},o(s){m(t.$$.fragment,s),l=!1},d(s){C(t,s)}}}const ln="json/plain";function Sr(r,t,n){let e,l,o,f=de,i=()=>(f(),f=et(w,R=>n(25,o=R)),w),s,a=de,u=()=>(a(),a=et(A,R=>n(26,s=R)),A),d;ne(r,Ee,R=>n(17,d=R)),r.$$.on_destroy.push(()=>f()),r.$$.on_destroy.push(()=>a());var I;let{open:$}=t,{workflow:k}=t,{namespace:p}=t,{refresh:w}=t;i();let g="",v=!1,_="",b=!1,P="",A=Ge(ln);u();let F="";const V=()=>{n(0,$=!1),n(4,_=""),n(6,P=""),n(5,b=!1),we(A,s=ln,s),n(8,F="")},q=async()=>{n(2,g=""),n(3,v=!0);try{await ll({namespace:p,workflow:k,input:P,encoding:s,messageType:F,name:_}),we(w,o=Date.now(),o),Qn.push({message:S("workflows.signal-success"),id:"workflow-signal-success-toast"}),V()}catch(R){n(2,g=it(R)?R.message:S("common.unknown-error"))}finally{n(3,v=!1)}},L=()=>{n(5,b=!0),n(4,_="")};function ue(R){_=R,n(4,_)}function ie(R){_=R,n(4,_)}function _e(R){P=R,n(6,P)}function j(R){A=R,u(n(7,A))}function me(R){F=R,n(8,F)}function O(R){g=R,n(2,g)}function M(R){$=R,n(0,$)}return r.$$set=R=>{"open"in R&&n(0,$=R.open),"workflow"in R&&n(13,k=R.workflow),"namespace"in R&&n(14,p=R.namespace),"refresh"in R&&i(n(1,w=R.refresh))},r.$$.update=()=>{r.$$.dirty[0]&131072&&n(16,{metadata:e}=d,e),r.$$.dirty[0]&98304&&n(9,l=n(15,I=e==null?void 0:e.definition)===null||I===void 0?void 0:I.signalDefinitions)},[$,w,g,v,_,b,P,A,F,l,V,q,L,k,p,I,e,d,ue,ie,_e,j,me,O,M]}class Pr extends Te{constructor(t){super(),De(this,t,Sr,Wr,ve,{open:0,workflow:13,namespace:14,refresh:1},null,[-1,-1])}}function rn(r,t,n){const e=r.slice();return e[30]=t[n].name,e[31]=t[n].description!==void 0?t[n].description:"",e}function Rr(r){let t,n=S("workflows.update-modal-title")+"",e;return{c(){t=z("h3"),e=ee(n),this.h()},l(l){t=J(l,"H3",{slot:!0});var o=Y(t);e=te(o,n),o.forEach(h),this.h()},h(){Q(t,"slot","title")},m(l,o){W(l,t,o),B(t,e)},p:de,d(l){l&&h(t)}}}function Vr(r){let t,n,e,l,o;function f(a){r[21](a)}let i={id:"update-name",class:"w-full",label:S("common.name"),required:!0};r[5]!==void 0&&(i.value=r[5]),n=new Ke({props:i}),re.push(()=>fe(n,"value",f));let s=r[8]&&on(r);return{c(){t=z("div"),E(n.$$.fragment),l=H(),s&&s.c(),this.h()},l(a){t=J(a,"DIV",{class:!0});var u=Y(t);T(n.$$.fragment,u),l=y(u),s&&s.l(u),u.forEach(h),this.h()},h(){Q(t,"class","flex w-full items-end justify-between gap-2")},m(a,u){W(a,t,u),D(n,t,null),B(t,l),s&&s.m(t,null),o=!0},p(a,u){const d={};!e&&u[0]&32&&(e=!0,d.value=a[5],oe(()=>e=!1)),n.$set(d),a[8]?s?(s.p(a,u),u[0]&256&&c(s,1)):(s=on(a),s.c(),c(s,1),s.m(t,null)):s&&(G(),m(s,1,1,()=>{s=null}),K())},i(a){o||(c(n.$$.fragment,a),c(s),o=!0)},o(a){m(n.$$.fragment,a),m(s),o=!1},d(a){a&&h(t),C(n),s&&s.d()}}}function Ar(r){let t,n,e;function l(f){r[20](f)}let o={id:"update-select",label:S("common.name"),class:"min-w-fit","data-testid":"update-select",placeholder:"Select an Update",required:!0,$$slots:{default:[Fr]},$$scope:{ctx:r}};return r[5]!==void 0&&(o.value=r[5]),t=new st({props:o}),re.push(()=>fe(t,"value",l)),{c(){E(t.$$.fragment)},l(f){T(t.$$.fragment,f)},m(f,i){D(t,f,i),e=!0},p(f,i){const s={};i[0]&512|i[1]&8&&(s.$$scope={dirty:i,ctx:f}),!n&&i[0]&32&&(n=!0,s.value=f[5],oe(()=>n=!1)),t.$set(s)},i(f){e||(c(t.$$.fragment,f),e=!0)},o(f){m(t.$$.fragment,f),e=!1},d(f){C(t,f)}}}function on(r){let t,n;return t=new rt({props:{variant:"secondary",leadingIcon:"close"}}),t.$on("click",r[22]),{c(){E(t.$$.fragment)},l(e){T(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p:de,i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){m(t.$$.fragment,e),n=!1},d(e){C(t,e)}}}function Mr(r){let t=r[30]+"",n;return{c(){n=ee(t)},l(e){n=te(e,t)},m(e,l){W(e,n,l)},p(e,l){l[0]&512&&t!==(t=e[30]+"")&&ce(n,t)},d(e){e&&h(n)}}}function fn(r){let t,n;return t=new qe({props:{value:r[30],description:r[31],$$slots:{default:[Mr]},$$scope:{ctx:r}}}),{c(){E(t.$$.fragment)},l(e){T(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l[0]&512&&(o.value=e[30]),l[0]&512&&(o.description=e[31]),l[0]&512|l[1]&8&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){m(t.$$.fragment,e),n=!1},d(e){C(t,e)}}}function Nr(r){let t;return{c(){t=ee("Custom")},l(n){t=te(n,"Custom")},m(n,e){W(n,t,e)},d(n){n&&h(t)}}}function Fr(r){let t,n,e,l=Pe(r[9]),o=[];for(let i=0;i<l.length;i+=1)o[i]=fn(rn(r,l,i));const f=i=>m(o[i],1,1,()=>{o[i]=null});return n=new qe({props:{value:"custom",$$slots:{default:[Nr]},$$scope:{ctx:r}}}),n.$on("click",r[13]),{c(){for(let i=0;i<o.length;i+=1)o[i].c();t=H(),E(n.$$.fragment)},l(i){for(let s=0;s<o.length;s+=1)o[s].l(i);t=y(i),T(n.$$.fragment,i)},m(i,s){for(let a=0;a<o.length;a+=1)o[a]&&o[a].m(i,s);W(i,t,s),D(n,i,s),e=!0},p(i,s){if(s[0]&512){l=Pe(i[9]);let u;for(u=0;u<l.length;u+=1){const d=rn(i,l,u);o[u]?(o[u].p(d,s),c(o[u],1)):(o[u]=fn(d),o[u].c(),c(o[u],1),o[u].m(t.parentNode,t))}for(G(),u=l.length;u<o.length;u+=1)f(u);K()}const a={};s[1]&8&&(a.$$scope={dirty:s,ctx:i}),n.$set(a)},i(i){if(!e){for(let s=0;s<l.length;s+=1)c(o[s]);c(n.$$.fragment,i),e=!0}},o(i){o=o.filter(Boolean);for(let s=0;s<o.length;s+=1)m(o[s]);m(n.$$.fragment,i),e=!1},d(i){i&&h(t),Je(o,i),C(n,i)}}}function sn(r){let t,n;return t=new Be({props:{intent:"info",title:"In Progress",$$slots:{default:[qr]},$$scope:{ctx:r}}}),{c(){E(t.$$.fragment)},l(e){T(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l[1]&8&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){m(t.$$.fragment,e),n=!1},d(e){C(t,e)}}}function qr(r){let t=S("workflows.update-in-progress")+"",n;return{c(){n=ee(t)},l(e){n=te(e,t)},m(e,l){W(e,n,l)},p:de,d(e){e&&h(n)}}}function an(r){var e;let t,n;return t=new Be({props:{intent:"error",title:((e=r[3])==null?void 0:e.message)||"Failure",$$slots:{default:[Br]},$$scope:{ctx:r}}}),{c(){E(t.$$.fragment)},l(l){T(t.$$.fragment,l)},m(l,o){D(t,l,o),n=!0},p(l,o){var i;const f={};o[0]&8&&(f.title=((i=l[3])==null?void 0:i.message)||"Failure"),o[0]&8|o[1]&8&&(f.$$scope={dirty:o,ctx:l}),t.$set(f)},i(l){n||(c(t.$$.fragment,l),n=!0)},o(l){m(t.$$.fragment,l),n=!1},d(l){C(t,l)}}}function un(r){let t,n;return t=new zn({props:{class:"mt-4",content:r[3].stackTrace,language:"text"}}),{c(){E(t.$$.fragment)},l(e){T(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l[0]&8&&(o.content=e[3].stackTrace),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){m(t.$$.fragment,e),n=!1},d(e){C(t,e)}}}function Br(r){var l;let t,n,e=((l=r[3])==null?void 0:l.stackTrace)&&un(r);return{c(){e&&e.c(),t=le()},l(o){e&&e.l(o),t=le()},m(o,f){e&&e.m(o,f),W(o,t,f),n=!0},p(o,f){var i;(i=o[3])!=null&&i.stackTrace?e?(e.p(o,f),f[0]&8&&c(e,1)):(e=un(o),e.c(),c(e,1),e.m(t.parentNode,t)):e&&(G(),m(e,1,1,()=>{e=null}),K())},i(o){n||(c(e),n=!0)},o(o){m(e),n=!1},d(o){o&&h(t),e&&e.d(o)}}}function cn(r){let t,n;return t=new Be({props:{intent:"success",title:"Success",$$slots:{default:[Hr]},$$scope:{ctx:r}}}),{c(){E(t.$$.fragment)},l(e){T(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l[0]&16|l[1]&8&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){m(t.$$.fragment,e),n=!1},d(e){C(t,e)}}}function mn(r){let t,n;return t=new kl({props:{value:r[4].payloads[0],$$slots:{default:[Ur,({decodedValue:e})=>({29:e}),({decodedValue:e})=>[e?536870912:0]]},$$scope:{ctx:r}}}),{c(){E(t.$$.fragment)},l(e){T(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l[0]&16&&(o.value=e[4].payloads[0]),l[0]&536870912|l[1]&8&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){m(t.$$.fragment,e),n=!1},d(e){C(t,e)}}}function Ur(r){let t,n;return t=new zn({props:{class:"mt-4",content:r[29],language:"text"}}),{c(){E(t.$$.fragment)},l(e){T(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l[0]&536870912&&(o.content=e[29]),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){m(t.$$.fragment,e),n=!1},d(e){C(t,e)}}}function Hr(r){var l,o;let t,n,e=((o=(l=r[4])==null?void 0:l.payloads)==null?void 0:o[0])&&r[4].payloads[0].data&&mn(r);return{c(){e&&e.c(),t=le()},l(f){e&&e.l(f),t=le()},m(f,i){e&&e.m(f,i),W(f,t,i),n=!0},p(f,i){var s,a;(a=(s=f[4])==null?void 0:s.payloads)!=null&&a[0]&&f[4].payloads[0].data?e?(e.p(f,i),i[0]&16&&c(e,1)):(e=mn(f),e.c(),c(e,1),e.m(t.parentNode,t)):e&&(G(),m(e,1,1,()=>{e=null}),K())},i(f){n||(c(e),n=!0)},o(f){m(e),n=!1},d(f){f&&h(t),e&&e.d(f)}}}function yr(r){let t,n,e,l,o,f,i,s,a,u,d,I,$;const k=[Ar,Vr],p=[];function w(V,q){var L;return((L=V[9])==null?void 0:L.length)>0&&!V[8]?0:1}n=w(r),e=p[n]=k[n](r);function g(V){r[23](V)}let v={id:"update-id",label:S("workflows.update-id"),required:!0};r[6]!==void 0&&(v.value=r[6]),o=new Ke({props:v}),re.push(()=>fe(o,"value",g));function _(V){r[24](V)}let b={};r[7]!==void 0&&(b.input=r[7]),s=new bl({props:b}),re.push(()=>fe(s,"input",_));let P=r[2]&&sn(r),A=r[3]&&an(r),F=r[4]&&cn(r);return{c(){t=z("div"),e.c(),l=H(),E(o.$$.fragment),i=H(),E(s.$$.fragment),u=H(),P&&P.c(),d=H(),A&&A.c(),I=H(),F&&F.c(),this.h()},l(V){t=J(V,"DIV",{class:!0,slot:!0});var q=Y(t);e.l(q),l=y(q),T(o.$$.fragment,q),i=y(q),T(s.$$.fragment,q),u=y(q),P&&P.l(q),d=y(q),A&&A.l(q),I=y(q),F&&F.l(q),q.forEach(h),this.h()},h(){Q(t,"class","flex flex-col gap-4"),Q(t,"slot","content")},m(V,q){W(V,t,q),p[n].m(t,null),B(t,l),D(o,t,null),B(t,i),D(s,t,null),B(t,u),P&&P.m(t,null),B(t,d),A&&A.m(t,null),B(t,I),F&&F.m(t,null),$=!0},p(V,q){let L=n;n=w(V),n===L?p[n].p(V,q):(G(),m(p[L],1,1,()=>{p[L]=null}),K(),e=p[n],e?e.p(V,q):(e=p[n]=k[n](V),e.c()),c(e,1),e.m(t,l));const ue={};!f&&q[0]&64&&(f=!0,ue.value=V[6],oe(()=>f=!1)),o.$set(ue);const ie={};!a&&q[0]&128&&(a=!0,ie.input=V[7],oe(()=>a=!1)),s.$set(ie),V[2]?P?(P.p(V,q),q[0]&4&&c(P,1)):(P=sn(V),P.c(),c(P,1),P.m(t,d)):P&&(G(),m(P,1,1,()=>{P=null}),K()),V[3]?A?(A.p(V,q),q[0]&8&&c(A,1)):(A=an(V),A.c(),c(A,1),A.m(t,I)):A&&(G(),m(A,1,1,()=>{A=null}),K()),V[4]?F?(F.p(V,q),q[0]&16&&c(F,1)):(F=cn(V),F.c(),c(F,1),F.m(t,null)):F&&(G(),m(F,1,1,()=>{F=null}),K())},i(V){$||(c(e),c(o.$$.fragment,V),c(s.$$.fragment,V),c(P),c(A),c(F),$=!0)},o(V){m(e),m(o.$$.fragment,V),m(s.$$.fragment,V),m(P),m(A),m(F),$=!1},d(V){V&&h(t),p[n].d(),C(o),C(s),P&&P.d(),A&&A.d(),F&&F.d()}}}function jr(r){let t,n,e,l;function o(s){r[25](s)}function f(s){r[26](s)}let i={id:"update-confirmation-modal","data-testid":"update-confirmation-modal",large:!0,loading:r[2],confirmText:S("common.submit"),cancelText:S("common.cancel"),confirmDisabled:!r[5]||!r[10],$$slots:{content:[yr],title:[Rr]},$$scope:{ctx:r}};return r[1]!==void 0&&(i.error=r[1]),r[0]!==void 0&&(i.open=r[0]),t=new ft({props:i}),re.push(()=>fe(t,"error",o)),re.push(()=>fe(t,"open",f)),t.$on("cancelModal",r[11]),t.$on("confirmModal",r[12]),{c(){E(t.$$.fragment)},l(s){T(t.$$.fragment,s)},m(s,a){D(t,s,a),l=!0},p(s,a){const u={};a[0]&4&&(u.loading=s[2]),a[0]&32&&(u.confirmDisabled=!s[5]||!s[10]),a[0]&1020|a[1]&8&&(u.$$scope={dirty:a,ctx:s}),!n&&a[0]&2&&(n=!0,u.error=s[1],oe(()=>n=!1)),!e&&a[0]&1&&(e=!0,u.open=s[0],oe(()=>e=!1)),t.$set(u)},i(s){l||(c(t.$$.fragment,s),l=!0)},o(s){m(t.$$.fragment,s),l=!1},d(s){C(t,s)}}}const pn="json/plain";function Or(r,t,n){let e,l,o,f,i,s;ne(r,Ee,O=>n(18,i=O)),ne(r,Ve,O=>n(19,s=O));var a;let{open:u}=t,{workflow:d}=t,{namespace:I}=t,$="",k=!1,p,w,g="",v=qt(),_="",b=!1,P=Ge(pn);ne(r,P,O=>n(28,f=O));const A=()=>{n(0,u=!1),n(5,g=""),n(7,_=""),n(8,b=!1),we(P,f=pn,f),n(3,p=void 0),n(4,w=void 0)},F=async()=>{var O,M;n(3,p=void 0),n(4,w=void 0),n(1,$=""),n(2,k=!0);try{const R=await rl({namespace:I,workflow:{workflowId:d.id,runId:e},input:_,updateId:v,encoding:f,name:g});n(3,p=(O=R==null?void 0:R.outcome)===null||O===void 0?void 0:O.failure),n(4,w=((M=R==null?void 0:R.outcome)===null||M===void 0?void 0:M.success)||!p),n(6,v=qt()),w&&(Qn.push({message:S("workflows.update-success"),variant:"success"}),A())}catch(R){n(1,$=it(R)?R.message:S("common.unknown-error"))}finally{n(2,k=!1)}},V=()=>{n(8,b=!0),n(5,g="")};function q(O){g=O,n(5,g)}function L(O){g=O,n(5,g)}const ue=()=>{n(8,b=!1),n(5,g="")};function ie(O){v=O,n(6,v)}function _e(O){_=O,n(7,_)}function j(O){$=O,n(1,$)}function me(O){u=O,n(0,u)}return r.$$set=O=>{"open"in O&&n(0,u=O.open),"workflow"in O&&n(14,d=O.workflow),"namespace"in O&&n(15,I=O.namespace)},r.$$.update=()=>{r.$$.dirty[0]&524288&&({run:e}=s.params),r.$$.dirty[0]&262144&&n(17,{metadata:l}=i,l),r.$$.dirty[0]&196608&&n(9,o=n(16,a=l==null?void 0:l.definition)===null||a===void 0?void 0:a.updateDefinitions)},[u,$,k,p,w,g,v,_,b,o,P,A,F,V,d,I,a,l,i,s,q,L,ue,ie,_e,j,me]}class Lr extends Te{constructor(t){super(),De(this,t,Or,jr,ve,{open:0,workflow:14,namespace:15},null,[-1,-1])}}const Qr=(r,t,n)=>!r.disableWriteActions&&!r.workflowSignalDisabled&&!t.namespaceWriteDisabled(n),zr=(r,t,n)=>!r.disableWriteActions&&!r.workflowUpdateDisabled&&!t.namespaceWriteDisabled(n);function dn(r,t,n){const e=r.slice();return e[36]=t[n].onClick,e[37]=t[n].destructive,e[38]=t[n].label,e[39]=t[n].enabled,e[40]=t[n].testId,e[41]=t[n].description,e}function Jr(r){let t,n;return t=new Ye({props:{bottomRight:!0,width:200,text:r[4],hide:r[8],$$slots:{default:[Xr]},$$scope:{ctx:r}}}),{c(){E(t.$$.fragment)},l(e){T(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l[0]&16&&(o.text=e[4]),l[0]&256&&(o.hide=e[8]),l[0]&4352|l[1]&8192&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){m(t.$$.fragment,e),n=!1},d(e){C(t,e)}}}function Yr(r){let t,n;return t=new Yn({props:{id:"workflow-actions",menuClass:"w-[16rem]",position:"right",primaryActionDisabled:!r[8],label:S("workflows.reset"),menuLabel:S("workflows.workflow-actions"),$$slots:{default:[xr]},$$scope:{ctx:r}}}),t.$on("click",r[29]),{c(){E(t.$$.fragment)},l(e){T(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l[0]&256&&(o.primaryActionDisabled=!e[8]),l[0]&3|l[1]&8192&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){m(t.$$.fragment,e),n=!1},d(e){C(t,e)}}}function Gr(r){let t,n;return t=new Yn({props:{id:"workflow-actions",menuClass:"w-[16rem] md:w-[24rem]",position:"right",disabled:r[16],primaryActionDisabled:!r[17]||r[2],label:S("workflows.request-cancellation"),menuLabel:S("workflows.workflow-actions"),$$slots:{default:[no]},$$scope:{ctx:r}}}),t.$on("click",r[27]),{c(){E(t.$$.fragment)},l(e){T(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l[0]&65536&&(o.disabled=e[16]),l[0]&131076&&(o.primaryActionDisabled=!e[17]||e[2]),l[0]&295427|l[1]&8192&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){m(t.$$.fragment,e),n=!1},d(e){C(t,e)}}}function Kr(r){let t=S("workflows.reset")+"",n;return{c(){n=ee(t)},l(e){n=te(e,t)},m(e,l){W(e,n,l)},p:de,d(e){e&&h(n)}}}function Xr(r){let t,n;return t=new rt({props:{"aria-label":S("workflows.reset"),disabled:!r[8],variant:"primary","data-testid":"workflow-reset-button",$$slots:{default:[Kr]},$$scope:{ctx:r}}}),t.$on("click",r[30]),{c(){E(t.$$.fragment)},l(e){T(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l[0]&256&&(o.disabled=!e[8]),l[1]&8192&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){m(t.$$.fragment,e),n=!1},d(e){C(t,e)}}}function Zr(r){let t=S("workflows.start-workflow-like-this-one")+"",n;return{c(){n=ee(t)},l(e){n=te(e,t)},m(e,l){W(e,n,l)},p:de,d(e){e&&h(n)}}}function xr(r){let t,n;return t=new at({props:{"data-testid":"start-workflow-button",$$slots:{default:[Zr]},$$scope:{ctx:r}}}),t.$on("click",r[28]),{c(){E(t.$$.fragment)},l(e){T(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l[1]&8192&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){m(t.$$.fragment,e),n=!1},d(e){C(t,e)}}}function _n(r){let t,n,e,l=r[37]&&gn();return n=new at({props:{destructive:r[37],disabled:!r[39],"data-testid":r[40],description:r[41],$$slots:{default:[eo]},$$scope:{ctx:r}}}),n.$on("click",function(){Zn(r[36])&&r[36].apply(this,arguments)}),{c(){l&&l.c(),t=H(),E(n.$$.fragment)},l(o){l&&l.l(o),t=y(o),T(n.$$.fragment,o)},m(o,f){l&&l.m(o,f),W(o,t,f),D(n,o,f),e=!0},p(o,f){r=o,r[37]?l?f[0]&32768&&c(l,1):(l=gn(),l.c(),c(l,1),l.m(t.parentNode,t)):l&&(G(),m(l,1,1,()=>{l=null}),K());const i={};f[0]&32768&&(i.destructive=r[37]),f[0]&32768&&(i.disabled=!r[39]),f[0]&32768&&(i["data-testid"]=r[40]),f[0]&32768&&(i.description=r[41]),f[0]&32768|f[1]&8192&&(i.$$scope={dirty:f,ctx:r}),n.$set(i)},i(o){e||(c(l),c(n.$$.fragment,o),e=!0)},o(o){m(l),m(n.$$.fragment,o),e=!1},d(o){o&&h(t),l&&l.d(o),C(n,o)}}}function gn(r){let t,n;return t=new Jn({}),{c(){E(t.$$.fragment)},l(e){T(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){m(t.$$.fragment,e),n=!1},d(e){C(t,e)}}}function eo(r){let t=r[38]+"",n;return{c(){n=ee(t)},l(e){n=te(e,t)},m(e,l){W(e,n,l)},p(e,l){l[0]&32768&&t!==(t=e[38]+"")&&ce(n,t)},d(e){e&&h(n)}}}function $n(r){let t,n,e=(!r[18]||r[18]&&r[40]!=="update-button")&&_n(r);return{c(){e&&e.c(),t=le()},l(l){e&&e.l(l),t=le()},m(l,o){e&&e.m(l,o),W(l,t,o),n=!0},p(l,o){!l[18]||l[18]&&l[40]!=="update-button"?e?(e.p(l,o),o[0]&294912&&c(e,1)):(e=_n(l),e.c(),c(e,1),e.m(t.parentNode,t)):e&&(G(),m(e,1,1,()=>{e=null}),K())},i(l){n||(c(e),n=!0)},o(l){m(e),n=!1},d(l){l&&h(t),e&&e.d(l)}}}function wn(r){let t,n,e,l;return t=new Jn({}),e=new at({props:{"data-testid":"start-workflow-button",$$slots:{default:[to]},$$scope:{ctx:r}}}),e.$on("click",r[26]),{c(){E(t.$$.fragment),n=H(),E(e.$$.fragment)},l(o){T(t.$$.fragment,o),n=y(o),T(e.$$.fragment,o)},m(o,f){D(t,o,f),W(o,n,f),D(e,o,f),l=!0},p(o,f){const i={};f[1]&8192&&(i.$$scope={dirty:f,ctx:o}),e.$set(i)},i(o){l||(c(t.$$.fragment,o),c(e.$$.fragment,o),l=!0)},o(o){m(t.$$.fragment,o),m(e.$$.fragment,o),l=!1},d(o){o&&h(n),C(t,o),C(e,o)}}}function to(r){let t=S("workflows.start-workflow-like-this-one")+"",n;return{c(){n=ee(t)},l(e){n=te(e,t)},m(e,l){W(e,n,l)},p:de,d(e){e&&h(n)}}}function no(r){let t,n=!nt(r[9]),e,l,o=Pe(r[15]),f=[];for(let a=0;a<o.length;a+=1)f[a]=$n(dn(r,o,a));const i=a=>m(f[a],1,1,()=>{f[a]=null});let s=n&&wn(r);return{c(){for(let a=0;a<f.length;a+=1)f[a].c();t=H(),s&&s.c(),e=le()},l(a){for(let u=0;u<f.length;u+=1)f[u].l(a);t=y(a),s&&s.l(a),e=le()},m(a,u){for(let d=0;d<f.length;d+=1)f[d]&&f[d].m(a,u);W(a,t,u),s&&s.m(a,u),W(a,e,u),l=!0},p(a,u){if(u[0]&294912){o=Pe(a[15]);let d;for(d=0;d<o.length;d+=1){const I=dn(a,o,d);f[d]?(f[d].p(I,u),c(f[d],1)):(f[d]=$n(I),f[d].c(),c(f[d],1),f[d].m(t.parentNode,t))}for(G(),d=o.length;d<f.length;d+=1)i(d);K()}u[0]&512&&(n=!nt(a[9])),n?s?(s.p(a,u),u[0]&512&&c(s,1)):(s=wn(a),s.c(),c(s,1),s.m(e.parentNode,e)):s&&(G(),m(s,1,1,()=>{s=null}),K())},i(a){if(!l){for(let u=0;u<o.length;u+=1)c(f[u]);c(s),l=!0}},o(a){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)m(f[u]);m(s),l=!1},d(a){a&&(h(t),h(e)),Je(f,a),s&&s.d(a)}}}function hn(r){let t,n,e;function l(f){r[31](f)}let o={refresh:Fe,workflow:r[0],namespace:r[1]};return r[12]!==void 0&&(o.open=r[12]),t=new kr({props:o}),re.push(()=>fe(t,"open",l)),{c(){E(t.$$.fragment)},l(f){T(t.$$.fragment,f)},m(f,i){D(t,f,i),e=!0},p(f,i){const s={};i[0]&1&&(s.workflow=f[0]),i[0]&2&&(s.namespace=f[1]),!n&&i[0]&4096&&(n=!0,s.open=f[12],oe(()=>n=!1)),t.$set(s)},i(f){e||(c(t.$$.fragment,f),e=!0)},o(f){m(t.$$.fragment,f),e=!1},d(f){C(t,f)}}}function kn(r){let t,n,e;function l(f){r[32](f)}let o={refresh:Fe,workflow:r[0],namespace:r[1]};return r[13]!==void 0&&(o.open=r[13]),t=new Pr({props:o}),re.push(()=>fe(t,"open",l)),{c(){E(t.$$.fragment)},l(f){T(t.$$.fragment,f)},m(f,i){D(t,f,i),e=!0},p(f,i){const s={};i[0]&1&&(s.workflow=f[0]),i[0]&2&&(s.namespace=f[1]),!n&&i[0]&8192&&(n=!0,s.open=f[13],oe(()=>n=!1)),t.$set(s)},i(f){e||(c(t.$$.fragment,f),e=!0)},o(f){m(t.$$.fragment,f),e=!1},d(f){C(t,f)}}}function bn(r){let t,n,e;function l(f){r[33](f)}let o={workflow:r[0],namespace:r[1]};return r[14]!==void 0&&(o.open=r[14]),t=new Lr({props:o}),re.push(()=>fe(t,"open",l)),{c(){E(t.$$.fragment)},l(f){T(t.$$.fragment,f)},m(f,i){D(t,f,i),e=!0},p(f,i){const s={};i[0]&1&&(s.workflow=f[0]),i[0]&2&&(s.namespace=f[1]),!n&&i[0]&16384&&(n=!0,s.open=f[14],oe(()=>n=!1)),t.$set(s)},i(f){e||(c(t.$$.fragment,f),e=!0)},o(f){m(t.$$.fragment,f),e=!1},d(f){C(t,f)}}}function vn(r){let t,n,e;function l(f){r[34](f)}let o={refresh:Fe,workflow:r[0],namespace:r[1]};return r[10]!==void 0&&(o.open=r[10]),t=new dl({props:o}),re.push(()=>fe(t,"open",l)),{c(){E(t.$$.fragment)},l(f){T(t.$$.fragment,f)},m(f,i){D(t,f,i),e=!0},p(f,i){const s={};i[0]&1&&(s.workflow=f[0]),i[0]&2&&(s.namespace=f[1]),!n&&i[0]&1024&&(n=!0,s.open=f[10],oe(()=>n=!1)),t.$set(s)},i(f){e||(c(t.$$.fragment,f),e=!0)},o(f){m(t.$$.fragment,f),e=!1},d(f){C(t,f)}}}function In(r){let t,n,e;function l(f){r[35](f)}let o={refresh:Fe,workflow:r[0],namespace:r[1]};return r[11]!==void 0&&(o.open=r[11]),t=new _l({props:o}),re.push(()=>fe(t,"open",l)),{c(){E(t.$$.fragment)},l(f){T(t.$$.fragment,f)},m(f,i){D(t,f,i),e=!0},p(f,i){const s={};i[0]&1&&(s.workflow=f[0]),i[0]&2&&(s.namespace=f[1]),!n&&i[0]&2048&&(n=!0,s.open=f[11],oe(()=>n=!1)),t.$set(s)},i(f){e||(c(t.$$.fragment,f),e=!0)},o(f){m(t.$$.fragment,f),e=!1},d(f){C(t,f)}}}function lo(r){let t,n,e,l,o,f,i,s,a,u;const d=[Gr,Yr,Jr],I=[];function $(_,b){return b[0]&512&&(t=null),_[3]?0:(t==null&&(t=!nt(_[9])),t?1:2)}n=$(r,[-1,-1]),e=I[n]=d[n](r);let k=r[8]&&hn(r),p=r[7]&&kn(r),w=r[6]&&bn(r),g=r[17]&&vn(r),v=r[5]&&In(r);return{c(){e.c(),l=H(),k&&k.c(),o=H(),p&&p.c(),f=H(),w&&w.c(),i=H(),g&&g.c(),s=H(),v&&v.c(),a=le()},l(_){e.l(_),l=y(_),k&&k.l(_),o=y(_),p&&p.l(_),f=y(_),w&&w.l(_),i=y(_),g&&g.l(_),s=y(_),v&&v.l(_),a=le()},m(_,b){I[n].m(_,b),W(_,l,b),k&&k.m(_,b),W(_,o,b),p&&p.m(_,b),W(_,f,b),w&&w.m(_,b),W(_,i,b),g&&g.m(_,b),W(_,s,b),v&&v.m(_,b),W(_,a,b),u=!0},p(_,b){let P=n;n=$(_,b),n===P?I[n].p(_,b):(G(),m(I[P],1,1,()=>{I[P]=null}),K(),e=I[n],e?e.p(_,b):(e=I[n]=d[n](_),e.c()),c(e,1),e.m(l.parentNode,l)),_[8]?k?(k.p(_,b),b[0]&256&&c(k,1)):(k=hn(_),k.c(),c(k,1),k.m(o.parentNode,o)):k&&(G(),m(k,1,1,()=>{k=null}),K()),_[7]?p?(p.p(_,b),b[0]&128&&c(p,1)):(p=kn(_),p.c(),c(p,1),p.m(f.parentNode,f)):p&&(G(),m(p,1,1,()=>{p=null}),K()),_[6]?w?(w.p(_,b),b[0]&64&&c(w,1)):(w=bn(_),w.c(),c(w,1),w.m(i.parentNode,i)):w&&(G(),m(w,1,1,()=>{w=null}),K()),_[17]?g?(g.p(_,b),b[0]&131072&&c(g,1)):(g=vn(_),g.c(),c(g,1),g.m(s.parentNode,s)):g&&(G(),m(g,1,1,()=>{g=null}),K()),_[5]?v?(v.p(_,b),b[0]&32&&c(v,1)):(v=In(_),v.c(),c(v,1),v.m(a.parentNode,a)):v&&(G(),m(v,1,1,()=>{v=null}),K())},i(_){u||(c(e),c(k),c(p),c(w),c(g),c(v),u=!0)},o(_){m(e),m(k),m(p),m(w),m(g),m(v),u=!1},d(_){_&&(h(l),h(o),h(f),h(i),h(s),h(a)),I[n].d(_),k&&k.d(_),p&&p.d(_),w&&w.d(_),g&&g.d(_),v&&v.d(_)}}}function ro(r,t,n){let e,l,o,f,i,s,a,u,d,I,$;ne(r,Ln,X=>n(24,u=X)),ne(r,Ve,X=>n(9,I=X)),ne(r,On,X=>n(18,$=X));var k,p,w;let{workflow:g}=t,{namespace:v}=t,{cancelInProgress:_}=t,{isRunning:b}=t,P=!1,A=!1,F=!1,V=!1,q=!1,L,ue=vl();ne(r,ue,X=>n(25,d=X));let ie;const _e=()=>At(Vt({namespace:v,workflowId:g.id,taskQueue:g.taskQueue,workflowType:g.name})),j=()=>n(10,P=!0),me=()=>At(Vt({namespace:v,workflowId:g.id,taskQueue:g.taskQueue,workflowType:g.name})),O=()=>n(12,F=!0),M=()=>n(12,F=!0);function R(X){F=X,n(12,F),n(8,s),n(4,L),n(7,l),n(6,o),n(5,f),n(23,i),n(0,g),n(20,k),n(24,u),n(21,p),n(22,w),n(9,I),n(25,d),n(1,v)}function ae(X){V=X,n(13,V),n(8,s),n(4,L),n(7,l),n(6,o),n(5,f),n(23,i),n(0,g),n(20,k),n(24,u),n(21,p),n(22,w),n(9,I),n(25,d),n(1,v)}function he(X){q=X,n(14,q),n(8,s),n(4,L),n(7,l),n(6,o),n(5,f),n(23,i),n(0,g),n(20,k),n(24,u),n(21,p),n(22,w),n(9,I),n(25,d),n(1,v)}function U(X){P=X,n(10,P)}function x(X){A=X,n(11,A),n(8,s),n(4,L),n(7,l),n(6,o),n(5,f),n(23,i),n(0,g),n(20,k),n(24,u),n(21,p),n(22,w),n(9,I),n(25,d),n(1,v)}return r.$$set=X=>{"workflow"in X&&n(0,g=X.workflow),"namespace"in X&&n(1,v=X.namespace),"cancelInProgress"in X&&n(2,_=X.cancelInProgress),"isRunning"in X&&n(3,b=X.isRunning)},r.$$.update=()=>{r.$$.dirty[0]&33554946&&n(17,e=cl(I.data.settings,d,v)),r.$$.dirty[0]&33554946&&n(7,l=Qr(I.data.settings,d,v)),r.$$.dirty[0]&33554946&&n(6,o=zr(I.data.settings,d,v)),r.$$.dirty[0]&33554946&&n(5,f=ml(I.data.settings,d,v)),r.$$.dirty[0]&33554946&&n(23,i=pl(I.data.settings,d,v)),r.$$.dirty[0]&26214401&&n(8,s=i&&(n(20,k=g==null?void 0:g.pendingChildren)===null||k===void 0?void 0:k.length)===0&&u.length>0),r.$$.dirty[0]&416&&n(16,a=!s&&!l&&!f),r.$$.dirty[0]&31457281&&(i?i&&(n(21,p=g==null?void 0:g.pendingChildren)===null||p===void 0?void 0:p.length)>0?n(4,L=S("workflows.reset-disabled-pending-children")):i&&(n(22,w=g==null?void 0:g.pendingChildren)===null||w===void 0?void 0:w.length)===0&&u.length===0&&n(4,L=S("workflows.reset-disabled-no-events")):n(4,L=S("workflows.reset-disabled-unauthorized"))),r.$$.dirty[0]&496&&n(15,ie=[{label:S("workflows.reset"),onClick:()=>n(12,F=!0),testId:"reset-button",enabled:s,description:s?"":L},{label:S("workflows.signal"),onClick:()=>n(13,V=!0),testId:"signal-button",enabled:l,description:l?"":S("workflows.signal-disabled")},{label:S("workflows.update"),onClick:()=>n(14,q=!0),testId:"update-button",enabled:o,description:o?"":S("workflows.update-disabled")},{label:S("workflows.terminate"),onClick:()=>n(11,A=!0),testId:"terminate-button",enabled:f,destructive:!0,description:f?"":S("workflows.terminate-disabled")}])},[g,v,_,b,L,f,o,l,s,I,P,A,F,V,q,ie,a,e,$,ue,k,p,w,i,u,d,_e,j,me,O,M,R,ae,he,U,x]}class En extends Te{constructor(t){super(),De(this,t,ro,lo,ve,{workflow:0,namespace:1,cancelInProgress:2,isRunning:3},null,[-1,-1])}}const oo=(r,t)=>{const n=r==="Running",e=t==null?void 0:t.some(l=>(l==null?void 0:l.eventType)==="WorkflowExecutionCancelRequested");return n&&e},Tn=r=>{const t=r==null?void 0:r.indexOf("?");return t>-1?r.slice(0,t):r},ke=(r,t,n=!1)=>{const e=Tn(r).split("/"),l=Tn(t).split("/");if(n&&e.length!==l.length)return!1;for(let o=0;o<e.length;o++){const f=e[o],i=l[o];if(f!==i)return!1}return!0};function fo(r){let t=(r[12]?S("common.workflows"):S("workflows.back-to-workflows"))+"",n;return{c(){n=ee(t)},l(e){n=te(e,t)},m(e,l){W(e,n,l)},p(e,l){l&4096&&t!==(t=(e[12]?S("common.workflows"):S("workflows.back-to-workflows"))+"")&&ce(n,t)},d(e){e&&h(n)}}}function Dn(r){let t,n;return t=new Me({props:{href:Se({...r[10]}),"data-testid":"back-to-workflow-execution",icon:"chevron-left",$$slots:{default:[so]},$$scope:{ctx:r}}}),{c(){E(t.$$.fragment)},l(e){T(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l&1024&&(o.href=Se({...e[10]})),l&2097153&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){m(t.$$.fragment,e),n=!1},d(e){C(t,e)}}}function so(r){var e;let t=((e=r[0])==null?void 0:e.runId)+"",n;return{c(){n=ee(t)},l(l){n=te(l,t)},m(l,o){W(l,n,o)},p(l,o){var f;o&1&&t!==(t=((f=l[0])==null?void 0:f.runId)+"")&&ce(n,t)},d(l){l&&h(n)}}}function Cn(r){let t,n,e,l;return n=new Be({props:{icon:"info",intent:"info",title:S("workflows.cancel-request-sent"),$$slots:{default:[io]},$$scope:{ctx:r}}}),{c(){t=z("div"),E(n.$$.fragment)},l(o){t=J(o,"DIV",{});var f=Y(t);T(n.$$.fragment,f),f.forEach(h)},m(o,f){W(o,t,f),D(n,t,null),l=!0},p(o,f){const i={};f&2097152&&(i.$$scope={dirty:f,ctx:o}),n.$set(i)},i(o){l||(c(n.$$.fragment,o),o&&(e||Pn(()=>{e=Fn(t,Bn,{duration:200,delay:100}),e.start()})),l=!0)},o(o){m(n.$$.fragment,o),l=!1},d(o){o&&h(t),C(n)}}}function io(r){let t=S("workflows.cancel-request-sent-description")+"",n;return{c(){n=ee(t)},l(e){n=te(e,t)},m(e,l){W(e,n,l)},p:de,d(e){e&&h(n)}}}function Wn(r){let t,n,e,l;return n=new Be({props:{icon:"info",intent:"info","data-testid":"workflow-reset-alert",title:S("workflows.reset-success-alert-title"),$$slots:{default:[uo]},$$scope:{ctx:r}}}),{c(){t=z("div"),E(n.$$.fragment)},l(o){t=J(o,"DIV",{});var f=Y(t);T(n.$$.fragment,f),f.forEach(h)},m(o,f){W(o,t,f),D(n,t,null),l=!0},p(o,f){const i={};f&2097166&&(i.$$scope={dirty:f,ctx:o}),n.$set(i)},i(o){l||(c(n.$$.fragment,o),o&&(e||Pn(()=>{e=Fn(t,Bn,{duration:200,delay:100}),e.start()})),l=!0)},o(o){m(n.$$.fragment,o),l=!1},d(o){o&&h(t),C(n)}}}function ao(r){let t;return{c(){t=ee("here")},l(n){t=te(n,"here")},m(n,e){W(n,t,e)},d(n){n&&h(t)}}}function uo(r){var o,f,i,s;let t,n,e,l;return n=new Me({props:{href:Se({namespace:r[1],workflow:(f=(o=r[3])==null?void 0:o.workflow)==null?void 0:f.id,run:r[2][(s=(i=r[3])==null?void 0:i.workflow)==null?void 0:s.runId]}),$$slots:{default:[ao]},$$scope:{ctx:r}}}),{c(){t=ee("You can find the resulting Workflow Execution "),E(n.$$.fragment),e=ee(".")},l(a){t=te(a,"You can find the resulting Workflow Execution "),T(n.$$.fragment,a),e=te(a,".")},m(a,u){W(a,t,u),D(n,a,u),W(a,e,u),l=!0},p(a,u){var I,$,k,p;const d={};u&14&&(d.href=Se({namespace:a[1],workflow:($=(I=a[3])==null?void 0:I.workflow)==null?void 0:$.id,run:a[2][(p=(k=a[3])==null?void 0:k.workflow)==null?void 0:p.runId]})),u&2097152&&(d.$$scope={dirty:u,ctx:a}),n.$set(d)},i(a){l||(c(n.$$.fragment,a),l=!0)},o(a){m(n.$$.fragment,a),l=!1},d(a){a&&(h(t),h(e)),C(n,a)}}}function co(r){var e;let t=((e=r[0])==null?void 0:e.historyEvents)+"",n;return{c(){n=ee(t)},l(l){n=te(l,t)},m(l,o){W(l,n,o)},p(l,o){var f;o&1&&t!==(t=((f=l[0])==null?void 0:f.historyEvents)+"")&&ce(n,t)},d(l){l&&h(n)}}}function mo(r){let t,n;return t=new Xe({props:{type:"primary",class:"px-2 py-0",$$slots:{default:[co]},$$scope:{ctx:r}}}),{c(){E(t.$$.fragment)},l(e){T(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l&2097153&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){m(t.$$.fragment,e),n=!1},d(e){C(t,e)}}}function po(r){let t=r[5].relationshipCount+"",n;return{c(){n=ee(t)},l(e){n=te(e,t)},m(e,l){W(e,n,l)},p(e,l){l&32&&t!==(t=e[5].relationshipCount+"")&&ce(n,t)},d(e){e&&h(n)}}}function _o(r){let t,n;return t=new Xe({props:{type:"primary",class:"px-2 py-0",$$slots:{default:[po]},$$scope:{ctx:r}}}),{c(){E(t.$$.fragment)},l(e){T(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l&2097184&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){m(t.$$.fragment,e),n=!1},d(e){C(t,e)}}}function go(r){var e,l;let t=((l=(e=r[11])==null?void 0:e.pollers)==null?void 0:l.length)+"",n;return{c(){n=ee(t)},l(o){n=te(o,t)},m(o,f){W(o,n,f)},p(o,f){var i,s;f&2048&&t!==(t=((s=(i=o[11])==null?void 0:i.pollers)==null?void 0:s.length)+"")&&ce(n,t)},d(o){o&&h(n)}}}function $o(r){let t,n;return t=new Xe({props:{type:"primary",class:"px-2 py-0",$$slots:{default:[go]},$$scope:{ctx:r}}}),{c(){E(t.$$.fragment)},l(e){T(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l&2099200&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){m(t.$$.fragment,e),n=!1},d(e){C(t,e)}}}function Sn(r){let t,n;return t=new Ne({props:{name:"canceled"}}),{c(){E(t.$$.fragment)},l(e){T(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){m(t.$$.fragment,e),n=!1},d(e){C(t,e)}}}function wo(r){var i,s;let t,n,e=((s=(i=r[0])==null?void 0:i.pendingActivities)==null?void 0:s.length)+"",l,o,f=r[8]&&Sn();return{c(){t=z("div"),f&&f.c(),n=H(),l=ee(e),this.h()},l(a){t=J(a,"DIV",{class:!0});var u=Y(t);f&&f.l(u),n=y(u),l=te(u,e),u.forEach(h),this.h()},h(){Q(t,"class","flex items-center gap-1")},m(a,u){W(a,t,u),f&&f.m(t,null),B(t,n),B(t,l),o=!0},p(a,u){var d,I;a[8]?f?u&256&&c(f,1):(f=Sn(),f.c(),c(f,1),f.m(t,n)):f&&(G(),m(f,1,1,()=>{f=null}),K()),(!o||u&1)&&e!==(e=((I=(d=a[0])==null?void 0:d.pendingActivities)==null?void 0:I.length)+"")&&ce(l,e)},i(a){o||(c(f),o=!0)},o(a){m(f),o=!1},d(a){a&&h(t),f&&f.d()}}}function ho(r){let t,n;return t=new Xe({props:{type:r[8]?"warning":"primary",class:"px-2 py-0",$$slots:{default:[wo]},$$scope:{ctx:r}}}),{c(){E(t.$$.fragment)},l(e){T(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l&256&&(o.type=e[8]?"warning":"primary"),l&2097409&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){m(t.$$.fragment,e),n=!1},d(e){C(t,e)}}}function ko(r){let t,n,e,l,o,f,i,s,a,u,d,I,$,k;return t=new Re({props:{label:S("workflows.history-tab"),id:"history-tab",href:Se({...r[10]}),active:ke(r[4].url.pathname,Se({...r[10]})),$$slots:{default:[mo]},$$scope:{ctx:r}}}),e=new Re({props:{label:S("workflows.relationships"),id:"relationships-tab",href:Ue(r[10]),active:ke(r[4].url.pathname,Ue(r[10])),$$slots:{default:[_o]},$$scope:{ctx:r}}}),o=new Re({props:{label:S("workflows.workers-tab"),id:"workers-tab",href:Ae(r[10]),active:ke(r[4].url.pathname,Ae(r[10])),$$slots:{default:[$o]},$$scope:{ctx:r}}}),i=new Re({props:{label:S("workflows.pending-activities-tab"),id:"pending-activities-tab",href:He(r[10]),active:ke(r[4].url.pathname,He(r[10])),$$slots:{default:[ho]},$$scope:{ctx:r}}}),a=new Re({props:{label:S("workflows.call-stack-tab"),id:"call-stack-tab",href:ye(r[10]),active:ke(r[4].url.pathname,ye(r[10]))}}),d=new Re({props:{label:S("workflows.queries-tab"),id:"queries-tab",href:je(r[10]),active:ke(r[4].url.pathname,je(r[10]))}}),$=new Re({props:{label:S("workflows.metadata-tab"),id:"metadata-tab",href:Oe(r[10]),active:ke(r[4].url.pathname,Oe(r[10]))}}),{c(){E(t.$$.fragment),n=H(),E(e.$$.fragment),l=H(),E(o.$$.fragment),f=H(),E(i.$$.fragment),s=H(),E(a.$$.fragment),u=H(),E(d.$$.fragment),I=H(),E($.$$.fragment)},l(p){T(t.$$.fragment,p),n=y(p),T(e.$$.fragment,p),l=y(p),T(o.$$.fragment,p),f=y(p),T(i.$$.fragment,p),s=y(p),T(a.$$.fragment,p),u=y(p),T(d.$$.fragment,p),I=y(p),T($.$$.fragment,p)},m(p,w){D(t,p,w),W(p,n,w),D(e,p,w),W(p,l,w),D(o,p,w),W(p,f,w),D(i,p,w),W(p,s,w),D(a,p,w),W(p,u,w),D(d,p,w),W(p,I,w),D($,p,w),k=!0},p(p,w){const g={};w&1024&&(g.href=Se({...p[10]})),w&1040&&(g.active=ke(p[4].url.pathname,Se({...p[10]}))),w&2097153&&(g.$$scope={dirty:w,ctx:p}),t.$set(g);const v={};w&1024&&(v.href=Ue(p[10])),w&1040&&(v.active=ke(p[4].url.pathname,Ue(p[10]))),w&2097184&&(v.$$scope={dirty:w,ctx:p}),e.$set(v);const _={};w&1024&&(_.href=Ae(p[10])),w&1040&&(_.active=ke(p[4].url.pathname,Ae(p[10]))),w&2099200&&(_.$$scope={dirty:w,ctx:p}),o.$set(_);const b={};w&1024&&(b.href=He(p[10])),w&1040&&(b.active=ke(p[4].url.pathname,He(p[10]))),w&2097409&&(b.$$scope={dirty:w,ctx:p}),i.$set(b);const P={};w&1024&&(P.href=ye(p[10])),w&1040&&(P.active=ke(p[4].url.pathname,ye(p[10]))),a.$set(P);const A={};w&1024&&(A.href=je(p[10])),w&1040&&(A.active=ke(p[4].url.pathname,je(p[10]))),d.$set(A);const F={};w&1024&&(F.href=Oe(p[10])),w&1040&&(F.active=ke(p[4].url.pathname,Oe(p[10]))),$.$set(F)},i(p){k||(c(t.$$.fragment,p),c(e.$$.fragment,p),c(o.$$.fragment,p),c(i.$$.fragment,p),c(a.$$.fragment,p),c(d.$$.fragment,p),c($.$$.fragment,p),k=!0)},o(p){m(t.$$.fragment,p),m(e.$$.fragment,p),m(o.$$.fragment,p),m(i.$$.fragment,p),m(a.$$.fragment,p),m(d.$$.fragment,p),m($.$$.fragment,p),k=!1},d(p){p&&(h(n),h(l),h(f),h(s),h(u),h(I)),C(t,p),C(e,p),C(o,p),C(i,p),C(a,p),C(d,p),C($,p)}}}function bo(r){let t,n;return t=new Tl({props:{class:"flex flex-wrap gap-6 pt-2",label:"workflow detail",$$slots:{default:[ko]},$$scope:{ctx:r}}}),{c(){E(t.$$.fragment)},l(e){T(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l&2100529&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){m(t.$$.fragment,e),n=!1},d(e){C(t,e)}}}function vo(r){var ae,he;let t,n,e,l,o,f,i,s,a,u,d,I,$,k,p,w,g,v,_,b,P,A,F,V,q,L,ue,ie,_e,j,me;e=new Me({props:{href:`${ze({namespace:r[1]})}?${r[13]}`,"data-testid":"back-to-workflows",icon:"chevron-left",$$slots:{default:[fo]},$$scope:{ctx:r}}});let O=r[12]&&Dn(r);u=new Il({props:{status:(ae=r[0])==null?void 0:ae.status,big:!0}}),$=new En({props:{isRunning:r[9],cancelInProgress:r[7],workflow:r[0],namespace:r[1]}}),g=new Un({props:{copyIconTitle:S("common.copy-icon-title"),copySuccessIconTitle:S("common.copy-success-icon-title"),content:(he=r[0])==null?void 0:he.id,clickAllToCopy:!0,"container-class":"w-full",class:"overflow-hidden text-ellipsis text-left"}}),b=new En({props:{isRunning:r[9],cancelInProgress:r[7],workflow:r[0],namespace:r[1]}}),A=new cr({}),V=new fr({}),L=new Zl({props:{workflow:r[0]}});let M=r[7]&&Cn(r),R=r[6]&&Wn(r);return j=new El({props:{$$slots:{default:[bo]},$$scope:{ctx:r}}}),{c(){t=z("div"),n=z("div"),E(e.$$.fragment),l=H(),O&&O.c(),o=H(),f=z("header"),i=z("div"),s=z("div"),a=z("div"),E(u.$$.fragment),d=H(),I=z("div"),E($.$$.fragment),k=H(),p=z("div"),w=z("h1"),E(g.$$.fragment),v=H(),_=z("div"),E(b.$$.fragment),P=H(),E(A.$$.fragment),F=H(),E(V.$$.fragment),q=H(),E(L.$$.fragment),ue=H(),M&&M.c(),ie=H(),R&&R.c(),_e=H(),E(j.$$.fragment),this.h()},l(U){t=J(U,"DIV",{class:!0});var x=Y(t);n=J(x,"DIV",{class:!0});var X=Y(n);T(e.$$.fragment,X),l=y(X),O&&O.l(X),X.forEach(h),x.forEach(h),o=y(U),f=J(U,"HEADER",{class:!0});var se=Y(f);i=J(se,"DIV",{class:!0});var pe=Y(i);s=J(pe,"DIV",{class:!0});var N=Y(s);a=J(N,"DIV",{class:!0});var Z=Y(a);T(u.$$.fragment,Z),d=y(Z),I=J(Z,"DIV",{class:!0});var ge=Y(I);T($.$$.fragment,ge),ge.forEach(h),Z.forEach(h),k=y(N),p=J(N,"DIV",{class:!0});var $e=Y(p);w=J($e,"H1",{"data-testid":!0,class:!0});var be=Y(w);T(g.$$.fragment,be),be.forEach(h),$e.forEach(h),N.forEach(h),v=y(pe),_=J(pe,"DIV",{class:!0});var We=Y(_);T(b.$$.fragment,We),We.forEach(h),pe.forEach(h),P=y(se),T(A.$$.fragment,se),F=y(se),T(V.$$.fragment,se),q=y(se),T(L.$$.fragment,se),ue=y(se),M&&M.l(se),ie=y(se),R&&R.l(se),_e=y(se),T(j.$$.fragment,se),se.forEach(h),this.h()},h(){Q(n,"class","flex items-center gap-2"),Q(t,"class","flex items-center justify-between pb-4"),Q(I,"class","lg:hidden"),Q(a,"class","flex flex-wrap items-center justify-between gap-4 max-lg:w-full"),Q(w,"data-testid","workflow-id-heading"),Q(w,"class","gap-0 overflow-hidden max-sm:text-xl sm:max-md:text-2xl"),Q(p,"class","flex flex-col flex-wrap gap-0"),Q(s,"class","flex w-full flex-col items-start gap-4 lg:flex-row lg:items-center"),Q(_,"class","max-lg:hidden"),Q(i,"class","flex flex-col items-center justify-between gap-4 lg:flex-row"),Q(f,"class","flex flex-col gap-2")},m(U,x){W(U,t,x),B(t,n),D(e,n,null),B(n,l),O&&O.m(n,null),W(U,o,x),W(U,f,x),B(f,i),B(i,s),B(s,a),D(u,a,null),B(a,d),B(a,I),D($,I,null),B(s,k),B(s,p),B(p,w),D(g,w,null),B(i,v),B(i,_),D(b,_,null),B(f,P),D(A,f,null),B(f,F),D(V,f,null),B(f,q),D(L,f,null),B(f,ue),M&&M.m(f,null),B(f,ie),R&&R.m(f,null),B(f,_e),D(j,f,null),me=!0},p(U,[x]){var be,We;const X={};x&8194&&(X.href=`${ze({namespace:U[1]})}?${U[13]}`),x&2101248&&(X.$$scope={dirty:x,ctx:U}),e.$set(X),U[12]?O?(O.p(U,x),x&4096&&c(O,1)):(O=Dn(U),O.c(),c(O,1),O.m(n,null)):O&&(G(),m(O,1,1,()=>{O=null}),K());const se={};x&1&&(se.status=(be=U[0])==null?void 0:be.status),u.$set(se);const pe={};x&512&&(pe.isRunning=U[9]),x&128&&(pe.cancelInProgress=U[7]),x&1&&(pe.workflow=U[0]),x&2&&(pe.namespace=U[1]),$.$set(pe);const N={};x&1&&(N.content=(We=U[0])==null?void 0:We.id),g.$set(N);const Z={};x&512&&(Z.isRunning=U[9]),x&128&&(Z.cancelInProgress=U[7]),x&1&&(Z.workflow=U[0]),x&2&&(Z.namespace=U[1]),b.$set(Z);const ge={};x&1&&(ge.workflow=U[0]),L.$set(ge),U[7]?M?(M.p(U,x),x&128&&c(M,1)):(M=Cn(U),M.c(),c(M,1),M.m(f,ie)):M&&(G(),m(M,1,1,()=>{M=null}),K()),U[6]?R?(R.p(U,x),x&64&&c(R,1)):(R=Wn(U),R.c(),c(R,1),R.m(f,_e)):R&&(G(),m(R,1,1,()=>{R=null}),K());const $e={};x&2100529&&($e.$$scope={dirty:x,ctx:U}),j.$set($e)},i(U){me||(c(e.$$.fragment,U),c(O),c(u.$$.fragment,U),c($.$$.fragment,U),c(g.$$.fragment,U),c(b.$$.fragment,U),c(A.$$.fragment,U),c(V.$$.fragment,U),c(L.$$.fragment,U),c(M),c(R),c(j.$$.fragment,U),me=!0)},o(U){m(e.$$.fragment,U),m(O),m(u.$$.fragment,U),m($.$$.fragment,U),m(g.$$.fragment,U),m(b.$$.fragment,U),m(A.$$.fragment,U),m(V.$$.fragment,U),m(L.$$.fragment,U),m(M),m(R),m(j.$$.fragment,U),me=!1},d(U){U&&(h(t),h(o),h(f)),C(e),O&&O.d(),C(u),C($),C(g),C(b),C(A),C(V),C(L),M&&M.d(),R&&R.d(),C(j)}}}function Io(r,t,n){let e,l,o,f,i,s,a,u,d,I,$,k,p,w,g,v,_,b;ne(r,Dl,V=>n(19,p=V)),ne(r,Le,V=>n(20,w=V)),ne(r,Gn,V=>n(2,g=V)),ne(r,Ee,V=>n(3,v=V)),ne(r,Ve,V=>n(4,_=V)),ne(r,qn,V=>n(13,b=V));var P,A,F;return r.$$.update=()=>{r.$$.dirty&16&&n(1,{namespace:e,workflow:l,run:o,id:f}=_.params,e,(n(18,l),n(4,_)),(n(17,o),n(4,_)),(n(12,f),n(4,_))),r.$$.dirty&8&&n(0,{workflow:i,workers:s}=v,i,(n(11,s),n(3,v))),r.$$.dirty&393218&&n(10,a={namespace:e,workflow:l,run:o}),r.$$.dirty&16392&&n(9,u=n(14,P=v==null?void 0:v.workflow)===null||P===void 0?void 0:P.isRunning),r.$$.dirty&32776&&n(8,d=["Terminated","TimedOut","Canceled"].includes(n(15,A=v.workflow)===null||A===void 0?void 0:A.status)),r.$$.dirty&1114120&&n(7,I=oo(n(16,F=v==null?void 0:v.workflow)===null||F===void 0?void 0:F.status,w)),r.$$.dirty&131076&&n(6,$=Wl(g,o)),r.$$.dirty&1572865&&n(5,k=Cl(i,w,p))},[i,e,g,v,_,k,$,I,d,u,a,s,f,b,P,A,F,o,l,p,w]}class Eo extends Te{constructor(t){super(),De(this,t,Io,vo,ve,{})}}function To(r){let t,n,e,l,o;const f=[So,Wo,Co],i=[];function s(a,u){return a[1]?0:a[0].workflow?2:1}return n=s(r),e=i[n]=f[n](r),{c(){t=z("div"),e.c(),this.h()},l(a){t=J(a,"DIV",{class:!0});var u=Y(t);e.l(u),u.forEach(h),this.h()},h(){Q(t,"class",l="absolute bottom-0 left-0 right-0 "+(r[5]?"top-[540px]":"top-0")+" flex h-full flex-col")},m(a,u){W(a,t,u),i[n].m(t,null),o=!0},p(a,u){let d=n;n=s(a),n===d?i[n].p(a,u):(G(),m(i[d],1,1,()=>{i[d]=null}),K(),e=i[n],e?e.p(a,u):(e=i[n]=f[n](a),e.c()),c(e,1),e.m(t,null)),(!o||u&32&&l!==(l="absolute bottom-0 left-0 right-0 "+(a[5]?"top-[540px]":"top-0")+" flex h-full flex-col"))&&Q(t,"class",l)},i(a){o||(c(e),o=!0)},o(a){m(e),o=!1},d(a){a&&h(t),i[n].d()}}}function Do(r){let t,n,e,l=lt(r[2],null,2)+"",o,f;return n=new ol({props:{copyIconTitle:S("common.copy-icon-title"),copySuccessIconTitle:S("common.copy-success-icon-title"),class:"absolute right-1 top-1",copied:r[4]}}),n.$on("click",r[7]),{c(){t=z("div"),E(n.$$.fragment),e=H(),o=ee(l),this.h()},l(i){t=J(i,"DIV",{class:!0});var s=Y(t);T(n.$$.fragment,s),e=y(s),o=te(s,l),s.forEach(h),this.h()},h(){Q(t,"class","relative h-auto whitespace-break-spaces break-words bg-primary p-4")},m(i,s){W(i,t,s),D(n,t,null),B(t,e),B(t,o),f=!0},p(i,s){const a={};s&16&&(a.copied=i[4]),n.$set(a),(!f||s&4)&&l!==(l=lt(i[2],null,2)+"")&&ce(o,l)},i(i){f||(c(n.$$.fragment,i),f=!0)},o(i){m(n.$$.fragment,i),f=!1},d(i){i&&h(t),C(n)}}}function Co(r){let t,n,e,l;n=new Eo({});const o=r[16].default,f=Vn(o,r,r[15],null);return{c(){t=z("div"),E(n.$$.fragment),e=H(),f&&f.c(),this.h()},l(i){t=J(i,"DIV",{class:!0});var s=Y(t);T(n.$$.fragment,s),s.forEach(h),e=y(i),f&&f.l(i),this.h()},h(){Q(t,"class","border-b border-subtle px-4 pt-8 md:pt-20 xl:px-8")},m(i,s){W(i,t,s),D(n,t,null),W(i,e,s),f&&f.m(i,s),l=!0},p(i,s){f&&f.p&&(!l||s&32768)&&An(f,o,i,i[15],l?Nn(o,i[15],s,null):Mn(i[15]),null)},i(i){l||(c(n.$$.fragment,i),c(f,i),l=!0)},o(i){m(n.$$.fragment,i),m(f,i),l=!1},d(i){i&&(h(t),h(e)),C(n),f&&f.d(i)}}}function Wo(r){let t,n;return t=new fl({props:{class:"pt-24"}}),{c(){E(t.$$.fragment)},l(e){T(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p:de,i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){m(t.$$.fragment,e),n=!1},d(e){C(t,e)}}}function So(r){let t,n;return t=new ql({props:{error:r[1]}}),{c(){E(t.$$.fragment)},l(e){T(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l&2&&(o.error=e[1]),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){m(t.$$.fragment,e),n=!1},d(e){C(t,e)}}}function Po(r){let t,n,e,l;const o=[Do,To],f=[];function i(s,a){return s[3]?0:1}return t=i(r),n=f[t]=o[t](r),{c(){n.c(),e=le()},l(s){n.l(s),e=le()},m(s,a){f[t].m(s,a),W(s,e,a),l=!0},p(s,[a]){let u=t;t=i(s),t===u?f[t].p(s,a):(G(),m(f[u],1,1,()=>{f[u]=null}),K(),n=f[t],n?n.p(s,a):(n=f[t]=o[t](s),n.c()),c(n,1),n.m(e.parentNode,e))},i(s){l||(c(n),l=!0)},o(s){m(n),l=!1},d(s){s&&h(e),f[t].d(s)}}}function Ro(r,t,n){let e,l,o,f,i,s,a,u,d,I,$,k,p,w,g,v;ne(r,Mt,M=>n(19,s=M)),ne(r,Ve,M=>n(11,a=M)),ne(r,gl,M=>n(12,u=M)),ne(r,Le,M=>n(13,d=M)),ne(r,Nt,M=>n(20,I=M)),ne(r,Fe,M=>n(14,$=M)),ne(r,Ee,M=>n(0,k=M)),ne(r,Ft,M=>n(21,p=M)),ne(r,jn,M=>n(22,w=M)),ne(r,el,M=>n(5,v=M));let{$$slots:_={},$$scope:b}=t,P,A,F;const{copy:V,copied:q}=Al();ne(r,q,M=>n(4,g=M));const L=M=>{V(M,lt(i))},ue=async M=>{const R={summary:"",details:""};try{if(M!=null&&M.summary){const ae=await Bt(M.summary);typeof ae=="string"&&(R.summary=ae)}if(M!=null&&M.details){const ae=await Bt(M.details);typeof ae=="string"&&(R.details=ae)}we(Ee,k={...k,userMetadata:R},k)}catch(ae){console.error("Error decoding user metadata",ae)}},ie=async(M,R,ae)=>{var he;const{settings:U}=a.data,{workflow:x,error:X}=await Wt({namespace:M,workflowId:R,runId:ae});if(X){n(1,P=X);return}await ue(x);const{taskQueue:se}=x,pe=await Rl({queue:se,namespace:M});we(Ee,k={...k,workflow:x,workers:pe},k),A=new AbortController,x.isRunning&&(!((he=pe==null?void 0:pe.pollers)===null||he===void 0)&&he.length)&&yn({namespace:M,workflow:{id:R,runId:ae}},U,w==null?void 0:w.accessToken,A.signal).then(N=>{we(Ee,k.metadata=N,k)}),we(Le,d=await Pl({namespace:M,workflowId:R,runId:ae,sort:"ascending",signal:A.signal,historySize:x.historyEvents}),d)},_e=async M=>{var R;if(M&&(!((R=k==null?void 0:k.workflow)===null||R===void 0)&&R.isRunning)){const{workflow:ae,error:he}=await Wt({namespace:e,workflowId:l,runId:o});if(he){n(1,P=he);return}we(Ee,k.workflow=ae,k)}},j=()=>{we(Le,d=[],d),A&&A.abort()},me=()=>{we(Ft,p=null,p),we(Ee,k=ul,k),n(1,P=void 0),j(),Vl(),clearInterval(F),F=null},O=(M,R)=>{R||we(Nt,I=M,I)};return xn(()=>{const M=a.url.searchParams.get("sort");M&&we(Mt,s=M,s),F=setInterval(()=>{Sl()},1e4)}),Rn(()=>{me()}),r.$$set=M=>{"$$scope"in M&&n(15,b=M.$$scope)},r.$$.update=()=>{r.$$.dirty&2048&&n(10,{namespace:e,workflow:l,run:o}=a.params,e,(n(9,l),n(11,a)),(n(8,o),n(11,a))),r.$$.dirty&2048&&n(3,f=a.url.searchParams.has("json")),r.$$.dirty&8193&&n(2,i={...k,eventHistory:d}),r.$$.dirty&256&&me(),r.$$.dirty&1792&&ie(e,l,o),r.$$.dirty&16384&&_e($),r.$$.dirty&12288&&O(d,u)},[k,P,i,f,g,v,q,L,o,l,e,a,u,d,$,b,_]}class Vo extends Te{constructor(t){super(),De(this,t,Ro,Po,ve,{})}}const Kn={namespace:null,workflowId:null,runId:null,rawPayloads:null,sort:null},Ao=Ge(Kn),Mo=()=>{Ao.set(Kn)};function No(r){let t;const n=r[0].default,e=Vn(n,r,r[1],null);return{c(){e&&e.c()},l(l){e&&e.l(l)},m(l,o){e&&e.m(l,o),t=!0},p(l,o){e&&e.p&&(!t||o&2)&&An(e,n,l,l[1],t?Nn(n,l[1],o,null):Mn(l[1]),null)},i(l){t||(c(e,l),t=!0)},o(l){m(e,l),t=!1},d(l){e&&e.d(l)}}}function Fo(r){let t,n;return t=new Vo({props:{$$slots:{default:[No]},$$scope:{ctx:r}}}),{c(){E(t.$$.fragment)},l(e){T(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,[l]){const o={};l&2&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){m(t.$$.fragment,e),n=!1},d(e){C(t,e)}}}function qo(r,t,n){let{$$slots:e={},$$scope:l}=t;return Rn(()=>{Mo()}),r.$$set=o=>{"$$scope"in o&&n(1,l=o.$$scope)},[e,l]}class Qf extends Te{constructor(t){super(),De(this,t,qo,Fo,ve,{})}}export{Qf as component};
