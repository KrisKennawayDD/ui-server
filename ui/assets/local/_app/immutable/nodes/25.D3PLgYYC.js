import"../chunks/CWj6FrbW.js";import"../chunks/69_IOA4Y.js";import{p as ge,e as o,r as a,c as i,t as $,d as t,b as he,f as j,g as e,l as Se,s as c,m as R,ag as Yt,a as _t,n as xe,i as Ot,az as pt}from"../chunks/BZ1i_Yzi.js";import{t as y,a as d,b as fe,c as Pe}from"../chunks/B11KKQxI.js";import{i as $e}from"../chunks/EXou6kTq.js";import{s as at,a as ve,b as Be}from"../chunks/nHCSEYHe.js";import{p as Zt}from"../chunks/Bbra2E9T.js";import{P as jr}from"../chunks/BSbw5w3E.js";import{s as u}from"../chunks/BtIgVYD3.js";import{a as er}from"../chunks/C5EvHk3S.js";import{i as _e}from"../chunks/Pfo2U1_a.js";import{e as Fe,i as Ee}from"../chunks/DT_Kaee1.js";import{w as Nr}from"../chunks/Dm8LSs3h.js";import{g as Qr}from"../chunks/CGneVVhM.js";import{C as Vr}from"../chunks/hhJAF3Ib.js";import{p as N,l as ft}from"../chunks/DQFlnzBt.js";import{A as tr}from"../chunks/_VWKXSg6.js";import{t as r}from"../chunks/D2OY9xdY.js";import{s as Gr}from"../chunks/DBXxAZ3D.js";import{s as Jr,b as Kr}from"../chunks/BqyZnqh5.js";import{S as Xr}from"../chunks/DH1Js5vM.js";import{p as Ze,s as rr}from"../chunks/CTBtQUu0.js";import{B as Yr}from"../chunks/D6I1ivHq.js";import{C as mt}from"../chunks/C2k67nnR.js";import{P as qt}from"../chunks/DenmdK1Z.js";import{E as sr}from"../chunks/BH5Z54-t.js";import{L as qe}from"../chunks/t_E13Tfw.js";import{v as Zr,j as Et,x as es,r as ts,w as rs}from"../chunks/CThSBLS2.js";import{f as je,r as gt,t as ht,g as jt}from"../chunks/iju4fhDV.js";import{d as ar}from"../chunks/BOkQ1rrX.js";import{m as ss,b as as,p as et,y as os}from"../chunks/DiQv-zHF.js";import{W as or}from"../chunks/ASPrLBMs.js";import{d as ls}from"../chunks/Dc2KaQ9H.js";import{p as ns,s as Re,q as is}from"../chunks/qEOT7B5E.js";import{W as cs}from"../chunks/DKv6PJkz.js";import{B as Nt}from"../chunks/C7lvn3c4.js";import{D as Qt,T as Vt}from"../chunks/Cj37zZ-E.js";import{I as ds}from"../chunks/DrUA5UyL.js";import{I as us}from"../chunks/BAdCN0NY.js";import{L as Gt}from"../chunks/CJSepuex.js";import{d as tt}from"../chunks/B3tpXrOU.js";import{M as rt}from"../chunks/9Y0JiiwH.js";import{R as Jt,a as Kt}from"../chunks/BEdqJc0w.js";import{S as vs}from"../chunks/Dg3Mn4z6.js";import{b as ps,T as ms}from"../chunks/oUOWhY1x.js";import{f as Oe,l as st,u as fs,p as _s,t as gs,d as hs,g as $s}from"../chunks/CJq3YN73.js";import{c as xs}from"../chunks/CgbhQxMf.js";var ws=y('<div><h2 class="mb-4"> </h2> <p> </p></div>');function bs(I,p){ge(p,!1);let m=N(p,"notes",8,"");$e();var S=ws(),g=o(S),h=o(g,!0);a(g);var k=i(g,2),C=o(k,!0);a(k),a(S),$(U=>{u(h,U),u(C,m())},[()=>r("common.notes")],t),d(I,S),he()}var ys=y('<li class="svelte-s42yf"> <span class="svelte-s42yf"> </span></li>'),ks=y('<ul class="settings-list svelte-s42yf"><li class="svelte-s42yf"> <span class="svelte-s42yf"> </span></li> <li class="svelte-s42yf"> <span class="svelte-s42yf"> </span></li> <li class="svelte-s42yf"> <span class="svelte-s42yf"> </span></li> <li class="svelte-s42yf"> <span class="svelte-s42yf"> </span></li> <!> <li class="svelte-s42yf"> <span class="svelte-s42yf"> </span></li></ul>'),Ts=y("<!> <!>",1);function Ps(I,p){ge(p,!1);let m=N(p,"spec",8),S=N(p,"state",8),g=N(p,"policies",8),h=N(p,"notes",8,"");$e();var k=Ts(),C=j(k);bs(C,{get notes(){return h()}});var U=i(C,2);const G=t(()=>r("schedules.advanced-settings"));tr(U,{get title(){return e(G)},children:(B,J)=>{var F=ks(),x=o(F),w=o(x),Q=i(w),H=o(Q,!0);a(Q),a(x);var V=i(x,2),K=o(V),ie=i(K),se=o(ie,!0);a(ie),a(V);var A=i(V,2),T=o(A),_=i(T),M=o(_,!0);a(_),a(A);var O=i(A,2),q=o(O),ae=i(q),Y=o(ae,!0);a(ae),a(O);var Z=i(O,2);{var ee=P=>{var z=ys(),me=o(z),re=i(me),we=o(re,!0);a(re),a(z),$((ce,ze)=>{u(me,`${ce??""} `),u(we,ze)},[()=>r("schedules.remaining-actions"),()=>{var ce;return((ce=S())==null?void 0:ce.remainingActions)??r("common.none")}],t),d(P,z)};_e(Z,P=>{var z;(z=S())!=null&&z.limitedActions&&P(ee)})}var pe=i(Z,2),te=o(pe),oe=i(te),le=o(oe,!0);a(oe),a(pe),a(F),$((P,z,me,re,we,ce,ze,ot,lt,Qe)=>{u(w,`${P??""} `),u(H,z),u(K,`${me??""} `),u(se,re),u(T,`${we??""} `),u(M,ce),u(q,`${ze??""} `),u(Y,ot),u(te,`${lt??""} `),u(le,Qe)},[()=>r("schedules.start-time"),()=>{var P;return((P=m())==null?void 0:P.startTime)??r("common.none")},()=>r("schedules.end-time"),()=>{var P;return((P=m())==null?void 0:P.endTime)??r("common.none")},()=>r("schedules.jitter"),()=>{var P;return((P=m())==null?void 0:P.jitter)??r("common.none")},()=>r("schedules.exclusion-calendar"),()=>{var P,z;return((z=(P=m())==null?void 0:P.excludeCalendar)==null?void 0:z[0])??r("common.none")},()=>r("schedules.overlap-policy"),()=>{var P;return((P=g())==null?void 0:P.overlapPolicy)??r("common.none")}],t),d(B,F)},$$slots:{default:!0}}),d(I,k),he()}var Ss=y("<div><!></div>");function Ne(I,p){const m=ft(p,["children","$$slots","$$events","$$legacy"]);ge(p,!1);let S=N(p,"error",8,!1);$e();var g=Ss();let h;var k=o(g);Gr(k,p,"default",{},null),a(g),$(C=>h=Jr(g,1,`panel surface-primary ${m.class??""}`,"svelte-eklrpl",h,C),[()=>({error:S()})],t),d(I,g),he()}var Cs=y('<p class="error-text svelte-130heqv"> </p> <p class="error-text svelte-130heqv"> </p>',1);function Xt(I,p){ge(p,!1);let m=N(p,"error",8,"");$e(),Ne(I,{error:!0,children:(S,g)=>{var h=Cs(),k=j(h),C=o(k,!0);a(k);var U=i(k,2),G=o(U,!0);a(U),$(B=>{u(C,B),u(G,m())},[()=>r("schedules.error-title")],t),d(S,h)},$$slots:{default:!0}}),he()}var As=y('<h2 class="mb-4"> </h2> <div class="pr-2"><!></div>',1);function Is(I,p){ge(p,!1);let m=N(p,"calendar",8,void 0),S=N(p,"interval",8,void 0),g=N(p,"timezoneName",8,"UTC");$e(),Ne(I,{children:(h,k)=>{var C=As(),U=j(C),G=o(U,!0);a(U);var B=i(U,2),J=o(B);Xr(J,{get calendar(){return m()},get interval(){return S()},get timezoneName(){return g()},class:"text-base"}),a(B),$(F=>u(G,F),[()=>r("schedules.schedule-spec")],t),d(h,C)},$$slots:{default:!0}}),he()}var Ds=y('<div class="max-h-96 overflow-auto p-1"><!></div>'),Ms=y('<article><h3 class="mb-2 flex items-center gap-2"> <!></h3> <!></article>');function Rs(I,p){const m=ft(p,["children","$$slots","$$events","$$legacy"]),S=ft(m,["content","title","running"]);ge(p,!1);const g=R(),h=R(),k=R(),C=R();let U=N(p,"content",8),G=N(p,"title",8),B=N(p,"running",8,!1);const J=_=>{try{return Ze(_)}catch{return}},F=_=>{try{const M=Ze(_);return Array.isArray(M)?Ze(_):[]}catch{return[]}},x=_=>{try{const M=_==null?void 0:_.payloads;return Array.isArray(M)?M:[]}catch{return[]}};Se(()=>Yt(U()),()=>{c(g,J(U()))}),Se(()=>e(g),()=>{c(h,x(e(g)))}),Se(()=>e(h),()=>{c(k,e(h).length>0)}),Se(()=>e(h),()=>{c(C,e(h).length>1)}),_t(),$e();var w=Ms();let Q;var H=o(w),V=o(H),K=i(V);{var ie=_=>{Yr(_,{type:"count",children:(M,O)=>{xe();var q=fe();$(()=>u(q,e(h).length)),d(M,q)},$$slots:{default:!0}})};_e(K,_=>{e(C)&&_(ie)})}a(H);var se=i(H,2);{var A=_=>{var M=Pe(),O=j(M);{var q=Y=>{var Z=Ds(),ee=o(Z);qt(ee,{get value(){return e(g)},key:"payloads",children:Ot,$$slots:{default:(pe,te)=>{const oe=t(()=>te.decodedValue);var le=Pe(),P=j(le);Fe(P,1,()=>F(e(oe)),Ee,(z,me)=>{const re=t(()=>rr(e(me))),we=t(()=>r("common.copy-icon-title")),ce=t(()=>r("common.copy-success-icon-title"));mt(z,{get content(){return e(re)},class:"mb-2",get copyIconTitle(){return e(we)},get copySuccessIconTitle(){return e(ce)}})}),d(pe,le)}}}),a(Z),d(Y,Z)},ae=Y=>{const Z=t(()=>Ze(U()));qt(Y,{get value(){return e(Z)},children:Ot,$$slots:{default:(ee,pe)=>{const te=t(()=>pe.decodedValue),oe=t(()=>r("common.copy-icon-title")),le=t(()=>r("common.copy-success-icon-title"));mt(ee,{get content(){return e(te)},class:"mb-2 pt-1",maxHeight:384,get copyIconTitle(){return e(oe)},get copySuccessIconTitle(){return e(le)}})}}})};_e(O,Y=>{e(k)?Y(q):Y(ae,!1)})}d(_,M)},T=_=>{const M=t(()=>B()?"Results will appear upon completion.":"");mt(_,{get content(){return e(M)},language:"text",class:"mb-2 pt-1",maxHeight:384,copyable:!1})};_e(se,_=>{U()?_(A):_(T,!1)})}a(w),$(()=>{Q=Kr(w,Q,{class:"flex w-full flex-col",...S}),u(V,`${G()??""} `)}),d(I,w),he()}function Us(I,p){ge(p,!1);let m=N(p,"input",8);$e(),Ne(I,{children:(S,g)=>{const h=t(()=>r("schedules.schedule-input")),k=t(()=>rr(m()));Rs(S,{get title(){return e(h)},get content(){return e(k)}})},$$slots:{default:!0}}),he()}var Ws=y('<div class="row svelte-19syzt9"><div class="w-28"><!></div> <div class="mx-2 w-auto break-words"><!></div> <div class="ml-auto"><p> </p></div></div>'),Bs=y('<div class="row svelte-19syzt9"><div class="w-28"></div> <div class="w-96"> </div> <div class="ml-auto"><p> </p></div></div>'),Fs=y('<div class="flex justify-between"><h2 class="mb-4"> </h2> <!></div> <!> <!>',1);function zs(I,p){ge(p,!1);const[m,S]=at(),g=()=>ve(ht,"$timeFormat",m),h=()=>ve(gt,"$relativeTime",m);let k=N(p,"recentRuns",24,()=>[]),C=N(p,"namespace",8),U=N(p,"workflowQuery",8);const G=B=>{var J,F;return(F=(J=B==null?void 0:B.sort((x,w)=>new Date(w.actualTime).getTime()-new Date(x.actualTime).getTime()))===null||J===void 0?void 0:J.slice(0,5))!==null&&F!==void 0?F:[]};$e(),Ne(I,{class:"w-full",children:(B,J)=>{var F=Fs(),x=j(F),w=o(x),Q=o(w,!0);a(w);var H=i(w,2);const V=t(()=>ss({namespace:C(),query:U()}));qe(H,{get href(){return e(V)},children:(A,T)=>{xe();var _=fe();$(M=>u(_,M),[()=>r("common.view-all-runs")],t),d(A,_)},$$slots:{default:!0}}),a(x);var K=i(x,2);Fe(K,1,()=>G(k()),A=>{var T;return(T=A==null?void 0:A.startWorkflowResult)==null?void 0:T.workflowId},(A,T)=>{var _=Pe(),M=j(_);er(M,()=>Zr({namespace:C(),workflowId:ar(e(T).startWorkflowResult.workflowId),runId:e(T).startWorkflowResult.runId},fetch),null,(O,q)=>{var ae=Ws(),Y=o(ae),Z=o(Y);or(Z,{get status(){return e(q).status}}),a(Y);var ee=i(Y,2),pe=o(ee);const te=t(()=>as({workflow:e(T).startWorkflowResult.workflowId,run:e(T).startWorkflowResult.runId,namespace:C()}));qe(pe,{get href(){return e(te)},children:(z,me)=>{xe();var re=fe();$(()=>u(re,e(T).startWorkflowResult.workflowId)),d(z,re)},$$slots:{default:!0}}),a(ee);var oe=i(ee,2),le=o(oe),P=o(le,!0);a(le),a(oe),a(ae),$(z=>u(P,z),[()=>je(e(T).actualTime,g(),{relative:h()})],t),d(O,ae)},O=>{var q=Bs(),ae=i(o(q),2),Y=o(ae,!0);a(ae);var Z=i(ae,2),ee=o(Z),pe=o(ee,!0);a(ee),a(Z),a(q),$(te=>{u(Y,e(T).startWorkflowResult.workflowId),u(pe,te)},[()=>je(e(T).actualTime,g(),{relative:h()})],t),d(O,q)}),d(A,_)});var ie=i(K,2);{var se=A=>{const T=t(()=>r("schedules.recent-runs-empty-state-title"));sr(A,{get title(){return e(T)}})};_e(ie,A=>{k().length||A(se)})}$(A=>u(Q,A),[()=>r("schedules.recent-runs")],t),d(B,F)},$$slots:{default:!0}}),he(),S()}const Ls=I=>Array.isArray(I)?I.join(", "):I;var Hs=y('<li class="flex flex-wrap items-center gap-2 border-b py-2 last-of-type:border-b-0"><span class="break-all"> </span> <span class="surface-subtle select-all rounded-sm p-1 leading-4"> </span></li>'),Os=y('<ul class="w-full"></ul>');function qs(I,p){ge(p,!1);const m=R(),S=R(),g=R();var h=R();let k=N(p,"searchAttributes",8);Se(()=>Yt(k()),()=>{c(m,ls({searchAttributes:k()}))}),Se(()=>(pt(h),e(m)),()=>{c(S,c(h,e(m)===null||e(m)===void 0?void 0:e(m).searchAttributes.indexedFields)!==null&&pt(h)!==void 0?pt(h):{})}),Se(()=>e(S),()=>{c(g,Object.keys(e(S)).length)}),_t(),$e();const C=t(()=>r("events.custom-search-attributes")),U=t(()=>`${e(g)} ${r("events.custom-search")} ${ns(r("events.attribute"),e(g))}`),G=t(()=>e(g)>0);tr(I,{get title(){return e(C)},get subtitle(){return e(U)},get expandable(){return e(G)},children:(B,J)=>{var F=Pe(),x=j(F);{var w=Q=>{var H=Os();Fe(H,5,()=>Object.entries(e(S)),Ee,(V,K)=>{let ie=()=>e(K)[0],se=()=>e(K)[1];var A=Hs();const T=t(()=>Ls(se()));var _=o(A),M=o(_,!0);a(_);var O=i(_,2),q=o(O,!0);a(O),a(A),$(()=>{u(M,ie()),u(q,e(T))}),d(V,A)}),a(H),d(Q,H)};_e(x,Q=>{e(g)&&Q(w)})}d(B,F)},$$slots:{default:!0}}),he()}var Es=y('<div class="row svelte-dqszqh"><p> </p></div>'),js=y('<h2 class="mb-4"> </h2> <!>',1);function Ns(I,p){ge(p,!1);const[m,S]=at(),g=()=>ve(ht,"$timeFormat",m),h=()=>ve(gt,"$relativeTime",m);let k=N(p,"futureRuns",24,()=>[]);$e(),Ne(I,{class:"w-full",children:(C,U)=>{var G=js(),B=j(G),J=o(B,!0);a(B);var F=i(B,2);Fe(F,1,()=>k().slice(0,5),Ee,(x,w)=>{var Q=Es(),H=o(Q),V=o(H,!0);a(H),a(Q),$(K=>u(V,K),[()=>je(e(w),g(),{relative:h(),relativeLabel:r("common.from-now")})],t),d(x,Q)},x=>{const w=t(()=>r("schedules.upcoming-runs-empty-state-title"));sr(x,{get title(){return e(w)}})}),$(x=>u(J,x),[()=>r("schedules.upcoming-runs")],t),d(C,G)},$$slots:{default:!0}}),he(),S()}var Qs=y('<p class="flex items-center gap-2 text-right text-sm"> </p>'),Vs=y("<!> <!> <!> <!>",1),Gs=y('<div class="w-full xl:w-1/2"><!></div>'),Js=y('<div class="flex w-full flex-col gap-2 text-lg"><div class="flex items-center gap-2"><span data-testid="workflow-count"> <!></span> <!></div> <!></div>'),Ks=y('<h3 slot="title"> </h3>'),Xs=y('<div slot="content"><p> </p> <p class="my-4"> </p> <!></div>'),Ys=y('<h3 slot="title"> </h3>'),Zs=y('<div slot="content"><!></div>'),ea=y('<h3 slot="title"> </h3>'),ta=y('<div slot="content" class="p-0"><div class="flex flex-col gap-2 p-2"><!> <!> <!> <!> <div class="flex w-full flex-row items-center gap-2"><!> <span class="text-xs font-normal text-slate-500"> </span></div></div> <hr tabindex="-1" aria-hidden="true" class="my-4 w-full border-subtle"> <div class="flex max-h-52 flex-col gap-2 overflow-auto"><!> <!></div></div>'),ra=y('<h3 slot="title"> </h3>'),sa=y('<div slot="content"><p> </p></div>'),aa=y('<header class="flex flex-row flex-wrap justify-between gap-4"><div class="relative flex flex-col"><!> <h1 class="relative flex items-center"><span class="select-all" data-testid="schedule-name"></span></h1> <div class="flex flex-wrap items-center gap-2 text-lg"><!> <p> </p></div> <p class="flex items-center gap-2 text-right text-sm"> </p> <!></div> <!></header> <!> <div class="flex flex-col gap-4 pb-24"><!> <!> <div class="flex flex-col gap-4 xl:flex-row"><div class="flex w-full flex-col items-start gap-4 xl:w-2/3"><!> <!> <!> <!></div> <div class="flex w-full flex-col gap-4 xl:w-1/3"><!> <!></div></div></div> <!> <!> <!> <!>',1),oa=y('<header class="mb-8"><div class="relative flex flex-col gap-1"><!> <h1 class="mt-8 select-all" data-testid="schedule-name"></h1> <p class="text-sm"></p></div></header> <!>',1),la=y('<header class="mb-8"><div class="relative flex flex-col gap-4"><!> <h1 class="select-all" data-testid="schedule-name"></h1></div></header> <!>',1);function na(I,p){ge(p,!1);const[m,S]=at(),g=()=>ve(Zt,"$page",m),h=()=>ve(ae,"$coreUser",m),k=()=>ve(st,"$loading",m),C=()=>ve(O,"$overlapPolicy",m),U=()=>ve(ht,"$timeFormat",m),G=()=>ve(gt,"$relativeTime",m),B=()=>ve(es,"$groupByCountEnabled",m),J=()=>ve(rs,"$workflowCount",m),F=R();let x=g().params.namespace,w=g().params.schedule,Q=`TemporalScheduledById="${w}"`;const H={namespace:x,scheduleId:ar(w)};let V=R(Oe(H)),K=R(!1),ie=R(!1),se=R(!1),A=R(!1),T=R(""),_=R(""),M=R(!1),O=Nr("Unspecified"),q=[{description:r("schedules.trigger-unspecified-description"),label:r("schedules.trigger-unspecified-title"),value:"Unspecified"},{description:r("schedules.trigger-buffer-all-description"),label:r("schedules.trigger-buffer-all-title"),value:"BufferAll"},{description:r("schedules.trigger-allow-all-description"),label:r("schedules.trigger-allow-all-title"),value:"AllowAll"},{description:r("schedules.trigger-skip-description"),label:r("schedules.trigger-skip-title"),value:"Skip"},{description:r("schedules.trigger-buffer-one-description"),label:r("schedules.trigger-buffer-one-title"),value:"BufferOne"},{description:r("schedules.trigger-cancel-other-description"),label:r("schedules.trigger-cancel-other-title"),value:"CancelOther"},{description:r("schedules.trigger-terminate-other-description"),label:r("schedules.trigger-terminate-other-title"),value:"TerminateOther"}],ae=xs();const Y=async()=>{c(_,"");try{Be(st,!0),await $s({namespace:x,scheduleId:w}),c(A,!1),setTimeout(()=>{Be(st,!1),Qr(et({namespace:x}))},2e3),c(T,"")}catch(W){c(_,r("schedules.delete-schedule-error",{error:W==null?void 0:W.message})),Be(st,!1)}},Z=async W=>{var f,de;!((de=(f=W==null?void 0:W.schedule)===null||f===void 0?void 0:f.state)===null||de===void 0)&&de.paused?await fs({namespace:x,scheduleId:w,reason:e(T)}):await _s({namespace:x,scheduleId:w,reason:e(T)}),c(V,Oe(H)),c(T,""),c(K,!1)},ee=()=>{c(ie,!1),Be(O,"Unspecified")},pe=async()=>{c(M,!0),await gs({namespace:x,scheduleId:w,overlapPolicy:C()}),setTimeout(()=>{c(V,Oe(H)),ee(),c(M,!1)},1e3)};let te=R(!1),oe=R(Re(new Date)),le=R(Re(new Date)),P=R(""),z=R(""),me=R(""),re=R(""),we=R(""),ce=R("");const ze=W=>{c(oe,Re(W.detail))},ot=W=>{c(le,Re(W.detail))},lt=()=>{const W=new Date(Date.now()),f=ps(W,1);c(P,W.getUTCHours().toString()),c(z,W.getUTCMinutes().toString()),c(me,W.getUTCSeconds().toString()),c(re,f.getUTCHours().toString()),c(we,f.getUTCMinutes().toString()),c(ce,f.getUTCSeconds().toString()),c(oe,Re(new Date)),c(le,e(re)<e(P)?Re(is(new Date,1)):Re(new Date))},Qe=()=>{c(se,!1),c(te,!1),Be(O,"Unspecified")},lr=async()=>{c(M,!0);const W=jt({date:e(oe),hour:e(P),minute:e(z),second:e(me)}),f=jt({date:e(le),hour:e(re),minute:e(we),second:e(ce)});await hs({namespace:x,scheduleId:w,overlapPolicy:C(),startTime:W,endTime:f}),setTimeout(()=>{c(V,Oe(H)),Qe(),c(M,!1)},1e3)},$t=()=>{c(T,"")};Se(()=>(h(),Et),()=>{c(F,h().namespaceWriteDisabled(x)||!Et())}),Se(()=>e(se),()=>{e(se)&&lt()}),_t(),$e();var xt=Pe(),nr=j(xt);er(nr,()=>e(V),W=>{var f=la(),de=j(f),Ce=o(de),Ie=o(Ce);const Ue=t(()=>et({namespace:x}));qe(Ie,{get href(){return e(Ue)},icon:"chevron-left",children:(De,We)=>{xe();var Me=fe();$(Ae=>u(Me,Ae),[()=>r("schedules.back-to-schedules")],t),d(De,Me)},$$slots:{default:!0}});var be=i(Ie,2);be.textContent=w,a(Ce),a(de);var ke=i(de,2);Gt(ke,{}),d(W,f)},(W,f)=>{var de=Pe(),Ce=j(de);{var Ie=be=>{const ke=t(()=>r("schedules.deleting"));Gt(be,{get title(){return e(ke)},class:"my-2"})},Ue=be=>{var ke=aa(),De=j(ke),We=o(De),Me=o(We);const Ae=t(()=>et({namespace:x}));qe(Me,{get href(){return e(Ae)},icon:"chevron-left",children:(s,n)=>{xe();var l=fe();$(v=>u(l,v),[()=>r("schedules.back-to-schedules")],t),d(s,l)},$$slots:{default:!0}});var Ve=i(Me,2),Ge=o(Ve);Ge.textContent=w,a(Ve);var Le=i(Ve,2),wt=o(Le);const ir=t(()=>{var s;return(s=e(f))!=null&&s.schedule.state.paused?"Paused":"Running"});or(wt,{get status(){return e(ir)}});var bt=i(wt,2),cr=o(bt,!0);a(bt),a(Le);var nt=i(Le,2),dr=o(nt,!0);a(nt);var ur=i(nt,2);{var vr=s=>{var n=Qs(),l=o(n,!0);a(n),$(v=>u(l,v),[()=>{var v,b;return r("common.last-updated",{updated:je((b=(v=e(f))==null?void 0:v.info)==null?void 0:b.updateTime,U(),{relative:G()})})}],t),d(s,n)};_e(ur,s=>{var n,l;(l=(n=e(f))==null?void 0:n.info)!=null&&l.updateTime&&s(vr)})}a(We);var pr=i(We,2);const mr=t(()=>{var s,n,l;return(l=(n=(s=e(f))==null?void 0:s.schedule)==null?void 0:n.state)!=null&&l.paused?r("schedules.unpause"):r("schedules.pause")}),fr=t(()=>r("schedules.schedule-actions"));vs(pr,{position:"right",get label(){return e(mr)},get menuLabel(){return e(fr)},id:"schedule-actions",get disabled(){return e(F)},$$events:{click:()=>c(K,!0)},children:(s,n)=>{var l=Vs(),v=j(l);tt(v,{"data-testid":"trigger-schedule",$$events:{click:()=>c(ie,!0)},children:(X,ne)=>{xe();var D=fe();$(ue=>u(D,ue),[()=>r("schedules.trigger")],t),d(X,D)},$$slots:{default:!0}});var b=i(v,2);tt(b,{"data-testid":"backfill-schedule",$$events:{click:()=>c(se,!0)},children:(X,ne)=>{xe();var D=fe();$(ue=>u(D,ue),[()=>r("schedules.backfill")],t),d(X,D)},$$slots:{default:!0}});var L=i(b,2);const ye=t(()=>os({namespace:x,scheduleId:w}));tt(L,{"data-testid":"edit-schedule",get href(){return e(ye)},children:(X,ne)=>{xe();var D=fe();$(ue=>u(D,ue),[()=>r("common.edit")],t),d(X,D)},$$slots:{default:!0}});var Te=i(L,2);tt(Te,{"data-testid":"delete-schedule",destructive:!0,$$events:{click:()=>c(A,!0)},children:(X,ne)=>{xe();var D=fe();$(ue=>u(D,ue),[()=>r("common.delete")],t),d(X,D)},$$slots:{default:!0}}),d(s,l)},$$slots:{default:!0}}),a(De);var yt=i(De,2);Vr(yt,{});var it=i(yt,2),kt=o(it);{var _r=s=>{var n=Gs(),l=o(n);const v=t(()=>{var b,L;return(L=(b=e(f))==null?void 0:b.info)==null?void 0:L.invalidScheduleError});Xt(l,{get error(){return e(v)}}),a(n),d(s,n)};_e(kt,s=>{var n,l;(l=(n=e(f))==null?void 0:n.info)!=null&&l.invalidScheduleError&&s(_r)})}var Tt=i(kt,2);{var gr=s=>{var n=Js(),l=o(n),v=o(l),b=o(v),L=i(b);ms(L,{key:"common.workflows-plural",get count(){return J().count}}),a(v);var ye=i(v,2);Nt(ye,{size:"xs",variant:"ghost",leadingIcon:"retry",$$events:{click:()=>{c(V,Oe(H)),Be(ts,Date.now())}},children:(X,ne)=>{var D=Pe(),ue=j(D);{var dt=He=>{var Je=fe();$(Ke=>u(Je,`+${Ke??""}`),[()=>J().newCount.toLocaleString()],t),d(He,Je)};_e(ue,He=>{J().newCount>0&&He(dt)})}d(X,D)},$$slots:{default:!0}}),a(l);var Te=i(l,2);cs(Te,{staticQuery:Q}),a(n),$(X=>u(b,`${X??""} `),[()=>J().count.toLocaleString()],t),d(s,n)};_e(Tt,s=>{B()&&s(gr)})}var Pt=i(Tt,2),ct=o(Pt),St=o(ct);const hr=t(()=>{var s,n;return(n=(s=e(f))==null?void 0:s.info)==null?void 0:n.recentActions});zs(St,{namespace:x,get recentRuns(){return e(hr)},workflowQuery:Q});var Ct=i(St,2);const $r=t(()=>{var s,n;return(n=(s=e(f))==null?void 0:s.info)==null?void 0:n.futureActionTimes});Ns(Ct,{get futureRuns(){return e($r)}});var At=i(Ct,2);const xr=t(()=>{var s,n;return(n=(s=e(f))==null?void 0:s.schedule)==null?void 0:n.spec}),wr=t(()=>{var s,n;return(n=(s=e(f))==null?void 0:s.schedule)==null?void 0:n.state}),br=t(()=>{var s,n;return(n=(s=e(f))==null?void 0:s.schedule)==null?void 0:n.policies}),yr=t(()=>{var s,n,l;return(l=(n=(s=e(f))==null?void 0:s.schedule)==null?void 0:n.state)==null?void 0:l.notes});Ps(At,{get spec(){return e(xr)},get state(){return e(wr)},get policies(){return e(br)},get notes(){return e(yr)}});var kr=i(At,2);const Tr=t(()=>{var s;return((s=e(f))==null?void 0:s.searchAttributes)??{}});qs(kr,{get searchAttributes(){return e(Tr)}}),a(ct);var It=i(ct,2),Dt=o(It);const Pr=t(()=>{var s,n,l,v;return(v=(l=(n=(s=e(f))==null?void 0:s.schedule)==null?void 0:n.action)==null?void 0:l.startWorkflow)==null?void 0:v.input});Us(Dt,{get input(){return e(Pr)}});var Sr=i(Dt,2);const Cr=t(()=>{var s,n,l,v;return(v=(l=(n=(s=e(f))==null?void 0:s.schedule)==null?void 0:n.spec)==null?void 0:l.structuredCalendar)==null?void 0:v[0]}),Ar=t(()=>{var s,n,l,v;return(v=(l=(n=(s=e(f))==null?void 0:s.schedule)==null?void 0:n.spec)==null?void 0:l.interval)==null?void 0:v[0]}),Ir=t(()=>{var s,n,l;return(l=(n=(s=e(f))==null?void 0:s.schedule)==null?void 0:n.spec)==null?void 0:l.timezoneName});Is(Sr,{get calendar(){return e(Cr)},get interval(){return e(Ar)},get timezoneName(){return e(Ir)}}),a(It),a(Pt),a(it);var Mt=i(it,2);const Dr=t(()=>{var s;return(s=e(f))!=null&&s.schedule.state.paused?r("schedules.unpause"):r("schedules.pause")}),Mr=t(()=>r("common.cancel")),Rr=t(()=>!e(T));rt(Mt,{id:"pause-schedule-modal",confirmType:"primary",get confirmText(){return e(Dr)},get cancelText(){return e(Mr)},get confirmDisabled(){return e(Rr)},get open(){return e(K)},set open(s){c(K,s)},$$events:{confirmModal:()=>Z(e(f)),cancelModal:$t},$$slots:{title:(s,n)=>{var l=Ks(),v=o(l,!0);a(l),$(b=>u(v,b),[()=>{var b;return(b=e(f))!=null&&b.schedule.state.paused?r("schedules.unpause-modal-title"):r("schedules.pause-modal-title")}],t),d(s,l)},content:(s,n)=>{var l=Xs(),v=o(l),b=o(v,!0);a(v);var L=i(v,2),ye=o(L,!0);a(L);var Te=i(L,2);const X=t(()=>r("common.reason")),ne=t(()=>r("common.reason"));us(Te,{id:"pause-reason",get placeholder(){return e(X)},get label(){return e(ne)},labelHidden:!0,get value(){return e(T)},set value(D){c(T,D)},$$legacy:!0}),a(l),$((D,ue)=>{u(b,D),u(ye,ue)},[()=>{var D;return(D=e(f))!=null&&D.schedule.state.paused?r("schedules.unpause-modal-confirmation",{schedule:w}):r("schedules.pause-modal-confirmation",{schedule:w})},()=>{var D;return(D=e(f))!=null&&D.schedule.state.paused?r("schedules.unpause-reason"):r("schedules.pause-reason")}],t),d(s,l)}},$$legacy:!0});var Rt=i(Mt,2);const Ur=t(()=>r("schedules.trigger")),Wr=t(()=>r("common.cancel"));rt(Rt,{id:"trigger-schedule-modal",large:!0,confirmType:"primary",get confirmText(){return e(Ur)},get cancelText(){return e(Wr)},get loading(){return e(M)},get open(){return e(ie)},set open(s){c(ie,s)},$$events:{confirmModal:()=>pe(),cancelModal:ee},$$slots:{title:(s,n)=>{var l=Ys(),v=o(l,!0);a(l),$(b=>u(v,b),[()=>r("schedules.trigger-modal-title")],t),d(s,l)},content:(s,n)=>{var l=Zs(),v=o(l);Jt(v,{group:O,name:"trigger-event-id",class:"h-auto overflow-auto",children:(b,L)=>{var ye=Pe(),Te=j(ye);Fe(Te,1,()=>q,Ee,(X,ne)=>{Kt(X,{get id(){return e(ne).value},get value(){return e(ne).value},get label(){return e(ne).label},get description(){return e(ne).description}})}),d(b,ye)},$$slots:{default:!0}}),a(l),d(s,l)}},$$legacy:!0});var Ut=i(Rt,2);const Br=t(()=>r("schedules.schedule")),Fr=t(()=>r("common.cancel"));rt(Ut,{id:"backfill-schedule-modal",large:!0,confirmType:"primary",get confirmText(){return e(Br)},get cancelText(){return e(Fr)},get loading(){return e(M)},get open(){return e(se)},set open(s){c(se,s)},$$events:{confirmModal:()=>lr(),cancelModal:Qe},$$slots:{title:(s,n)=>{var l=ea(),v=o(l);a(l),$((b,L)=>u(v,`${b??""}
        ${L??""}`),[()=>r("schedules.schedule"),()=>r("schedules.backfill")],t),d(s,l)},content:(s,n)=>{var l=ta(),v=o(l),b=o(v);const L=t(()=>r("common.start")),ye=t(()=>r("common.today")),Te=t(()=>r("common.close")),X=t(()=>r("common.clear-input-button-label"));Qt(b,{get label(){return e(L)},get selected(){return e(oe)},get todayLabel(){return e(ye)},get closeLabel(){return e(Te)},get clearLabel(){return e(X)},$$events:{datechange:ze}});var ne=i(b,2);Vt(ne,{twelveHourClock:!1,get hour(){return e(P)},set hour(E){c(P,E)},get minute(){return e(z)},set minute(E){c(z,E)},get second(){return e(me)},set second(E){c(me,E)},$$legacy:!0});var D=i(ne,2);const ue=t(()=>r("common.end")),dt=t(()=>r("common.today")),He=t(()=>r("common.close")),Je=t(()=>r("common.clear-input-button-label"));Qt(D,{get label(){return e(ue)},get selected(){return e(le)},get todayLabel(){return e(dt)},get closeLabel(){return e(He)},get clearLabel(){return e(Je)},$$events:{datechange:ot}});var Ke=i(D,2);Vt(Ke,{twelveHourClock:!1,get hour(){return e(re)},set hour(E){c(re,E)},get minute(){return e(we)},set minute(E){c(we,E)},get second(){return e(ce)},set second(E){c(ce,E)},$$legacy:!0});var Wt=i(Ke,2),Bt=o(Wt);ds(Bt,{name:"clock","aria-hidden":"true"});var Ft=i(Bt,2),Or=o(Ft);a(Ft),a(Wt),a(v);var zt=i(v,4),Lt=o(zt);Jt(Lt,{group:O,name:"backfill-event-id",class:"h-auto overflow-auto",children:(E,Ht)=>{var ut=Pe(),Xe=j(ut);Fe(Xe,1,()=>q.slice(0,e(te)?q.length:3),Ee,(vt,Ye)=>{Kt(vt,{get id(){return e(Ye).value},get value(){return e(Ye).value},get label(){return e(Ye).label},get description(){return e(Ye).description}})}),d(E,ut)},$$slots:{default:!0}});var qr=i(Lt,2);{var Er=E=>{Nt(E,{variant:"ghost",size:"xs",$$events:{click:()=>c(te,!0)},children:(Ht,ut)=>{xe();var Xe=fe();$(vt=>u(Xe,vt),[()=>r("schedules.more-options")],t),d(Ht,Xe)},$$slots:{default:!0}})};_e(qr,E=>{e(te)||E(Er)})}a(zt),a(l),$(E=>u(Or,`${E??""} Universal Standard Time
              (UTC)`),[()=>r("common.based-on-time-preface")],t),d(s,l)}},$$legacy:!0});var zr=i(Ut,2);const Lr=t(()=>r("common.delete")),Hr=t(()=>r("common.cancel"));rt(zr,{id:"delete-schedule-modal",confirmType:"destructive",get confirmText(){return e(Lr)},get cancelText(){return e(Hr)},get open(){return e(A)},set open(s){c(A,s)},get error(){return e(_)},set error(s){c(_,s)},$$events:{confirmModal:Y,cancelModal:$t},$$slots:{title:(s,n)=>{var l=ra(),v=o(l,!0);a(l),$(b=>u(v,b),[()=>r("schedules.delete-modal-title")],t),d(s,l)},content:(s,n)=>{var l=sa(),v=o(l),b=o(v,!0);a(v),a(l),$(L=>u(b,L),[()=>r("schedules.delete-modal-confirmation",{schedule:w})],t),d(s,l)}},$$legacy:!0}),$(s=>{var n,l,v,b,L;u(cr,(L=(b=(v=(l=(n=e(f))==null?void 0:n.schedule)==null?void 0:l.action)==null?void 0:v.startWorkflow)==null?void 0:b.workflowType)==null?void 0:L.name),u(dr,s)},[()=>{var s,n;return r("common.created",{created:je((n=(s=e(f))==null?void 0:s.info)==null?void 0:n.createTime,U(),{relative:G()})})}],t),d(be,ke)};_e(Ce,be=>{k()?be(Ie):be(Ue,!1)})}d(W,de)},(W,f)=>{var de=oa(),Ce=j(de),Ie=o(Ce),Ue=o(Ie);const be=t(()=>et({namespace:x}));qe(Ue,{get href(){return e(be)},icon:"chevron-left",children:(Ae,Ve)=>{xe();var Ge=fe();$(Le=>u(Ge,Le),[()=>r("schedules.back-to-schedules")],t),d(Ae,Ge)},$$slots:{default:!0}});var ke=i(Ue,2);ke.textContent=w;var De=i(ke,2);De.textContent=x,a(Ie),a(Ce);var We=i(Ce,2);const Me=t(()=>{var Ae;return(Ae=e(f))==null?void 0:Ae.message});Xt(We,{get error(){return e(Me)}}),d(W,de)}),d(I,xt),he(),S()}var ia=y("<!> <!>",1);function ro(I,p){ge(p,!1);const[m,S]=at(),g=()=>ve(Zt,"$page",m),h=g().params.schedule;$e();var k=ia(),C=j(k);jr(C,{title:`Schedule | ${h}`,get url(){return g().url.href}});var U=i(C,2);na(U,{}),d(I,k),he(),S()}export{ro as component};
