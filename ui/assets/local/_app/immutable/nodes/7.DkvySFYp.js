import{s as we,h as Q,b as B,t as X,j as L,k as z,f as w,d as F,l as x,m as q,i as D,n as y,q as oe,c as te,v as _e,D as Qe,z as Me,A as cn,x as ue,H as Pe,O as ie,Q as fe,R as Je,w as ce,y as Ke,Z as Sn,a as Te,E as ht,p as je,F as bt,u as De,g as Ce,e as Se,M as Xe,G as An,B as kt,W as Pn,P as mn}from"../chunks/scheduler.D6mQsyhd.js";import{S as he,i as be,c as C,a as S,m as A,t as p,b as $,d as P,g as re,e as le,h as ae,j as vt,f as pn}from"../chunks/index.CDeUyeTp.js";import{p as Ne}from"../chunks/stores.BcLzXQ7A.js";import{v as Wn}from"../chunks/data-encoder-settings.CFAiGr7O.js";import{L as Re}from"../chunks/link.Ddek2Npz.js";import{t as M}from"../chunks/translate.BBe5dcco.js";import{c as _n,l as Rn,p as Vn,u as Mn,v as Et}from"../chunks/workflows.Cu3xry40.js";import{e as Le,s as Ae,u as It,v as Tt,b as ve,w as qe,x as Be,c as Fe,y as He,z as Ue}from"../chunks/route-for.BzoZ1yuS.js";import{B as Nn}from"../chunks/button.BtkaKkhS.js";import{L as yn}from"../chunks/loading.azOfDUyA.js";import{s as Dt,a as dn}from"../chunks/index.2cpoF_sa.js";import{f as de,r as qn,t as Bn}from"../chunks/time-format.CY0ZTKSL.js";import{w as ke,r as ye,i as Fn}from"../chunks/workflow-run.CK6EPRV2.js";import{o as Hn}from"../chunks/format-time.Dn4a2B__.js";import{C as gn}from"../chunks/index.BTrNFeQF.js";import{I as Ve}from"../chunks/icon.BhEsg1_g.js";import{T as xe}from"../chunks/tooltip.CGh2n__f.js";import{e as We}from"../chunks/each.5YhwczXz.js";import{w as et,g as Ct}from"../chunks/entry.CLe--fKR.js";import{w as Un,a as On,b as Qn,C as Ln,T as zn}from"../chunks/workflow-terminate-enabled.D7C8gCwA.js";import{C as Ye,M as $n}from"../chunks/checkbox.DkpnUhTW.js";import{I as wn}from"../chunks/input.BWy_-ORH.js";import{M as hn}from"../chunks/modal.DMbvc5_T.js";import{S as bn,O as tt}from"../chunks/option.NmZyR_Pe.js";import{r as kn,f as Oe,b as St,p as jn,g as At,t as Pt}from"../chunks/events.BNnF81LR.js";import{p as Jn}from"../chunks/persist-store.CcsfeDM_.js";import{t as Yn}from"../chunks/versions.DOxP8Opd.js";import{i as vn}from"../chunks/is-network-error.DxxRlstw.js";import{m as Gn}from"../chunks/route-for-api.vSLsVXfS.js";import{P as Zn}from"../chunks/payload-input-with-encoding.CsboajZl.js";import{t as Kn,v as Xn}from"../chunks/toaster.CA3Z2Khc.js";import{B as xn}from"../chunks/button.ChDTecwB.js";import{d as nt}from"../chunks/menu.cTC1yunh.js";import{S as En}from"../chunks/split-button.Bxo2fVRs.js";import{c as er}from"../chunks/core-user.DQ0NY4W1.js";import{w as Ge}from"../chunks/workflow-create-disabled.Dff2JsVM.js";import{W as tr}from"../chunks/workflow-status.BI0iHxp0.js";import{C as nr}from"../chunks/compatibility-badge.DvWRDJ35.js";import{k as rr,g as lr}from"../chunks/pollers-service.DIUzwH_w.js";import{g as or}from"../chunks/spread.CgU5AtxT.js";import{A as In}from"../chunks/alert.BaW02FOC.js";import{B as ze}from"../chunks/badge.BRSKsVh1.js";import{M as Tn}from"../chunks/markdown.DWfVgHMJ.js";import{T as sr,a as ir,b as Ee}from"../chunks/tab.CBK9JwNj.js";import{n as fr}from"../chunks/namespaces.CYcI3-PC.js";import{g as ar}from"../chunks/get-workflow-relationships.D6L0Lc1h.js";import{h as ur}from"../chunks/has.BnvKvYqj.js";import{e as cr,d as mr,a as Wt}from"../chunks/decode-payload.4JNDNxtR.js";import{t as pr,f as _r}from"../chunks/events-service.CLXkCpIn.js";import{b as dr}from"../chunks/query-service.B2fVenCU.js";import{a as gr}from"../chunks/auth-user.CcHihmza.js";import{r as $r}from"../chunks/data-encoder-config.DDplj8GV.js";import{c as wr}from"../chunks/copy-to-clipboard.D0jXsI4U.js";import{s as Ze}from"../chunks/parse-with-big-int.BKSBwM2t.js";function hr(r){let e=M("workflows.back-to-workflows")+"",n;return{c(){n=X(e)},l(t){n=x(t,e)},m(t,l){D(t,n,l)},p:_e,d(t){t&&w(n)}}}function br(r){var b,R;let e,n,t,l,s,o,i=(((b=r[0])==null?void 0:b.statusCode)??"500")+"",f,a,u,m,g,_,h=(((R=r[0])==null?void 0:R.statusText)??"")+"",c,d;return t=new Re({props:{href:`${Le({namespace:r[2]})}?${r[3]}`,"data-testid":"back-to-workflows",icon:"chevron-left",$$slots:{default:[hr]},$$scope:{ctx:r}}}),{c(){e=Q("header"),n=Q("div"),C(t.$$.fragment),l=B(),s=Q("div"),o=Q("h1"),f=X(i),a=B(),u=Q("p"),m=X(r[1]),g=B(),_=Q("p"),c=X(h),this.h()},l(v){e=L(v,"HEADER",{class:!0});var T=z(e);n=L(T,"DIV",{class:!0});var U=z(n);S(t.$$.fragment,U),U.forEach(w),T.forEach(w),l=F(v),s=L(v,"DIV",{class:!0});var V=z(s);o=L(V,"H1",{class:!0});var J=z(o);f=x(J,i),J.forEach(w),a=F(V),u=L(V,"P",{class:!0});var K=z(u);m=x(K,r[1]),K.forEach(w),g=F(V),_=L(V,"P",{class:!0});var ne=z(_);c=x(ne,h),ne.forEach(w),V.forEach(w),this.h()},h(){q(n,"class","mb-4 block"),q(e,"class","mb-4 flex flex-col gap-1"),q(o,"class","leading-0 text-[12rem] font-semibold"),q(u,"class","-mt-12 text-lg"),q(_,"class","text-2xl font-bold text-red-700"),q(s,"class","text-center align-middle")},m(v,T){D(v,e,T),y(e,n),A(t,n,null),D(v,l,T),D(v,s,T),y(s,o),y(o,f),y(s,a),y(s,u),y(u,m),y(s,g),y(s,_),y(_,c),d=!0},p(v,[T]){var V,J;const U={};T&12&&(U.href=`${Le({namespace:v[2]})}?${v[3]}`),T&32&&(U.$$scope={dirty:T,ctx:v}),t.$set(U),(!d||T&1)&&i!==(i=(((V=v[0])==null?void 0:V.statusCode)??"500")+"")&&oe(f,i),(!d||T&2)&&oe(m,v[1]),(!d||T&1)&&h!==(h=(((J=v[0])==null?void 0:J.statusText)??"")+"")&&oe(c,h)},i(v){d||(p(t.$$.fragment,v),d=!0)},o(v){$(t.$$.fragment,v),d=!1},d(v){v&&(w(e),w(l),w(s)),P(t)}}}function kr(r,e,n){let t,l,s,o;te(r,Ne,f=>n(4,s=f)),te(r,_n,f=>n(3,o=f));let{error:i}=e;return r.$$set=f=>{"error"in f&&n(0,i=f.error)},r.$$.update=()=>{r.$$.dirty&16&&n(2,{namespace:t}=s.params,t),r.$$.dirty&1&&n(1,l=i.statusCode===404?M("workflows.workflow-404-title"):M("workflows.workflow-error-title"))},[i,l,t,o,s]}class vr extends he{constructor(e){super(),be(this,e,kr,br,we,{error:0})}}function Er(r){let e,n,t,l,s,o,i=r[0]&&Rt(r),f=r[5]&&Vt(r);const a=[Dr,Tr],u=[];function m(g,_){return g[4]?0:1}return t=m(r),l=u[t]=a[t](r),{c(){i&&i.c(),e=B(),f&&f.c(),n=B(),l.c(),s=ue()},l(g){i&&i.l(g),e=F(g),f&&f.l(g),n=F(g),l.l(g),s=ue()},m(g,_){i&&i.m(g,_),D(g,e,_),f&&f.m(g,_),D(g,n,_),u[t].m(g,_),D(g,s,_),o=!0},p(g,_){g[0]?i?i.p(g,_):(i=Rt(g),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null),g[5]?f?(f.p(g,_),_&32&&p(f,1)):(f=Vt(g),f.c(),p(f,1),f.m(n.parentNode,n)):f&&(re(),$(f,1,1,()=>{f=null}),le());let h=t;t=m(g),t===h?u[t].p(g,_):(re(),$(u[h],1,1,()=>{u[h]=null}),le(),l=u[t],l?l.p(g,_):(l=u[t]=a[t](g),l.c()),p(l,1),l.m(s.parentNode,s))},i(g){o||(p(f),p(l),o=!0)},o(g){$(f),$(l),o=!1},d(g){g&&(w(e),w(n),w(s)),i&&i.d(g),f&&f.d(g),u[t].d(g)}}}function Ir(r){let e,n;return e=new gn({props:{copyIconTitle:M("common.copy-icon-title"),copySuccessIconTitle:M("common.copy-success-icon-title"),content:r[1],visible:!0,"container-class":"gap-1 w-full h-4",$$slots:{default:[Vr]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},l(t){S(e.$$.fragment,t)},m(t,l){A(e,t,l),n=!0},p(t,l){const s={};l&2&&(s.content=t[1]),l&763&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function Rt(r){let e,n;return{c(){e=Q("i"),n=X(r[0])},l(t){e=L(t,"I",{});var l=z(e);n=x(l,r[0]),l.forEach(w)},m(t,l){D(t,e,l),y(e,n)},p(t,l){l&1&&oe(n,t[0])},d(t){t&&w(e)}}}function Vt(r){let e,n;return e=new Ve({props:{name:r[5]}}),{c(){C(e.$$.fragment)},l(t){S(e.$$.fragment,t)},m(t,l){A(e,t,l),n=!0},p(t,l){const s={};l&32&&(s.name=t[5]),e.$set(s)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function Tr(r){let e,n;return e=new xe({props:{text:r[6],hide:!r[6],top:!0,$$slots:{default:[Cr]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},l(t){S(e.$$.fragment,t)},m(t,l){A(e,t,l),n=!0},p(t,l){const s={};l&64&&(s.text=t[6]),l&64&&(s.hide=!t[6]),l&642&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function Dr(r){let e,n;return e=new Re({props:{href:r[4],class:"value truncate rounded-sm p-1 leading-4 "+(r[7]&&"surface-subtle"),$$slots:{default:[Sr]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},l(t){S(e.$$.fragment,t)},m(t,l){A(e,t,l),n=!0},p(t,l){const s={};l&16&&(s.href=t[4]),l&128&&(s.class="value truncate rounded-sm p-1 leading-4 "+(t[7]&&"surface-subtle")),l&514&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function Cr(r){let e,n;return{c(){e=Q("span"),n=X(r[1]),this.h()},l(t){e=L(t,"SPAN",{class:!0});var l=z(e);n=x(l,r[1]),l.forEach(w),this.h()},h(){q(e,"class","w-fit select-all truncate rounded-sm p-1 leading-4"),Pe(e,"surface-subtle",r[7])},m(t,l){D(t,e,l),y(e,n)},p(t,l){l&2&&oe(n,t[1]),l&128&&Pe(e,"surface-subtle",t[7])},d(t){t&&w(e)}}}function Sr(r){let e;return{c(){e=X(r[1])},l(n){e=x(n,r[1])},m(n,t){D(n,e,t)},p(n,t){t&2&&oe(e,n[1])},d(n){n&&w(e)}}}function Mt(r){let e,n;return e=new Ve({props:{name:r[5]}}),{c(){C(e.$$.fragment)},l(t){S(e.$$.fragment,t)},m(t,l){A(e,t,l),n=!0},p(t,l){const s={};l&32&&(s.name=t[5]),e.$set(s)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function Nt(r){let e,n;return{c(){e=Q("i"),n=X(r[0])},l(t){e=L(t,"I",{});var l=z(e);n=x(l,r[0]),l.forEach(w)},m(t,l){D(t,e,l),y(e,n)},p(t,l){l&1&&oe(n,t[0])},d(t){t&&w(e)}}}function Ar(r){let e,n;return e=new xe({props:{text:r[6],hide:!r[6],top:!0,$$slots:{default:[Wr]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},l(t){S(e.$$.fragment,t)},m(t,l){A(e,t,l),n=!0},p(t,l){const s={};l&64&&(s.text=t[6]),l&64&&(s.hide=!t[6]),l&642&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function Pr(r){let e,n;return e=new Re({props:{href:r[4],class:"flex w-fit flex-row items-center gap-1 truncate rounded-sm p-1 leading-4 "+(r[7]&&"surface-subtle"),$$slots:{default:[Rr]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},l(t){S(e.$$.fragment,t)},m(t,l){A(e,t,l),n=!0},p(t,l){const s={};l&16&&(s.href=t[4]),l&128&&(s.class="flex w-fit flex-row items-center gap-1 truncate rounded-sm p-1 leading-4 "+(t[7]&&"surface-subtle")),l&522&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function Wr(r){let e,n;return{c(){e=Q("span"),n=X(r[1]),this.h()},l(t){e=L(t,"SPAN",{class:!0});var l=z(e);n=x(l,r[1]),l.forEach(w),this.h()},h(){q(e,"class","w-fit select-all truncate rounded-sm p-1 leading-4"),Pe(e,"surface-subtle",r[7])},m(t,l){D(t,e,l),y(e,n)},p(t,l){l&2&&oe(n,t[1]),l&128&&Pe(e,"surface-subtle",t[7])},d(t){t&&w(e)}}}function yt(r){let e,n;return e=new Ve({props:{name:"filter",class:"shrink-0"}}),{c(){C(e.$$.fragment)},l(t){S(e.$$.fragment,t)},m(t,l){A(e,t,l),n=!0},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function Rr(r){let e,n,t,l,s,o=r[3]&&yt();return{c(){e=Q("span"),n=X(r[1]),t=B(),o&&o.c(),l=ue(),this.h()},l(i){e=L(i,"SPAN",{class:!0});var f=z(e);n=x(f,r[1]),f.forEach(w),t=F(i),o&&o.l(i),l=ue(),this.h()},h(){q(e,"class","truncate")},m(i,f){D(i,e,f),y(e,n),D(i,t,f),o&&o.m(i,f),D(i,l,f),s=!0},p(i,f){(!s||f&2)&&oe(n,i[1]),i[3]?o?f&8&&p(o,1):(o=yt(),o.c(),p(o,1),o.m(l.parentNode,l)):o&&(re(),$(o,1,1,()=>{o=null}),le())},i(i){s||(p(o),s=!0)},o(i){$(o),s=!1},d(i){i&&(w(e),w(t),w(l)),o&&o.d(i)}}}function Vr(r){let e,n,t,l,s,o,i=r[5]&&Mt(r),f=r[0]&&Nt(r);const a=[Pr,Ar],u=[];function m(g,_){return g[4]?0:1}return t=m(r),l=u[t]=a[t](r),{c(){i&&i.c(),e=B(),f&&f.c(),n=B(),l.c(),s=ue()},l(g){i&&i.l(g),e=F(g),f&&f.l(g),n=F(g),l.l(g),s=ue()},m(g,_){i&&i.m(g,_),D(g,e,_),f&&f.m(g,_),D(g,n,_),u[t].m(g,_),D(g,s,_),o=!0},p(g,_){g[5]?i?(i.p(g,_),_&32&&p(i,1)):(i=Mt(g),i.c(),p(i,1),i.m(e.parentNode,e)):i&&(re(),$(i,1,1,()=>{i=null}),le()),g[0]?f?f.p(g,_):(f=Nt(g),f.c(),f.m(n.parentNode,n)):f&&(f.d(1),f=null);let h=t;t=m(g),t===h?u[t].p(g,_):(re(),$(u[h],1,1,()=>{u[h]=null}),le(),l=u[t],l?l.p(g,_):(l=u[t]=a[t](g),l.c()),p(l,1),l.m(s.parentNode,s))},i(g){o||(p(i),p(l),o=!0)},o(g){$(i),$(l),o=!1},d(g){g&&(w(e),w(n),w(s)),i&&i.d(g),f&&f.d(g),u[t].d(g)}}}function Mr(r){let e,n,t,l,s;const o=[Ir,Er],i=[];function f(a,u){return a[2]?0:1}return n=f(r),t=i[n]=o[n](r),{c(){e=Q("p"),t.c(),this.h()},l(a){e=L(a,"P",{class:!0});var u=z(e);t.l(u),u.forEach(w),this.h()},h(){q(e,"class",l="flex items-center gap-2 whitespace-nowrap "+r[8].class)},m(a,u){D(a,e,u),i[n].m(e,null),s=!0},p(a,[u]){let m=n;n=f(a),n===m?i[n].p(a,u):(re(),$(i[m],1,1,()=>{i[m]=null}),le(),t=i[n],t?t.p(a,u):(t=i[n]=o[n](a),t.c()),p(t,1),t.m(e,null)),(!s||u&256&&l!==(l="flex items-center gap-2 whitespace-nowrap "+a[8].class))&&q(e,"class",l)},i(a){s||(p(t),s=!0)},o(a){$(t),s=!1},d(a){a&&w(e),i[n].d()}}}function Nr(r,e,n){const t=["title","content","copyable","filterable","href","icon","tooltip","badge"];let l=Qe(e,t),{title:s=""}=e,{content:o}=e,{copyable:i=!1}=e,{filterable:f=!1}=e,{href:a=null}=e,{icon:u=void 0}=e,{tooltip:m=""}=e,{badge:g=!1}=e;return r.$$set=_=>{e=Me(Me({},e),cn(_)),n(8,l=Qe(e,t)),"title"in _&&n(0,s=_.title),"content"in _&&n(1,o=_.content),"copyable"in _&&n(2,i=_.copyable),"filterable"in _&&n(3,f=_.filterable),"href"in _&&n(4,a=_.href),"icon"in _&&n(5,u=_.icon),"tooltip"in _&&n(6,m=_.tooltip),"badge"in _&&n(7,g=_.badge)},[s,o,i,f,a,u,m,g,l]}class Ie extends he{constructor(e){super(),be(this,e,Nr,Mr,we,{title:0,content:1,copyable:2,filterable:3,href:4,icon:5,tooltip:6,badge:7})}}function yr(r){var U,V,J,K,ne,H,Y,j,I,E,ee,O,k,W;let e,n,t,l,s,o,i,f,a,u,m,g,_,h,c,d,b,R,v,T;return t=new Ie({props:{content:r[2],class:"order-1 font-mono text-xl",icon:"clock"}}),s=new Ie({props:{title:M("common.start"),tooltip:r[4]?de((U=r[0])==null?void 0:U.startTime,r[5],{relative:!1}):de((V=r[0])==null?void 0:V.startTime,r[5],{relative:!0}),content:de((J=r[0])==null?void 0:J.startTime,r[5],{relative:r[4]}),class:"order-2"}}),m=new Ie({props:{title:M("common.end"),tooltip:r[4]?de((K=r[0])==null?void 0:K.endTime,r[5],{relative:!1}):de((ne=r[0])==null?void 0:ne.endTime,r[5],{relative:!0}),content:(H=r[0])!=null&&H.endTime?de((Y=r[0])==null?void 0:Y.endTime,r[5],{relative:r[4]}):"-",class:"order-3 lg:order-5 xl:order-6"}}),_=new Ie({props:{title:M("common.task-queue"),content:(j=r[0])==null?void 0:j.taskQueue,class:"order-6 xl:order-4",href:Ae({namespace:r[1].params.namespace,workflow:(I=r[0])==null?void 0:I.id,run:(E=r[0])==null?void 0:E.runId})}}),c=new Ie({props:{title:M("common.workflow-type"),content:(ee=r[0])==null?void 0:ee.name,copyable:!0,filterable:!0,class:"order-3",href:It({namespace:r[3],query:`WorkflowType="${(O=r[0])==null?void 0:O.name}"`})}}),b=new Ie({props:{title:M("common.run-id"),content:(k=r[0])==null?void 0:k.runId,copyable:!0,class:"order-8 xl:order-7"}}),v=new Ie({props:{title:M("common.history-size-bytes"),content:(W=r[0])==null?void 0:W.historySizeBytes,class:"order-9 xl:order-8"}}),{c(){e=Q("div"),n=Q("div"),C(t.$$.fragment),l=B(),C(s.$$.fragment),o=B(),i=Q("div"),f=B(),a=Q("div"),u=B(),C(m.$$.fragment),g=B(),C(_.$$.fragment),h=B(),C(c.$$.fragment),d=B(),C(b.$$.fragment),R=B(),C(v.$$.fragment),this.h()},l(N){e=L(N,"DIV",{class:!0});var G=z(e);n=L(G,"DIV",{class:!0});var Z=z(n);S(t.$$.fragment,Z),l=F(Z),S(s.$$.fragment,Z),o=F(Z),i=L(Z,"DIV",{class:!0}),z(i).forEach(w),f=F(Z),a=L(Z,"DIV",{class:!0}),z(a).forEach(w),u=F(Z),S(m.$$.fragment,Z),g=F(Z),S(_.$$.fragment,Z),h=F(Z),S(c.$$.fragment,Z),d=F(Z),S(b.$$.fragment,Z),R=F(Z),S(v.$$.fragment,Z),Z.forEach(w),G.forEach(w),this.h()},h(){q(i,"class","hidden lg:order-4 lg:block xl:order-5"),q(a,"class","hidden lg:order-7 lg:block xl:hidden"),q(n,"class","grid w-full grid-flow-row grid-cols-1 gap-x-4 gap-y-2 text-sm lg:grid-cols-3 xl:grid-cols-4"),q(e,"class","flex flex-col gap-2")},m(N,G){D(N,e,G),y(e,n),A(t,n,null),y(n,l),A(s,n,null),y(n,o),y(n,i),y(n,f),y(n,a),y(n,u),A(m,n,null),y(n,g),A(_,n,null),y(n,h),A(c,n,null),y(n,d),A(b,n,null),y(n,R),A(v,n,null),T=!0},p(N,[G]){var ot,st,it,ft,at,ut,ct,mt,pt,_t,dt,gt,$t,wt;const Z={};G&4&&(Z.content=N[2]),t.$set(Z);const se={};G&49&&(se.tooltip=N[4]?de((ot=N[0])==null?void 0:ot.startTime,N[5],{relative:!1}):de((st=N[0])==null?void 0:st.startTime,N[5],{relative:!0})),G&49&&(se.content=de((it=N[0])==null?void 0:it.startTime,N[5],{relative:N[4]})),s.$set(se);const pe={};G&49&&(pe.tooltip=N[4]?de((ft=N[0])==null?void 0:ft.endTime,N[5],{relative:!1}):de((at=N[0])==null?void 0:at.endTime,N[5],{relative:!0})),G&49&&(pe.content=(ut=N[0])!=null&&ut.endTime?de((ct=N[0])==null?void 0:ct.endTime,N[5],{relative:N[4]}):"-"),m.$set(pe);const ge={};G&1&&(ge.content=(mt=N[0])==null?void 0:mt.taskQueue),G&3&&(ge.href=Ae({namespace:N[1].params.namespace,workflow:(pt=N[0])==null?void 0:pt.id,run:(_t=N[0])==null?void 0:_t.runId})),_.$set(ge);const $e={};G&1&&($e.content=(dt=N[0])==null?void 0:dt.name),G&9&&($e.href=It({namespace:N[3],query:`WorkflowType="${(gt=N[0])==null?void 0:gt.name}"`})),c.$set($e);const rt={};G&1&&(rt.content=($t=N[0])==null?void 0:$t.runId),b.$set(rt);const lt={};G&1&&(lt.content=(wt=N[0])==null?void 0:wt.historySizeBytes),v.$set(lt)},i(N){T||(p(t.$$.fragment,N),p(s.$$.fragment,N),p(m.$$.fragment,N),p(_.$$.fragment,N),p(c.$$.fragment,N),p(b.$$.fragment,N),p(v.$$.fragment,N),T=!0)},o(N){$(t.$$.fragment,N),$(s.$$.fragment,N),$(m.$$.fragment,N),$(_.$$.fragment,N),$(c.$$.fragment,N),$(b.$$.fragment,N),$(v.$$.fragment,N),T=!1},d(N){N&&w(e),P(t),P(s),P(m),P(_),P(c),P(b),P(v)}}}function qr(r,e,n){let t,l,s,o,i,f,a;return te(r,ke,u=>n(6,o=u)),te(r,Ne,u=>n(1,i=u)),te(r,qn,u=>n(4,f=u)),te(r,Bn,u=>n(5,a=u)),r.$$.update=()=>{r.$$.dirty&2&&n(3,{namespace:t}=i.params,t),r.$$.dirty&64&&n(0,{workflow:l}=o,l),r.$$.dirty&1&&n(2,s=Hn({start:l==null?void 0:l.startTime,end:(l==null?void 0:l.endTime)||Date.now(),includeMilliseconds:!0}))},[l,i,s,t,f,a,o]}class Br extends he{constructor(e){super(),be(this,e,qr,yr,we,{})}}const Dn=Jn("resetWorkflows",{});function qt(r,e,n){const t=r.slice();return t[25]=e[n],t}function Fr(r){let e,n=M("workflows.reset-modal-title")+"",t;return{c(){e=Q("h3"),t=X(n),this.h()},l(l){e=L(l,"H3",{slot:!0});var s=z(e);t=x(s,n),s.forEach(w),this.h()},h(){q(e,"slot","title")},m(l,s){D(l,e,s),y(e,t)},p:_e,d(l){l&&w(e)}}}function Hr(r){let e=r[25].id+"",n,t,l=r[25].eventType+"",s;return{c(){n=X(e),t=X(" - "),s=X(l)},l(o){n=x(o,e),t=x(o," - "),s=x(o,l)},m(o,i){D(o,n,i),D(o,t,i),D(o,s,i)},p(o,i){i&512&&e!==(e=o[25].id+"")&&oe(n,e),i&512&&l!==(l=o[25].eventType+"")&&oe(s,l)},d(o){o&&(w(n),w(t),w(s))}}}function Bt(r){let e,n;return e=new tt({props:{value:r[25].id,$$slots:{default:[Hr]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},l(t){S(e.$$.fragment,t)},m(t,l){A(e,t,l),n=!0},p(t,l){const s={};l&512&&(s.value=t[25].id),l&268435968&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function Ur(r){let e,n,t=We(r[9]),l=[];for(let o=0;o<t.length;o+=1)l[o]=Bt(qt(r,t,o));const s=o=>$(l[o],1,1,()=>{l[o]=null});return{c(){for(let o=0;o<l.length;o+=1)l[o].c();e=ue()},l(o){for(let i=0;i<l.length;i+=1)l[i].l(o);e=ue()},m(o,i){for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(o,i);D(o,e,i),n=!0},p(o,i){if(i&512){t=We(o[9]);let f;for(f=0;f<t.length;f+=1){const a=qt(o,t,f);l[f]?(l[f].p(a,i),p(l[f],1)):(l[f]=Bt(a),l[f].c(),p(l[f],1),l[f].m(e.parentNode,e))}for(re(),f=t.length;f<l.length;f+=1)s(f);le()}},i(o){if(!n){for(let i=0;i<t.length;i+=1)p(l[i]);n=!0}},o(o){l=l.filter(Boolean);for(let i=0;i<l.length;i+=1)$(l[i]);n=!1},d(o){o&&w(e),Ke(l,o)}}}function Or(r){let e,n,t;function l(o){r[20](o)}let s={id:"reset-include-signals-checkbox","data-testid":"reset-include-signals-checkbox",label:M("workflows.reset-reapply-type-label")};return r[5]!==void 0&&(s.checked=r[5]),e=new Ye({props:s}),ie.push(()=>ae(e,"checked",l)),{c(){C(e.$$.fragment)},l(o){S(e.$$.fragment,o)},m(o,i){A(e,o,i),t=!0},p(o,i){const f={};!n&&i&32&&(n=!0,f.checked=o[5],fe(()=>n=!1)),e.$set(f)},i(o){t||(p(e.$$.fragment,o),t=!0)},o(o){$(e.$$.fragment,o),t=!1},d(o){P(e,o)}}}function Qr(r){let e,n,t,l,s,o;function i(m){r[18](m)}let f={id:"reset-exclude-signals-checkbox","data-testid":"reset-exclude-signals-checkbox",label:M("workflows.reset-exclude-signals")};r[6]!==void 0&&(f.checked=r[6]),e=new Ye({props:f}),ie.push(()=>ae(e,"checked",i));function a(m){r[19](m)}let u={id:"reset-exclude-updates-checkbox","data-testid":"reset-exclude-updates-checkbox",label:M("workflows.reset-exclude-updates")};return r[7]!==void 0&&(u.checked=r[7]),l=new Ye({props:u}),ie.push(()=>ae(l,"checked",a)),{c(){C(e.$$.fragment),t=B(),C(l.$$.fragment)},l(m){S(e.$$.fragment,m),t=F(m),S(l.$$.fragment,m)},m(m,g){A(e,m,g),D(m,t,g),A(l,m,g),o=!0},p(m,g){const _={};!n&&g&64&&(n=!0,_.checked=m[6],fe(()=>n=!1)),e.$set(_);const h={};!s&&g&128&&(s=!0,h.checked=m[7],fe(()=>s=!1)),l.$set(h)},i(m){o||(p(e.$$.fragment,m),p(l.$$.fragment,m),o=!0)},o(m){$(e.$$.fragment,m),$(l.$$.fragment,m),o=!1},d(m){m&&w(t),P(e,m),P(l,m)}}}function Lr(r){let e,n,t,l,s,o,i,f,a,u,m;function g(v){r[17](v)}let _={"data-testid":"workflow-reset-event-id-select",menuClass:"max-h-[16rem]",label:M("workflows.reset-event-radio-group-description"),id:"reset-event-id",$$slots:{default:[Ur]},$$scope:{ctx:r}};r[8]!==void 0&&(_.value=r[8]),n=new bn({props:_}),ie.push(()=>ae(n,"value",g));const h=[Qr,Or],c=[];function d(v,T){return T&3072&&(s=null),s==null&&(s=!!(v[10]||Gn("1.24.0",v[11]))),s?0:1}o=d(r,-1),i=c[o]=h[o](r);function b(v){r[21](v)}let R={id:"reset-reason",label:M("common.reason")};return r[4]!==void 0&&(R.value=r[4]),a=new wn({props:R}),ie.push(()=>ae(a,"value",b)),{c(){e=Q("div"),C(n.$$.fragment),l=B(),i.c(),f=B(),C(a.$$.fragment),this.h()},l(v){e=L(v,"DIV",{class:!0});var T=z(e);S(n.$$.fragment,T),l=F(T),i.l(T),f=F(T),S(a.$$.fragment,T),T.forEach(w),this.h()},h(){q(e,"class","flex w-full flex-col gap-4")},m(v,T){D(v,e,T),A(n,e,null),y(e,l),c[o].m(e,null),y(e,f),A(a,e,null),m=!0},p(v,T){const U={};T&268435968&&(U.$$scope={dirty:T,ctx:v}),!t&&T&256&&(t=!0,U.value=v[8],fe(()=>t=!1)),n.$set(U);let V=o;o=d(v,T),o===V?c[o].p(v,T):(re(),$(c[V],1,1,()=>{c[V]=null}),le(),i=c[o],i?i.p(v,T):(i=c[o]=h[o](v),i.c()),p(i,1),i.m(e,f));const J={};!u&&T&16&&(u=!0,J.value=v[4],fe(()=>u=!1)),a.$set(J)},i(v){m||(p(n.$$.fragment,v),p(i),p(a.$$.fragment,v),m=!0)},o(v){$(n.$$.fragment,v),$(i),$(a.$$.fragment,v),m=!1},d(v){v&&w(e),P(n),c[o].d(),P(a)}}}function zr(r){let e,n,t,l;function s(f){r[22](f)}function o(f){r[23](f)}let i={id:"reset-confirmation-modal","data-testid":"reset-confirmation-modal",confirmText:M("common.confirm"),cancelText:M("common.cancel"),loading:r[3],confirmDisabled:!r[8],$$slots:{content:[Lr],title:[Fr]},$$scope:{ctx:r}};return r[2]!==void 0&&(i.error=r[2]),r[0]!==void 0&&(i.open=r[0]),e=new hn({props:i}),ie.push(()=>ae(e,"error",s)),ie.push(()=>ae(e,"open",o)),e.$on("confirmModal",r[14]),e.$on("cancelModal",r[13]),{c(){C(e.$$.fragment)},l(f){S(e.$$.fragment,f)},m(f,a){A(e,f,a),l=!0},p(f,[a]){const u={};a&8&&(u.loading=f[3]),a&256&&(u.confirmDisabled=!f[8]),a&268439536&&(u.$$scope={dirty:a,ctx:f}),!n&&a&4&&(n=!0,u.error=f[2],fe(()=>n=!1)),!t&&a&1&&(t=!0,u.open=f[0],fe(()=>t=!1)),e.$set(u)},i(f){l||(p(e.$$.fragment,f),l=!0)},o(f){$(e.$$.fragment,f),l=!1},d(f){P(e,f)}}}function jr(r,e,n){let t,l=_e,s=()=>(l(),l=Je(_,E=>n(24,t=E)),_),o,i,f,a;te(r,kn,E=>n(9,i=E)),te(r,Rn,E=>n(10,f=E)),te(r,Yn,E=>n(11,a=E)),r.$$.on_destroy.push(()=>l());let{open:u}=e,{workflow:m}=e,{namespace:g}=e,{refresh:_}=e;s();let h="",c=!1,d=et("");te(r,d,E=>n(8,o=E));let b,R=!0,v=!1,T=!1;const U=()=>{n(0,u=!1),n(5,R=!0),n(6,v=!1),n(7,T=!1),ce(d,o="",o),n(4,b="")},V=async()=>{n(2,h=""),n(3,c=!0);try{const E=await Vn({namespace:g,workflow:m,eventId:o,reason:b,includeSignals:R,excludeSignals:v,excludeUpdates:T});E&&E.runId&&Dn.update(ee=>({...ee,[m.runId]:E.runId})),ce(_,t=Date.now(),t),U()}catch(E){n(2,h=vn(E)?E.message:M("common.unknown-error"))}finally{n(3,c=!1)}U()};function J(E){o=E,d.set(o)}function K(E){v=E,n(6,v)}function ne(E){T=E,n(7,T)}function H(E){R=E,n(5,R)}function Y(E){b=E,n(4,b)}function j(E){h=E,n(2,h)}function I(E){u=E,n(0,u)}return r.$$set=E=>{"open"in E&&n(0,u=E.open),"workflow"in E&&n(15,m=E.workflow),"namespace"in E&&n(16,g=E.namespace),"refresh"in E&&s(n(1,_=E.refresh))},[u,_,h,c,b,R,v,T,o,i,f,a,d,U,V,m,g,J,K,ne,H,Y,j,I]}class Jr extends he{constructor(e){super(),be(this,e,jr,zr,we,{open:0,workflow:15,namespace:16,refresh:1})}}function Ft(r,e,n){const t=r.slice();return t[25]=e[n].name,t[26]=e[n].description!==void 0?e[n].description:"",t}function Yr(r){let e,n=M("workflows.signal-modal-title")+"",t;return{c(){e=Q("h3"),t=X(n),this.h()},l(l){e=L(l,"H3",{slot:!0});var s=z(e);t=x(s,n),s.forEach(w),this.h()},h(){q(e,"slot","title")},m(l,s){D(l,e,s),y(e,t)},p:_e,d(l){l&&w(e)}}}function Gr(r){let e,n,t;function l(o){r[18](o)}let s={id:"signal-name",label:M("workflows.signal-name-label"),required:!0};return r[4]!==void 0&&(s.value=r[4]),e=new wn({props:s}),ie.push(()=>ae(e,"value",l)),{c(){C(e.$$.fragment)},l(o){S(e.$$.fragment,o)},m(o,i){A(e,o,i),t=!0},p(o,i){const f={};!n&&i&16&&(n=!0,f.value=o[4],fe(()=>n=!1)),e.$set(f)},i(o){t||(p(e.$$.fragment,o),t=!0)},o(o){$(e.$$.fragment,o),t=!1},d(o){P(e,o)}}}function Zr(r){let e,n,t;function l(o){r[17](o)}let s={id:"signal-select",label:M("workflows.signal-name-label"),class:"min-w-fit","data-testid":"signal-select",placeholder:"Select a signal",required:!0,$$slots:{default:[xr]},$$scope:{ctx:r}};return r[4]!==void 0&&(s.value=r[4]),e=new bn({props:s}),ie.push(()=>ae(e,"value",l)),{c(){C(e.$$.fragment)},l(o){S(e.$$.fragment,o)},m(o,i){A(e,o,i),t=!0},p(o,i){const f={};i&536871168&&(f.$$scope={dirty:i,ctx:o}),!n&&i&16&&(n=!0,f.value=o[4],fe(()=>n=!1)),e.$set(f)},i(o){t||(p(e.$$.fragment,o),t=!0)},o(o){$(e.$$.fragment,o),t=!1},d(o){P(e,o)}}}function Kr(r){let e=r[25]+"",n;return{c(){n=X(e)},l(t){n=x(t,e)},m(t,l){D(t,n,l)},p(t,l){l&256&&e!==(e=t[25]+"")&&oe(n,e)},d(t){t&&w(n)}}}function Ht(r){let e,n;return e=new tt({props:{value:r[25],description:r[26],$$slots:{default:[Kr]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},l(t){S(e.$$.fragment,t)},m(t,l){A(e,t,l),n=!0},p(t,l){const s={};l&256&&(s.value=t[25]),l&256&&(s.description=t[26]),l&536871168&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function Xr(r){let e;return{c(){e=X("Custom")},l(n){e=x(n,"Custom")},m(n,t){D(n,e,t)},d(n){n&&w(e)}}}function xr(r){let e,n,t,l=We(r[8]),s=[];for(let i=0;i<l.length;i+=1)s[i]=Ht(Ft(r,l,i));const o=i=>$(s[i],1,1,()=>{s[i]=null});return n=new tt({props:{value:"custom",description:"Input Signal name",$$slots:{default:[Xr]},$$scope:{ctx:r}}}),n.$on("click",r[11]),{c(){for(let i=0;i<s.length;i+=1)s[i].c();e=B(),C(n.$$.fragment)},l(i){for(let f=0;f<s.length;f+=1)s[f].l(i);e=F(i),S(n.$$.fragment,i)},m(i,f){for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(i,f);D(i,e,f),A(n,i,f),t=!0},p(i,f){if(f&256){l=We(i[8]);let u;for(u=0;u<l.length;u+=1){const m=Ft(i,l,u);s[u]?(s[u].p(m,f),p(s[u],1)):(s[u]=Ht(m),s[u].c(),p(s[u],1),s[u].m(e.parentNode,e))}for(re(),u=l.length;u<s.length;u+=1)o(u);le()}const a={};f&536870912&&(a.$$scope={dirty:f,ctx:i}),n.$set(a)},i(i){if(!t){for(let f=0;f<l.length;f+=1)p(s[f]);p(n.$$.fragment,i),t=!0}},o(i){s=s.filter(Boolean);for(let f=0;f<s.length;f+=1)$(s[f]);$(n.$$.fragment,i),t=!1},d(i){i&&w(e),Ke(s,i),P(n,i)}}}function el(r){let e,n,t,l,s,o,i,f;const a=[Zr,Gr],u=[];function m(c,d){var b;return((b=c[8])==null?void 0:b.length)>0&&!c[5]?0:1}n=m(r),t=u[n]=a[n](r);function g(c){r[19](c)}function _(c){r[20](c)}let h={};return r[7]!==void 0&&(h.input=r[7]),r[6]!==void 0&&(h.encoding=r[6]),s=new Zn({props:h}),ie.push(()=>ae(s,"input",g)),ie.push(()=>ae(s,"encoding",_)),{c(){e=Q("div"),t.c(),l=B(),C(s.$$.fragment),this.h()},l(c){e=L(c,"DIV",{slot:!0,class:!0});var d=z(e);t.l(d),l=F(d),S(s.$$.fragment,d),d.forEach(w),this.h()},h(){q(e,"slot","content"),q(e,"class","flex flex-col gap-4")},m(c,d){D(c,e,d),u[n].m(e,null),y(e,l),A(s,e,null),f=!0},p(c,d){let b=n;n=m(c),n===b?u[n].p(c,d):(re(),$(u[b],1,1,()=>{u[b]=null}),le(),t=u[n],t?t.p(c,d):(t=u[n]=a[n](c),t.c()),p(t,1),t.m(e,l));const R={};!o&&d&128&&(o=!0,R.input=c[7],fe(()=>o=!1)),!i&&d&64&&(i=!0,R.encoding=c[6],fe(()=>i=!1)),s.$set(R)},i(c){f||(p(t),p(s.$$.fragment,c),f=!0)},o(c){$(t),$(s.$$.fragment,c),f=!1},d(c){c&&w(e),u[n].d(),P(s)}}}function tl(r){let e,n,t,l;function s(f){r[21](f)}function o(f){r[22](f)}let i={id:"signal-confirmation-modal","data-testid":"signal-confirmation-modal",loading:r[3],confirmText:M("common.submit"),cancelText:M("common.cancel"),confirmDisabled:!r[4]||!r[6],$$slots:{content:[el],title:[Yr]},$$scope:{ctx:r}};return r[2]!==void 0&&(i.error=r[2]),r[0]!==void 0&&(i.open=r[0]),e=new hn({props:i}),ie.push(()=>ae(e,"error",s)),ie.push(()=>ae(e,"open",o)),e.$on("cancelModal",r[9]),e.$on("confirmModal",r[10]),{c(){C(e.$$.fragment)},l(f){S(e.$$.fragment,f)},m(f,a){A(e,f,a),l=!0},p(f,[a]){const u={};a&8&&(u.loading=f[3]),a&80&&(u.confirmDisabled=!f[4]||!f[6]),a&536871408&&(u.$$scope={dirty:a,ctx:f}),!n&&a&4&&(n=!0,u.error=f[2],fe(()=>n=!1)),!t&&a&1&&(t=!0,u.open=f[0],fe(()=>t=!1)),e.$set(u)},i(f){l||(p(e.$$.fragment,f),l=!0)},o(f){$(e.$$.fragment,f),l=!1},d(f){P(e,f)}}}const Ut="json/plain";function nl(r,e,n){let t,l,s,o=_e,i=()=>(o(),o=Je(d,O=>n(23,s=O)),d),f,a=_e,u=()=>(a(),a=Je(U,O=>n(24,f=O)),U),m;te(r,ke,O=>n(16,m=O)),r.$$.on_destroy.push(()=>o()),r.$$.on_destroy.push(()=>a());var g;let{open:_}=e,{workflow:h}=e,{namespace:c}=e,{refresh:d}=e;i();let b="",R=!1,v="",T=!1,U=et(Ut);u();let V="";const J=()=>{n(0,_=!1),n(4,v=""),n(7,V=""),n(5,T=!1),ce(U,f=Ut,f)},K=async()=>{n(2,b=""),n(3,R=!0);try{await Mn({namespace:c,workflow:h,input:V,encoding:f,name:v}),ce(d,s=Date.now(),s),Kn.push({message:M("workflows.signal-success"),id:"workflow-signal-success-toast"}),J()}catch(O){n(2,b=vn(O)?O.message:M("common.unknown-error"))}finally{n(3,R=!1)}},ne=()=>{n(5,T=!0),n(4,v="")};function H(O){v=O,n(4,v)}function Y(O){v=O,n(4,v)}function j(O){V=O,n(7,V)}function I(O){U=O,u(n(6,U))}function E(O){b=O,n(2,b)}function ee(O){_=O,n(0,_)}return r.$$set=O=>{"open"in O&&n(0,_=O.open),"workflow"in O&&n(12,h=O.workflow),"namespace"in O&&n(13,c=O.namespace),"refresh"in O&&i(n(1,d=O.refresh))},r.$$.update=()=>{r.$$.dirty&65536&&n(15,{metadata:t}=m,t),r.$$.dirty&49152&&n(8,l=n(14,g=t==null?void 0:t.definition)===null||g===void 0?void 0:g.signalDefinitions)},[_,d,b,R,v,T,U,V,l,J,K,ne,h,c,g,t,m,H,Y,j,I,E,ee]}class rl extends he{constructor(e){super(),be(this,e,nl,tl,we,{open:0,workflow:12,namespace:13,refresh:1})}}const ll=(r,e,n)=>!r.disableWriteActions&&!r.workflowSignalDisabled&&!e.namespaceWriteDisabled(n);function Ot(r,e,n){const t=r.slice();return t[31]=e[n].onClick,t[32]=e[n].destructive,t[33]=e[n].label,t[34]=e[n].enabled,t[35]=e[n].testId,t[36]=e[n].description,t}function ol(r){let e,n;return e=new xe({props:{bottomRight:!0,width:200,text:r[4],hide:r[7],$$slots:{default:[al]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},l(t){S(e.$$.fragment,t)},m(t,l){A(e,t,l),n=!0},p(t,l){const s={};l[0]&16&&(s.text=t[4]),l[0]&128&&(s.hide=t[7]),l[0]&2176|l[1]&256&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function sl(r){let e,n;return e=new En({props:{id:"workflow-actions",menuClass:"w-[16rem]",position:"right",primaryActionDisabled:!r[7],label:M("workflows.reset"),menuLabel:M("workflows.workflow-actions"),$$slots:{default:[cl]},$$scope:{ctx:r}}}),e.$on("click",r[25]),{c(){C(e.$$.fragment)},l(t){S(e.$$.fragment,t)},m(t,l){A(e,t,l),n=!0},p(t,l){const s={};l[0]&128&&(s.primaryActionDisabled=!t[7]),l[0]&3|l[1]&256&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function il(r){let e,n;return e=new En({props:{id:"workflow-actions",menuClass:"w-[16rem] md:w-[24rem]",position:"right",disabled:r[14],primaryActionDisabled:!r[15]||r[2],label:M("workflows.request-cancellation"),menuLabel:M("workflows.workflow-actions"),$$slots:{default:[_l]},$$scope:{ctx:r}}}),e.$on("click",r[23]),{c(){C(e.$$.fragment)},l(t){S(e.$$.fragment,t)},m(t,l){A(e,t,l),n=!0},p(t,l){const s={};l[0]&16384&&(s.disabled=t[14]),l[0]&32772&&(s.primaryActionDisabled=!t[15]||t[2]),l[0]&8451|l[1]&256&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function fl(r){let e=M("workflows.reset")+"",n;return{c(){n=X(e)},l(t){n=x(t,e)},m(t,l){D(t,n,l)},p:_e,d(t){t&&w(n)}}}function al(r){let e,n;return e=new xn({props:{"aria-label":M("workflows.reset"),disabled:!r[7],variant:"primary","data-testid":"workflow-reset-button",$$slots:{default:[fl]},$$scope:{ctx:r}}}),e.$on("click",r[26]),{c(){C(e.$$.fragment)},l(t){S(e.$$.fragment,t)},m(t,l){A(e,t,l),n=!0},p(t,l){const s={};l[0]&128&&(s.disabled=!t[7]),l[1]&256&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function ul(r){let e=M("workflows.start-workflow-like-this-one")+"",n;return{c(){n=X(e)},l(t){n=x(t,e)},m(t,l){D(t,n,l)},p:_e,d(t){t&&w(n)}}}function cl(r){let e,n;return e=new nt({props:{"data-testid":"start-workflow-button",$$slots:{default:[ul]},$$scope:{ctx:r}}}),e.$on("click",r[24]),{c(){C(e.$$.fragment)},l(t){S(e.$$.fragment,t)},m(t,l){A(e,t,l),n=!0},p(t,l){const s={};l[1]&256&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function Qt(r){let e,n;return e=new $n({}),{c(){C(e.$$.fragment)},l(t){S(e.$$.fragment,t)},m(t,l){A(e,t,l),n=!0},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function ml(r){let e=r[33]+"",n;return{c(){n=X(e)},l(t){n=x(t,e)},m(t,l){D(t,n,l)},p(t,l){l[0]&8192&&e!==(e=t[33]+"")&&oe(n,e)},d(t){t&&w(n)}}}function Lt(r){let e,n,t,l=r[32]&&Qt();return n=new nt({props:{destructive:r[32],disabled:!r[34],"data-testid":r[35],description:r[36],$$slots:{default:[ml]},$$scope:{ctx:r}}}),n.$on("click",function(){Sn(r[31])&&r[31].apply(this,arguments)}),{c(){l&&l.c(),e=B(),C(n.$$.fragment)},l(s){l&&l.l(s),e=F(s),S(n.$$.fragment,s)},m(s,o){l&&l.m(s,o),D(s,e,o),A(n,s,o),t=!0},p(s,o){r=s,r[32]?l?o[0]&8192&&p(l,1):(l=Qt(),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(re(),$(l,1,1,()=>{l=null}),le());const i={};o[0]&8192&&(i.destructive=r[32]),o[0]&8192&&(i.disabled=!r[34]),o[0]&8192&&(i["data-testid"]=r[35]),o[0]&8192&&(i.description=r[36]),o[0]&8192|o[1]&256&&(i.$$scope={dirty:o,ctx:r}),n.$set(i)},i(s){t||(p(l),p(n.$$.fragment,s),t=!0)},o(s){$(l),$(n.$$.fragment,s),t=!1},d(s){s&&w(e),l&&l.d(s),P(n,s)}}}function zt(r){let e,n,t,l;return e=new $n({}),t=new nt({props:{"data-testid":"start-workflow-button",$$slots:{default:[pl]},$$scope:{ctx:r}}}),t.$on("click",r[22]),{c(){C(e.$$.fragment),n=B(),C(t.$$.fragment)},l(s){S(e.$$.fragment,s),n=F(s),S(t.$$.fragment,s)},m(s,o){A(e,s,o),D(s,n,o),A(t,s,o),l=!0},p(s,o){const i={};o[1]&256&&(i.$$scope={dirty:o,ctx:s}),t.$set(i)},i(s){l||(p(e.$$.fragment,s),p(t.$$.fragment,s),l=!0)},o(s){$(e.$$.fragment,s),$(t.$$.fragment,s),l=!1},d(s){s&&w(n),P(e,s),P(t,s)}}}function pl(r){let e=M("workflows.start-workflow-like-this-one")+"",n;return{c(){n=X(e)},l(t){n=x(t,e)},m(t,l){D(t,n,l)},p:_e,d(t){t&&w(n)}}}function _l(r){let e,n=!Ge(r[8]),t,l,s=We(r[13]),o=[];for(let a=0;a<s.length;a+=1)o[a]=Lt(Ot(r,s,a));const i=a=>$(o[a],1,1,()=>{o[a]=null});let f=n&&zt(r);return{c(){for(let a=0;a<o.length;a+=1)o[a].c();e=B(),f&&f.c(),t=ue()},l(a){for(let u=0;u<o.length;u+=1)o[u].l(a);e=F(a),f&&f.l(a),t=ue()},m(a,u){for(let m=0;m<o.length;m+=1)o[m]&&o[m].m(a,u);D(a,e,u),f&&f.m(a,u),D(a,t,u),l=!0},p(a,u){if(u[0]&8192){s=We(a[13]);let m;for(m=0;m<s.length;m+=1){const g=Ot(a,s,m);o[m]?(o[m].p(g,u),p(o[m],1)):(o[m]=Lt(g),o[m].c(),p(o[m],1),o[m].m(e.parentNode,e))}for(re(),m=s.length;m<o.length;m+=1)i(m);le()}u[0]&256&&(n=!Ge(a[8])),n?f?(f.p(a,u),u[0]&256&&p(f,1)):(f=zt(a),f.c(),p(f,1),f.m(t.parentNode,t)):f&&(re(),$(f,1,1,()=>{f=null}),le())},i(a){if(!l){for(let u=0;u<s.length;u+=1)p(o[u]);p(f),l=!0}},o(a){o=o.filter(Boolean);for(let u=0;u<o.length;u+=1)$(o[u]);$(f),l=!1},d(a){a&&(w(e),w(t)),Ke(o,a),f&&f.d(a)}}}function jt(r){let e,n,t;function l(o){r[27](o)}let s={refresh:ye,workflow:r[0],namespace:r[1]};return r[11]!==void 0&&(s.open=r[11]),e=new Jr({props:s}),ie.push(()=>ae(e,"open",l)),{c(){C(e.$$.fragment)},l(o){S(e.$$.fragment,o)},m(o,i){A(e,o,i),t=!0},p(o,i){const f={};i[0]&1&&(f.workflow=o[0]),i[0]&2&&(f.namespace=o[1]),!n&&i[0]&2048&&(n=!0,f.open=o[11],fe(()=>n=!1)),e.$set(f)},i(o){t||(p(e.$$.fragment,o),t=!0)},o(o){$(e.$$.fragment,o),t=!1},d(o){P(e,o)}}}function Jt(r){let e,n,t;function l(o){r[28](o)}let s={refresh:ye,workflow:r[0],namespace:r[1]};return r[12]!==void 0&&(s.open=r[12]),e=new rl({props:s}),ie.push(()=>ae(e,"open",l)),{c(){C(e.$$.fragment)},l(o){S(e.$$.fragment,o)},m(o,i){A(e,o,i),t=!0},p(o,i){const f={};i[0]&1&&(f.workflow=o[0]),i[0]&2&&(f.namespace=o[1]),!n&&i[0]&4096&&(n=!0,f.open=o[12],fe(()=>n=!1)),e.$set(f)},i(o){t||(p(e.$$.fragment,o),t=!0)},o(o){$(e.$$.fragment,o),t=!1},d(o){P(e,o)}}}function Yt(r){let e,n,t;function l(o){r[29](o)}let s={refresh:ye,workflow:r[0],namespace:r[1]};return r[9]!==void 0&&(s.open=r[9]),e=new Ln({props:s}),ie.push(()=>ae(e,"open",l)),{c(){C(e.$$.fragment)},l(o){S(e.$$.fragment,o)},m(o,i){A(e,o,i),t=!0},p(o,i){const f={};i[0]&1&&(f.workflow=o[0]),i[0]&2&&(f.namespace=o[1]),!n&&i[0]&512&&(n=!0,f.open=o[9],fe(()=>n=!1)),e.$set(f)},i(o){t||(p(e.$$.fragment,o),t=!0)},o(o){$(e.$$.fragment,o),t=!1},d(o){P(e,o)}}}function Gt(r){let e,n,t;function l(o){r[30](o)}let s={refresh:ye,workflow:r[0],namespace:r[1]};return r[10]!==void 0&&(s.open=r[10]),e=new zn({props:s}),ie.push(()=>ae(e,"open",l)),{c(){C(e.$$.fragment)},l(o){S(e.$$.fragment,o)},m(o,i){A(e,o,i),t=!0},p(o,i){const f={};i[0]&1&&(f.workflow=o[0]),i[0]&2&&(f.namespace=o[1]),!n&&i[0]&1024&&(n=!0,f.open=o[10],fe(()=>n=!1)),e.$set(f)},i(o){t||(p(e.$$.fragment,o),t=!0)},o(o){$(e.$$.fragment,o),t=!1},d(o){P(e,o)}}}function dl(r){let e,n,t,l,s,o,i,f,a;const u=[il,sl,ol],m=[];function g(b,R){return R[0]&256&&(e=null),b[3]?0:(e==null&&(e=!Ge(b[8])),e?1:2)}n=g(r,[-1,-1]),t=m[n]=u[n](r);let _=r[7]&&jt(r),h=r[6]&&Jt(r),c=r[15]&&Yt(r),d=r[5]&&Gt(r);return{c(){t.c(),l=B(),_&&_.c(),s=B(),h&&h.c(),o=B(),c&&c.c(),i=B(),d&&d.c(),f=ue()},l(b){t.l(b),l=F(b),_&&_.l(b),s=F(b),h&&h.l(b),o=F(b),c&&c.l(b),i=F(b),d&&d.l(b),f=ue()},m(b,R){m[n].m(b,R),D(b,l,R),_&&_.m(b,R),D(b,s,R),h&&h.m(b,R),D(b,o,R),c&&c.m(b,R),D(b,i,R),d&&d.m(b,R),D(b,f,R),a=!0},p(b,R){let v=n;n=g(b,R),n===v?m[n].p(b,R):(re(),$(m[v],1,1,()=>{m[v]=null}),le(),t=m[n],t?t.p(b,R):(t=m[n]=u[n](b),t.c()),p(t,1),t.m(l.parentNode,l)),b[7]?_?(_.p(b,R),R[0]&128&&p(_,1)):(_=jt(b),_.c(),p(_,1),_.m(s.parentNode,s)):_&&(re(),$(_,1,1,()=>{_=null}),le()),b[6]?h?(h.p(b,R),R[0]&64&&p(h,1)):(h=Jt(b),h.c(),p(h,1),h.m(o.parentNode,o)):h&&(re(),$(h,1,1,()=>{h=null}),le()),b[15]?c?(c.p(b,R),R[0]&32768&&p(c,1)):(c=Yt(b),c.c(),p(c,1),c.m(i.parentNode,i)):c&&(re(),$(c,1,1,()=>{c=null}),le()),b[5]?d?(d.p(b,R),R[0]&32&&p(d,1)):(d=Gt(b),d.c(),p(d,1),d.m(f.parentNode,f)):d&&(re(),$(d,1,1,()=>{d=null}),le())},i(b){a||(p(t),p(_),p(h),p(c),p(d),a=!0)},o(b){$(t),$(_),$(h),$(c),$(d),a=!1},d(b){b&&(w(l),w(s),w(o),w(i),w(f)),m[n].d(b),_&&_.d(b),h&&h.d(b),c&&c.d(b),d&&d.d(b)}}}function gl(r,e,n){let t,l,s,o,i,f,a,u,m;te(r,kn,W=>n(20,a=W)),te(r,Ne,W=>n(8,m=W));var g,_;let{workflow:h}=e,{namespace:c}=e,{cancelInProgress:d}=e,{isRunning:b}=e,R=!1,v=!1,T=!1,U=!1,V,J=er();te(r,J,W=>n(21,u=W));let K;const ne=()=>Ct(Tt({namespace:c,workflowId:h.id,taskQueue:h.taskQueue,workflowType:h.name})),H=()=>n(9,R=!0),Y=()=>Ct(Tt({namespace:c,workflowId:h.id,taskQueue:h.taskQueue,workflowType:h.name})),j=()=>n(11,T=!0),I=()=>n(11,T=!0);function E(W){T=W,n(11,T),n(7,i),n(4,V),n(6,l),n(5,s),n(19,o),n(0,h),n(20,a),n(17,g),n(18,_),n(8,m),n(21,u),n(1,c)}function ee(W){U=W,n(12,U),n(7,i),n(4,V),n(6,l),n(5,s),n(19,o),n(0,h),n(20,a),n(17,g),n(18,_),n(8,m),n(21,u),n(1,c)}function O(W){R=W,n(9,R)}function k(W){v=W,n(10,v),n(7,i),n(4,V),n(6,l),n(5,s),n(19,o),n(0,h),n(20,a),n(17,g),n(18,_),n(8,m),n(21,u),n(1,c)}return r.$$set=W=>{"workflow"in W&&n(0,h=W.workflow),"namespace"in W&&n(1,c=W.namespace),"cancelInProgress"in W&&n(2,d=W.cancelInProgress),"isRunning"in W&&n(3,b=W.isRunning)},r.$$.update=()=>{r.$$.dirty[0]&2097410&&n(15,t=Un(m.data.settings,u,c)),r.$$.dirty[0]&2097410&&n(6,l=ll(m.data.settings,u,c)),r.$$.dirty[0]&2097410&&n(5,s=On(m.data.settings,u,c)),r.$$.dirty[0]&2097410&&n(19,o=Qn(m.data.settings,u,c)),r.$$.dirty[0]&1572865&&n(7,i=o&&h.pendingChildren.length===0&&a.length>0),r.$$.dirty[0]&224&&n(14,f=!i&&!l&&!s),r.$$.dirty[0]&1966081&&(o?o&&(n(17,g=h==null?void 0:h.pendingChildren)===null||g===void 0?void 0:g.length)>0?n(4,V=M("workflows.reset-disabled-pending-children")):o&&(n(18,_=h==null?void 0:h.pendingChildren)===null||_===void 0?void 0:_.length)===0&&a.length===0&&n(4,V=M("workflows.reset-disabled-no-events")):n(4,V=M("workflows.reset-disabled-unauthorized"))),r.$$.dirty[0]&240&&n(13,K=[{label:M("workflows.reset"),onClick:()=>n(11,T=!0),testId:"reset-button",enabled:i,description:i?"":V},{label:M("workflows.signal"),onClick:()=>n(12,U=!0),testId:"signal-button",enabled:l,description:l?"":M("workflows.signal-disabled")},{label:M("workflows.terminate"),onClick:()=>n(10,v=!0),testId:"terminate-button",enabled:s,destructive:!0,description:s?"":M("workflows.terminate-disabled")}])},[h,c,d,b,V,s,l,i,m,R,v,T,U,K,f,t,J,g,_,o,a,u,ne,H,Y,j,I,E,ee,O,k]}class $l extends he{constructor(e){super(),be(this,e,gl,dl,we,{workflow:0,namespace:1,cancelInProgress:2,isRunning:3},null,[-1,-1])}}function wl(r){let e,n,t=M("workers.buildId")+"",l,s,o;return s=new nr({props:{active:!0,buildId:r[0]}}),{c(){e=Q("p"),n=Q("span"),l=X(t),C(s.$$.fragment),this.h()},l(i){e=L(i,"P",{class:!0});var f=z(e);n=L(f,"SPAN",{});var a=z(n);l=x(a,t),a.forEach(w),S(s.$$.fragment,f),f.forEach(w),this.h()},h(){q(e,"class","flex items-center gap-1")},m(i,f){D(i,e,f),y(e,n),y(n,l),A(s,e,null),o=!0},p(i,[f]){const a={};f&1&&(a.buildId=i[0]),s.$set(a)},i(i){o||(p(s.$$.fragment,i),o=!0)},o(i){$(s.$$.fragment,i),o=!1},d(i){i&&w(e),P(s)}}}function hl(r,e,n){let t,{workflow:l}=e;return r.$$set=s=>{"workflow"in s&&n(1,l=s.workflow)},r.$$.update=()=>{r.$$.dirty&2&&n(0,t=rr(l))},[t,l]}class bl extends he{constructor(e){super(),be(this,e,hl,wl,we,{workflow:1})}}const kl=r=>({open:r&1}),Zt=r=>({open:r[0]}),vl=r=>({}),Kt=r=>({}),El=r=>({}),Xt=r=>({}),Il=r=>({}),xt=r=>({});function Tl(r){let e,n,t,l,s,o,i,f,a,u,m,g,_,h,c,d,b,R;const v=r[6].title,T=Te(v,r,r[5],xt),U=r[6].description,V=Te(U,r,r[5],Xt),J=r[6].action,K=Te(J,r,r[5],Kt);f=new Ve({props:{class:"m-2 shrink-0",name:r[0]?"arrow-down":"arrow-right"}});const ne=r[6].default,H=Te(ne,r,r[5],Zt);let Y=[{class:"w-full"},r[3]],j={};for(let I=0;I<Y.length;I+=1)j=Me(j,Y[I]);return{c(){e=Q("div"),n=Q("button"),t=Q("div"),T&&T.c(),l=B(),V&&V.c(),s=B(),o=Q("div"),K&&K.c(),i=B(),C(f.$$.fragment),m=B(),g=Q("div"),H&&H.c(),this.h()},l(I){e=L(I,"DIV",{class:!0});var E=z(e);n=L(E,"BUTTON",{id:!0,"aria-expanded":!0,"aria-controls":!0,class:!0,type:!0});var ee=z(n);t=L(ee,"DIV",{class:!0});var O=z(t);T&&T.l(O),l=F(O),V&&V.l(O),s=F(O),o=L(O,"DIV",{class:!0,role:!0});var k=z(o);K&&K.l(k),i=F(k),S(f.$$.fragment,k),k.forEach(w),O.forEach(w),ee.forEach(w),m=F(E),g=L(E,"DIV",{id:!0,"aria-labelledby":!0,role:!0,class:!0});var W=z(g);H&&H.l(W),W.forEach(w),E.forEach(w),this.h()},h(){q(o,"class","flex flex-row items-center gap-2 pr-2"),q(o,"role","none"),q(t,"class","flex w-full flex-row items-center justify-between gap-2"),q(n,"id",a=r[1]+"-trigger"),q(n,"aria-expanded",r[0]),q(n,"aria-controls",u=r[1]+"-content"),q(n,"class","w-full cursor-pointer hover:bg-interactive-secondary-hover focus-visible:bg-interactive focus-visible:outline-none"),q(n,"type","button"),q(g,"id",_=r[1]+"-content"),q(g,"aria-labelledby",h=r[1]+"-trigger"),q(g,"role","textbox"),q(g,"class","rounded-b-2 block w-full bg-primary p-2"),Pe(g,"hidden",!r[0]),ht(e,j)},m(I,E){D(I,e,E),y(e,n),y(n,t),T&&T.m(t,null),y(t,l),V&&V.m(t,null),y(t,s),y(t,o),K&&K.m(o,null),y(o,i),A(f,o,null),y(e,m),y(e,g),H&&H.m(g,null),d=!0,b||(R=[je(o,"click",bt(r[7])),je(o,"keyup",bt(r[8])),je(n,"click",r[2])],b=!0)},p(I,[E]){T&&T.p&&(!d||E&32)&&De(T,v,I,I[5],d?Se(v,I[5],E,Il):Ce(I[5]),xt),V&&V.p&&(!d||E&32)&&De(V,U,I,I[5],d?Se(U,I[5],E,El):Ce(I[5]),Xt),K&&K.p&&(!d||E&32)&&De(K,J,I,I[5],d?Se(J,I[5],E,vl):Ce(I[5]),Kt);const ee={};E&1&&(ee.name=I[0]?"arrow-down":"arrow-right"),f.$set(ee),(!d||E&2&&a!==(a=I[1]+"-trigger"))&&q(n,"id",a),(!d||E&1)&&q(n,"aria-expanded",I[0]),(!d||E&2&&u!==(u=I[1]+"-content"))&&q(n,"aria-controls",u),H&&H.p&&(!d||E&33)&&De(H,ne,I,I[5],d?Se(ne,I[5],E,kl):Ce(I[5]),Zt),(!d||E&2&&_!==(_=I[1]+"-content"))&&q(g,"id",_),(!d||E&2&&h!==(h=I[1]+"-trigger"))&&q(g,"aria-labelledby",h),(!d||E&1)&&Pe(g,"hidden",!I[0]),ht(e,j=or(Y,[{class:"w-full"},E&8&&I[3]]))},i(I){d||(p(T,I),p(V,I),p(K,I),p(f.$$.fragment,I),p(H,I),I&&Xe(()=>{d&&(c||(c=vt(g,Dt,{},!0)),c.run(1))}),d=!0)},o(I){$(T,I),$(V,I),$(K,I),$(f.$$.fragment,I),$(H,I),I&&(c||(c=vt(g,Dt,{},!1)),c.run(0)),d=!1},d(I){I&&w(e),T&&T.d(I),V&&V.d(I),K&&K.d(I),P(f),H&&H.d(I),I&&c&&c.end(),b=!1,An(R)}}}function Dl(r,e,n){const t=["id","open","onToggle"];let l=Qe(e,t),{$$slots:s={},$$scope:o}=e,{id:i=Xn()}=e,{open:f=!1}=e,{onToggle:a=_e}=e;const u=()=>{n(0,f=!f),a()};function m(_){kt.call(this,r,_)}function g(_){kt.call(this,r,_)}return r.$$set=_=>{e=Me(Me({},e),cn(_)),n(3,l=Qe(e,t)),"id"in _&&n(1,i=_.id),"open"in _&&n(0,f=_.open),"onToggle"in _&&n(4,a=_.onToggle),"$$scope"in _&&n(5,o=_.$$scope)},[f,i,u,l,a,o,s,m,g]}class Cl extends he{constructor(e){super(),be(this,e,Dl,Tl,we,{id:1,open:0,onToggle:4})}}const Sl=(r,e)=>{const n=r==="Running",t=e==null?void 0:e.some(l=>(l==null?void 0:l.eventType)==="WorkflowExecutionCancelRequested");return n&&t},en=r=>{const e=r==null?void 0:r.indexOf("?");return e>-1?r.slice(0,e):r},me=(r,e,n=!1)=>{const t=en(r).split("/"),l=en(e).split("/");if(n&&t.length!==l.length)return!1;for(let s=0;s<t.length;s++){const o=t[s],i=l[s];if(o!==i)return!1}return!0};function Al(r){let e=(r[15]?M("common.workflows"):M("workflows.back-to-workflows"))+"",n;return{c(){n=X(e)},l(t){n=x(t,e)},m(t,l){D(t,n,l)},p(t,l){l&32768&&e!==(e=(t[15]?M("common.workflows"):M("workflows.back-to-workflows"))+"")&&oe(n,e)},d(t){t&&w(n)}}}function tn(r){let e,n;return e=new Re({props:{href:ve({...r[14]}),"data-testid":"back-to-workflow-execution",icon:"chevron-left",$$slots:{default:[Pl]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},l(t){S(e.$$.fragment,t)},m(t,l){A(e,t,l),n=!0},p(t,l){const s={};l&16384&&(s.href=ve({...t[14]})),l&536870920&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function Pl(r){var t;let e=((t=r[3])==null?void 0:t.runId)+"",n;return{c(){n=X(e)},l(l){n=x(l,e)},m(l,s){D(l,n,s)},p(l,s){var o;s&8&&e!==(e=((o=l[3])==null?void 0:o.runId)+"")&&oe(n,e)},d(l){l&&w(n)}}}function nn(r){let e,n;return e=new bl({props:{workflow:r[3]}}),{c(){C(e.$$.fragment)},l(t){S(e.$$.fragment,t)},m(t,l){A(e,t,l),n=!0},p(t,l){const s={};l&8&&(s.workflow=t[3]),e.$set(s)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function rn(r){let e,n;return e=new Cl({props:{$$slots:{title:[Rl],default:[Wl,({open:t})=>({28:t}),({open:t})=>t?268435456:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},l(t){S(e.$$.fragment,t)},m(t,l){A(e,t,l),n=!0},p(t,l){const s={};l&805306374&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function ln(r){let e,n=M("workflows.summary")+"",t,l,s,o;return s=new Tn({props:{content:r[2]}}),{c(){e=Q("h3"),t=X(n),l=B(),C(s.$$.fragment)},l(i){e=L(i,"H3",{});var f=z(e);t=x(f,n),f.forEach(w),l=F(i),S(s.$$.fragment,i)},m(i,f){D(i,e,f),y(e,t),D(i,l,f),A(s,i,f),o=!0},p(i,f){const a={};f&4&&(a.content=i[2]),s.$set(a)},i(i){o||(p(s.$$.fragment,i),o=!0)},o(i){$(s.$$.fragment,i),o=!1},d(i){i&&(w(e),w(l)),P(s,i)}}}function on(r){let e,n=M("workflows.details")+"",t,l,s,o;return s=new Tn({props:{content:r[1]}}),{c(){e=Q("h3"),t=X(n),l=B(),C(s.$$.fragment)},l(i){e=L(i,"H3",{});var f=z(e);t=x(f,n),f.forEach(w),l=F(i),S(s.$$.fragment,i)},m(i,f){D(i,e,f),y(e,t),D(i,l,f),A(s,i,f),o=!0},p(i,f){const a={};f&2&&(a.content=i[1]),s.$set(a)},i(i){o||(p(s.$$.fragment,i),o=!0)},o(i){$(s.$$.fragment,i),o=!1},d(i){i&&(w(e),w(l)),P(s,i)}}}function Wl(r){let e,n,t,l=r[28]&&r[2]&&ln(r),s=r[28]&&r[1]&&on(r);return{c(){l&&l.c(),e=B(),s&&s.c(),n=ue()},l(o){l&&l.l(o),e=F(o),s&&s.l(o),n=ue()},m(o,i){l&&l.m(o,i),D(o,e,i),s&&s.m(o,i),D(o,n,i),t=!0},p(o,i){o[28]&&o[2]?l?(l.p(o,i),i&268435460&&p(l,1)):(l=ln(o),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(re(),$(l,1,1,()=>{l=null}),le()),o[28]&&o[1]?s?(s.p(o,i),i&268435458&&p(s,1)):(s=on(o),s.c(),p(s,1),s.m(n.parentNode,n)):s&&(re(),$(s,1,1,()=>{s=null}),le())},i(o){t||(p(l),p(s),t=!0)},o(o){$(l),$(s),t=!1},d(o){o&&(w(e),w(n)),l&&l.d(o),s&&s.d(o)}}}function Rl(r){let e,n,t=M("workflows.summary-and-details")+"",l,s;return n=new Ve({props:{name:"flag",class:"text-indigo-600/80",width:32,height:32}}),{c(){e=Q("div"),C(n.$$.fragment),l=X(t),this.h()},l(o){e=L(o,"DIV",{slot:!0,class:!0});var i=z(e);S(n.$$.fragment,i),l=x(i,t),i.forEach(w),this.h()},h(){q(e,"slot","title"),q(e,"class","flex w-full items-center gap-2 rounded p-2 text-xl")},m(o,i){D(o,e,i),A(n,e,null),y(e,l),s=!0},p:_e,i(o){s||(p(n.$$.fragment,o),s=!0)},o(o){$(n.$$.fragment,o),s=!1},d(o){o&&w(e),P(n)}}}function Vl(r){var t;let e=((t=r[3])==null?void 0:t.historyEvents)+"",n;return{c(){n=X(e)},l(l){n=x(l,e)},m(l,s){D(l,n,s)},p(l,s){var o;s&8&&e!==(e=((o=l[3])==null?void 0:o.historyEvents)+"")&&oe(n,e)},d(l){l&&w(n)}}}function Ml(r){let e,n;return e=new ze({props:{type:"primary",class:"px-2 py-0",$$slots:{default:[Vl]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},l(t){S(e.$$.fragment,t)},m(t,l){A(e,t,l),n=!0},p(t,l){const s={};l&536870920&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function Nl(r){var t,l;let e=((l=(t=r[16])==null?void 0:t.pollers)==null?void 0:l.length)+"",n;return{c(){n=X(e)},l(s){n=x(s,e)},m(s,o){D(s,n,o)},p(s,o){var i,f;o&65536&&e!==(e=((f=(i=s[16])==null?void 0:i.pollers)==null?void 0:f.length)+"")&&oe(n,e)},d(s){s&&w(n)}}}function yl(r){let e,n;return e=new ze({props:{type:"primary",class:"px-2 py-0",$$slots:{default:[Nl]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},l(t){S(e.$$.fragment,t)},m(t,l){A(e,t,l),n=!0},p(t,l){const s={};l&536936448&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function ql(r){let e=r[8].relationshipCount+"",n;return{c(){n=X(e)},l(t){n=x(t,e)},m(t,l){D(t,n,l)},p(t,l){l&256&&e!==(e=t[8].relationshipCount+"")&&oe(n,e)},d(t){t&&w(n)}}}function Bl(r){let e,n;return e=new ze({props:{type:"primary",class:"px-2 py-0",$$slots:{default:[ql]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},l(t){S(e.$$.fragment,t)},m(t,l){A(e,t,l),n=!0},p(t,l){const s={};l&536871168&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function sn(r){let e,n;return e=new Ve({props:{name:"canceled"}}),{c(){C(e.$$.fragment)},l(t){S(e.$$.fragment,t)},m(t,l){A(e,t,l),n=!0},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function Fl(r){var i,f;let e,n,t=((f=(i=r[3])==null?void 0:i.pendingActivities)==null?void 0:f.length)+"",l,s,o=r[12]&&sn();return{c(){e=Q("div"),o&&o.c(),n=B(),l=X(t),this.h()},l(a){e=L(a,"DIV",{class:!0});var u=z(e);o&&o.l(u),n=F(u),l=x(u,t),u.forEach(w),this.h()},h(){q(e,"class","flex items-center gap-1")},m(a,u){D(a,e,u),o&&o.m(e,null),y(e,n),y(e,l),s=!0},p(a,u){var m,g;a[12]?o?u&4096&&p(o,1):(o=sn(),o.c(),p(o,1),o.m(e,n)):o&&(re(),$(o,1,1,()=>{o=null}),le()),(!s||u&8)&&t!==(t=((g=(m=a[3])==null?void 0:m.pendingActivities)==null?void 0:g.length)+"")&&oe(l,t)},i(a){s||(p(o),s=!0)},o(a){$(o),s=!1},d(a){a&&w(e),o&&o.d()}}}function Hl(r){let e,n;return e=new ze({props:{type:r[12]?"warning":"primary",class:"px-2 py-0",$$slots:{default:[Fl]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},l(t){S(e.$$.fragment,t)},m(t,l){A(e,t,l),n=!0},p(t,l){const s={};l&4096&&(s.type=t[12]?"warning":"primary"),l&536875016&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function Ul(r){let e,n,t,l,s,o,i,f,a,u,m,g,_,h;return e=new Ee({props:{label:M("workflows.history-tab"),id:"history-tab",href:ve({...r[14]}),active:me(r[6].url.pathname,ve({...r[14]})),$$slots:{default:[Ml]},$$scope:{ctx:r}}}),t=new Ee({props:{label:M("workflows.workers-tab"),id:"workers-tab",href:Ae(r[14]),active:me(r[6].url.pathname,Ae(r[14])),$$slots:{default:[yl]},$$scope:{ctx:r}}}),s=new Ee({props:{label:M("workflows.relationships"),id:"relationships-tab",href:qe(r[14]),active:me(r[6].url.pathname,qe(r[14])),$$slots:{default:[Bl]},$$scope:{ctx:r}}}),i=new Ee({props:{label:M("workflows.pending-activities-tab"),id:"pending-activities-tab",href:Be(r[14]),active:me(r[6].url.pathname,Be(r[14])),$$slots:{default:[Hl]},$$scope:{ctx:r}}}),a=new Ee({props:{label:M("workflows.call-stack-tab"),id:"call-stack-tab",href:Fe(r[14]),active:me(r[6].url.pathname,Fe(r[14]))}}),m=new Ee({props:{label:M("workflows.queries-tab"),id:"queries-tab",href:He(r[14]),active:me(r[6].url.pathname,He(r[14]))}}),_=new Ee({props:{label:M("workflows.metadata-tab"),id:"metadata-tab",href:Ue(r[14]),active:me(r[6].url.pathname,Ue(r[14]))}}),{c(){C(e.$$.fragment),n=B(),C(t.$$.fragment),l=B(),C(s.$$.fragment),o=B(),C(i.$$.fragment),f=B(),C(a.$$.fragment),u=B(),C(m.$$.fragment),g=B(),C(_.$$.fragment)},l(c){S(e.$$.fragment,c),n=F(c),S(t.$$.fragment,c),l=F(c),S(s.$$.fragment,c),o=F(c),S(i.$$.fragment,c),f=F(c),S(a.$$.fragment,c),u=F(c),S(m.$$.fragment,c),g=F(c),S(_.$$.fragment,c)},m(c,d){A(e,c,d),D(c,n,d),A(t,c,d),D(c,l,d),A(s,c,d),D(c,o,d),A(i,c,d),D(c,f,d),A(a,c,d),D(c,u,d),A(m,c,d),D(c,g,d),A(_,c,d),h=!0},p(c,d){const b={};d&16384&&(b.href=ve({...c[14]})),d&16448&&(b.active=me(c[6].url.pathname,ve({...c[14]}))),d&536870920&&(b.$$scope={dirty:d,ctx:c}),e.$set(b);const R={};d&16384&&(R.href=Ae(c[14])),d&16448&&(R.active=me(c[6].url.pathname,Ae(c[14]))),d&536936448&&(R.$$scope={dirty:d,ctx:c}),t.$set(R);const v={};d&16384&&(v.href=qe(c[14])),d&16448&&(v.active=me(c[6].url.pathname,qe(c[14]))),d&536871168&&(v.$$scope={dirty:d,ctx:c}),s.$set(v);const T={};d&16384&&(T.href=Be(c[14])),d&16448&&(T.active=me(c[6].url.pathname,Be(c[14]))),d&536875016&&(T.$$scope={dirty:d,ctx:c}),i.$set(T);const U={};d&16384&&(U.href=Fe(c[14])),d&16448&&(U.active=me(c[6].url.pathname,Fe(c[14]))),a.$set(U);const V={};d&16384&&(V.href=He(c[14])),d&16448&&(V.active=me(c[6].url.pathname,He(c[14]))),m.$set(V);const J={};d&16384&&(J.href=Ue(c[14])),d&16448&&(J.active=me(c[6].url.pathname,Ue(c[14]))),_.$set(J)},i(c){h||(p(e.$$.fragment,c),p(t.$$.fragment,c),p(s.$$.fragment,c),p(i.$$.fragment,c),p(a.$$.fragment,c),p(m.$$.fragment,c),p(_.$$.fragment,c),h=!0)},o(c){$(e.$$.fragment,c),$(t.$$.fragment,c),$(s.$$.fragment,c),$(i.$$.fragment,c),$(a.$$.fragment,c),$(m.$$.fragment,c),$(_.$$.fragment,c),h=!1},d(c){c&&(w(n),w(l),w(o),w(f),w(u),w(g)),P(e,c),P(t,c),P(s,c),P(i,c),P(a,c),P(m,c),P(_,c)}}}function Ol(r){let e,n;return e=new ir({props:{class:"flex flex-wrap gap-6 pb-1 pt-4",label:"workflow detail",$$slots:{default:[Ul]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},l(t){S(e.$$.fragment,t)},m(t,l){A(e,t,l),n=!0},p(t,l){const s={};l&536957256&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function fn(r){let e,n,t,l;return n=new In({props:{icon:"info",intent:"info",title:M("workflows.cancel-request-sent"),$$slots:{default:[Ql]},$$scope:{ctx:r}}}),{c(){e=Q("div"),C(n.$$.fragment)},l(s){e=L(s,"DIV",{});var o=z(e);S(n.$$.fragment,o),o.forEach(w)},m(s,o){D(s,e,o),A(n,e,null),l=!0},p(s,o){const i={};o&536870912&&(i.$$scope={dirty:o,ctx:s}),n.$set(i)},i(s){l||(p(n.$$.fragment,s),s&&(t||Xe(()=>{t=pn(e,dn,{duration:200,delay:100}),t.start()})),l=!0)},o(s){$(n.$$.fragment,s),l=!1},d(s){s&&w(e),P(n)}}}function Ql(r){let e=M("workflows.cancel-request-sent-description")+"",n;return{c(){n=X(e)},l(t){n=x(t,e)},m(t,l){D(t,n,l)},p:_e,d(t){t&&w(n)}}}function an(r){let e,n,t,l;return n=new In({props:{icon:"info",intent:"info","data-testid":"workflow-reset-alert",title:M("workflows.reset-success-alert-title"),$$slots:{default:[zl]},$$scope:{ctx:r}}}),{c(){e=Q("div"),C(n.$$.fragment)},l(s){e=L(s,"DIV",{});var o=z(e);S(n.$$.fragment,o),o.forEach(w)},m(s,o){D(s,e,o),A(n,e,null),l=!0},p(s,o){const i={};o&536870961&&(i.$$scope={dirty:o,ctx:s}),n.$set(i)},i(s){l||(p(n.$$.fragment,s),s&&(t||Xe(()=>{t=pn(e,dn,{duration:200,delay:100}),t.start()})),l=!0)},o(s){$(n.$$.fragment,s),l=!1},d(s){s&&w(e),P(n)}}}function Ll(r){let e;return{c(){e=X("here")},l(n){e=x(n,"here")},m(n,t){D(n,e,t)},d(n){n&&w(e)}}}function zl(r){var s,o,i,f;let e,n,t,l;return n=new Re({props:{href:ve({namespace:r[0],workflow:(o=(s=r[4])==null?void 0:s.workflow)==null?void 0:o.id,run:r[5][(f=(i=r[4])==null?void 0:i.workflow)==null?void 0:f.runId]}),$$slots:{default:[Ll]},$$scope:{ctx:r}}}),{c(){e=X("You can find the resulting Workflow Execution "),C(n.$$.fragment),t=X(".")},l(a){e=x(a,"You can find the resulting Workflow Execution "),S(n.$$.fragment,a),t=x(a,".")},m(a,u){D(a,e,u),A(n,a,u),D(a,t,u),l=!0},p(a,u){var g,_,h,c;const m={};u&49&&(m.href=ve({namespace:a[0],workflow:(_=(g=a[4])==null?void 0:g.workflow)==null?void 0:_.id,run:a[5][(c=(h=a[4])==null?void 0:h.workflow)==null?void 0:c.runId]})),u&536870912&&(m.$$scope={dirty:u,ctx:a}),n.$set(m)},i(a){l||(p(n.$$.fragment,a),l=!0)},o(a){$(n.$$.fragment,a),l=!1},d(a){a&&(w(e),w(t)),P(n,a)}}}function jl(r){var ee,O;let e,n,t,l,s,o,i,f,a,u,m,g,_,h,c,d,b,R,v,T,U,V,J,K,ne;t=new Re({props:{href:`${Le({namespace:r[0]})}?${r[17]}`,"data-testid":"back-to-workflows",icon:"chevron-left",$$slots:{default:[Al]},$$scope:{ctx:r}}});let H=r[15]&&tn(r);a=new tr({props:{status:(ee=r[3])==null?void 0:ee.status,big:!0}}),_=new gn({props:{copyIconTitle:M("common.copy-icon-title"),copySuccessIconTitle:M("common.copy-success-icon-title"),content:(O=r[3])==null?void 0:O.id,clickAllToCopy:!0,"container-class":"w-full",class:"overflow-hidden text-ellipsis"}});let Y=r[9]&&nn(r);b=new $l({props:{isRunning:r[13],cancelInProgress:r[11],workflow:r[3],namespace:r[0]}});let j=r[7]&&rn(r);T=new Br({}),V=new sr({props:{$$slots:{default:[Ol]},$$scope:{ctx:r}}});let I=r[11]&&fn(r),E=r[10]&&an(r);return{c(){e=Q("div"),n=Q("div"),C(t.$$.fragment),l=B(),H&&H.c(),s=B(),o=Q("header"),i=Q("div"),f=Q("div"),C(a.$$.fragment),u=B(),m=Q("div"),g=Q("h1"),C(_.$$.fragment),h=B(),Y&&Y.c(),c=B(),d=Q("div"),C(b.$$.fragment),R=B(),j&&j.c(),v=B(),C(T.$$.fragment),U=B(),C(V.$$.fragment),J=B(),I&&I.c(),K=B(),E&&E.c(),this.h()},l(k){e=L(k,"DIV",{class:!0});var W=z(e);n=L(W,"DIV",{class:!0});var N=z(n);S(t.$$.fragment,N),l=F(N),H&&H.l(N),N.forEach(w),W.forEach(w),s=F(k),o=L(k,"HEADER",{class:!0});var G=z(o);i=L(G,"DIV",{class:!0});var Z=z(i);f=L(Z,"DIV",{class:!0});var se=z(f);S(a.$$.fragment,se),u=F(se),m=L(se,"DIV",{class:!0});var pe=z(m);g=L(pe,"H1",{"data-testid":!0,class:!0});var ge=z(g);S(_.$$.fragment,ge),ge.forEach(w),h=F(pe),Y&&Y.l(pe),pe.forEach(w),se.forEach(w),c=F(Z),d=L(Z,"DIV",{class:!0});var $e=z(d);S(b.$$.fragment,$e),$e.forEach(w),Z.forEach(w),R=F(G),j&&j.l(G),v=F(G),S(T.$$.fragment,G),U=F(G),S(V.$$.fragment,G),J=F(G),I&&I.l(G),K=F(G),E&&E.l(G),G.forEach(w),this.h()},h(){q(n,"class","flex items-center gap-2"),q(e,"class","flex items-center justify-between pb-4"),q(g,"data-testid","workflow-id-heading"),q(g,"class","gap-0 overflow-hidden"),q(m,"class","flex flex-col flex-wrap gap-0"),q(f,"class","flex flex-col items-center gap-4 lg:flex-row"),q(d,"class","px-2"),q(i,"class","flex flex-col items-center justify-between gap-4 lg:flex-row"),q(o,"class","rounded-top flex flex-col gap-1")},m(k,W){D(k,e,W),y(e,n),A(t,n,null),y(n,l),H&&H.m(n,null),D(k,s,W),D(k,o,W),y(o,i),y(i,f),A(a,f,null),y(f,u),y(f,m),y(m,g),A(_,g,null),y(m,h),Y&&Y.m(m,null),y(i,c),y(i,d),A(b,d,null),y(o,R),j&&j.m(o,null),y(o,v),A(T,o,null),y(o,U),A(V,o,null),y(o,J),I&&I.m(o,null),y(o,K),E&&E.m(o,null),ne=!0},p(k,[W]){var ge,$e;const N={};W&131073&&(N.href=`${Le({namespace:k[0]})}?${k[17]}`),W&536903680&&(N.$$scope={dirty:W,ctx:k}),t.$set(N),k[15]?H?(H.p(k,W),W&32768&&p(H,1)):(H=tn(k),H.c(),p(H,1),H.m(n,null)):H&&(re(),$(H,1,1,()=>{H=null}),le());const G={};W&8&&(G.status=(ge=k[3])==null?void 0:ge.status),a.$set(G);const Z={};W&8&&(Z.content=($e=k[3])==null?void 0:$e.id),_.$set(Z),k[9]?Y?(Y.p(k,W),W&512&&p(Y,1)):(Y=nn(k),Y.c(),p(Y,1),Y.m(m,null)):Y&&(re(),$(Y,1,1,()=>{Y=null}),le());const se={};W&8192&&(se.isRunning=k[13]),W&2048&&(se.cancelInProgress=k[11]),W&8&&(se.workflow=k[3]),W&1&&(se.namespace=k[0]),b.$set(se),k[7]?j?(j.p(k,W),W&128&&p(j,1)):(j=rn(k),j.c(),p(j,1),j.m(o,v)):j&&(re(),$(j,1,1,()=>{j=null}),le());const pe={};W&536957256&&(pe.$$scope={dirty:W,ctx:k}),V.$set(pe),k[11]?I?(I.p(k,W),W&2048&&p(I,1)):(I=fn(k),I.c(),p(I,1),I.m(o,K)):I&&(re(),$(I,1,1,()=>{I=null}),le()),k[10]?E?(E.p(k,W),W&1024&&p(E,1)):(E=an(k),E.c(),p(E,1),E.m(o,null)):E&&(re(),$(E,1,1,()=>{E=null}),le())},i(k){ne||(p(t.$$.fragment,k),p(H),p(a.$$.fragment,k),p(_.$$.fragment,k),p(Y),p(b.$$.fragment,k),p(j),p(T.$$.fragment,k),p(V.$$.fragment,k),p(I),p(E),ne=!0)},o(k){$(t.$$.fragment,k),$(H),$(a.$$.fragment,k),$(_.$$.fragment,k),$(Y),$(b.$$.fragment,k),$(j),$(T.$$.fragment,k),$(V.$$.fragment,k),$(I),$(E),ne=!1},d(k){k&&(w(e),w(s),w(o)),P(t),H&&H.d(),P(a),P(_),Y&&Y.d(),P(b),j&&j.d(),P(T),P(V),I&&I.d(),E&&E.d()}}}function Jl(r,e,n){let t,l,s,o,i,f,a,u,m,g,_,h,c,d,b,R,v,T,U;te(r,ke,ee=>n(4,d=ee)),te(r,fr,ee=>n(26,b=ee)),te(r,Oe,ee=>n(27,R=ee)),te(r,Dn,ee=>n(5,v=ee)),te(r,Ne,ee=>n(6,T=ee)),te(r,_n,ee=>n(17,U=ee));var V,J,K,ne,H,Y,j,I;let{namespace:E}=e;return r.$$set=ee=>{"namespace"in ee&&n(0,E=ee.namespace)},r.$$.update=()=>{r.$$.dirty&16&&n(3,{workflow:t,workers:l}=d,t,(n(16,l),n(4,d))),r.$$.dirty&64&&n(15,s=T.params.id),r.$$.dirty&9&&n(14,o={namespace:E,workflow:t==null?void 0:t.id,run:t==null?void 0:t.runId}),r.$$.dirty&262160&&n(13,i=n(18,V=d==null?void 0:d.workflow)===null||V===void 0?void 0:V.isRunning),r.$$.dirty&524304&&n(12,f=["Terminated","TimedOut","Canceled"].includes(n(19,J=d.workflow)===null||J===void 0?void 0:J.status)),r.$$.dirty&135266320&&n(11,a=Sl(n(20,K=d==null?void 0:d.workflow)===null||K===void 0?void 0:K.status,R)),r.$$.dirty&2097200&&n(10,u=ur(v,n(21,ne=d==null?void 0:d.workflow)===null||ne===void 0?void 0:ne.runId)),r.$$.dirty&12582920&&n(9,m=n(22,H=t==null?void 0:t.assignedBuildId)!==null&&H!==void 0?H:n(23,Y=t==null?void 0:t.mostRecentWorkerVersionStamp)===null||Y===void 0?void 0:Y.useVersioning),r.$$.dirty&201326600&&n(8,g=ar(t,R,b)),r.$$.dirty&16777232&&n(2,_=n(24,j=d==null?void 0:d.userMetadata)===null||j===void 0?void 0:j.summary),r.$$.dirty&33554448&&n(1,h=n(25,I=d==null?void 0:d.userMetadata)===null||I===void 0?void 0:I.details),r.$$.dirty&6&&n(7,c=_||h)},[E,h,_,t,d,v,T,c,g,m,u,a,f,i,o,s,l,U,V,J,K,ne,H,Y,j,I,b,R]}class Yl extends he{constructor(e){super(),be(this,e,Jl,jl,we,{namespace:0})}}async function Gl({activity:r,namespace:e,settings:n,accessToken:t},{convertWithCodec:l=cr,decodeAttributes:s=mr}={}){const o=await l({attributes:r,namespace:e,settings:n,accessToken:t});return s(o)}const Zl=async({activity:r,namespace:e,settings:n,accessToken:t})=>await Gl({activity:r,namespace:e,settings:n,accessToken:t}),un=async(r,e,n,t)=>{const l=(r==null?void 0:r.pendingActivities)??[],s=[];for(const o of l){const i=await Zl({activity:o,namespace:e,settings:n,accessToken:t});s.push(i)}return s};function Kl(r){let e,n,t,l,s;const o=[to,eo,xl],i=[];function f(a,u){return a[2]?0:a[1].workflow?2:1}return n=f(r),t=i[n]=o[n](r),{c(){e=Q("div"),t.c(),this.h()},l(a){e=L(a,"DIV",{class:!0});var u=z(e);t.l(u),u.forEach(w),this.h()},h(){q(e,"class",l="absolute bottom-0 left-0 right-0 "+(r[6]?"top-[540px]":"top-0")+" } flex h-full flex-col gap-4")},m(a,u){D(a,e,u),i[n].m(e,null),s=!0},p(a,u){let m=n;n=f(a),n===m?i[n].p(a,u):(re(),$(i[m],1,1,()=>{i[m]=null}),le(),t=i[n],t?t.p(a,u):(t=i[n]=o[n](a),t.c()),p(t,1),t.m(e,null)),(!s||u&64&&l!==(l="absolute bottom-0 left-0 right-0 "+(a[6]?"top-[540px]":"top-0")+" } flex h-full flex-col gap-4"))&&q(e,"class",l)},i(a){s||(p(t),s=!0)},o(a){$(t),s=!1},d(a){a&&w(e),i[n].d()}}}function Xl(r){let e,n,t,l=Ze(r[3],null,2)+"",s,o;return n=new Nn({props:{copyIconTitle:M("common.copy-icon-title"),copySuccessIconTitle:M("common.copy-success-icon-title"),class:"absolute right-1 top-1",copied:r[5]}}),n.$on("click",r[8]),{c(){e=Q("div"),C(n.$$.fragment),t=B(),s=X(l),this.h()},l(i){e=L(i,"DIV",{class:!0});var f=z(e);S(n.$$.fragment,f),t=F(f),s=x(f,l),f.forEach(w),this.h()},h(){q(e,"class","relative h-auto whitespace-break-spaces break-words rounded bg-primary p-4")},m(i,f){D(i,e,f),A(n,e,null),y(e,t),y(e,s),o=!0},p(i,f){const a={};f&32&&(a.copied=i[5]),n.$set(a),(!o||f&8)&&l!==(l=Ze(i[3],null,2)+"")&&oe(s,l)},i(i){o||(p(n.$$.fragment,i),o=!0)},o(i){$(n.$$.fragment,i),o=!1},d(i){i&&w(e),P(n)}}}function xl(r){let e,n,t,l;n=new Yl({props:{namespace:r[0].params.namespace}});const s=r[16].default,o=Te(s,r,r[15],null);return{c(){e=Q("div"),C(n.$$.fragment),t=B(),o&&o.c(),this.h()},l(i){e=L(i,"DIV",{class:!0});var f=z(e);S(n.$$.fragment,f),f.forEach(w),t=F(i),o&&o.l(i),this.h()},h(){q(e,"class","border-b-2 border-subtle px-8 pt-8 md:pt-20")},m(i,f){D(i,e,f),A(n,e,null),D(i,t,f),o&&o.m(i,f),l=!0},p(i,f){const a={};f&1&&(a.namespace=i[0].params.namespace),n.$set(a),o&&o.p&&(!l||f&32768)&&De(o,s,i,i[15],l?Se(s,i[15],f,null):Ce(i[15]),null)},i(i){l||(p(n.$$.fragment,i),p(o,i),l=!0)},o(i){$(n.$$.fragment,i),$(o,i),l=!1},d(i){i&&(w(e),w(t)),P(n),o&&o.d(i)}}}function eo(r){let e,n;return e=new yn({props:{class:"pt-24"}}),{c(){C(e.$$.fragment)},l(t){S(e.$$.fragment,t)},m(t,l){A(e,t,l),n=!0},p:_e,i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function to(r){let e,n;return e=new vr({props:{error:r[2]}}),{c(){C(e.$$.fragment)},l(t){S(e.$$.fragment,t)},m(t,l){A(e,t,l),n=!0},p(t,l){const s={};l&4&&(s.error=t[2]),e.$set(s)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function no(r){let e,n,t,l;const s=[Xl,Kl],o=[];function i(f,a){return f[4]?0:1}return e=i(r),n=o[e]=s[e](r),{c(){n.c(),t=ue()},l(f){n.l(f),t=ue()},m(f,a){o[e].m(f,a),D(f,t,a),l=!0},p(f,[a]){let u=e;e=i(f),e===u?o[e].p(f,a):(re(),$(o[u],1,1,()=>{o[u]=null}),le(),n=o[e],n?n.p(f,a):(n=o[e]=s[e](f),n.c()),p(n,1),n.m(t.parentNode,t))},i(f){l||(p(n),l=!0)},o(f){$(n),l=!1},d(f){f&&w(t),o[e].d(f)}}}function ro(r,e,n){let t,l,s,o,i,f,a,u,m,g,_,h,c,d,b,R;te(r,St,k=>n(19,f=k)),te(r,Ne,k=>n(0,a=k)),te(r,jn,k=>n(12,u=k)),te(r,Oe,k=>n(13,m=k)),te(r,At,k=>n(20,g=k)),te(r,ye,k=>n(14,_=k)),te(r,ke,k=>n(1,h=k)),te(r,Pt,k=>n(21,c=k)),te(r,gr,k=>n(22,d=k)),te(r,Wn,k=>n(6,R=k));let{$$slots:v={},$$scope:T}=e,U,V,J;const{copy:K,copied:ne}=wr();te(r,ne,k=>n(5,b=k));const H=k=>{K(k,Ze(i))},Y=async k=>{try{if(k!=null&&k.summary){const W=await Wt(k.summary);typeof W=="string"&&ce(ke,h.userMetadata.summary=W,h)}if(k!=null&&k.details){const W=await Wt(k.details);typeof W=="string"&&ce(ke,h.userMetadata.details=W,h)}}catch(W){console.error("Error decoding user metadata",W)}},j=async(k,W,N)=>{const{settings:G}=a.data,{workflow:Z,error:se}=await Et({namespace:k,workflowId:W,runId:N});if(se){n(2,U=se);return}await Y(Z);const{taskQueue:pe}=Z,ge=await lr({queue:pe,namespace:k});ce(ke,h={...h,workflow:Z,workers:ge},h),Z.pendingActivities=await un(Z,k,G,d==null?void 0:d.accessToken),V=new AbortController,dr({namespace:k,workflow:{id:W,runId:N}},G,d==null?void 0:d.accessToken,V.signal).then($e=>{ce(ke,h.metadata=$e,h)}),ce(Oe,m=await _r({namespace:k,workflowId:W,runId:N,sort:"ascending",signal:V.signal,historySize:Z.historyEvents}),m)},I=async k=>{var W;if(k&&(!((W=h==null?void 0:h.workflow)===null||W===void 0)&&W.isRunning)){const{settings:N}=a.data,{workflow:G,error:Z}=await Et({namespace:t,workflowId:l,runId:s});if(Z){n(2,U=Z);return}ce(ke,h.workflow=G,h),G.pendingActivities=await un(G,t,N,d==null?void 0:d.accessToken)}},E=()=>{ce(Oe,m=[],m),V&&V.abort()},ee=()=>{ce(Pt,c=null,c),ce(ke,h=Fn,h),n(2,U=void 0),E(),$r(),clearInterval(J),J=null},O=(k,W)=>{W||ce(At,g=k,g)};return Pn(()=>{const k=a.url.searchParams.get("sort");k&&ce(St,f=k,f),J=setInterval(()=>{pr()},1e4)}),mn(()=>{ee()}),r.$$set=k=>{"$$scope"in k&&n(15,T=k.$$scope)},r.$$.update=()=>{r.$$.dirty&1&&n(11,{namespace:t,workflow:l,run:s}=a.params,t,(n(10,l),n(0,a)),(n(9,s),n(0,a))),r.$$.dirty&1&&n(4,o=a.url.searchParams.has("json")),r.$$.dirty&8194&&n(3,i={...h,eventHistory:m}),r.$$.dirty&512&&ee(),r.$$.dirty&3584&&j(t,l,s),r.$$.dirty&16384&&I(_),r.$$.dirty&12288&&O(m,u)},[a,h,U,i,o,b,R,ne,H,s,l,t,u,m,_,T,v]}class lo extends he{constructor(e){super(),be(this,e,ro,no,we,{})}}const Cn={namespace:null,workflowId:null,runId:null,rawPayloads:null,sort:null},oo=et(Cn),so=()=>{oo.set(Cn)};function io(r){let e;const n=r[0].default,t=Te(n,r,r[1],null);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s&2)&&De(t,n,l,l[1],e?Se(n,l[1],s,null):Ce(l[1]),null)},i(l){e||(p(t,l),e=!0)},o(l){$(t,l),e=!1},d(l){t&&t.d(l)}}}function fo(r){let e,n;return e=new lo({props:{$$slots:{default:[io]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},l(t){S(e.$$.fragment,t)},m(t,l){A(e,t,l),n=!0},p(t,[l]){const s={};l&2&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function ao(r,e,n){let{$$slots:t={},$$scope:l}=e;return mn(()=>{so()}),r.$$set=s=>{"$$scope"in s&&n(1,l=s.$$scope)},[t,l]}class cs extends he{constructor(e){super(),be(this,e,ao,fo,we,{})}}export{cs as component};
