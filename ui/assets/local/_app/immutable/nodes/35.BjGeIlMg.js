import{s as V,h as b,b as T,j as y,k as E,d as U,f as p,m as $,i as w,n as q,c as k,w as D,t as W,l as j,q as A,v as I}from"../chunks/scheduler.D6mQsyhd.js";import{S as G,i as P,c as H,a as L,m as F,t as c,g as z,b as _,e as B,d as N}from"../chunks/index.CDeUyeTp.js";import{p as X}from"../chunks/stores.DoqnfB1f.js";import{E as Y}from"../chunks/event-summary-table.GgHbHPc2.js";import{L as Z}from"../chunks/link.DIvrxGQm.js";import{g as x}from"../chunks/index.BsUh2_zS.js";import{f as ee}from"../chunks/events-service.wwrBCZli.js";import{f as v,b as te}from"../chunks/events.fYyrk9gE.js";import{w as re}from"../chunks/workflow-run.CrvoxpnI.js";import{i as oe}from"../chunks/get-workflow-relationships.D6L0Lc1h.js";import{b as ne}from"../chunks/route-for.Ch5LthsG.js";function R(l){let t,r,e,o;const f=[le,se],n=[];function i(s,a){return s[2]?0:1}return r=i(l),e=n[r]=f[r](l),{c(){t=b("h2"),e.c(),this.h()},l(s){t=y(s,"H2",{class:!0});var a=E(t);e.l(a),a.forEach(p),this.h()},h(){$(t,"class","flex w-full items-center")},m(s,a){w(s,t,a),n[r].m(t,null),o=!0},p(s,a){let m=r;r=i(s),r===m?n[r].p(s,a):(z(),_(n[m],1,1,()=>{n[m]=null}),B(),e=n[r],e?e.p(s,a):(e=n[r]=f[r](s),e.c()),c(e,1),e.m(t,null))},i(s){o||(c(e),o=!0)},o(s){_(e),o=!1},d(s){s&&p(t),n[r].d()}}}function se(l){let t=l[0].displayName+"",r;return{c(){r=W(t)},l(e){r=j(e,t)},m(e,o){w(e,r,o)},p(e,o){o&1&&t!==(t=e[0].displayName+"")&&A(r,t)},i:I,o:I,d(e){e&&p(r)}}}function le(l){let t,r;return t=new Z({props:{href:l[2],$$slots:{default:[ae]},$$scope:{ctx:l}}}),{c(){H(t.$$.fragment)},l(e){L(t.$$.fragment,e)},m(e,o){F(t,e,o),r=!0},p(e,o){const f={};o&4&&(f.href=e[2]),o&32769&&(f.$$scope={dirty:o,ctx:e}),t.$set(f)},i(e){r||(c(t.$$.fragment,e),r=!0)},o(e){_(t.$$.fragment,e),r=!1},d(e){N(t,e)}}}function ae(l){let t=l[0].displayName+"",r;return{c(){r=W(t)},l(e){r=j(e,t)},m(e,o){w(e,r,o)},p(e,o){o&1&&t!==(t=e[0].displayName+"")&&A(r,t)},d(e){e&&p(r)}}}function ie(l){let t,r,e,o,f,n=l[0]&&R(l);return o=new Y({props:{items:l[1],groups:l[1],updating:l[3],openExpanded:!0}}),{c(){t=b("div"),n&&n.c(),r=T(),e=b("div"),H(o.$$.fragment),this.h()},l(i){t=y(i,"DIV",{class:!0});var s=E(t);n&&n.l(s),r=U(s),e=y(s,"DIV",{"data-testid":!0});var a=E(e);L(o.$$.fragment,a),a.forEach(p),s.forEach(p),this.h()},h(){$(e,"data-testid","event-summary-table"),$(t,"class","px-8")},m(i,s){w(i,t,s),n&&n.m(t,null),q(t,r),q(t,e),F(o,e,null),f=!0},p(i,[s]){i[0]?n?(n.p(i,s),s&1&&c(n,1)):(n=R(i),n.c(),c(n,1),n.m(t,r)):n&&(z(),_(n,1,1,()=>{n=null}),B());const a={};s&2&&(a.items=i[1]),s&2&&(a.groups=i[1]),s&8&&(a.updating=i[3]),o.$set(a)},i(i){f||(c(n),c(o.$$.fragment,i),f=!0)},o(i){_(n),_(o.$$.fragment,i),f=!1},d(i){i&&p(t),n&&n.d(),N(o)}}}function fe(l,t,r){let e,o,f,n,i,s,a,m,S,h;k(l,v,u=>r(7,a=u)),k(l,te,u=>r(10,m=u)),k(l,re,u=>r(11,S=u)),k(l,X,u=>r(8,h=u));let g,C=[];const J=()=>{D(v,a=[],a)},K=async(u,d,O)=>{(S.workflow.id!==d||!a.length)&&(J(),D(v,a=await ee({namespace:u,workflowId:d,runId:O,sort:m}),a)),r(0,g=x(a,m).find(Q=>Q.id===n)),g&&r(1,C=[g])};function M(u){const d=u==null?void 0:u.eventList.find(oe);return d?ne({namespace:e,workflow:d.attributes.workflowExecution.workflowId,run:d.attributes.workflowExecution.runId}):""}return l.$$.update=()=>{l.$$.dirty&256&&r(4,{namespace:e,workflow:o,run:f,id:n}=h.params,e,(r(6,o),r(8,h)),(r(5,f),r(8,h))),l.$$.dirty&112&&K(e,o,f),l.$$.dirty&128&&r(3,i=!a.length),l.$$.dirty&1&&r(2,s=M(g))},[g,C,s,i,e,f,o,a,h]}class ue extends G{constructor(t){super(),P(this,t,fe,ie,V,{})}}function ce(l){let t,r;return t=new ue({}),{c(){H(t.$$.fragment)},l(e){L(t.$$.fragment,e)},m(e,o){F(t,e,o),r=!0},p:I,i(e){r||(c(t.$$.fragment,e),r=!0)},o(e){_(t.$$.fragment,e),r=!1},d(e){N(t,e)}}}class Ee extends G{constructor(t){super(),P(this,t,null,ce,V,{})}}export{Ee as component};
