import{s as E,h as D,j as G,k as L,f as v,m as b,i as P,c,L as k,v as V}from"../chunks/scheduler.CnYDgCRb.js";import{S as x,i as A,c as I,a as S,m as F,t as H,b as N,d as O}from"../chunks/index.DW7Zsqzm.js";import{p as W}from"../chunks/stores.8QPlo-Q2.js";import{E as z}from"../chunks/event-summary-table.DKONBgzV.js";import{g as B}from"../chunks/index.4DM9R9F3.js";import{f as J}from"../chunks/events-service.DfoLish4.js";import{f as h,a as K}from"../chunks/events.CSL_Jay8.js";import{w as M}from"../chunks/workflow-run.BxaPUZAQ.js";function Q(e){let r,t,s;return t=new z({props:{items:e[0],groups:e[1],updating:e[2],expandAll:!0}}),{c(){r=D("div"),I(t.$$.fragment),this.h()},l(n){r=G(n,"DIV",{class:!0,"data-testid":!0});var o=L(r);S(t.$$.fragment,o),o.forEach(v),this.h()},h(){b(r,"class","px-8"),b(r,"data-testid","event-summary-table")},m(n,o){P(n,r,o),F(t,r,null),s=!0},p(n,[o]){const u={};o&1&&(u.items=n[0]),o&2&&(u.groups=n[1]),o&4&&(u.updating=n[2]),t.$set(u)},i(n){s||(H(t.$$.fragment,n),s=!0)},o(n){N(t.$$.fragment,n),s=!1},d(n){n&&v(r),O(t)}}}function T(e,r,t){let s,n,o,u,m,l,d,f,y,w,p,a,g,_;c(e,W,i=>t(10,p=i)),c(e,h,i=>t(11,a=i)),c(e,K,i=>t(12,g=i)),c(e,M,i=>t(13,_=i));const R=()=>{k(h,a=[],a)},j=async(i,q,C)=>{a.length||(R(),k(h,a=await J({namespace:i,workflowId:q,runId:C}),a))};return e.$$.update=()=>{e.$$.dirty&1024&&t(9,{namespace:s,workflow:n,run:o}=p.params,s,(t(8,n),t(10,p)),(t(7,o),t(10,p))),e.$$.dirty&896&&j(s,n,o),e.$$.dirty&2048&&t(2,u=!a.length),e.$$.dirty&8192&&t(6,{workflow:m}=_,m),e.$$.dirty&64&&t(5,l=m==null?void 0:m.pendingActivities),e.$$.dirty&64&&t(4,d=m==null?void 0:m.pendingNexusOperations),e.$$.dirty&2096&&t(3,f=B(a,"ascending",l,d)),e.$$.dirty&4104&&t(1,y=g==="ascending"?f:[...f].reverse()),e.$$.dirty&3072&&t(0,w=a.filter(i=>i.id===p.params.id))},[w,y,u,f,d,l,m,o,n,s,p,a,g,_]}class U extends x{constructor(r){super(),A(this,r,T,Q,E,{})}}function X(e){let r,t;return r=new U({}),{c(){I(r.$$.fragment)},l(s){S(r.$$.fragment,s)},m(s,n){F(r,s,n),t=!0},p:V,i(s){t||(H(r.$$.fragment,s),t=!0)},o(s){N(r.$$.fragment,s),t=!1},d(s){O(r,s)}}}class ot extends x{constructor(r){super(),A(this,r,null,X,E,{})}}export{ot as component};
