import{s as re,h as v,t as V,b as N,j as T,k as y,l as S,f as c,d as Q,m as b,i as $,n as R,c as ee,x as W,q as z,v as C,y as fe,H as ge,o as x,a as tt,u as lt,g as rt,e as st,a3 as me,w as ot}from"../chunks/scheduler.9nPpm2FE.js";import{S as se,i as ae,c as H,a as q,m as A,t as g,b as k,d as P,g as L,e as Y}from"../chunks/index.DU2w1i_i.js";import{p as de}from"../chunks/stores.DiO8domr.js";import{P as it}from"../chunks/page-title.BVcIpxci.js";import{h as te,u as $e}from"../chunks/await_block.C06z0U3r.js";import{P as be,W as ft}from"../chunks/worker-table.C0nhbQdK.js";import{T as ut,a as ct,b as ke}from"../chunks/tab.Xi-3cMi9.js";import{t as j}from"../chunks/translate.BBe5dcco.js";import{a as _t,b as mt,c as dt,d as $t,e as we,f as ve,h as Te,p as ht,i as pt,j as Ee,g as ye}from"../chunks/pollers-service.DVOsynO-.js";import{p as gt}from"../chunks/persist-store.Dzd6Bp0P.js";import{e as K,u as ue,o as ce}from"../chunks/each.YVmQpE2s.js";import{B as bt}from"../chunks/badge.DCaYjp5t.js";import{C as he}from"../chunks/compatibility-badge.D0-M0S9m.js";import{E as _e}from"../chunks/empty-state.LUPhsaBP.js";import{T as oe,a as ie,b as ne}from"../chunks/table.DEXH0xhw.js";import{t as at,r as kt,f as le}from"../chunks/time-format.BfYKIaJC.js";import"../chunks/auth-user.BSSlb_sb.js";import"../chunks/toaster.g5RjkR22.js";import"../chunks/paths.FcUBWWm-.js";import"../chunks/entry.t4MhudBF.js";import{S as wt}from"../chunks/index.CAk-qW8e.js";const Ie=gt("taskQueueView","workers",!0);function Ce(o,t,l){const e=o.slice();e[8]=t[l];const r=dt(e[8]);e[9]=r;const s=$t(e[2],e[0],e[9]);return e[10]=s,e}function De(o,t,l){const e=o.slice();return e[13]=t[l],e[15]=l,e}function Re(o,t,l){const e=o.slice();return e[9]=t[l],e}function Ne(o){let t,l,e,r,s;return e=new _e({props:{title:j("workers.no-version-sets-found")}}),{c(){t=v("tr"),l=v("td"),H(e.$$.fragment),r=N(),this.h()},l(a){t=T(a,"TR",{class:!0});var n=y(t);l=T(n,"TD",{colspan:!0});var f=y(l);q(e.$$.fragment,f),f.forEach(c),r=Q(n),n.forEach(c),this.h()},h(){b(l,"colspan","2"),b(t,"class","w-full")},m(a,n){$(a,t,n),R(t,l),A(e,l,null),R(t,r),s=!0},p:C,i(a){s||(g(e.$$.fragment,a),s=!0)},o(a){k(e.$$.fragment,a),s=!1},d(a){a&&c(t),P(e)}}}function Qe(o){let t=j("workers.overall")+"",l;return{c(){l=V(t)},l(e){l=S(e,t)},m(e,r){$(e,l,r)},p:C,d(e){e&&c(l)}}}function vt(o){let t,l=o[15]===0&&Qe();return{c(){l&&l.c(),t=W()},l(e){l&&l.l(e),t=W()},m(e,r){l&&l.m(e,r),$(e,t,r)},p(e,r){e[15]===0?l?l.p(e,r):(l=Qe(),l.c(),l.m(t.parentNode,t)):l&&(l.d(1),l=null)},d(e){e&&c(t),l&&l.d(e)}}}function Tt(o){let t=j("workers.default")+"",l;return{c(){l=V(t)},l(e){l=S(e,t)},m(e,r){$(e,l,r)},p:C,d(e){e&&c(l)}}}function Et(o){let t=j("workers.default")+"",l,e;return{c(){l=V(t),e=N()},l(r){l=S(r,t),e=Q(r)},m(r,s){$(r,l,s),$(r,e,s)},p:C,d(r){r&&(c(l),c(e))}}}function He(o){let t,l;return t=new he({props:{active:!1,buildId:o[9],$$slots:{"default-worker":[Et]},$$scope:{ctx:o}}}),{c(){H(t.$$.fragment)},l(e){q(t.$$.fragment,e)},m(e,r){A(t,e,r),l=!0},p(e,r){const s={};r&16&&(s.buildId=e[9]),r&262144&&(s.$$scope={dirty:r,ctx:e}),t.$set(s)},i(e){l||(g(t.$$.fragment,e),l=!0)},o(e){k(t.$$.fragment,e),l=!1},d(e){P(t,e)}}}function yt(o){let t,l,e,r,s,a,n;l=new he({props:{defaultVersion:!0,active:o[15]===0,buildId:we(o[13].buildIds),$$slots:{"default-worker":[Tt],"overall-default-worker":[vt]},$$scope:{ctx:o}}});let f=K(ve(o[13].buildIds)),i=[];for(let u=0;u<f.length;u+=1)i[u]=He(Re(o,f,u));const _=u=>k(i[u],1,1,()=>{i[u]=null});return{c(){t=v("td"),H(l.$$.fragment),e=N(),r=v("td"),s=v("div");for(let u=0;u<i.length;u+=1)i[u].c();a=N(),this.h()},l(u){t=T(u,"TD",{class:!0,"data-testid":!0});var m=y(t);q(l.$$.fragment,m),m.forEach(c),e=Q(u),r=T(u,"TD",{class:!0,"data-testid":!0});var d=y(r);s=T(d,"DIV",{class:!0});var h=y(s);for(let p=0;p<i.length;p+=1)i[p].l(h);h.forEach(c),d.forEach(c),a=Q(u),this.h()},h(){b(t,"class","text-left"),b(t,"data-testid","version-default"),b(s,"class","flex flex-wrap gap-2 font-mono"),b(r,"class","text-left"),b(r,"data-testid","version-compatible-builds")},m(u,m){$(u,t,m),A(l,t,null),$(u,e,m),$(u,r,m),R(r,s);for(let d=0;d<i.length;d+=1)i[d]&&i[d].m(s,null);$(u,a,m),n=!0},p(u,m){const d={};if(m&16&&(d.active=u[15]===0),m&16&&(d.buildId=we(u[13].buildIds)),m&262160&&(d.$$scope={dirty:m,ctx:u}),l.$set(d),m&16){f=K(ve(u[13].buildIds));let h;for(h=0;h<f.length;h+=1){const p=Re(u,f,h);i[h]?(i[h].p(p,m),g(i[h],1)):(i[h]=He(p),i[h].c(),g(i[h],1),i[h].m(s,null))}for(L(),h=f.length;h<i.length;h+=1)_(h);Y()}},i(u){if(!n){g(l.$$.fragment,u);for(let m=0;m<f.length;m+=1)g(i[m]);n=!0}},o(u){k(l.$$.fragment,u),i=i.filter(Boolean);for(let m=0;m<i.length;m+=1)k(i[m]);n=!1},d(u){u&&(c(t),c(e),c(r),c(a)),P(l),fe(i,u)}}}function qe(o,t){let l,e,r;return e=new ne({props:{"data-testid":"version-row",$$slots:{default:[yt]},$$scope:{ctx:t}}}),{key:o,first:null,c(){l=W(),H(e.$$.fragment),this.h()},l(s){l=W(),q(e.$$.fragment,s),this.h()},h(){this.first=l},m(s,a){$(s,l,a),A(e,s,a),r=!0},p(s,a){t=s;const n={};a&262160&&(n.$$scope={dirty:a,ctx:t}),e.$set(n)},i(s){r||(g(e.$$.fragment,s),r=!0)},o(s){k(e.$$.fragment,s),r=!1},d(s){s&&c(l),P(e,s)}}}function It(o){let t=[],l=new Map,e,r,s=K(o[4]);const a=f=>f[15];for(let f=0;f<s.length;f+=1){let i=De(o,s,f),_=a(i);l.set(_,t[f]=qe(_,i))}let n=null;return s.length||(n=Ne()),{c(){for(let f=0;f<t.length;f+=1)t[f].c();e=W(),n&&n.c()},l(f){for(let i=0;i<t.length;i+=1)t[i].l(f);e=W(),n&&n.l(f)},m(f,i){for(let _=0;_<t.length;_+=1)t[_]&&t[_].m(f,i);$(f,e,i),n&&n.m(f,i),r=!0},p(f,i){i&16&&(s=K(f[4]),L(),t=ue(t,i,a,1,f,s,l,e.parentNode,ce,qe,e,De),Y(),!s.length&&n?n.p(f,i):s.length?n&&(L(),k(n,1,1,()=>{n=null}),Y()):(n=Ne(),n.c(),g(n,1),n.m(e.parentNode,e)))},i(f){if(!r){for(let i=0;i<s.length;i+=1)g(t[i]);r=!0}},o(f){for(let i=0;i<t.length;i+=1)k(t[i]);r=!1},d(f){f&&c(e);for(let i=0;i<t.length;i+=1)t[i].d(f);n&&n.d(f)}}}function Ct(o){let t,l=j("workers.default")+"",e,r,s,a=j("workers.compatible-build-ids")+"",n;return{c(){t=v("th"),e=V(l),r=N(),s=v("th"),n=V(a),this.h()},l(f){t=T(f,"TH",{class:!0});var i=y(t);e=S(i,l),i.forEach(c),r=Q(f),s=T(f,"TH",{class:!0});var _=y(s);n=S(_,a),_.forEach(c),this.h()},h(){b(t,"class","w-3/12"),b(s,"class","w-9/12")},m(f,i){$(f,t,i),R(t,e),$(f,r,i),$(f,s,i),R(s,n)},p:C,d(f){f&&(c(t),c(r),c(s))}}}function Dt(o){let t,l;return t=new ie({props:{slot:"headers",$$slots:{default:[Ct]},$$scope:{ctx:o}}}),{c(){H(t.$$.fragment)},l(e){q(t.$$.fragment,e)},m(e,r){A(t,e,r),l=!0},p(e,r){const s={};r&262144&&(s.$$scope={dirty:r,ctx:e}),t.$set(s)},i(e){l||(g(t.$$.fragment,e),l=!0)},o(e){k(t.$$.fragment,e),l=!1},d(e){P(t,e)}}}function Rt(o){var e,r;let t=(((r=(e=o[1])==null?void 0:e.pollers)==null?void 0:r.length)||0)+"",l;return{c(){l=V(t)},l(s){l=S(s,t)},m(s,a){$(s,l,a)},p(s,a){var n,f;a&2&&t!==(t=(((f=(n=s[1])==null?void 0:n.pollers)==null?void 0:f.length)||0)+"")&&z(l,t)},d(s){s&&c(l)}}}function Ae(o){let t,l,e,r,s,a;return e=new _e({props:{title:j("workflows.workers-empty-state")}}),{c(){t=v("tr"),l=v("td"),H(e.$$.fragment),s=N(),this.h()},l(n){t=T(n,"TR",{class:!0});var f=y(t);l=T(f,"TD",{colspan:!0});var i=y(l);q(e.$$.fragment,i),i.forEach(c),s=Q(f),f.forEach(c),this.h()},h(){var n,f;b(l,"colspan",r=(f=(n=o[2])==null?void 0:n.buildIdReachability)!=null&&f.length?6:4),b(t,"class","w-full")},m(n,f){$(n,t,f),R(t,l),A(e,l,null),R(t,s),a=!0},p(n,f){var i,_;(!a||f&4&&r!==(r=(_=(i=n[2])==null?void 0:i.buildIdReachability)!=null&&_.length?6:4))&&b(l,"colspan",r)},i(n){a||(g(e.$$.fragment,n),a=!0)},o(n){k(e.$$.fragment,n),a=!1},d(n){n&&c(t),P(e)}}}function Pe(o){let t,l,e,r,s,a,n,f=o[10]+"",i,_;return e=new he({props:{defaultVersion:o[9]===o[3],active:o[9]===o[3],buildId:o[9],$$slots:{"default-worker":[Qt],"overall-default-worker":[Nt]},$$scope:{ctx:o}}}),{c(){t=v("td"),l=v("p"),H(e.$$.fragment),r=N(),s=v("td"),a=v("p"),n=v("span"),i=V(f),this.h()},l(u){t=T(u,"TD",{class:!0,"data-testid":!0});var m=y(t);l=T(m,"P",{class:!0});var d=y(l);q(e.$$.fragment,d),d.forEach(c),m.forEach(c),r=Q(u),s=T(u,"TD",{class:!0,"data-testid":!0});var h=y(s);a=T(h,"P",{});var p=y(a);n=T(p,"SPAN",{class:!0});var w=y(n);i=S(w,f),w.forEach(c),p.forEach(c),h.forEach(c),this.h()},h(){b(l,"class","select-all"),b(t,"class","text-left"),b(t,"data-testid","worker-identity"),b(n,"class","svelte-kdqm2r"),ge(n,"reachability",!!o[10]),b(s,"class","text-left"),b(s,"data-testid","worker-last-access-time")},m(u,m){$(u,t,m),R(t,l),A(e,l,null),$(u,r,m),$(u,s,m),R(s,a),R(a,n),R(n,i),_=!0},p(u,m){const d={};m&10&&(d.defaultVersion=u[9]===u[3]),m&10&&(d.active=u[9]===u[3]),m&2&&(d.buildId=u[9]),m&262154&&(d.$$scope={dirty:m,ctx:u}),e.$set(d),(!_||m&7)&&f!==(f=u[10]+"")&&z(i,f),(!_||m&7)&&ge(n,"reachability",!!u[10])},i(u){_||(g(e.$$.fragment,u),_=!0)},o(u){k(e.$$.fragment,u),_=!1},d(u){u&&(c(t),c(r),c(s)),P(e)}}}function Be(o){let t=j("workers.overall")+"",l;return{c(){l=V(t)},l(e){l=S(e,t)},m(e,r){$(e,l,r)},p:C,d(e){e&&c(l)}}}function Nt(o){let t,l=o[9]===o[3]&&Be();return{c(){l&&l.c(),t=W()},l(e){l&&l.l(e),t=W()},m(e,r){l&&l.m(e,r),$(e,t,r)},p(e,r){e[9]===e[3]?l?l.p(e,r):(l=Be(),l.c(),l.m(t.parentNode,t)):l&&(l.d(1),l=null)},d(e){e&&c(t),l&&l.d(e)}}}function Qt(o){let t=j("workers.default")+"",l;return{c(){l=V(t)},l(e){l=S(e,t)},m(e,r){$(e,l,r)},p:C,d(e){e&&c(l)}}}function Ht(o){var B,U;let t,l,e=o[8].identity+"",r,s,a,n,f,i=le(o[8].lastAccessTime,o[5],{relative:o[6]})+"",_,u,m,d,h,p,w,F,M,I=((U=(B=o[2])==null?void 0:B.buildIdReachability)==null?void 0:U.length)&&Pe(o);return d=new be({props:{includesTaskQueueType:o[8].taskQueueTypes.includes("WORKFLOW")}}),w=new be({props:{includesTaskQueueType:o[8].taskQueueTypes.includes("ACTIVITY")}}),{c(){t=v("td"),l=v("p"),r=V(e),s=N(),I&&I.c(),a=N(),n=v("td"),f=v("p"),_=V(i),u=N(),m=v("td"),H(d.$$.fragment),h=N(),p=v("td"),H(w.$$.fragment),F=N(),this.h()},l(D){t=T(D,"TD",{class:!0,"data-testid":!0});var E=y(t);l=T(E,"P",{class:!0});var O=y(l);r=S(O,e),O.forEach(c),E.forEach(c),s=Q(D),I&&I.l(D),a=Q(D),n=T(D,"TD",{class:!0,"data-testid":!0});var G=y(n);f=T(G,"P",{class:!0});var J=y(f);_=S(J,i),J.forEach(c),G.forEach(c),u=Q(D),m=T(D,"TD",{"data-testid":!0});var X=y(m);q(d.$$.fragment,X),X.forEach(c),h=Q(D),p=T(D,"TD",{"data-testid":!0});var Z=y(p);q(w.$$.fragment,Z),Z.forEach(c),F=Q(D),this.h()},h(){b(l,"class","select-all"),b(t,"class","text-left"),b(t,"data-testid","worker-identity"),b(f,"class","select-all"),b(n,"class","text-left"),b(n,"data-testid","worker-last-access-time"),b(m,"data-testid","workflow-poller"),b(p,"data-testid","activity-poller")},m(D,E){$(D,t,E),R(t,l),R(l,r),$(D,s,E),I&&I.m(D,E),$(D,a,E),$(D,n,E),R(n,f),R(f,_),$(D,u,E),$(D,m,E),A(d,m,null),$(D,h,E),$(D,p,E),A(w,p,null),$(D,F,E),M=!0},p(D,E){var J,X;(!M||E&2)&&e!==(e=D[8].identity+"")&&z(r,e),(X=(J=D[2])==null?void 0:J.buildIdReachability)!=null&&X.length?I?(I.p(D,E),E&4&&g(I,1)):(I=Pe(D),I.c(),g(I,1),I.m(a.parentNode,a)):I&&(L(),k(I,1,1,()=>{I=null}),Y()),(!M||E&98)&&i!==(i=le(D[8].lastAccessTime,D[5],{relative:D[6]})+"")&&z(_,i);const O={};E&2&&(O.includesTaskQueueType=D[8].taskQueueTypes.includes("WORKFLOW")),d.$set(O);const G={};E&2&&(G.includesTaskQueueType=D[8].taskQueueTypes.includes("ACTIVITY")),w.$set(G)},i(D){M||(g(I),g(d.$$.fragment,D),g(w.$$.fragment,D),M=!0)},o(D){k(I),k(d.$$.fragment,D),k(w.$$.fragment,D),M=!1},d(D){D&&(c(t),c(s),c(a),c(n),c(u),c(m),c(h),c(p),c(F)),I&&I.d(D),P(d),P(w)}}}function Ve(o,t){let l,e,r;return e=new ne({props:{"data-testid":"worker-row",$$slots:{default:[Ht]},$$scope:{ctx:t}}}),{key:o,first:null,c(){l=W(),H(e.$$.fragment),this.h()},l(s){l=W(),q(e.$$.fragment,s),this.h()},h(){this.first=l},m(s,a){$(s,l,a),A(e,s,a),r=!0},p(s,a){t=s;const n={};a&262255&&(n.$$scope={dirty:a,ctx:t}),e.$set(n)},i(s){r||(g(e.$$.fragment,s),r=!0)},o(s){k(e.$$.fragment,s),r=!1},d(s){s&&c(l),P(e,s)}}}function qt(o){var f;let t=[],l=new Map,e,r,s=K((f=o[1])==null?void 0:f.pollers);const a=i=>i[8].identity;for(let i=0;i<s.length;i+=1){let _=Ce(o,s,i),u=a(_);l.set(u,t[i]=Ve(u,_))}let n=null;return s.length||(n=Ae(o)),{c(){for(let i=0;i<t.length;i+=1)t[i].c();e=W(),n&&n.c()},l(i){for(let _=0;_<t.length;_+=1)t[_].l(i);e=W(),n&&n.l(i)},m(i,_){for(let u=0;u<t.length;u+=1)t[u]&&t[u].m(i,_);$(i,e,_),n&&n.m(i,_),r=!0},p(i,_){var u;_&111&&(s=K((u=i[1])==null?void 0:u.pollers),L(),t=ue(t,_,a,1,i,s,l,e.parentNode,ce,Ve,e,Ce),Y(),!s.length&&n?n.p(i,_):s.length?n&&(L(),k(n,1,1,()=>{n=null}),Y()):(n=Ae(i),n.c(),g(n,1),n.m(e.parentNode,e)))},i(i){if(!r){for(let _=0;_<s.length;_+=1)g(t[_]);r=!0}},o(i){for(let _=0;_<t.length;_+=1)k(t[_]);r=!1},d(i){i&&c(e);for(let _=0;_<t.length;_+=1)t[_].d(i);n&&n.d(i)}}}function At(o){let t,l=j("workflows.workers-tab")+"",e;return{c(){t=v("caption"),e=V(l),this.h()},l(r){t=T(r,"CAPTION",{class:!0,slot:!0});var s=y(t);e=S(s,l),s.forEach(c),this.h()},h(){b(t,"class","sr-only"),b(t,"slot","caption")},m(r,s){$(r,t,s),R(t,e)},p:C,d(r){r&&c(t)}}}function Se(o){let t,l=j("workers.version")+"",e,r,s,a=j("workers.retirability")+"",n;return{c(){t=v("th"),e=V(l),r=N(),s=v("th"),n=V(a),this.h()},l(f){t=T(f,"TH",{class:!0});var i=y(t);e=S(i,l),i.forEach(c),r=Q(f),s=T(f,"TH",{class:!0});var _=y(s);n=S(_,a),_.forEach(c),this.h()},h(){b(t,"class","w-3/12"),b(s,"class","w-2/12")},m(f,i){$(f,t,i),R(t,e),$(f,r,i),$(f,s,i),R(s,n)},p:C,d(f){f&&(c(t),c(r),c(s))}}}function Pt(o){var U,D;let t,l=j("common.id")+"",e,r,s,a,n,f=j("workflows.last-accessed")+"",i,_,u,m,d=j("workflows.workflow-task-handler")+"",h,p,w,F,M=j("workflows.activity-handler")+"",I,B=((D=(U=o[2])==null?void 0:U.buildIdReachability)==null?void 0:D.length)&&Se();return{c(){t=v("th"),e=V(l),s=N(),B&&B.c(),a=N(),n=v("th"),i=V(f),_=N(),u=v("th"),m=v("p"),h=V(d),p=N(),w=v("th"),F=v("p"),I=V(M),this.h()},l(E){t=T(E,"TH",{class:!0});var O=y(t);e=S(O,l),O.forEach(c),s=Q(E),B&&B.l(E),a=Q(E),n=T(E,"TH",{class:!0});var G=y(n);i=S(G,f),G.forEach(c),_=Q(E),u=T(E,"TH",{class:!0});var J=y(u);m=T(J,"P",{class:!0});var X=y(m);h=S(X,d),X.forEach(c),J.forEach(c),p=Q(E),w=T(E,"TH",{class:!0});var Z=y(w);F=T(Z,"P",{class:!0});var pe=y(F);I=S(pe,M),pe.forEach(c),Z.forEach(c),this.h()},h(){var E,O;b(t,"class",r=(O=(E=o[2])==null?void 0:E.buildIdReachability)!=null&&O.length?"w-3/12":"w-6/12"),b(n,"class","w-2/12"),b(m,"class","text-center"),b(u,"class","w-2/12"),b(F,"class","text-center"),b(w,"class","w-2/12 text-center")},m(E,O){$(E,t,O),R(t,e),$(E,s,O),B&&B.m(E,O),$(E,a,O),$(E,n,O),R(n,i),$(E,_,O),$(E,u,O),R(u,m),R(m,h),$(E,p,O),$(E,w,O),R(w,F),R(F,I)},p(E,O){var G,J,X,Z;O&4&&r!==(r=(J=(G=E[2])==null?void 0:G.buildIdReachability)!=null&&J.length?"w-3/12":"w-6/12")&&b(t,"class",r),(Z=(X=E[2])==null?void 0:X.buildIdReachability)!=null&&Z.length?B?B.p(E,O):(B=Se(),B.c(),B.m(a.parentNode,a)):B&&(B.d(1),B=null)},d(E){E&&(c(t),c(s),c(a),c(n),c(_),c(u),c(p),c(w)),B&&B.d(E)}}}function Bt(o){let t,l;return t=new ie({props:{slot:"headers",$$slots:{default:[Pt]},$$scope:{ctx:o}}}),{c(){H(t.$$.fragment)},l(e){q(t.$$.fragment,e)},m(e,r){A(t,e,r),l=!0},p(e,r){const s={};r&262148&&(s.$$scope={dirty:r,ctx:e}),t.$set(s)},i(e){l||(g(t.$$.fragment,e),l=!0)},o(e){k(t.$$.fragment,e),l=!1},d(e){P(t,e)}}}function Vt(o){let t,l=j("workers.version-sets")+"",e,r,s,a,n,f=j("workers.workers")+"",i,_,u,m,d,h;return s=new oe({props:{class:"mb-6 w-full min-w-[600px] table-fixed",$$slots:{headers:[Dt],default:[It]},$$scope:{ctx:o}}}),u=new bt({props:{type:"count",$$slots:{default:[Rt]},$$scope:{ctx:o}}}),d=new oe({props:{class:"mb-6 w-full min-w-[600px] table-fixed",$$slots:{headers:[Bt],caption:[At],default:[qt]},$$scope:{ctx:o}}}),{c(){t=v("h2"),e=V(l),r=N(),H(s.$$.fragment),a=N(),n=v("h2"),i=V(f),_=N(),H(u.$$.fragment),m=N(),H(d.$$.fragment),this.h()},l(p){t=T(p,"H2",{"data-testid":!0});var w=y(t);e=S(w,l),w.forEach(c),r=Q(p),q(s.$$.fragment,p),a=Q(p),n=T(p,"H2",{class:!0,"data-testid":!0});var F=y(n);i=S(F,f),_=Q(F),q(u.$$.fragment,F),F.forEach(c),m=Q(p),q(d.$$.fragment,p),this.h()},h(){b(t,"data-testid","version-sets"),b(n,"class","flex items-center gap-2"),b(n,"data-testid","workers")},m(p,w){$(p,t,w),R(t,e),$(p,r,w),A(s,p,w),$(p,a,w),$(p,n,w),R(n,i),R(n,_),A(u,n,null),$(p,m,w),A(d,p,w),h=!0},p(p,[w]){const F={};w&262160&&(F.$$scope={dirty:w,ctx:p}),s.$set(F);const M={};w&262146&&(M.$$scope={dirty:w,ctx:p}),u.$set(M);const I={};w&262255&&(I.$$scope={dirty:w,ctx:p}),d.$set(I)},i(p){h||(g(s.$$.fragment,p),g(u.$$.fragment,p),g(d.$$.fragment,p),h=!0)},o(p){k(s.$$.fragment,p),k(u.$$.fragment,p),k(d.$$.fragment,p),h=!1},d(p){p&&(c(t),c(r),c(a),c(n),c(m)),P(s,p),P(u),P(d,p)}}}function St(o,t,l){let e,r,s,a;ee(o,at,u=>l(5,s=u)),ee(o,kt,u=>l(6,a=u));let{taskQueue:n}=t,{workers:f}=t,{reachability:i=void 0}=t,{compatibility:_=void 0}=t;return o.$$set=u=>{"taskQueue"in u&&l(0,n=u.taskQueue),"workers"in u&&l(1,f=u.workers),"reachability"in u&&l(2,i=u.reachability),"compatibility"in u&&l(7,_=u.compatibility)},o.$$.update=()=>{o.$$.dirty&128&&l(4,e=_t(_)),o.$$.dirty&128&&l(3,r=mt(_))},[n,f,i,r,e,s,a,_]}class Wt extends se{constructor(t){super(),ae(this,t,St,Vt,re,{taskQueue:0,workers:1,reachability:2,compatibility:7})}}function We(o,t,l){const e=o.slice();return e[12]=t[l],e[14]=l,e}function Fe(o,t,l){const e=o.slice();return e[12]=t[l],e[14]=l,e}function Oe(o){let t,l,e,r;return e=new _e({props:{title:j("workers.no-assignment-rules-found")}}),{c(){t=v("tr"),l=v("td"),H(e.$$.fragment),this.h()},l(s){t=T(s,"TR",{class:!0});var a=y(t);l=T(a,"TD",{colspan:!0});var n=y(l);q(e.$$.fragment,n),n.forEach(c),a.forEach(c),this.h()},h(){b(l,"colspan","4"),b(t,"class","w-full")},m(s,a){$(s,t,a),R(t,l),A(e,l,null),r=!0},p:C,i(s){r||(g(e.$$.fragment,s),r=!0)},o(s){k(e.$$.fragment,s),r=!1},d(s){s&&c(t),P(e)}}}function Ft(o){var M;let t,l=o[14]+"",e,r,s,a=((M=o[12].rule)==null?void 0:M.targetBuildId)+"",n,f,i,_=o[5](o[12]).toFixed(0)+"",u,m,d,h,p,w=le(o[12].createTime,o[4])+"",F;return{c(){t=v("td"),e=V(l),r=N(),s=v("td"),n=V(a),f=N(),i=v("td"),u=V(_),m=V("%"),d=N(),h=v("td"),p=v("p"),F=V(w),this.h()},l(I){t=T(I,"TD",{class:!0,"data-testid":!0});var B=y(t);e=S(B,l),B.forEach(c),r=Q(I),s=T(I,"TD",{class:!0,"data-testid":!0});var U=y(s);n=S(U,a),U.forEach(c),f=Q(I),i=T(I,"TD",{class:!0,"data-testid":!0});var D=y(i);u=S(D,_),m=S(D,"%"),D.forEach(c),d=Q(I),h=T(I,"TD",{class:!0,"data-testid":!0});var E=y(h);p=T(E,"P",{});var O=y(p);F=S(O,w),O.forEach(c),E.forEach(c),this.h()},h(){b(t,"class","text-left"),b(t,"data-testid","index"),b(s,"class","break-all text-left"),b(s,"data-testid","target-build-id"),b(i,"class","text-right"),b(i,"data-testid","target-ramp"),b(h,"class","justfiy-between flex w-full items-center text-right"),b(h,"data-testid","target-create-time")},m(I,B){$(I,t,B),R(t,e),$(I,r,B),$(I,s,B),R(s,n),$(I,f,B),$(I,i,B),R(i,u),R(i,m),$(I,d,B),$(I,h,B),R(h,p),R(p,F)},p(I,B){var U;B&4&&l!==(l=I[14]+"")&&z(e,l),B&4&&a!==(a=((U=I[12].rule)==null?void 0:U.targetBuildId)+"")&&z(n,a),B&4&&_!==(_=I[5](I[12]).toFixed(0)+"")&&z(u,_),B&20&&w!==(w=le(I[12].createTime,I[4])+"")&&z(F,w)},d(I){I&&(c(t),c(r),c(s),c(f),c(i),c(d),c(h))}}}function je(o,t){let l,e,r;return e=new ne({props:{"data-testid":"version-row",$$slots:{default:[Ft]},$$scope:{ctx:t}}}),{key:o,first:null,c(){l=W(),H(e.$$.fragment),this.h()},l(s){l=W(),q(e.$$.fragment,s),this.h()},h(){this.first=l},m(s,a){$(s,l,a),A(e,s,a),r=!0},p(s,a){t=s;const n={};a&65556&&(n.$$scope={dirty:a,ctx:t}),e.$set(n)},i(s){r||(g(e.$$.fragment,s),r=!0)},o(s){k(e.$$.fragment,s),r=!1},d(s){s&&c(l),P(e,s)}}}function Me(o){let t,l;return t=new ne({props:{"data-testid":"view-all",class:"surface-subtle cursor-pointer",$$slots:{default:[Ot]},$$scope:{ctx:o}}}),t.$on("click",o[11]),{c(){H(t.$$.fragment)},l(e){q(t.$$.fragment,e)},m(e,r){A(t,e,r),l=!0},p(e,r){const s={};r&65536&&(s.$$scope={dirty:r,ctx:e}),t.$set(s)},i(e){l||(g(t.$$.fragment,e),l=!0)},o(e){k(t.$$.fragment,e),l=!1},d(e){P(t,e)}}}function Ot(o){let t,l,e,r=j("workers.show-inactive-assignment-rules")+"",s,a,n,f,i;return{c(){t=v("td"),l=N(),e=v("td"),s=V(r),a=N(),n=v("td"),f=N(),i=v("td"),this.h()},l(_){t=T(_,"TD",{}),y(t).forEach(c),l=Q(_),e=T(_,"TD",{class:!0});var u=y(e);s=S(u,r),u.forEach(c),a=Q(_),n=T(_,"TD",{}),y(n).forEach(c),f=Q(_),i=T(_,"TD",{}),y(i).forEach(c),this.h()},h(){b(e,"class","break-all text-left text-blue-700 underline")},m(_,u){$(_,t,u),$(_,l,u),$(_,e,u),R(e,s),$(_,a,u),$(_,n,u),$(_,f,u),$(_,i,u)},p:C,d(_){_&&(c(t),c(l),c(e),c(a),c(n),c(f),c(i))}}}function jt(o){var _;let t=[],l=new Map,e,r,s,a=K(o[2]);const n=u=>u[14];for(let u=0;u<a.length;u+=1){let m=Fe(o,a,u),d=n(m);l.set(d,t[u]=je(d,m))}let f=null;a.length||(f=Oe());let i=!o[0]&&((_=o[1])==null?void 0:_.length)&&Me(o);return{c(){for(let u=0;u<t.length;u+=1)t[u].c();f&&f.c(),e=N(),i&&i.c(),r=W()},l(u){for(let m=0;m<t.length;m+=1)t[m].l(u);f&&f.l(u),e=Q(u),i&&i.l(u),r=W()},m(u,m){for(let d=0;d<t.length;d+=1)t[d]&&t[d].m(u,m);f&&f.m(u,m),$(u,e,m),i&&i.m(u,m),$(u,r,m),s=!0},p(u,m){var d;m&52&&(a=K(u[2]),L(),t=ue(t,m,n,1,u,a,l,e.parentNode,ce,je,e,Fe),Y(),!a.length&&f?f.p(u,m):a.length?f&&(L(),k(f,1,1,()=>{f=null}),Y()):(f=Oe(),f.c(),g(f,1),f.m(e.parentNode,e))),!u[0]&&((d=u[1])!=null&&d.length)?i?(i.p(u,m),m&3&&g(i,1)):(i=Me(u),i.c(),g(i,1),i.m(r.parentNode,r)):i&&(L(),k(i,1,1,()=>{i=null}),Y())},i(u){if(!s){for(let m=0;m<a.length;m+=1)g(t[m]);g(i),s=!0}},o(u){for(let m=0;m<t.length;m+=1)k(t[m]);k(i),s=!1},d(u){u&&(c(e),c(r));for(let m=0;m<t.length;m+=1)t[m].d(u);f&&f.d(u),i&&i.d(u)}}}function Mt(o){let t,l="Index",e,r,s="Target Build ID",a,n,f="Ramp",i,_,u="Create Time";return{c(){t=v("th"),t.textContent=l,e=N(),r=v("th"),r.textContent=s,a=N(),n=v("th"),n.textContent=f,i=N(),_=v("th"),_.textContent=u,this.h()},l(m){t=T(m,"TH",{class:!0,"data-svelte-h":!0}),x(t)!=="svelte-9c3h6b"&&(t.textContent=l),e=Q(m),r=T(m,"TH",{class:!0,"data-svelte-h":!0}),x(r)!=="svelte-1y9wj7a"&&(r.textContent=s),a=Q(m),n=T(m,"TH",{class:!0,"data-svelte-h":!0}),x(n)!=="svelte-v0wniv"&&(n.textContent=f),i=Q(m),_=T(m,"TH",{class:!0,"data-svelte-h":!0}),x(_)!=="svelte-1bmkxw8"&&(_.textContent=u),this.h()},h(){b(t,"class","w-20"),b(r,"class","grow"),b(n,"class","w-20"),b(_,"class","text-right")},m(m,d){$(m,t,d),$(m,e,d),$(m,r,d),$(m,a,d),$(m,n,d),$(m,i,d),$(m,_,d)},p:C,d(m){m&&(c(t),c(e),c(r),c(a),c(n),c(i),c(_))}}}function Kt(o){let t,l;return t=new ie({props:{slot:"headers",$$slots:{default:[Mt]},$$scope:{ctx:o}}}),{c(){H(t.$$.fragment)},l(e){q(t.$$.fragment,e)},m(e,r){A(t,e,r),l=!0},p(e,r){const s={};r&65536&&(s.$$scope={dirty:r,ctx:e}),t.$set(s)},i(e){l||(g(t.$$.fragment,e),l=!0)},o(e){k(t.$$.fragment,e),l=!1},d(e){P(t,e)}}}function Ke(o){let t,l,e,r,s;return e=new _e({props:{title:j("workers.no-redirect-rules-found")}}),{c(){t=v("tr"),l=v("td"),H(e.$$.fragment),r=N(),this.h()},l(a){t=T(a,"TR",{class:!0});var n=y(t);l=T(n,"TD",{colspan:!0});var f=y(l);q(e.$$.fragment,f),f.forEach(c),r=Q(n),n.forEach(c),this.h()},h(){b(l,"colspan","3"),b(t,"class","w-full")},m(a,n){$(a,t,n),R(t,l),A(e,l,null),R(t,r),s=!0},p:C,i(a){s||(g(e.$$.fragment,a),s=!0)},o(a){k(e.$$.fragment,a),s=!1},d(a){a&&c(t),P(e)}}}function Lt(o){let t,l=o[12].rule.sourceBuildId+"",e,r,s,a=o[12].rule.targetBuildId+"",n,f,i,_=le(o[12].createTime,o[4])+"",u,m;return{c(){t=v("td"),e=V(l),r=N(),s=v("td"),n=V(a),f=N(),i=v("td"),u=V(_),m=N(),this.h()},l(d){t=T(d,"TD",{class:!0,"data-testid":!0});var h=y(t);e=S(h,l),h.forEach(c),r=Q(d),s=T(d,"TD",{class:!0,"data-testid":!0});var p=y(s);n=S(p,a),p.forEach(c),f=Q(d),i=T(d,"TD",{class:!0,"data-testid":!0});var w=y(i);u=S(w,_),w.forEach(c),m=Q(d),this.h()},h(){b(t,"class","text-left"),b(t,"data-testid","target-source"),b(s,"class","text-left"),b(s,"data-testid","target-source"),b(i,"class","text-left"),b(i,"data-testid","target-source")},m(d,h){$(d,t,h),R(t,e),$(d,r,h),$(d,s,h),R(s,n),$(d,f,h),$(d,i,h),R(i,u),$(d,m,h)},p(d,h){h&8&&l!==(l=d[12].rule.sourceBuildId+"")&&z(e,l),h&8&&a!==(a=d[12].rule.targetBuildId+"")&&z(n,a),h&24&&_!==(_=le(d[12].createTime,d[4])+"")&&z(u,_)},d(d){d&&(c(t),c(r),c(s),c(f),c(i),c(m))}}}function Le(o,t){let l,e,r;return e=new ne({props:{"data-testid":"version-row",$$slots:{default:[Lt]},$$scope:{ctx:t}}}),{key:o,first:null,c(){l=W(),H(e.$$.fragment),this.h()},l(s){l=W(),q(e.$$.fragment,s),this.h()},h(){this.first=l},m(s,a){$(s,l,a),A(e,s,a),r=!0},p(s,a){t=s;const n={};a&65560&&(n.$$scope={dirty:a,ctx:t}),e.$set(n)},i(s){r||(g(e.$$.fragment,s),r=!0)},o(s){k(e.$$.fragment,s),r=!1},d(s){s&&c(l),P(e,s)}}}function Yt(o){let t=[],l=new Map,e,r,s=K(o[3]);const a=f=>f[14];for(let f=0;f<s.length;f+=1){let i=We(o,s,f),_=a(i);l.set(_,t[f]=Le(_,i))}let n=null;return s.length||(n=Ke()),{c(){for(let f=0;f<t.length;f+=1)t[f].c();e=W(),n&&n.c()},l(f){for(let i=0;i<t.length;i+=1)t[i].l(f);e=W(),n&&n.l(f)},m(f,i){for(let _=0;_<t.length;_+=1)t[_]&&t[_].m(f,i);$(f,e,i),n&&n.m(f,i),r=!0},p(f,i){i&24&&(s=K(f[3]),L(),t=ue(t,i,a,1,f,s,l,e.parentNode,ce,Le,e,We),Y(),!s.length&&n?n.p(f,i):s.length?n&&(L(),k(n,1,1,()=>{n=null}),Y()):(n=Ke(),n.c(),g(n,1),n.m(e.parentNode,e)))},i(f){if(!r){for(let i=0;i<s.length;i+=1)g(t[i]);r=!0}},o(f){for(let i=0;i<t.length;i+=1)k(t[i]);r=!1},d(f){f&&c(e);for(let i=0;i<t.length;i+=1)t[i].d(f);n&&n.d(f)}}}function zt(o){let t,l="Source Build ID",e,r,s="Target Build ID",a,n,f="Create Time";return{c(){t=v("th"),t.textContent=l,e=N(),r=v("th"),r.textContent=s,a=N(),n=v("th"),n.textContent=f,this.h()},l(i){t=T(i,"TH",{class:!0,"data-svelte-h":!0}),x(t)!=="svelte-1ojbhda"&&(t.textContent=l),e=Q(i),r=T(i,"TH",{class:!0,"data-svelte-h":!0}),x(r)!=="svelte-1kj4z8i"&&(r.textContent=s),a=Q(i),n=T(i,"TH",{class:!0,"data-svelte-h":!0}),x(n)!=="svelte-jrosx7"&&(n.textContent=f),this.h()},h(){b(t,"class","w-1/3"),b(r,"class","w-1/3"),b(n,"class","w-1/3")},m(i,_){$(i,t,_),$(i,e,_),$(i,r,_),$(i,a,_),$(i,n,_)},p:C,d(i){i&&(c(t),c(e),c(r),c(a),c(n))}}}function Ut(o){let t,l;return t=new ie({props:{slot:"headers",$$slots:{default:[zt]},$$scope:{ctx:o}}}),{c(){H(t.$$.fragment)},l(e){q(t.$$.fragment,e)},m(e,r){A(t,e,r),l=!0},p(e,r){const s={};r&65536&&(s.$$scope={dirty:r,ctx:e}),t.$set(s)},i(e){l||(g(t.$$.fragment,e),l=!0)},o(e){k(t.$$.fragment,e),l=!1},d(e){P(t,e)}}}function Gt(o){let t,l=j("workers.assignment-rules")+"",e,r,s,a,n,f=j("workers.redirect-rules")+"",i,_,u,m;return s=new oe({props:{class:"mb-6 w-full table-fixed",$$slots:{headers:[Kt],default:[jt]},$$scope:{ctx:o}}}),u=new oe({props:{class:"mb-6 w-full table-fixed",$$slots:{headers:[Ut],default:[Yt]},$$scope:{ctx:o}}}),{c(){t=v("h2"),e=V(l),r=N(),H(s.$$.fragment),a=N(),n=v("h2"),i=V(f),_=N(),H(u.$$.fragment),this.h()},l(d){t=T(d,"H2",{"data-testid":!0});var h=y(t);e=S(h,l),h.forEach(c),r=Q(d),q(s.$$.fragment,d),a=Q(d),n=T(d,"H2",{"data-testid":!0});var p=y(n);i=S(p,f),p.forEach(c),_=Q(d),q(u.$$.fragment,d),this.h()},h(){b(t,"data-testid","worker-rules"),b(n,"data-testid","worker-rules")},m(d,h){$(d,t,h),R(t,e),$(d,r,h),A(s,d,h),$(d,a,h),$(d,n,h),R(n,i),$(d,_,h),A(u,d,h),m=!0},p(d,[h]){const p={};h&65559&&(p.$$scope={dirty:h,ctx:d}),s.$set(p);const w={};h&65560&&(w.$$scope={dirty:h,ctx:d}),u.$set(w)},i(d){m||(g(s.$$.fragment,d),g(u.$$.fragment,d),m=!0)},o(d){k(s.$$.fragment,d),k(u.$$.fragment,d),m=!1},d(d){d&&(c(t),c(r),c(a),c(n),c(_)),P(s,d),P(u,d)}}}function Jt(o,t,l){let e,r,s,a,n,f,i,_;ee(o,at,p=>l(4,_=p));let{rules:u}=t,m=!1;const d=p=>{var w,F,M;return!((w=p.rule)===null||w===void 0)&&w.percentageRamp?!((M=(F=p.rule)===null||F===void 0?void 0:F.percentageRamp)===null||M===void 0)&&M.rampPercentage?p.rule.percentageRamp.rampPercentage:0:100},h=()=>l(0,m=!m);return o.$$set=p=>{"rules"in p&&l(6,u=p.rules)},o.$$.update=()=>{o.$$.dirty&64&&l(9,{assignmentRules:e=[],compatibleRedirectRules:r=[]}=u,e,(l(3,r),l(6,u))),o.$$.dirty&512&&l(10,s=e.find(p=>d(p)===100)),o.$$.dirty&1536&&l(8,a=e.indexOf(s)),o.$$.dirty&768&&l(7,n=e.filter((p,w)=>w<=a)),o.$$.dirty&768&&l(1,f=e.filter((p,w)=>w>a)),o.$$.dirty&131&&l(2,i=m?[...n,...f]:n)},[m,f,i,r,_,d,u,n,a,e,s,h]}class Xt extends se{constructor(t){super(),ae(this,t,Jt,Gt,re,{rules:6})}}function Ye(o,t,l){const e=o.slice();return e[8]=t[l],e}function ze(o,t,l){const e=o.slice();return e[5]=t[l],e}function Ue(o,t,l){const e=o.slice();return e[5]=t[l],e[7]=l,e}const Zt=o=>({}),Ge=o=>({});function Je(o){let t,l,e;return l=new wt({props:{class:"h-4 w-full"}}),{c(){t=v("td"),H(l.$$.fragment),this.h()},l(r){t=T(r,"TD",{style:!0});var s=y(t);q(l.$$.fragment,s),s.forEach(c),this.h()},h(){me(t,"padding-right","0.5rem")},m(r,s){$(r,t,s),A(l,t,null),e=!0},p:C,i(r){e||(g(l.$$.fragment,r),e=!0)},o(r){k(l.$$.fragment,r),e=!1},d(r){r&&c(t),P(l)}}}function xt(o){let t,l,e=K(Array.from(new Array(o[1]))),r=[];for(let a=0;a<e.length;a+=1)r[a]=Je(ze(o,e,a));const s=a=>k(r[a],1,1,()=>{r[a]=null});return{c(){for(let a=0;a<r.length;a+=1)r[a].c();t=N()},l(a){for(let n=0;n<r.length;n+=1)r[n].l(a);t=Q(a)},m(a,n){for(let f=0;f<r.length;f+=1)r[f]&&r[f].m(a,n);$(a,t,n),l=!0},p(a,n){if(n&2){e=K(Array.from(new Array(a[1])));let f;for(f=0;f<e.length;f+=1){const i=ze(a,e,f);r[f]?(r[f].p(i,n),g(r[f],1)):(r[f]=Je(),r[f].c(),g(r[f],1),r[f].m(t.parentNode,t))}for(L(),f=e.length;f<r.length;f+=1)s(f);Y()}},i(a){if(!l){for(let n=0;n<e.length;n+=1)g(r[n]);l=!0}},o(a){r=r.filter(Boolean);for(let n=0;n<r.length;n+=1)k(r[n]);l=!1},d(a){a&&c(t),fe(r,a)}}}function Xe(o){let t,l;return t=new ne({props:{$$slots:{default:[xt]},$$scope:{ctx:o}}}),{c(){H(t.$$.fragment)},l(e){q(t.$$.fragment,e)},m(e,r){A(t,e,r),l=!0},p(e,r){const s={};r&18&&(s.$$scope={dirty:r,ctx:e}),t.$set(s)},i(e){l||(g(t.$$.fragment,e),l=!0)},o(e){k(t.$$.fragment,e),l=!1},d(e){P(t,e)}}}function el(o){let t,l,e=K(Array.from(Array(o[0]).keys())),r=[];for(let a=0;a<e.length;a+=1)r[a]=Xe(Ye(o,e,a));const s=a=>k(r[a],1,1,()=>{r[a]=null});return{c(){for(let a=0;a<r.length;a+=1)r[a].c();t=W()},l(a){for(let n=0;n<r.length;n+=1)r[n].l(a);t=W()},m(a,n){for(let f=0;f<r.length;f+=1)r[f]&&r[f].m(a,n);$(a,t,n),l=!0},p(a,n){if(n&3){e=K(Array.from(Array(a[0]).keys()));let f;for(f=0;f<e.length;f+=1){const i=Ye(a,e,f);r[f]?(r[f].p(i,n),g(r[f],1)):(r[f]=Xe(i),r[f].c(),g(r[f],1),r[f].m(t.parentNode,t))}for(L(),f=e.length;f<r.length;f+=1)s(f);Y()}},i(a){if(!l){for(let n=0;n<e.length;n+=1)g(r[n]);l=!0}},o(a){r=r.filter(Boolean);for(let n=0;n<r.length;n+=1)k(r[n]);l=!1},d(a){a&&c(t),fe(r,a)}}}function Ze(o){let t;return{c(){t=v("th"),this.h()},l(l){t=T(l,"TH",{style:!0}),y(t).forEach(c),this.h()},h(){me(t,"width",o[2][o[7]]+"%")},m(l,e){$(l,t,e)},p(l,e){e&4&&me(t,"width",l[2][l[7]]+"%")},d(l){l&&c(t)}}}function tl(o){let t,l=K(Array.from(new Array(o[1]))),e=[];for(let r=0;r<l.length;r+=1)e[r]=Ze(Ue(o,l,r));return{c(){for(let r=0;r<e.length;r+=1)e[r].c();t=W()},l(r){for(let s=0;s<e.length;s+=1)e[s].l(r);t=W()},m(r,s){for(let a=0;a<e.length;a+=1)e[a]&&e[a].m(r,s);$(r,t,s)},p(r,s){if(s&6){l=K(Array.from(new Array(r[1])));let a;for(a=0;a<l.length;a+=1){const n=Ue(r,l,a);e[a]?e[a].p(n,s):(e[a]=Ze(n),e[a].c(),e[a].m(t.parentNode,t))}for(;a<e.length;a+=1)e[a].d(1);e.length=l.length}},d(r){r&&c(t),fe(e,r)}}}function ll(o){let t;const l=o[3].headers,e=tt(l,o,o[4],Ge),r=e||tl(o);return{c(){r.c()},l(s){r.l(s)},m(s,a){r.m(s,a),t=!0},p(s,a){e?e.p&&(!t||a&16)&&lt(e,l,s,s[4],t?st(l,s[4],a,Zt):rt(s[4]),Ge):r.p&&(!t||a&6)&&r.p(s,t?a:-1)},i(s){t||(g(r,s),t=!0)},o(s){k(r,s),t=!1},d(s){r.d(s)}}}function rl(o){let t,l;return t=new ie({props:{slot:"headers",class:"h-8",$$slots:{default:[ll]},$$scope:{ctx:o}}}),{c(){H(t.$$.fragment)},l(e){q(t.$$.fragment,e)},m(e,r){A(t,e,r),l=!0},p(e,r){const s={};r&22&&(s.$$scope={dirty:r,ctx:e}),t.$set(s)},i(e){l||(g(t.$$.fragment,e),l=!0)},o(e){k(t.$$.fragment,e),l=!1},d(e){P(t,e)}}}function sl(o){let t,l;return t=new oe({props:{class:"w-full table-fixed",variant:"fancy",$$slots:{headers:[rl],default:[el]},$$scope:{ctx:o}}}),{c(){H(t.$$.fragment)},l(e){q(t.$$.fragment,e)},m(e,r){A(t,e,r),l=!0},p(e,[r]){const s={};r&23&&(s.$$scope={dirty:r,ctx:e}),t.$set(s)},i(e){l||(g(t.$$.fragment,e),l=!0)},o(e){k(t.$$.fragment,e),l=!1},d(e){P(t,e)}}}function al(o,t,l){let{$$slots:e={},$$scope:r}=t,{rows:s=10}=t,{columns:a=4}=t,{columnWidths:n=new Array(a).fill(100/a)}=t;return o.$$set=f=>{"rows"in f&&l(0,s=f.rows),"columns"in f&&l(1,a=f.columns),"columnWidths"in f&&l(2,n=f.columnWidths),"$$scope"in f&&l(4,r=f.$$scope)},[s,a,n,e,r]}class nt extends se{constructor(t){super(),ae(this,t,al,sl,re,{rows:0,columns:1,columnWidths:2})}}function xe(o){o[9]=o[12].rules,o[10]=o[12].compatibility,o[11]=o[12].versionSets}const nl=o=>({compatibility:o&33}),et=o=>({compatibility:o[10]});function ol(o){return{c:C,l:C,m:C,p:C,i:C,o:C,d:C}}function il(o){xe(o);let t,l,e,r,s;const a=[cl,ul,fl],n=[];function f(i,_){var u;return _&37&&(t=null),t==null&&(t=!!i[2](i[9])),t?0:i[4]&&((u=i[11])!=null&&u.length)?1:2}return l=f(o,-1),e=n[l]=a[l](o),{c(){e.c(),r=W()},l(i){e.l(i),r=W()},m(i,_){n[l].m(i,_),$(i,r,_),s=!0},p(i,_){xe(i);let u=l;l=f(i,_),l===u?n[l].p(i,_):(L(),k(n[u],1,1,()=>{n[u]=null}),Y(),e=n[l],e?e.p(i,_):(e=n[l]=a[l](i),e.c()),g(e,1),e.m(r.parentNode,r))},i(i){s||(g(e),s=!0)},o(i){k(e),s=!1},d(i){i&&c(r),n[l].d(i)}}}function fl(o){let t,l="No versioning configured for task queue.";return{c(){t=v("p"),t.textContent=l},l(e){t=T(e,"P",{"data-svelte-h":!0}),x(t)!=="svelte-1l2qp7c"&&(t.textContent=l)},m(e,r){$(e,t,r)},p:C,i:C,o:C,d(e){e&&c(t)}}}function ul(o){let t,l,e,r={ctx:o,current:null,token:null,hasCatch:!1,pending:dl,then:ml,catch:_l,value:13,blocks:[,,,]};return te(l=Ee({namespace:o[5],buildIds:o[3],queue:o[0]}),r),{c(){t=W(),r.block.c()},l(s){t=W(),r.block.l(s)},m(s,a){$(s,t,a),r.block.m(s,r.anchor=a),r.mount=()=>t.parentNode,r.anchor=t,e=!0},p(s,a){o=s,r.ctx=o,a&41&&l!==(l=Ee({namespace:o[5],buildIds:o[3],queue:o[0]}))&&te(l,r)||$e(r,o,a)},i(s){e||(g(r.block),e=!0)},o(s){for(let a=0;a<3;a+=1){const n=r.blocks[a];k(n)}e=!1},d(s){s&&c(t),r.block.d(s),r.token=null,r=null}}}function cl(o){let t,l;return t=new Xt({props:{rules:o[9]}}),{c(){H(t.$$.fragment)},l(e){q(t.$$.fragment,e)},m(e,r){A(t,e,r),l=!0},p(e,r){const s={};r&33&&(s.rules=e[9]),t.$set(s)},i(e){l||(g(t.$$.fragment,e),l=!0)},o(e){k(t.$$.fragment,e),l=!1},d(e){P(t,e)}}}function _l(o){return{c:C,l:C,m:C,p:C,i:C,o:C,d:C}}function ml(o){let t,l,e;const r=o[8].default,s=tt(r,o,o[7],et);return l=new Wt({props:{taskQueue:o[0],workers:o[1],compatibility:o[10],reachability:o[13]}}),{c(){s&&s.c(),t=N(),H(l.$$.fragment)},l(a){s&&s.l(a),t=Q(a),q(l.$$.fragment,a)},m(a,n){s&&s.m(a,n),$(a,t,n),A(l,a,n),e=!0},p(a,n){s&&s.p&&(!e||n&161)&&lt(s,r,a,a[7],e?st(r,a[7],n,nl):rt(a[7]),et);const f={};n&1&&(f.taskQueue=a[0]),n&2&&(f.workers=a[1]),n&33&&(f.compatibility=a[10]),n&41&&(f.reachability=a[13]),l.$set(f)},i(a){e||(g(s,a),g(l.$$.fragment,a),e=!0)},o(a){k(s,a),k(l.$$.fragment,a),e=!1},d(a){a&&c(t),s&&s.d(a),P(l,a)}}}function dl(o){let t,l;return t=new nt({props:{rows:3}}),{c(){H(t.$$.fragment)},l(e){q(t.$$.fragment,e)},m(e,r){A(t,e,r),l=!0},p:C,i(e){l||(g(t.$$.fragment,e),l=!0)},o(e){k(t.$$.fragment,e),l=!1},d(e){P(t,e)}}}function $l(o){let t,l;return t=new nt({props:{rows:3}}),{c(){H(t.$$.fragment)},l(e){q(t.$$.fragment,e)},m(e,r){A(t,e,r),l=!0},p:C,i(e){l||(g(t.$$.fragment,e),l=!0)},o(e){k(t.$$.fragment,e),l=!1},d(e){P(t,e)}}}function hl(o){let t,l,e,r={ctx:o,current:null,token:null,hasCatch:!1,pending:$l,then:il,catch:ol,value:12,blocks:[,,,]};return te(l=Te({namespace:o[5],queue:o[0]}),r),{c(){t=W(),r.block.c()},l(s){t=W(),r.block.l(s)},m(s,a){$(s,t,a),r.block.m(s,r.anchor=a),r.mount=()=>t.parentNode,r.anchor=t,e=!0},p(s,[a]){o=s,r.ctx=o,a&33&&l!==(l=Te({namespace:o[5],queue:o[0]}))&&te(l,r)||$e(r,o,a)},i(s){e||(g(r.block),e=!0)},o(s){for(let a=0;a<3;a+=1){const n=r.blocks[a];k(n)}e=!1},d(s){s&&c(t),r.block.d(s),r.token=null,r=null}}}function pl(o,t,l){let e,r,s,a,n;ee(o,de,m=>l(6,n=m));let{$$slots:f={},$$scope:i}=t,{taskQueue:_}=t,{workers:u}=t;return o.$$set=m=>{"taskQueue"in m&&l(0,_=m.taskQueue),"workers"in m&&l(1,u=m.workers),"$$scope"in m&&l(7,i=m.$$scope)},o.$$.update=()=>{o.$$.dirty&64&&l(5,{namespace:e}=n.params,e),o.$$.dirty&2&&l(4,r=ht(u.pollers)),o.$$.dirty&2&&l(3,s=pt(u.pollers))},l(2,a=m=>(m==null?void 0:m.assignmentRules)||(m==null?void 0:m.compatibleRedirectRules)),[_,u,a,s,r,e,n,i,f]}class gl extends se{constructor(t){super(),ae(this,t,pl,hl,re,{taskQueue:0,workers:1})}}function bl(o){return{c:C,l:C,m:C,p:C,i:C,o:C,d:C}}function kl(o){let t,l,e,r,s,a,n,f,i;s=new ut({props:{$$slots:{default:[vl]},$$scope:{ctx:o}}});const _=[El,Tl],u=[];function m(d,h){return d[2]==="versioning"?0:1}return n=m(o),f=u[n]=_[n](o),{c(){t=v("section"),l=v("h2"),e=V(o[1]),r=N(),H(s.$$.fragment),a=N(),f.c(),this.h()},l(d){t=T(d,"SECTION",{class:!0});var h=y(t);l=T(h,"H2",{"data-testid":!0});var p=y(l);e=S(p,o[1]),p.forEach(c),r=Q(h),q(s.$$.fragment,h),a=Q(h),f.l(h),h.forEach(c),this.h()},h(){b(l,"data-testid","task-queue-name"),b(t,"class","flex flex-col gap-4")},m(d,h){$(d,t,h),R(t,l),R(l,e),R(t,r),A(s,t,null),R(t,a),u[n].m(t,null),i=!0},p(d,h){(!i||h&2)&&z(e,d[1]);const p={};h&260&&(p.$$scope={dirty:h,ctx:d}),s.$set(p);let w=n;n=m(d),n===w?u[n].p(d,h):(L(),k(u[w],1,1,()=>{u[w]=null}),Y(),f=u[n],f?f.p(d,h):(f=u[n]=_[n](d),f.c()),g(f,1),f.m(t,null))},i(d){i||(g(s.$$.fragment,d),g(f),i=!0)},o(d){k(s.$$.fragment,d),k(f),i=!1},d(d){d&&c(t),P(s),u[n].d()}}}function wl(o){let t,l,e,r;return t=new ke({props:{label:j("workers.workers"),id:"worker-tab",onClick:o[5],active:o[2]==="workers"}}),e=new ke({props:{label:j("workers.versioning"),id:"versioning-tab",onClick:o[6],active:o[2]==="versioning"}}),{c(){H(t.$$.fragment),l=N(),H(e.$$.fragment)},l(s){q(t.$$.fragment,s),l=Q(s),q(e.$$.fragment,s)},m(s,a){A(t,s,a),$(s,l,a),A(e,s,a),r=!0},p(s,a){const n={};a&4&&(n.active=s[2]==="workers"),t.$set(n);const f={};a&4&&(f.active=s[2]==="versioning"),e.$set(f)},i(s){r||(g(t.$$.fragment,s),g(e.$$.fragment,s),r=!0)},o(s){k(t.$$.fragment,s),k(e.$$.fragment,s),r=!1},d(s){s&&c(l),P(t,s),P(e,s)}}}function vl(o){let t,l;return t=new ct({props:{class:"flex flex-wrap gap-6 p-4 pl-0",label:"task queue detail",$$slots:{default:[wl]},$$scope:{ctx:o}}}),{c(){H(t.$$.fragment)},l(e){q(t.$$.fragment,e)},m(e,r){A(t,e,r),l=!0},p(e,r){const s={};r&260&&(s.$$scope={dirty:r,ctx:e}),t.$set(s)},i(e){l||(g(t.$$.fragment,e),l=!0)},o(e){k(t.$$.fragment,e),l=!1},d(e){P(t,e)}}}function Tl(o){let t,l;return t=new ft({props:{workers:o[7]}}),{c(){H(t.$$.fragment)},l(e){q(t.$$.fragment,e)},m(e,r){A(t,e,r),l=!0},p(e,r){const s={};r&3&&(s.workers=e[7]),t.$set(s)},i(e){l||(g(t.$$.fragment,e),l=!0)},o(e){k(t.$$.fragment,e),l=!1},d(e){P(t,e)}}}function El(o){let t,l;return t=new gl({props:{taskQueue:o[1],workers:o[7]}}),{c(){H(t.$$.fragment)},l(e){q(t.$$.fragment,e)},m(e,r){A(t,e,r),l=!0},p(e,r){const s={};r&2&&(s.taskQueue=e[1]),r&3&&(s.workers=e[7]),t.$set(s)},i(e){l||(g(t.$$.fragment,e),l=!0)},o(e){k(t.$$.fragment,e),l=!1},d(e){P(t,e)}}}function yl(o){return{c:C,l:C,m:C,p:C,i:C,o:C,d:C}}function Il(o){let t,l,e,r={ctx:o,current:null,token:null,hasCatch:!1,pending:yl,then:kl,catch:bl,value:7,blocks:[,,,]};return te(l=ye({queue:o[1],namespace:o[0]}),r),{c(){t=W(),r.block.c()},l(s){t=W(),r.block.l(s)},m(s,a){$(s,t,a),r.block.m(s,r.anchor=a),r.mount=()=>t.parentNode,r.anchor=t,e=!0},p(s,[a]){o=s,r.ctx=o,a&3&&l!==(l=ye({queue:o[1],namespace:o[0]}))&&te(l,r)||$e(r,o,a)},i(s){e||(g(r.block),e=!0)},o(s){for(let a=0;a<3;a+=1){const n=r.blocks[a];k(n)}e=!1},d(s){s&&c(t),r.block.d(s),r.token=null,r=null}}}function Cl(o,t,l){let e,r,s,a;ee(o,Ie,_=>l(2,s=_)),ee(o,de,_=>l(4,a=_));const n=_=>{ot(Ie,s=_,s)},f=()=>n("workers"),i=()=>n("versioning");return o.$$.update=()=>{o.$$.dirty&16&&l(1,{queue:e,namespace:r}=a.params,e,(l(0,r),l(4,a)))},[r,e,s,n,a,f,i]}class Dl extends se{constructor(t){super(),ae(this,t,Cl,Il,re,{})}}function Rl(o){let t,l,e,r;return t=new it({props:{title:`Task Queue | ${o[1]}`,url:o[0].url.href}}),e=new Dl({}),{c(){H(t.$$.fragment),l=N(),H(e.$$.fragment)},l(s){q(t.$$.fragment,s),l=Q(s),q(e.$$.fragment,s)},m(s,a){A(t,s,a),$(s,l,a),A(e,s,a),r=!0},p(s,[a]){const n={};a&1&&(n.url=s[0].url.href),t.$set(n)},i(s){r||(g(t.$$.fragment,s),g(e.$$.fragment,s),r=!0)},o(s){k(t.$$.fragment,s),k(e.$$.fragment,s),r=!1},d(s){s&&c(l),P(t,s),P(e,s)}}}function Nl(o,t,l){let e;ee(o,de,s=>l(0,e=s));const r=e.params.queue;return[e,r]}class Zl extends se{constructor(t){super(),ae(this,t,Nl,Rl,re,{})}}export{Zl as component};
