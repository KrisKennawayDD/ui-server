import{s as we,h as z,b as H,t as X,j as y,k as J,f as $,d as j,l as G,m as L,i as S,n as q,q as ce,c as ee,v as pe,D as kt,z as bt,A as On,H as Je,x as le,w as _e,O as oe,Q as fe,R as et,y as Xe,_ as Qn,M as bn,X as Ln,P as vn,a as In,u as En,g as Dn,e as Tn}from"../chunks/scheduler.BIAblxOX.js";import{S as be,i as ve,c as I,a as E,m as D,t as c,b as p,d as T,g as K,e as Z,h as se,f as Cn}from"../chunks/index.6Iwm8Wbk.js";import{p as Ae}from"../chunks/stores.D_RZK_XI.js";import{v as zn}from"../chunks/data-encoder-settings.DZBXnwSt.js";import{L as qe}from"../chunks/link.BQHS-7jW.js";import{t as R}from"../chunks/translate.BBe5dcco.js";import{c as Sn,k as Wn,u as yn,v as Jn,x as Yn,y as vt}from"../chunks/workflows.DfttQNzp.js";import{e as Ye,s as It,v as Ne,w as Et,x as Dt,b as Re,y as je,z as Oe,c as Qe,A as Le,B as ze}from"../chunks/route-for.CJyWsJGk.js";import{B as Xn}from"../chunks/button.D4zmkKV8.js";import{L as Gn}from"../chunks/loading.BEJXYr-j.js";import{a as Pn}from"../chunks/index.CdJxN4Bx.js";import{f as Ie,r as Kn,t as Zn}from"../chunks/time-format.Crx_n8Py.js";import{q as xn}from"../chunks/format-time.-q8QuKs5.js";import{C as Rn}from"../chunks/index.D-P4YO2T.js";import{I as Be}from"../chunks/icon.kV21plOg.js";import{T as Ge}from"../chunks/tooltip.B0xTDve4.js";import{A as Mn}from"../chunks/accordion-light.DrCVbg8Y.js";import{B as lt}from"../chunks/button.CzLnUvOb.js";import{M as ot}from"../chunks/markdown.c7c-B8j5.js";import{a as Vn}from"../chunks/query-service.CcBLJiI8.js";import{a as An}from"../chunks/auth-user.azyxyrGL.js";import{w as Ee,r as Fe,i as er}from"../chunks/workflow-run.C_fpRl4T.js";import{e as Me}from"../chunks/each.DbCH4h9K.js";import{w as Ke,g as Tt}from"../chunks/entry.C6mbzFRA.js";import{w as tr,a as nr,b as rr,C as lr,T as or}from"../chunks/workflow-terminate-enabled.DgWompgY.js";import{C as tt}from"../chunks/checkbox.4zAHzou4.js";import{I as Ze}from"../chunks/input.DOsBxQRD.js";import{M as ft}from"../chunks/modal.B7RZbiiU.js";import{S as st,O as Ue}from"../chunks/option.B0EMNsQ_.js";import{r as Nn,f as ye,b as Ct,p as fr,c as St,t as Wt}from"../chunks/events.C8cz-dNi.js";import{p as sr}from"../chunks/persist-store.DQ7Utnk9.js";import{t as ir}from"../chunks/versions.CmC2nsWs.js";import{i as it}from"../chunks/is-network-error.DxxRlstw.js";import{m as ar}from"../chunks/route-for-api.BXbKDHZt.js";import{P as ur}from"../chunks/payload-input-with-encoding.BnLJQlSu.js";import{t as qn,v as Pt}from"../chunks/toaster.DngqUeXw.js";import{P as cr}from"../chunks/payload-decoder.Dxl3-nyF.js";import"../chunks/card.DCM0ZOR9.js";import"../chunks/radio-input.BSVE2a5Q.js";import{P as mr}from"../chunks/payload-input.j2YyFYlm.js";import{A as He}from"../chunks/alert.CisFWIM8.js";import{C as Bn}from"../chunks/code-block.VA29L3rf.js";import{d as at}from"../chunks/menu.DC9lXFp7.js";import{M as Fn}from"../chunks/menu-divider.BV-m19dE.js";import{S as Un}from"../chunks/split-button.XhSoJ89W.js";import{c as pr}from"../chunks/core-user.CUO5JGph.js";import{w as nt}from"../chunks/workflow-create-disabled.DYyhuJ9u.js";import{W as dr}from"../chunks/workflow-status.wlWwNoOj.js";import{C as _r}from"../chunks/compatibility-badge.D5WCY2EO.js";import{k as gr,g as $r}from"../chunks/pollers-service.DVl314YQ.js";import{B as xe}from"../chunks/badge.Bwc5LVo_.js";import{T as wr,a as hr,b as Ve}from"../chunks/tab.CwfIZmhi.js";import{n as kr}from"../chunks/namespaces.DvBuMDLa.js";import{g as br}from"../chunks/get-workflow-relationships.U-HB_EU8.js";import{h as vr}from"../chunks/has.BnvKvYqj.js";import{t as Ir,f as Er}from"../chunks/events-service.DUsCj6uZ.js";import{r as Dr}from"../chunks/data-encoder-config.CiNdPKDB.js";import{c as Tr}from"../chunks/copy-to-clipboard.BsxfAJZ6.js";import{a as Rt}from"../chunks/decode-payload.B5GxTJLa.js";import{s as rt}from"../chunks/parse-with-big-int.DJQKqIvA.js";function Cr(l){let t=R("workflows.back-to-workflows")+"",n;return{c(){n=X(t)},l(e){n=G(e,t)},m(e,r){S(e,n,r)},p:pe,d(e){e&&$(n)}}}function Sr(l){var b,W;let t,n,e,r,o,f,s=(((b=l[0])==null?void 0:b.statusCode)??"500")+"",i,a,u,d,v,w,h=(((W=l[0])==null?void 0:W.statusText)??"")+"",m,g;return e=new qe({props:{href:`${Ye({namespace:l[2]})}?${l[3]}`,"data-testid":"back-to-workflows",icon:"chevron-left",$$slots:{default:[Cr]},$$scope:{ctx:l}}}),{c(){t=z("header"),n=z("div"),I(e.$$.fragment),r=H(),o=z("div"),f=z("h1"),i=X(s),a=H(),u=z("p"),d=X(l[1]),v=H(),w=z("p"),m=X(h),this.h()},l(_){t=y(_,"HEADER",{class:!0});var k=J(t);n=y(k,"DIV",{class:!0});var M=J(n);E(e.$$.fragment,M),M.forEach($),k.forEach($),r=j(_),o=y(_,"DIV",{class:!0});var A=J(o);f=y(A,"H1",{class:!0});var B=J(f);i=G(B,s),B.forEach($),a=j(A),u=y(A,"P",{class:!0});var F=J(u);d=G(F,l[1]),F.forEach($),v=j(A),w=y(A,"P",{class:!0});var U=J(w);m=G(U,h),U.forEach($),A.forEach($),this.h()},h(){L(n,"class","mb-4 block"),L(t,"class","mb-4 flex flex-col gap-1"),L(f,"class","leading-0 text-[12rem] font-semibold"),L(u,"class","-mt-12 text-lg"),L(w,"class","text-2xl font-bold text-red-700"),L(o,"class","text-center align-middle")},m(_,k){S(_,t,k),q(t,n),D(e,n,null),S(_,r,k),S(_,o,k),q(o,f),q(f,i),q(o,a),q(o,u),q(u,d),q(o,v),q(o,w),q(w,m),g=!0},p(_,[k]){var A,B;const M={};k&12&&(M.href=`${Ye({namespace:_[2]})}?${_[3]}`),k&32&&(M.$$scope={dirty:k,ctx:_}),e.$set(M),(!g||k&1)&&s!==(s=(((A=_[0])==null?void 0:A.statusCode)??"500")+"")&&ce(i,s),(!g||k&2)&&ce(d,_[1]),(!g||k&1)&&h!==(h=(((B=_[0])==null?void 0:B.statusText)??"")+"")&&ce(m,h)},i(_){g||(c(e.$$.fragment,_),g=!0)},o(_){p(e.$$.fragment,_),g=!1},d(_){_&&($(t),$(r),$(o)),T(e)}}}function Wr(l,t,n){let e,r,o,f;ee(l,Ae,i=>n(4,o=i)),ee(l,Sn,i=>n(3,f=i));let{error:s}=t;return l.$$set=i=>{"error"in i&&n(0,s=i.error)},l.$$.update=()=>{l.$$.dirty&16&&n(2,{namespace:e}=o.params,e),l.$$.dirty&1&&n(1,r=s.statusCode===404?R("workflows.workflow-404-title"):R("workflows.workflow-error-title"))},[s,r,e,f,o]}class Pr extends be{constructor(t){super(),ve(this,t,Wr,Sr,we,{error:0})}}function Mt(l){let t,n;return{c(){t=z("span"),n=X(l[0]),this.h()},l(e){t=y(e,"SPAN",{class:!0});var r=J(t);n=G(r,l[0]),r.forEach($),this.h()},h(){L(t,"class","font-mono")},m(e,r){S(e,t,r),q(t,n)},p(e,r){r&1&&ce(n,e[0])},d(e){e&&$(t)}}}function Vt(l){let t,n;return t=new Be({props:{name:l[5]}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,r){D(t,e,r),n=!0},p(e,r){const o={};r&32&&(o.name=e[5]),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function Rr(l){let t,n;return t=new Ge({props:{text:l[6],hide:!l[6],top:!0,$$slots:{default:[Ar]},$$scope:{ctx:l}}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,r){D(t,e,r),n=!0},p(e,r){const o={};r&64&&(o.text=e[6]),r&64&&(o.hide=!e[6]),r&642&&(o.$$scope={dirty:r,ctx:e}),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function Mr(l){let t,n;return t=new qe({props:{href:l[4],class:"value truncate rounded-sm p-1 leading-4 "+(l[7]&&"surface-subtle"),$$slots:{default:[Nr]},$$scope:{ctx:l}}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,r){D(t,e,r),n=!0},p(e,r){const o={};r&16&&(o.href=e[4]),r&128&&(o.class="value truncate rounded-sm p-1 leading-4 "+(e[7]&&"surface-subtle")),r&514&&(o.$$scope={dirty:r,ctx:e}),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function Vr(l){let t,n;return t=new Rn({props:{copyIconTitle:R("common.copy-icon-title"),copySuccessIconTitle:R("common.copy-success-icon-title"),content:l[1],visible:!0,"container-class":"gap-1 w-full justify-end",$$slots:{default:[Hr]},$$scope:{ctx:l}}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,r){D(t,e,r),n=!0},p(e,r){const o={};r&2&&(o.content=e[1]),r&730&&(o.$$scope={dirty:r,ctx:e}),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function Ar(l){let t,n;return{c(){t=z("span"),n=X(l[1]),this.h()},l(e){t=y(e,"SPAN",{class:!0});var r=J(t);n=G(r,l[1]),r.forEach($),this.h()},h(){L(t,"class","w-fit select-all truncate rounded-sm p-1 leading-4"),Je(t,"surface-subtle",l[7])},m(e,r){S(e,t,r),q(t,n)},p(e,r){r&2&&ce(n,e[1]),r&128&&Je(t,"surface-subtle",e[7])},d(e){e&&$(t)}}}function Nr(l){let t;return{c(){t=X(l[1])},l(n){t=G(n,l[1])},m(n,e){S(n,t,e)},p(n,e){e&2&&ce(t,n[1])},d(n){n&&$(t)}}}function qr(l){let t,n;return t=new Ge({props:{text:l[6],hide:!l[6],top:!0,$$slots:{default:[Fr]},$$scope:{ctx:l}}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,r){D(t,e,r),n=!0},p(e,r){const o={};r&64&&(o.text=e[6]),r&64&&(o.hide=!e[6]),r&642&&(o.$$scope={dirty:r,ctx:e}),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function Br(l){let t,n;return t=new qe({props:{href:l[4],class:"flex w-fit flex-row items-center gap-1 truncate rounded-sm p-1 leading-4 "+(l[7]&&"surface-subtle"),$$slots:{default:[Ur]},$$scope:{ctx:l}}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,r){D(t,e,r),n=!0},p(e,r){const o={};r&16&&(o.href=e[4]),r&128&&(o.class="flex w-fit flex-row items-center gap-1 truncate rounded-sm p-1 leading-4 "+(e[7]&&"surface-subtle")),r&522&&(o.$$scope={dirty:r,ctx:e}),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function Fr(l){let t,n;return{c(){t=z("span"),n=X(l[1]),this.h()},l(e){t=y(e,"SPAN",{class:!0});var r=J(t);n=G(r,l[1]),r.forEach($),this.h()},h(){L(t,"class","w-fit select-all truncate rounded-sm p-1 leading-4"),Je(t,"surface-subtle",l[7])},m(e,r){S(e,t,r),q(t,n)},p(e,r){r&2&&ce(n,e[1]),r&128&&Je(t,"surface-subtle",e[7])},d(e){e&&$(t)}}}function At(l){let t,n;return t=new Be({props:{name:"filter",class:"shrink-0"}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,r){D(t,e,r),n=!0},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function Ur(l){let t,n,e,r,o,f=l[3]&&At();return{c(){t=z("span"),n=X(l[1]),e=H(),f&&f.c(),r=le(),this.h()},l(s){t=y(s,"SPAN",{class:!0});var i=J(t);n=G(i,l[1]),i.forEach($),e=j(s),f&&f.l(s),r=le(),this.h()},h(){L(t,"class","truncate")},m(s,i){S(s,t,i),q(t,n),S(s,e,i),f&&f.m(s,i),S(s,r,i),o=!0},p(s,i){(!o||i&2)&&ce(n,s[1]),s[3]?f?i&8&&c(f,1):(f=At(),f.c(),c(f,1),f.m(r.parentNode,r)):f&&(K(),p(f,1,1,()=>{f=null}),Z())},i(s){o||(c(f),o=!0)},o(s){p(f),o=!1},d(s){s&&($(t),$(e),$(r)),f&&f.d(s)}}}function Hr(l){let t,n,e,r;const o=[Br,qr],f=[];function s(i,a){return i[4]?0:1}return t=s(l),n=f[t]=o[t](l),{c(){n.c(),e=le()},l(i){n.l(i),e=le()},m(i,a){f[t].m(i,a),S(i,e,a),r=!0},p(i,a){let u=t;t=s(i),t===u?f[t].p(i,a):(K(),p(f[u],1,1,()=>{f[u]=null}),Z(),n=f[t],n?n.p(i,a):(n=f[t]=o[t](i),n.c()),c(n,1),n.m(e.parentNode,e))},i(i){r||(c(n),r=!0)},o(i){p(n),r=!1},d(i){i&&$(e),f[t].d(i)}}}function jr(l){let t,n,e,r,o,f,s,i=l[0]&&Mt(l),a=l[5]&&Vt(l);const u=[Vr,Mr,Rr],d=[];function v(w,h){return w[2]?0:w[4]?1:2}return r=v(l),o=d[r]=u[r](l),{c(){t=z("p"),i&&i.c(),n=H(),a&&a.c(),e=H(),o.c(),this.h()},l(w){t=y(w,"P",{class:!0});var h=J(t);i&&i.l(h),n=j(h),a&&a.l(h),e=j(h),o.l(h),h.forEach($),this.h()},h(){L(t,"class",f="flex h-4 items-center justify-between gap-16 truncate whitespace-nowrap "+l[8].class)},m(w,h){S(w,t,h),i&&i.m(t,null),q(t,n),a&&a.m(t,null),q(t,e),d[r].m(t,null),s=!0},p(w,[h]){w[0]?i?i.p(w,h):(i=Mt(w),i.c(),i.m(t,n)):i&&(i.d(1),i=null),w[5]?a?(a.p(w,h),h&32&&c(a,1)):(a=Vt(w),a.c(),c(a,1),a.m(t,e)):a&&(K(),p(a,1,1,()=>{a=null}),Z());let m=r;r=v(w),r===m?d[r].p(w,h):(K(),p(d[m],1,1,()=>{d[m]=null}),Z(),o=d[r],o?o.p(w,h):(o=d[r]=u[r](w),o.c()),c(o,1),o.m(t,null)),(!s||h&256&&f!==(f="flex h-4 items-center justify-between gap-16 truncate whitespace-nowrap "+w[8].class))&&L(t,"class",f)},i(w){s||(c(a),c(o),s=!0)},o(w){p(a),p(o),s=!1},d(w){w&&$(t),i&&i.d(),a&&a.d(),d[r].d()}}}function Or(l,t,n){const e=["title","content","copyable","filterable","href","icon","tooltip","badge"];let r=kt(t,e),{title:o=""}=t,{content:f}=t,{copyable:s=!1}=t,{filterable:i=!1}=t,{href:a=null}=t,{icon:u=void 0}=t,{tooltip:d=""}=t,{badge:v=!1}=t;return l.$$set=w=>{t=bt(bt({},t),On(w)),n(8,r=kt(t,e)),"title"in w&&n(0,o=w.title),"content"in w&&n(1,f=w.content),"copyable"in w&&n(2,s=w.copyable),"filterable"in w&&n(3,i=w.filterable),"href"in w&&n(4,a=w.href),"icon"in w&&n(5,u=w.icon),"tooltip"in w&&n(6,d=w.tooltip),"badge"in w&&n(7,v=w.badge)},[o,f,s,i,a,u,d,v,r]}class Pe extends be{constructor(t){super(),ve(this,t,Or,jr,we,{title:0,content:1,copyable:2,filterable:3,href:4,icon:5,tooltip:6,badge:7})}}function Nt(l){var e,r,o,f,s,i;let t,n;return t=new Pe({props:{title:R("workflows.parent-workflow"),content:(r=(e=l[0])==null?void 0:e.parent)==null?void 0:r.workflowId,href:Et({namespace:l[3],workflow:(f=(o=l[0])==null?void 0:o.parent)==null?void 0:f.workflowId,run:(i=(s=l[0])==null?void 0:s.parent)==null?void 0:i.runId})}}),{c(){I(t.$$.fragment)},l(a){E(t.$$.fragment,a)},m(a,u){D(t,a,u),n=!0},p(a,u){var v,w,h,m,g,b;const d={};u&1&&(d.content=(w=(v=a[0])==null?void 0:v.parent)==null?void 0:w.workflowId),u&9&&(d.href=Et({namespace:a[3],workflow:(m=(h=a[0])==null?void 0:h.parent)==null?void 0:m.workflowId,run:(b=(g=a[0])==null?void 0:g.parent)==null?void 0:b.runId})),t.$set(d)},i(a){n||(c(t.$$.fragment,a),n=!0)},o(a){p(t.$$.fragment,a),n=!1},d(a){T(t,a)}}}function Qr(l){var M,A,B,F,U,ne,te,ue,de,O,ie,N,V,Q,x;let t,n,e,r,o,f,s,i,a,u,d,v,w,h,m,g,b,W,_;e=new Pe({props:{title:R("common.start"),tooltip:l[4]?Ie((M=l[0])==null?void 0:M.startTime,l[5],{relative:!1}):Ie((A=l[0])==null?void 0:A.startTime,l[5],{relative:!0}),content:Ie((B=l[0])==null?void 0:B.startTime,l[5],{relative:l[4]})}}),o=new Pe({props:{title:R("common.end"),tooltip:l[4]?Ie((F=l[0])==null?void 0:F.endTime,l[5],{relative:!1}):Ie((U=l[0])==null?void 0:U.endTime,l[5],{relative:!0}),content:(ne=l[0])!=null&&ne.endTime?Ie((te=l[0])==null?void 0:te.endTime,l[5],{relative:l[4]}):"-"}}),s=new Pe({props:{content:l[2],icon:"clock"}}),u=new Pe({props:{title:R("common.run-id"),content:(ue=l[0])==null?void 0:ue.runId,copyable:!0}}),v=new Pe({props:{title:R("common.workflow-type"),content:(de=l[0])==null?void 0:de.name,copyable:!0,filterable:!0,href:It({namespace:l[3],query:`WorkflowType="${(O=l[0])==null?void 0:O.name}"`})}}),h=new Pe({props:{title:R("common.task-queue"),content:(ie=l[0])==null?void 0:ie.taskQueue,href:Ne({namespace:l[1].params.namespace,workflow:(N=l[0])==null?void 0:N.id,run:(V=l[0])==null?void 0:V.runId})}});let k=((Q=l[0])==null?void 0:Q.parent)&&Nt(l);return W=new Pe({props:{title:R("common.history-size-bytes"),content:(x=l[0])==null?void 0:x.historySizeBytes}}),{c(){t=z("div"),n=z("div"),I(e.$$.fragment),r=H(),I(o.$$.fragment),f=H(),I(s.$$.fragment),i=H(),a=z("div"),I(u.$$.fragment),d=H(),I(v.$$.fragment),w=H(),I(h.$$.fragment),m=H(),g=z("div"),k&&k.c(),b=H(),I(W.$$.fragment),this.h()},l(P){t=y(P,"DIV",{class:!0});var re=J(t);n=y(re,"DIV",{class:!0});var me=J(n);E(e.$$.fragment,me),r=j(me),E(o.$$.fragment,me),f=j(me),E(s.$$.fragment,me),me.forEach($),i=j(re),a=y(re,"DIV",{class:!0});var C=J(a);E(u.$$.fragment,C),d=j(C),E(v.$$.fragment,C),w=j(C),E(h.$$.fragment,C),C.forEach($),m=j(re),g=y(re,"DIV",{class:!0});var Y=J(g);k&&k.l(Y),b=j(Y),E(W.$$.fragment,Y),Y.forEach($),re.forEach($),this.h()},h(){L(n,"class","flex w-full flex-col gap-2 xl:w-1/3"),L(a,"class","flex w-full flex-col gap-2 xl:w-1/3"),L(g,"class","flex w-full flex-col gap-2 xl:w-1/3"),L(t,"class","flex w-full flex-col gap-2 xl:flex-row xl:gap-16")},m(P,re){S(P,t,re),q(t,n),D(e,n,null),q(n,r),D(o,n,null),q(n,f),D(s,n,null),q(t,i),q(t,a),D(u,a,null),q(a,d),D(v,a,null),q(a,w),D(h,a,null),q(t,m),q(t,g),k&&k.m(g,null),q(g,b),D(W,g,null),_=!0},p(P,[re]){var ke,Ce,Te,Se,We,ut,ct,mt,pt,dt,_t,gt,$t,wt,ht;const me={};re&49&&(me.tooltip=P[4]?Ie((ke=P[0])==null?void 0:ke.startTime,P[5],{relative:!1}):Ie((Ce=P[0])==null?void 0:Ce.startTime,P[5],{relative:!0})),re&49&&(me.content=Ie((Te=P[0])==null?void 0:Te.startTime,P[5],{relative:P[4]})),e.$set(me);const C={};re&49&&(C.tooltip=P[4]?Ie((Se=P[0])==null?void 0:Se.endTime,P[5],{relative:!1}):Ie((We=P[0])==null?void 0:We.endTime,P[5],{relative:!0})),re&49&&(C.content=(ut=P[0])!=null&&ut.endTime?Ie((ct=P[0])==null?void 0:ct.endTime,P[5],{relative:P[4]}):"-"),o.$set(C);const Y={};re&4&&(Y.content=P[2]),s.$set(Y);const he={};re&1&&(he.content=(mt=P[0])==null?void 0:mt.runId),u.$set(he);const ae={};re&1&&(ae.content=(pt=P[0])==null?void 0:pt.name),re&9&&(ae.href=It({namespace:P[3],query:`WorkflowType="${(dt=P[0])==null?void 0:dt.name}"`})),v.$set(ae);const ge={};re&1&&(ge.content=(_t=P[0])==null?void 0:_t.taskQueue),re&3&&(ge.href=Ne({namespace:P[1].params.namespace,workflow:(gt=P[0])==null?void 0:gt.id,run:($t=P[0])==null?void 0:$t.runId})),h.$set(ge),(wt=P[0])!=null&&wt.parent?k?(k.p(P,re),re&1&&c(k,1)):(k=Nt(P),k.c(),c(k,1),k.m(g,b)):k&&(K(),p(k,1,1,()=>{k=null}),Z());const De={};re&1&&(De.content=(ht=P[0])==null?void 0:ht.historySizeBytes),W.$set(De)},i(P){_||(c(e.$$.fragment,P),c(o.$$.fragment,P),c(s.$$.fragment,P),c(u.$$.fragment,P),c(v.$$.fragment,P),c(h.$$.fragment,P),c(k),c(W.$$.fragment,P),_=!0)},o(P){p(e.$$.fragment,P),p(o.$$.fragment,P),p(s.$$.fragment,P),p(u.$$.fragment,P),p(v.$$.fragment,P),p(h.$$.fragment,P),p(k),p(W.$$.fragment,P),_=!1},d(P){P&&$(t),T(e),T(o),T(s),T(u),T(v),T(h),k&&k.d(),T(W)}}}function Lr(l,t,n){let e,r,o,f,s;ee(l,Ae,a=>n(1,o=a)),ee(l,Kn,a=>n(4,f=a)),ee(l,Zn,a=>n(5,s=a));let{workflow:i}=t;return l.$$set=a=>{"workflow"in a&&n(0,i=a.workflow)},l.$$.update=()=>{l.$$.dirty&2&&n(3,{namespace:e}=o.params,e),l.$$.dirty&1&&n(2,r=xn({start:i==null?void 0:i.startTime,end:(i==null?void 0:i.endTime)||Date.now(),includeMilliseconds:!0}))},[i,o,r,e,f,s]}class zr extends be{constructor(t){super(),ve(this,t,Lr,Qr,we,{workflow:0})}}function qt(l){let t=l[1],n,e,r=Bt(l);return{c(){r.c(),n=le()},l(o){r.l(o),n=le()},m(o,f){r.m(o,f),S(o,n,f),e=!0},p(o,f){f&2&&we(t,t=o[1])?(K(),p(r,1,1,pe),Z(),r=Bt(o),r.c(),c(r,1),r.m(n.parentNode,n)):r.p(o,f)},i(o){e||(c(r),e=!0)},o(o){p(r),e=!1},d(o){o&&$(n),r.d(o)}}}function Bt(l){let t,n;return t=new ot({props:{content:l[1]}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,r){D(t,e,r),n=!0},p(e,r){const o={};r&2&&(o.content=e[1]),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function yr(l){let t,n,e=l[10]&&qt(l);return{c(){e&&e.c(),t=le()},l(r){e&&e.l(r),t=le()},m(r,o){e&&e.m(r,o),S(r,t,o),n=!0},p(r,o){r[10]?e?(e.p(r,o),o&1024&&c(e,1)):(e=qt(r),e.c(),c(e,1),e.m(t.parentNode,t)):e&&(K(),p(e,1,1,()=>{e=null}),Z())},i(r){n||(c(e),n=!0)},o(r){p(e),n=!1},d(r){r&&$(t),e&&e.d(r)}}}function Ft(l){let t=R("common.loading")+"",n;return{c(){n=X(t)},l(e){n=G(e,t)},m(e,r){S(e,n,r)},p:pe,d(e){e&&$(n)}}}function Jr(l){let t,n,e,r=R("workflows.current-details")+"",o,f,s;n=new Be({props:{name:"flag",class:"text-brand",width:32,height:32}});let i=l[2]&&Ft();return{c(){t=z("div"),I(n.$$.fragment),e=H(),o=X(r),f=H(),i&&i.c(),this.h()},l(a){t=y(a,"DIV",{slot:!0,class:!0});var u=J(t);E(n.$$.fragment,u),e=j(u),o=G(u,r),f=j(u),i&&i.l(u),u.forEach($),this.h()},h(){L(t,"slot","title"),L(t,"class","flex w-full items-center gap-2 p-2 text-xl")},m(a,u){S(a,t,u),D(n,t,null),q(t,e),q(t,o),q(t,f),i&&i.m(t,null),s=!0},p(a,u){a[2]?i?i.p(a,u):(i=Ft(),i.c(),i.m(t,null)):i&&(i.d(1),i=null)},i(a){s||(c(n.$$.fragment,a),s=!0)},o(a){p(n.$$.fragment,a),s=!1},d(a){a&&$(t),T(n),i&&i.d()}}}function Ut(l){let t,n;return t=new Ge({props:{text:R("workflows.update-details"),left:!0,$$slots:{default:[Xr]},$$scope:{ctx:l}}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,r){D(t,e,r),n=!0},p(e,r){const o={};r&2052&&(o.$$scope={dirty:r,ctx:e}),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function Yr(l){let t,n;return t=new Be({props:{name:"retry"}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,r){D(t,e,r),n=!0},p:pe,i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function Xr(l){let t,n;return t=new lt({props:{variant:"ghost",disabled:l[2],$$slots:{default:[Yr]},$$scope:{ctx:l}}}),t.$on("click",l[4]),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,r){D(t,e,r),n=!0},p(e,r){const o={};r&4&&(o.disabled=e[2]),r&2048&&(o.$$scope={dirty:r,ctx:e}),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function Gr(l){let t,n,e=l[0].isRunning&&Ut(l);return{c(){e&&e.c(),t=le()},l(r){e&&e.l(r),t=le()},m(r,o){e&&e.m(r,o),S(r,t,o),n=!0},p(r,o){r[0].isRunning?e?(e.p(r,o),o&1&&c(e,1)):(e=Ut(r),e.c(),c(e,1),e.m(t.parentNode,t)):e&&(K(),p(e,1,1,()=>{e=null}),Z())},i(r){n||(c(e),n=!0)},o(r){p(e),n=!1},d(r){r&&$(t),e&&e.d(r)}}}function Kr(l){let t,n;return t=new Mn({props:{onToggle:l[3]?l[4]:void 0,icon:l[3]?"retry":void 0,$$slots:{action:[Gr],title:[Jr],default:[yr,({open:e})=>({10:e}),({open:e})=>e?1024:0]},$$scope:{ctx:l}}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,r){D(t,e,r),n=!0},p(e,[r]){const o={};r&8&&(o.onToggle=e[3]?e[4]:void 0),r&8&&(o.icon=e[3]?"retry":void 0),r&3079&&(o.$$scope={dirty:r,ctx:e}),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function Zr(l,t,n){let e,r,o,f,s,i,a;ee(l,Ee,w=>n(6,s=w)),ee(l,An,w=>n(9,i=w)),ee(l,Ae,w=>n(7,a=w));var u;let d=!1;const v=async()=>{if(!d){n(2,d=!0);try{const{settings:w}=a.data,h=await Vn({namespace:e,workflow:{id:r.id,runId:r.runId}},w,i==null?void 0:i.accessToken);_e(Ee,s.metadata=h,s)}catch(w){console.error("Error fetching current details:",w)}finally{n(2,d=!1)}}};return l.$$.update=()=>{l.$$.dirty&128&&({namespace:e}=a.params),l.$$.dirty&64&&n(0,{workflow:r}=s,r),l.$$.dirty&96&&n(1,o=(n(5,u=s==null?void 0:s.metadata)===null||u===void 0?void 0:u.currentDetails)||""),l.$$.dirty&3&&n(3,f=!r.isRunning&&!o)},[r,o,d,f,v,u,s,a]}class xr extends be{constructor(t){super(),ve(this,t,Zr,Kr,we,{})}}function Ht(l){let t,n;return t=new Mn({props:{$$slots:{title:[tl],default:[el,({open:e})=>({6:e}),({open:e})=>e?64:0]},$$scope:{ctx:l}}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,r){D(t,e,r),n=!0},p(e,r){const o={};r&195&&(o.$$scope={dirty:r,ctx:e}),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function jt(l){let t,n=R("workflows.summary")+"",e,r,o,f;return o=new ot({props:{content:l[1]}}),{c(){t=z("h3"),e=X(n),r=H(),I(o.$$.fragment)},l(s){t=y(s,"H3",{});var i=J(t);e=G(i,n),i.forEach($),r=j(s),E(o.$$.fragment,s)},m(s,i){S(s,t,i),q(t,e),S(s,r,i),D(o,s,i),f=!0},p(s,i){const a={};i&2&&(a.content=s[1]),o.$set(a)},i(s){f||(c(o.$$.fragment,s),f=!0)},o(s){p(o.$$.fragment,s),f=!1},d(s){s&&($(t),$(r)),T(o,s)}}}function Ot(l){let t,n=R("workflows.details")+"",e,r,o,f;return o=new ot({props:{content:l[0]}}),{c(){t=z("h3"),e=X(n),r=H(),I(o.$$.fragment)},l(s){t=y(s,"H3",{});var i=J(t);e=G(i,n),i.forEach($),r=j(s),E(o.$$.fragment,s)},m(s,i){S(s,t,i),q(t,e),S(s,r,i),D(o,s,i),f=!0},p(s,i){const a={};i&1&&(a.content=s[0]),o.$set(a)},i(s){f||(c(o.$$.fragment,s),f=!0)},o(s){p(o.$$.fragment,s),f=!1},d(s){s&&($(t),$(r)),T(o,s)}}}function el(l){let t,n,e,r=l[6]&&l[1]&&jt(l),o=l[6]&&l[0]&&Ot(l);return{c(){r&&r.c(),t=H(),o&&o.c(),n=le()},l(f){r&&r.l(f),t=j(f),o&&o.l(f),n=le()},m(f,s){r&&r.m(f,s),S(f,t,s),o&&o.m(f,s),S(f,n,s),e=!0},p(f,s){f[6]&&f[1]?r?(r.p(f,s),s&66&&c(r,1)):(r=jt(f),r.c(),c(r,1),r.m(t.parentNode,t)):r&&(K(),p(r,1,1,()=>{r=null}),Z()),f[6]&&f[0]?o?(o.p(f,s),s&65&&c(o,1)):(o=Ot(f),o.c(),c(o,1),o.m(n.parentNode,n)):o&&(K(),p(o,1,1,()=>{o=null}),Z())},i(f){e||(c(r),c(o),e=!0)},o(f){p(r),p(o),e=!1},d(f){f&&($(t),$(n)),r&&r.d(f),o&&o.d(f)}}}function tl(l){let t,n,e=R("workflows.summary-and-details")+"",r,o;return n=new Be({props:{name:"info",class:"text-brand",width:32,height:32}}),{c(){t=z("div"),I(n.$$.fragment),r=X(e),this.h()},l(f){t=y(f,"DIV",{slot:!0,class:!0});var s=J(t);E(n.$$.fragment,s),r=G(s,e),s.forEach($),this.h()},h(){L(t,"slot","title"),L(t,"class","flex w-full items-center gap-2 p-2 text-xl")},m(f,s){S(f,t,s),D(n,t,null),q(t,r),o=!0},p:pe,i(f){o||(c(n.$$.fragment,f),o=!0)},o(f){p(n.$$.fragment,f),o=!1},d(f){f&&$(t),T(n)}}}function nl(l){let t,n,e=l[2]&&Ht(l);return{c(){e&&e.c(),t=le()},l(r){e&&e.l(r),t=le()},m(r,o){e&&e.m(r,o),S(r,t,o),n=!0},p(r,[o]){r[2]?e?(e.p(r,o),o&4&&c(e,1)):(e=Ht(r),e.c(),c(e,1),e.m(t.parentNode,t)):e&&(K(),p(e,1,1,()=>{e=null}),Z())},i(r){n||(c(e),n=!0)},o(r){p(e),n=!1},d(r){r&&$(t),e&&e.d(r)}}}function rl(l,t,n){let e,r,o,f;ee(l,Ee,a=>n(5,f=a));var s,i;return l.$$.update=()=>{l.$$.dirty&40&&n(1,e=n(3,s=f==null?void 0:f.userMetadata)===null||s===void 0?void 0:s.summary),l.$$.dirty&48&&n(0,r=n(4,i=f==null?void 0:f.userMetadata)===null||i===void 0?void 0:i.details),l.$$.dirty&3&&n(2,o=e||r)},[r,e,o,s,i,f]}class ll extends be{constructor(t){super(),ve(this,t,rl,nl,we,{})}}const Hn=sr("resetWorkflows",{});function Qt(l,t,n){const e=l.slice();return e[25]=t[n],e}function ol(l){let t,n=R("workflows.reset-modal-title")+"",e;return{c(){t=z("h3"),e=X(n),this.h()},l(r){t=y(r,"H3",{slot:!0});var o=J(t);e=G(o,n),o.forEach($),this.h()},h(){L(t,"slot","title")},m(r,o){S(r,t,o),q(t,e)},p:pe,d(r){r&&$(t)}}}function fl(l){let t=l[25].id+"",n,e,r=l[25].eventType+"",o;return{c(){n=X(t),e=X(" - "),o=X(r)},l(f){n=G(f,t),e=G(f," - "),o=G(f,r)},m(f,s){S(f,n,s),S(f,e,s),S(f,o,s)},p(f,s){s&512&&t!==(t=f[25].id+"")&&ce(n,t),s&512&&r!==(r=f[25].eventType+"")&&ce(o,r)},d(f){f&&($(n),$(e),$(o))}}}function Lt(l){let t,n;return t=new Ue({props:{value:l[25].id,$$slots:{default:[fl]},$$scope:{ctx:l}}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,r){D(t,e,r),n=!0},p(e,r){const o={};r&512&&(o.value=e[25].id),r&268435968&&(o.$$scope={dirty:r,ctx:e}),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function sl(l){let t,n,e=Me(l[9]),r=[];for(let f=0;f<e.length;f+=1)r[f]=Lt(Qt(l,e,f));const o=f=>p(r[f],1,1,()=>{r[f]=null});return{c(){for(let f=0;f<r.length;f+=1)r[f].c();t=le()},l(f){for(let s=0;s<r.length;s+=1)r[s].l(f);t=le()},m(f,s){for(let i=0;i<r.length;i+=1)r[i]&&r[i].m(f,s);S(f,t,s),n=!0},p(f,s){if(s&512){e=Me(f[9]);let i;for(i=0;i<e.length;i+=1){const a=Qt(f,e,i);r[i]?(r[i].p(a,s),c(r[i],1)):(r[i]=Lt(a),r[i].c(),c(r[i],1),r[i].m(t.parentNode,t))}for(K(),i=e.length;i<r.length;i+=1)o(i);Z()}},i(f){if(!n){for(let s=0;s<e.length;s+=1)c(r[s]);n=!0}},o(f){r=r.filter(Boolean);for(let s=0;s<r.length;s+=1)p(r[s]);n=!1},d(f){f&&$(t),Xe(r,f)}}}function il(l){let t,n,e;function r(f){l[20](f)}let o={id:"reset-include-signals-checkbox","data-testid":"reset-include-signals-checkbox",label:R("workflows.reset-reapply-type-label")};return l[5]!==void 0&&(o.checked=l[5]),t=new tt({props:o}),oe.push(()=>se(t,"checked",r)),{c(){I(t.$$.fragment)},l(f){E(t.$$.fragment,f)},m(f,s){D(t,f,s),e=!0},p(f,s){const i={};!n&&s&32&&(n=!0,i.checked=f[5],fe(()=>n=!1)),t.$set(i)},i(f){e||(c(t.$$.fragment,f),e=!0)},o(f){p(t.$$.fragment,f),e=!1},d(f){T(t,f)}}}function al(l){let t,n,e,r,o,f;function s(d){l[18](d)}let i={id:"reset-exclude-signals-checkbox","data-testid":"reset-exclude-signals-checkbox",label:R("workflows.reset-exclude-signals")};l[6]!==void 0&&(i.checked=l[6]),t=new tt({props:i}),oe.push(()=>se(t,"checked",s));function a(d){l[19](d)}let u={id:"reset-exclude-updates-checkbox","data-testid":"reset-exclude-updates-checkbox",label:R("workflows.reset-exclude-updates")};return l[7]!==void 0&&(u.checked=l[7]),r=new tt({props:u}),oe.push(()=>se(r,"checked",a)),{c(){I(t.$$.fragment),e=H(),I(r.$$.fragment)},l(d){E(t.$$.fragment,d),e=j(d),E(r.$$.fragment,d)},m(d,v){D(t,d,v),S(d,e,v),D(r,d,v),f=!0},p(d,v){const w={};!n&&v&64&&(n=!0,w.checked=d[6],fe(()=>n=!1)),t.$set(w);const h={};!o&&v&128&&(o=!0,h.checked=d[7],fe(()=>o=!1)),r.$set(h)},i(d){f||(c(t.$$.fragment,d),c(r.$$.fragment,d),f=!0)},o(d){p(t.$$.fragment,d),p(r.$$.fragment,d),f=!1},d(d){d&&$(e),T(t,d),T(r,d)}}}function ul(l){let t,n,e,r,o,f,s,i,a,u,d;function v(_){l[17](_)}let w={"data-testid":"workflow-reset-event-id-select",menuClass:"max-h-[16rem]",label:R("workflows.reset-event-radio-group-description"),id:"reset-event-id",$$slots:{default:[sl]},$$scope:{ctx:l}};l[8]!==void 0&&(w.value=l[8]),n=new st({props:w}),oe.push(()=>se(n,"value",v));const h=[al,il],m=[];function g(_,k){return k&3072&&(o=null),o==null&&(o=!!(_[10]||ar("1.24.0",_[11]))),o?0:1}f=g(l,-1),s=m[f]=h[f](l);function b(_){l[21](_)}let W={id:"reset-reason",label:R("common.reason")};return l[4]!==void 0&&(W.value=l[4]),a=new Ze({props:W}),oe.push(()=>se(a,"value",b)),{c(){t=z("div"),I(n.$$.fragment),r=H(),s.c(),i=H(),I(a.$$.fragment),this.h()},l(_){t=y(_,"DIV",{class:!0});var k=J(t);E(n.$$.fragment,k),r=j(k),s.l(k),i=j(k),E(a.$$.fragment,k),k.forEach($),this.h()},h(){L(t,"class","flex w-full flex-col gap-4")},m(_,k){S(_,t,k),D(n,t,null),q(t,r),m[f].m(t,null),q(t,i),D(a,t,null),d=!0},p(_,k){const M={};k&268435968&&(M.$$scope={dirty:k,ctx:_}),!e&&k&256&&(e=!0,M.value=_[8],fe(()=>e=!1)),n.$set(M);let A=f;f=g(_,k),f===A?m[f].p(_,k):(K(),p(m[A],1,1,()=>{m[A]=null}),Z(),s=m[f],s?s.p(_,k):(s=m[f]=h[f](_),s.c()),c(s,1),s.m(t,i));const B={};!u&&k&16&&(u=!0,B.value=_[4],fe(()=>u=!1)),a.$set(B)},i(_){d||(c(n.$$.fragment,_),c(s),c(a.$$.fragment,_),d=!0)},o(_){p(n.$$.fragment,_),p(s),p(a.$$.fragment,_),d=!1},d(_){_&&$(t),T(n),m[f].d(),T(a)}}}function cl(l){let t,n,e,r;function o(i){l[22](i)}function f(i){l[23](i)}let s={id:"reset-confirmation-modal","data-testid":"reset-confirmation-modal",confirmText:R("common.confirm"),cancelText:R("common.cancel"),loading:l[3],confirmDisabled:!l[8],$$slots:{content:[ul],title:[ol]},$$scope:{ctx:l}};return l[2]!==void 0&&(s.error=l[2]),l[0]!==void 0&&(s.open=l[0]),t=new ft({props:s}),oe.push(()=>se(t,"error",o)),oe.push(()=>se(t,"open",f)),t.$on("confirmModal",l[14]),t.$on("cancelModal",l[13]),{c(){I(t.$$.fragment)},l(i){E(t.$$.fragment,i)},m(i,a){D(t,i,a),r=!0},p(i,[a]){const u={};a&8&&(u.loading=i[3]),a&256&&(u.confirmDisabled=!i[8]),a&268439536&&(u.$$scope={dirty:a,ctx:i}),!n&&a&4&&(n=!0,u.error=i[2],fe(()=>n=!1)),!e&&a&1&&(e=!0,u.open=i[0],fe(()=>e=!1)),t.$set(u)},i(i){r||(c(t.$$.fragment,i),r=!0)},o(i){p(t.$$.fragment,i),r=!1},d(i){T(t,i)}}}function ml(l,t,n){let e,r=pe,o=()=>(r(),r=et(w,O=>n(24,e=O)),w),f,s,i,a;ee(l,Nn,O=>n(9,s=O)),ee(l,Wn,O=>n(10,i=O)),ee(l,ir,O=>n(11,a=O)),l.$$.on_destroy.push(()=>r());let{open:u}=t,{workflow:d}=t,{namespace:v}=t,{refresh:w}=t;o();let h="",m=!1,g=Ke("");ee(l,g,O=>n(8,f=O));let b,W=!0,_=!1,k=!1;const M=()=>{n(0,u=!1),n(5,W=!0),n(6,_=!1),n(7,k=!1),_e(g,f="",f),n(4,b="")},A=async()=>{n(2,h=""),n(3,m=!0);try{const O=await yn({namespace:v,workflow:d,eventId:f,reason:b,includeSignals:W,excludeSignals:_,excludeUpdates:k});O&&O.runId&&Hn.update(ie=>({...ie,[d.runId]:O.runId})),_e(w,e=Date.now(),e),M()}catch(O){n(2,h=it(O)?O.message:R("common.unknown-error"))}finally{n(3,m=!1)}M()};function B(O){f=O,g.set(f)}function F(O){_=O,n(6,_)}function U(O){k=O,n(7,k)}function ne(O){W=O,n(5,W)}function te(O){b=O,n(4,b)}function ue(O){h=O,n(2,h)}function de(O){u=O,n(0,u)}return l.$$set=O=>{"open"in O&&n(0,u=O.open),"workflow"in O&&n(15,d=O.workflow),"namespace"in O&&n(16,v=O.namespace),"refresh"in O&&o(n(1,w=O.refresh))},[u,w,h,m,b,W,_,k,f,s,i,a,g,M,A,d,v,B,F,U,ne,te,ue,de]}class pl extends be{constructor(t){super(),ve(this,t,ml,cl,we,{open:0,workflow:15,namespace:16,refresh:1})}}function zt(l,t,n){const e=l.slice();return e[25]=t[n].name,e[26]=t[n].description!==void 0?t[n].description:"",e}function dl(l){let t,n=R("workflows.signal-modal-title")+"",e;return{c(){t=z("h3"),e=X(n),this.h()},l(r){t=y(r,"H3",{slot:!0});var o=J(t);e=G(o,n),o.forEach($),this.h()},h(){L(t,"slot","title")},m(r,o){S(r,t,o),q(t,e)},p:pe,d(r){r&&$(t)}}}function _l(l){let t,n,e;function r(f){l[18](f)}let o={id:"signal-name",label:R("workflows.signal-name-label"),required:!0};return l[4]!==void 0&&(o.value=l[4]),t=new Ze({props:o}),oe.push(()=>se(t,"value",r)),{c(){I(t.$$.fragment)},l(f){E(t.$$.fragment,f)},m(f,s){D(t,f,s),e=!0},p(f,s){const i={};!n&&s&16&&(n=!0,i.value=f[4],fe(()=>n=!1)),t.$set(i)},i(f){e||(c(t.$$.fragment,f),e=!0)},o(f){p(t.$$.fragment,f),e=!1},d(f){T(t,f)}}}function gl(l){let t,n,e;function r(f){l[17](f)}let o={id:"signal-select",label:R("workflows.signal-name-label"),class:"min-w-fit","data-testid":"signal-select",placeholder:"Select a signal",required:!0,$$slots:{default:[hl]},$$scope:{ctx:l}};return l[4]!==void 0&&(o.value=l[4]),t=new st({props:o}),oe.push(()=>se(t,"value",r)),{c(){I(t.$$.fragment)},l(f){E(t.$$.fragment,f)},m(f,s){D(t,f,s),e=!0},p(f,s){const i={};s&536871168&&(i.$$scope={dirty:s,ctx:f}),!n&&s&16&&(n=!0,i.value=f[4],fe(()=>n=!1)),t.$set(i)},i(f){e||(c(t.$$.fragment,f),e=!0)},o(f){p(t.$$.fragment,f),e=!1},d(f){T(t,f)}}}function $l(l){let t=l[25]+"",n;return{c(){n=X(t)},l(e){n=G(e,t)},m(e,r){S(e,n,r)},p(e,r){r&256&&t!==(t=e[25]+"")&&ce(n,t)},d(e){e&&$(n)}}}function yt(l){let t,n;return t=new Ue({props:{value:l[25],description:l[26],$$slots:{default:[$l]},$$scope:{ctx:l}}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,r){D(t,e,r),n=!0},p(e,r){const o={};r&256&&(o.value=e[25]),r&256&&(o.description=e[26]),r&536871168&&(o.$$scope={dirty:r,ctx:e}),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function wl(l){let t;return{c(){t=X("Custom")},l(n){t=G(n,"Custom")},m(n,e){S(n,t,e)},d(n){n&&$(t)}}}function hl(l){let t,n,e,r=Me(l[8]),o=[];for(let s=0;s<r.length;s+=1)o[s]=yt(zt(l,r,s));const f=s=>p(o[s],1,1,()=>{o[s]=null});return n=new Ue({props:{value:"custom",description:"Input Signal name",$$slots:{default:[wl]},$$scope:{ctx:l}}}),n.$on("click",l[11]),{c(){for(let s=0;s<o.length;s+=1)o[s].c();t=H(),I(n.$$.fragment)},l(s){for(let i=0;i<o.length;i+=1)o[i].l(s);t=j(s),E(n.$$.fragment,s)},m(s,i){for(let a=0;a<o.length;a+=1)o[a]&&o[a].m(s,i);S(s,t,i),D(n,s,i),e=!0},p(s,i){if(i&256){r=Me(s[8]);let u;for(u=0;u<r.length;u+=1){const d=zt(s,r,u);o[u]?(o[u].p(d,i),c(o[u],1)):(o[u]=yt(d),o[u].c(),c(o[u],1),o[u].m(t.parentNode,t))}for(K(),u=r.length;u<o.length;u+=1)f(u);Z()}const a={};i&536870912&&(a.$$scope={dirty:i,ctx:s}),n.$set(a)},i(s){if(!e){for(let i=0;i<r.length;i+=1)c(o[i]);c(n.$$.fragment,s),e=!0}},o(s){o=o.filter(Boolean);for(let i=0;i<o.length;i+=1)p(o[i]);p(n.$$.fragment,s),e=!1},d(s){s&&$(t),Xe(o,s),T(n,s)}}}function kl(l){let t,n,e,r,o,f,s,i;const a=[gl,_l],u=[];function d(m,g){var b;return((b=m[8])==null?void 0:b.length)>0&&!m[5]?0:1}n=d(l),e=u[n]=a[n](l);function v(m){l[19](m)}function w(m){l[20](m)}let h={};return l[7]!==void 0&&(h.input=l[7]),l[6]!==void 0&&(h.encoding=l[6]),o=new ur({props:h}),oe.push(()=>se(o,"input",v)),oe.push(()=>se(o,"encoding",w)),{c(){t=z("div"),e.c(),r=H(),I(o.$$.fragment),this.h()},l(m){t=y(m,"DIV",{slot:!0,class:!0});var g=J(t);e.l(g),r=j(g),E(o.$$.fragment,g),g.forEach($),this.h()},h(){L(t,"slot","content"),L(t,"class","flex flex-col gap-4")},m(m,g){S(m,t,g),u[n].m(t,null),q(t,r),D(o,t,null),i=!0},p(m,g){let b=n;n=d(m),n===b?u[n].p(m,g):(K(),p(u[b],1,1,()=>{u[b]=null}),Z(),e=u[n],e?e.p(m,g):(e=u[n]=a[n](m),e.c()),c(e,1),e.m(t,r));const W={};!f&&g&128&&(f=!0,W.input=m[7],fe(()=>f=!1)),!s&&g&64&&(s=!0,W.encoding=m[6],fe(()=>s=!1)),o.$set(W)},i(m){i||(c(e),c(o.$$.fragment,m),i=!0)},o(m){p(e),p(o.$$.fragment,m),i=!1},d(m){m&&$(t),u[n].d(),T(o)}}}function bl(l){let t,n,e,r;function o(i){l[21](i)}function f(i){l[22](i)}let s={id:"signal-confirmation-modal","data-testid":"signal-confirmation-modal",loading:l[3],confirmText:R("common.submit"),cancelText:R("common.cancel"),confirmDisabled:!l[4]||!l[6],$$slots:{content:[kl],title:[dl]},$$scope:{ctx:l}};return l[2]!==void 0&&(s.error=l[2]),l[0]!==void 0&&(s.open=l[0]),t=new ft({props:s}),oe.push(()=>se(t,"error",o)),oe.push(()=>se(t,"open",f)),t.$on("cancelModal",l[9]),t.$on("confirmModal",l[10]),{c(){I(t.$$.fragment)},l(i){E(t.$$.fragment,i)},m(i,a){D(t,i,a),r=!0},p(i,[a]){const u={};a&8&&(u.loading=i[3]),a&80&&(u.confirmDisabled=!i[4]||!i[6]),a&536871408&&(u.$$scope={dirty:a,ctx:i}),!n&&a&4&&(n=!0,u.error=i[2],fe(()=>n=!1)),!e&&a&1&&(e=!0,u.open=i[0],fe(()=>e=!1)),t.$set(u)},i(i){r||(c(t.$$.fragment,i),r=!0)},o(i){p(t.$$.fragment,i),r=!1},d(i){T(t,i)}}}const Jt="json/plain";function vl(l,t,n){let e,r,o,f=pe,s=()=>(f(),f=et(g,N=>n(23,o=N)),g),i,a=pe,u=()=>(a(),a=et(M,N=>n(24,i=N)),M),d;ee(l,Ee,N=>n(16,d=N)),l.$$.on_destroy.push(()=>f()),l.$$.on_destroy.push(()=>a());var v;let{open:w}=t,{workflow:h}=t,{namespace:m}=t,{refresh:g}=t;s();let b="",W=!1,_="",k=!1,M=Ke(Jt);u();let A="";const B=()=>{n(0,w=!1),n(4,_=""),n(7,A=""),n(5,k=!1),_e(M,i=Jt,i)},F=async()=>{n(2,b=""),n(3,W=!0);try{await Jn({namespace:m,workflow:h,input:A,encoding:i,name:_}),_e(g,o=Date.now(),o),qn.push({message:R("workflows.signal-success"),id:"workflow-signal-success-toast"}),B()}catch(N){n(2,b=it(N)?N.message:R("common.unknown-error"))}finally{n(3,W=!1)}},U=()=>{n(5,k=!0),n(4,_="")};function ne(N){_=N,n(4,_)}function te(N){_=N,n(4,_)}function ue(N){A=N,n(7,A)}function de(N){M=N,u(n(6,M))}function O(N){b=N,n(2,b)}function ie(N){w=N,n(0,w)}return l.$$set=N=>{"open"in N&&n(0,w=N.open),"workflow"in N&&n(12,h=N.workflow),"namespace"in N&&n(13,m=N.namespace),"refresh"in N&&s(n(1,g=N.refresh))},l.$$.update=()=>{l.$$.dirty&65536&&n(15,{metadata:e}=d,e),l.$$.dirty&49152&&n(8,r=n(14,v=e==null?void 0:e.definition)===null||v===void 0?void 0:v.signalDefinitions)},[w,g,b,W,_,k,M,A,r,B,F,U,h,m,v,e,d,ne,te,ue,de,O,ie]}class Il extends be{constructor(t){super(),ve(this,t,vl,bl,we,{open:0,workflow:12,namespace:13,refresh:1})}}function Yt(l,t,n){const e=l.slice();return e[30]=t[n].name,e[31]=t[n].description!==void 0?t[n].description:"",e}function El(l){let t,n=R("workflows.update-modal-title")+"",e;return{c(){t=z("h3"),e=X(n),this.h()},l(r){t=y(r,"H3",{slot:!0});var o=J(t);e=G(o,n),o.forEach($),this.h()},h(){L(t,"slot","title")},m(r,o){S(r,t,o),q(t,e)},p:pe,d(r){r&&$(t)}}}function Dl(l){let t,n,e,r,o;function f(a){l[21](a)}let s={id:"update-name",class:"w-full",label:R("common.name"),required:!0};l[5]!==void 0&&(s.value=l[5]),n=new Ze({props:s}),oe.push(()=>se(n,"value",f));let i=l[8]&&Xt(l);return{c(){t=z("div"),I(n.$$.fragment),r=H(),i&&i.c(),this.h()},l(a){t=y(a,"DIV",{class:!0});var u=J(t);E(n.$$.fragment,u),r=j(u),i&&i.l(u),u.forEach($),this.h()},h(){L(t,"class","flex w-full items-end justify-between gap-2")},m(a,u){S(a,t,u),D(n,t,null),q(t,r),i&&i.m(t,null),o=!0},p(a,u){const d={};!e&&u[0]&32&&(e=!0,d.value=a[5],fe(()=>e=!1)),n.$set(d),a[8]?i?(i.p(a,u),u[0]&256&&c(i,1)):(i=Xt(a),i.c(),c(i,1),i.m(t,null)):i&&(K(),p(i,1,1,()=>{i=null}),Z())},i(a){o||(c(n.$$.fragment,a),c(i),o=!0)},o(a){p(n.$$.fragment,a),p(i),o=!1},d(a){a&&$(t),T(n),i&&i.d()}}}function Tl(l){let t,n,e;function r(f){l[20](f)}let o={id:"update-select",label:R("common.name"),class:"min-w-fit","data-testid":"update-select",placeholder:"Select an Update",required:!0,$$slots:{default:[Wl]},$$scope:{ctx:l}};return l[5]!==void 0&&(o.value=l[5]),t=new st({props:o}),oe.push(()=>se(t,"value",r)),{c(){I(t.$$.fragment)},l(f){E(t.$$.fragment,f)},m(f,s){D(t,f,s),e=!0},p(f,s){const i={};s[0]&512|s[1]&8&&(i.$$scope={dirty:s,ctx:f}),!n&&s[0]&32&&(n=!0,i.value=f[5],fe(()=>n=!1)),t.$set(i)},i(f){e||(c(t.$$.fragment,f),e=!0)},o(f){p(t.$$.fragment,f),e=!1},d(f){T(t,f)}}}function Xt(l){let t,n;return t=new lt({props:{variant:"secondary",leadingIcon:"close"}}),t.$on("click",l[22]),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,r){D(t,e,r),n=!0},p:pe,i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function Cl(l){let t=l[30]+"",n;return{c(){n=X(t)},l(e){n=G(e,t)},m(e,r){S(e,n,r)},p(e,r){r[0]&512&&t!==(t=e[30]+"")&&ce(n,t)},d(e){e&&$(n)}}}function Gt(l){let t,n;return t=new Ue({props:{value:l[30],description:l[31],$$slots:{default:[Cl]},$$scope:{ctx:l}}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,r){D(t,e,r),n=!0},p(e,r){const o={};r[0]&512&&(o.value=e[30]),r[0]&512&&(o.description=e[31]),r[0]&512|r[1]&8&&(o.$$scope={dirty:r,ctx:e}),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function Sl(l){let t;return{c(){t=X("Custom")},l(n){t=G(n,"Custom")},m(n,e){S(n,t,e)},d(n){n&&$(t)}}}function Wl(l){let t,n,e,r=Me(l[9]),o=[];for(let s=0;s<r.length;s+=1)o[s]=Gt(Yt(l,r,s));const f=s=>p(o[s],1,1,()=>{o[s]=null});return n=new Ue({props:{value:"custom",$$slots:{default:[Sl]},$$scope:{ctx:l}}}),n.$on("click",l[13]),{c(){for(let s=0;s<o.length;s+=1)o[s].c();t=H(),I(n.$$.fragment)},l(s){for(let i=0;i<o.length;i+=1)o[i].l(s);t=j(s),E(n.$$.fragment,s)},m(s,i){for(let a=0;a<o.length;a+=1)o[a]&&o[a].m(s,i);S(s,t,i),D(n,s,i),e=!0},p(s,i){if(i[0]&512){r=Me(s[9]);let u;for(u=0;u<r.length;u+=1){const d=Yt(s,r,u);o[u]?(o[u].p(d,i),c(o[u],1)):(o[u]=Gt(d),o[u].c(),c(o[u],1),o[u].m(t.parentNode,t))}for(K(),u=r.length;u<o.length;u+=1)f(u);Z()}const a={};i[1]&8&&(a.$$scope={dirty:i,ctx:s}),n.$set(a)},i(s){if(!e){for(let i=0;i<r.length;i+=1)c(o[i]);c(n.$$.fragment,s),e=!0}},o(s){o=o.filter(Boolean);for(let i=0;i<o.length;i+=1)p(o[i]);p(n.$$.fragment,s),e=!1},d(s){s&&$(t),Xe(o,s),T(n,s)}}}function Kt(l){let t,n;return t=new He({props:{intent:"info",title:"In Progress",$$slots:{default:[Pl]},$$scope:{ctx:l}}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,r){D(t,e,r),n=!0},p(e,r){const o={};r[1]&8&&(o.$$scope={dirty:r,ctx:e}),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function Pl(l){let t=R("workflows.update-in-progress")+"",n;return{c(){n=X(t)},l(e){n=G(e,t)},m(e,r){S(e,n,r)},p:pe,d(e){e&&$(n)}}}function Zt(l){var e;let t,n;return t=new He({props:{intent:"error",title:((e=l[3])==null?void 0:e.message)||"Failure",$$slots:{default:[Rl]},$$scope:{ctx:l}}}),{c(){I(t.$$.fragment)},l(r){E(t.$$.fragment,r)},m(r,o){D(t,r,o),n=!0},p(r,o){var s;const f={};o[0]&8&&(f.title=((s=r[3])==null?void 0:s.message)||"Failure"),o[0]&8|o[1]&8&&(f.$$scope={dirty:o,ctx:r}),t.$set(f)},i(r){n||(c(t.$$.fragment,r),n=!0)},o(r){p(t.$$.fragment,r),n=!1},d(r){T(t,r)}}}function xt(l){let t,n;return t=new Bn({props:{class:"mt-4",content:l[3].stackTrace,language:"text"}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,r){D(t,e,r),n=!0},p(e,r){const o={};r[0]&8&&(o.content=e[3].stackTrace),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function Rl(l){var r;let t,n,e=((r=l[3])==null?void 0:r.stackTrace)&&xt(l);return{c(){e&&e.c(),t=le()},l(o){e&&e.l(o),t=le()},m(o,f){e&&e.m(o,f),S(o,t,f),n=!0},p(o,f){var s;(s=o[3])!=null&&s.stackTrace?e?(e.p(o,f),f[0]&8&&c(e,1)):(e=xt(o),e.c(),c(e,1),e.m(t.parentNode,t)):e&&(K(),p(e,1,1,()=>{e=null}),Z())},i(o){n||(c(e),n=!0)},o(o){p(e),n=!1},d(o){o&&$(t),e&&e.d(o)}}}function en(l){let t,n;return t=new He({props:{intent:"success",title:"Success",$$slots:{default:[Vl]},$$scope:{ctx:l}}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,r){D(t,e,r),n=!0},p(e,r){const o={};r[0]&16|r[1]&8&&(o.$$scope={dirty:r,ctx:e}),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function tn(l){let t,n;return t=new cr({props:{value:l[4].payloads[0],$$slots:{default:[Ml,({decodedValue:e})=>({29:e}),({decodedValue:e})=>[e?536870912:0]]},$$scope:{ctx:l}}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,r){D(t,e,r),n=!0},p(e,r){const o={};r[0]&16&&(o.value=e[4].payloads[0]),r[0]&536870912|r[1]&8&&(o.$$scope={dirty:r,ctx:e}),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function Ml(l){let t,n;return t=new Bn({props:{class:"mt-4",content:l[29],language:"text"}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,r){D(t,e,r),n=!0},p(e,r){const o={};r[0]&536870912&&(o.content=e[29]),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function Vl(l){var r,o;let t,n,e=((o=(r=l[4])==null?void 0:r.payloads)==null?void 0:o[0])&&l[4].payloads[0].data&&tn(l);return{c(){e&&e.c(),t=le()},l(f){e&&e.l(f),t=le()},m(f,s){e&&e.m(f,s),S(f,t,s),n=!0},p(f,s){var i,a;(a=(i=f[4])==null?void 0:i.payloads)!=null&&a[0]&&f[4].payloads[0].data?e?(e.p(f,s),s[0]&16&&c(e,1)):(e=tn(f),e.c(),c(e,1),e.m(t.parentNode,t)):e&&(K(),p(e,1,1,()=>{e=null}),Z())},i(f){n||(c(e),n=!0)},o(f){p(e),n=!1},d(f){f&&$(t),e&&e.d(f)}}}function Al(l){let t,n,e,r,o,f,s,i,a,u,d,v,w;const h=[Tl,Dl],m=[];function g(F,U){var ne;return((ne=F[9])==null?void 0:ne.length)>0&&!F[8]?0:1}n=g(l),e=m[n]=h[n](l);function b(F){l[23](F)}let W={id:"update-id",label:R("workflows.update-id"),required:!0};l[6]!==void 0&&(W.value=l[6]),o=new Ze({props:W}),oe.push(()=>se(o,"value",b));function _(F){l[24](F)}let k={};l[7]!==void 0&&(k.input=l[7]),i=new mr({props:k}),oe.push(()=>se(i,"input",_));let M=l[2]&&Kt(l),A=l[3]&&Zt(l),B=l[4]&&en(l);return{c(){t=z("div"),e.c(),r=H(),I(o.$$.fragment),s=H(),I(i.$$.fragment),u=H(),M&&M.c(),d=H(),A&&A.c(),v=H(),B&&B.c(),this.h()},l(F){t=y(F,"DIV",{class:!0,slot:!0});var U=J(t);e.l(U),r=j(U),E(o.$$.fragment,U),s=j(U),E(i.$$.fragment,U),u=j(U),M&&M.l(U),d=j(U),A&&A.l(U),v=j(U),B&&B.l(U),U.forEach($),this.h()},h(){L(t,"class","flex flex-col gap-4"),L(t,"slot","content")},m(F,U){S(F,t,U),m[n].m(t,null),q(t,r),D(o,t,null),q(t,s),D(i,t,null),q(t,u),M&&M.m(t,null),q(t,d),A&&A.m(t,null),q(t,v),B&&B.m(t,null),w=!0},p(F,U){let ne=n;n=g(F),n===ne?m[n].p(F,U):(K(),p(m[ne],1,1,()=>{m[ne]=null}),Z(),e=m[n],e?e.p(F,U):(e=m[n]=h[n](F),e.c()),c(e,1),e.m(t,r));const te={};!f&&U[0]&64&&(f=!0,te.value=F[6],fe(()=>f=!1)),o.$set(te);const ue={};!a&&U[0]&128&&(a=!0,ue.input=F[7],fe(()=>a=!1)),i.$set(ue),F[2]?M?(M.p(F,U),U[0]&4&&c(M,1)):(M=Kt(F),M.c(),c(M,1),M.m(t,d)):M&&(K(),p(M,1,1,()=>{M=null}),Z()),F[3]?A?(A.p(F,U),U[0]&8&&c(A,1)):(A=Zt(F),A.c(),c(A,1),A.m(t,v)):A&&(K(),p(A,1,1,()=>{A=null}),Z()),F[4]?B?(B.p(F,U),U[0]&16&&c(B,1)):(B=en(F),B.c(),c(B,1),B.m(t,null)):B&&(K(),p(B,1,1,()=>{B=null}),Z())},i(F){w||(c(e),c(o.$$.fragment,F),c(i.$$.fragment,F),c(M),c(A),c(B),w=!0)},o(F){p(e),p(o.$$.fragment,F),p(i.$$.fragment,F),p(M),p(A),p(B),w=!1},d(F){F&&$(t),m[n].d(),T(o),T(i),M&&M.d(),A&&A.d(),B&&B.d()}}}function Nl(l){let t,n,e,r;function o(i){l[25](i)}function f(i){l[26](i)}let s={id:"update-confirmation-modal","data-testid":"update-confirmation-modal",large:!0,loading:l[2],confirmText:R("common.submit"),cancelText:R("common.cancel"),confirmDisabled:!l[5]||!l[10],$$slots:{content:[Al],title:[El]},$$scope:{ctx:l}};return l[1]!==void 0&&(s.error=l[1]),l[0]!==void 0&&(s.open=l[0]),t=new ft({props:s}),oe.push(()=>se(t,"error",o)),oe.push(()=>se(t,"open",f)),t.$on("cancelModal",l[11]),t.$on("confirmModal",l[12]),{c(){I(t.$$.fragment)},l(i){E(t.$$.fragment,i)},m(i,a){D(t,i,a),r=!0},p(i,a){const u={};a[0]&4&&(u.loading=i[2]),a[0]&32&&(u.confirmDisabled=!i[5]||!i[10]),a[0]&1020|a[1]&8&&(u.$$scope={dirty:a,ctx:i}),!n&&a[0]&2&&(n=!0,u.error=i[1],fe(()=>n=!1)),!e&&a[0]&1&&(e=!0,u.open=i[0],fe(()=>e=!1)),t.$set(u)},i(i){r||(c(t.$$.fragment,i),r=!0)},o(i){p(t.$$.fragment,i),r=!1},d(i){T(t,i)}}}const nn="json/plain";function ql(l,t,n){let e,r,o,f,s,i;ee(l,Ee,N=>n(18,s=N)),ee(l,Ae,N=>n(19,i=N));var a;let{open:u}=t,{workflow:d}=t,{namespace:v}=t,w="",h=!1,m,g,b="",W=Pt(),_="",k=!1,M=Ke(nn);ee(l,M,N=>n(28,f=N));const A=()=>{n(0,u=!1),n(5,b=""),n(7,_=""),n(8,k=!1),_e(M,f=nn,f),n(3,m=void 0),n(4,g=void 0)},B=async()=>{var N,V;n(3,m=void 0),n(4,g=void 0),n(1,w=""),n(2,h=!0);try{const Q=await Yn({namespace:v,workflow:{workflowId:d.id,runId:e},input:_,updateId:W,encoding:f,name:b});n(3,m=(N=Q==null?void 0:Q.outcome)===null||N===void 0?void 0:N.failure),n(4,g=((V=Q==null?void 0:Q.outcome)===null||V===void 0?void 0:V.success)||!m),n(6,W=Pt()),g&&(qn.push({message:R("workflows.update-success"),variant:"success"}),A())}catch(Q){n(1,w=it(Q)?Q.message:R("common.unknown-error"))}finally{n(2,h=!1)}},F=()=>{n(8,k=!0),n(5,b="")};function U(N){b=N,n(5,b)}function ne(N){b=N,n(5,b)}const te=()=>{n(8,k=!1),n(5,b="")};function ue(N){W=N,n(6,W)}function de(N){_=N,n(7,_)}function O(N){w=N,n(1,w)}function ie(N){u=N,n(0,u)}return l.$$set=N=>{"open"in N&&n(0,u=N.open),"workflow"in N&&n(14,d=N.workflow),"namespace"in N&&n(15,v=N.namespace)},l.$$.update=()=>{l.$$.dirty[0]&524288&&({run:e}=i.params),l.$$.dirty[0]&262144&&n(17,{metadata:r}=s,r),l.$$.dirty[0]&196608&&n(9,o=n(16,a=r==null?void 0:r.definition)===null||a===void 0?void 0:a.updateDefinitions)},[u,w,h,m,g,b,W,_,k,o,M,A,B,F,d,v,a,r,s,i,U,ne,te,ue,de,O,ie]}class Bl extends be{constructor(t){super(),ve(this,t,ql,Nl,we,{open:0,workflow:14,namespace:15},null,[-1,-1])}}const Fl=(l,t,n)=>!l.disableWriteActions&&!l.workflowSignalDisabled&&!t.namespaceWriteDisabled(n),Ul=(l,t,n)=>!l.disableWriteActions&&!l.workflowUpdateDisabled&&!t.namespaceWriteDisabled(n);function rn(l,t,n){const e=l.slice();return e[36]=t[n].onClick,e[37]=t[n].destructive,e[38]=t[n].label,e[39]=t[n].enabled,e[40]=t[n].testId,e[41]=t[n].description,e}function Hl(l){let t,n;return t=new Ge({props:{bottomRight:!0,width:200,text:l[4],hide:l[8],$$slots:{default:[Ll]},$$scope:{ctx:l}}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,r){D(t,e,r),n=!0},p(e,r){const o={};r[0]&16&&(o.text=e[4]),r[0]&256&&(o.hide=e[8]),r[0]&4352|r[1]&8192&&(o.$$scope={dirty:r,ctx:e}),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function jl(l){let t,n;return t=new Un({props:{id:"workflow-actions",menuClass:"w-[16rem]",position:"right",primaryActionDisabled:!l[8],label:R("workflows.reset"),menuLabel:R("workflows.workflow-actions"),$$slots:{default:[yl]},$$scope:{ctx:l}}}),t.$on("click",l[29]),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,r){D(t,e,r),n=!0},p(e,r){const o={};r[0]&256&&(o.primaryActionDisabled=!e[8]),r[0]&3|r[1]&8192&&(o.$$scope={dirty:r,ctx:e}),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function Ol(l){let t,n;return t=new Un({props:{id:"workflow-actions",menuClass:"w-[16rem] md:w-[24rem]",position:"right",disabled:l[16],primaryActionDisabled:!l[17]||l[2],label:R("workflows.request-cancellation"),menuLabel:R("workflows.workflow-actions"),$$slots:{default:[Xl]},$$scope:{ctx:l}}}),t.$on("click",l[27]),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,r){D(t,e,r),n=!0},p(e,r){const o={};r[0]&65536&&(o.disabled=e[16]),r[0]&131076&&(o.primaryActionDisabled=!e[17]||e[2]),r[0]&295427|r[1]&8192&&(o.$$scope={dirty:r,ctx:e}),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function Ql(l){let t=R("workflows.reset")+"",n;return{c(){n=X(t)},l(e){n=G(e,t)},m(e,r){S(e,n,r)},p:pe,d(e){e&&$(n)}}}function Ll(l){let t,n;return t=new lt({props:{"aria-label":R("workflows.reset"),disabled:!l[8],variant:"primary","data-testid":"workflow-reset-button",$$slots:{default:[Ql]},$$scope:{ctx:l}}}),t.$on("click",l[30]),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,r){D(t,e,r),n=!0},p(e,r){const o={};r[0]&256&&(o.disabled=!e[8]),r[1]&8192&&(o.$$scope={dirty:r,ctx:e}),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function zl(l){let t=R("workflows.start-workflow-like-this-one")+"",n;return{c(){n=X(t)},l(e){n=G(e,t)},m(e,r){S(e,n,r)},p:pe,d(e){e&&$(n)}}}function yl(l){let t,n;return t=new at({props:{"data-testid":"start-workflow-button",$$slots:{default:[zl]},$$scope:{ctx:l}}}),t.$on("click",l[28]),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,r){D(t,e,r),n=!0},p(e,r){const o={};r[1]&8192&&(o.$$scope={dirty:r,ctx:e}),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function ln(l){let t,n,e,r=l[37]&&on();return n=new at({props:{destructive:l[37],disabled:!l[39],"data-testid":l[40],description:l[41],$$slots:{default:[Jl]},$$scope:{ctx:l}}}),n.$on("click",function(){Qn(l[36])&&l[36].apply(this,arguments)}),{c(){r&&r.c(),t=H(),I(n.$$.fragment)},l(o){r&&r.l(o),t=j(o),E(n.$$.fragment,o)},m(o,f){r&&r.m(o,f),S(o,t,f),D(n,o,f),e=!0},p(o,f){l=o,l[37]?r?f[0]&32768&&c(r,1):(r=on(),r.c(),c(r,1),r.m(t.parentNode,t)):r&&(K(),p(r,1,1,()=>{r=null}),Z());const s={};f[0]&32768&&(s.destructive=l[37]),f[0]&32768&&(s.disabled=!l[39]),f[0]&32768&&(s["data-testid"]=l[40]),f[0]&32768&&(s.description=l[41]),f[0]&32768|f[1]&8192&&(s.$$scope={dirty:f,ctx:l}),n.$set(s)},i(o){e||(c(r),c(n.$$.fragment,o),e=!0)},o(o){p(r),p(n.$$.fragment,o),e=!1},d(o){o&&$(t),r&&r.d(o),T(n,o)}}}function on(l){let t,n;return t=new Fn({}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,r){D(t,e,r),n=!0},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function Jl(l){let t=l[38]+"",n;return{c(){n=X(t)},l(e){n=G(e,t)},m(e,r){S(e,n,r)},p(e,r){r[0]&32768&&t!==(t=e[38]+"")&&ce(n,t)},d(e){e&&$(n)}}}function fn(l){let t,n,e=(!l[18]||l[18]&&l[40]!=="update-button")&&ln(l);return{c(){e&&e.c(),t=le()},l(r){e&&e.l(r),t=le()},m(r,o){e&&e.m(r,o),S(r,t,o),n=!0},p(r,o){!r[18]||r[18]&&r[40]!=="update-button"?e?(e.p(r,o),o[0]&294912&&c(e,1)):(e=ln(r),e.c(),c(e,1),e.m(t.parentNode,t)):e&&(K(),p(e,1,1,()=>{e=null}),Z())},i(r){n||(c(e),n=!0)},o(r){p(e),n=!1},d(r){r&&$(t),e&&e.d(r)}}}function sn(l){let t,n,e,r;return t=new Fn({}),e=new at({props:{"data-testid":"start-workflow-button",$$slots:{default:[Yl]},$$scope:{ctx:l}}}),e.$on("click",l[26]),{c(){I(t.$$.fragment),n=H(),I(e.$$.fragment)},l(o){E(t.$$.fragment,o),n=j(o),E(e.$$.fragment,o)},m(o,f){D(t,o,f),S(o,n,f),D(e,o,f),r=!0},p(o,f){const s={};f[1]&8192&&(s.$$scope={dirty:f,ctx:o}),e.$set(s)},i(o){r||(c(t.$$.fragment,o),c(e.$$.fragment,o),r=!0)},o(o){p(t.$$.fragment,o),p(e.$$.fragment,o),r=!1},d(o){o&&$(n),T(t,o),T(e,o)}}}function Yl(l){let t=R("workflows.start-workflow-like-this-one")+"",n;return{c(){n=X(t)},l(e){n=G(e,t)},m(e,r){S(e,n,r)},p:pe,d(e){e&&$(n)}}}function Xl(l){let t,n=!nt(l[9]),e,r,o=Me(l[15]),f=[];for(let a=0;a<o.length;a+=1)f[a]=fn(rn(l,o,a));const s=a=>p(f[a],1,1,()=>{f[a]=null});let i=n&&sn(l);return{c(){for(let a=0;a<f.length;a+=1)f[a].c();t=H(),i&&i.c(),e=le()},l(a){for(let u=0;u<f.length;u+=1)f[u].l(a);t=j(a),i&&i.l(a),e=le()},m(a,u){for(let d=0;d<f.length;d+=1)f[d]&&f[d].m(a,u);S(a,t,u),i&&i.m(a,u),S(a,e,u),r=!0},p(a,u){if(u[0]&294912){o=Me(a[15]);let d;for(d=0;d<o.length;d+=1){const v=rn(a,o,d);f[d]?(f[d].p(v,u),c(f[d],1)):(f[d]=fn(v),f[d].c(),c(f[d],1),f[d].m(t.parentNode,t))}for(K(),d=o.length;d<f.length;d+=1)s(d);Z()}u[0]&512&&(n=!nt(a[9])),n?i?(i.p(a,u),u[0]&512&&c(i,1)):(i=sn(a),i.c(),c(i,1),i.m(e.parentNode,e)):i&&(K(),p(i,1,1,()=>{i=null}),Z())},i(a){if(!r){for(let u=0;u<o.length;u+=1)c(f[u]);c(i),r=!0}},o(a){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)p(f[u]);p(i),r=!1},d(a){a&&($(t),$(e)),Xe(f,a),i&&i.d(a)}}}function an(l){let t,n,e;function r(f){l[31](f)}let o={refresh:Fe,workflow:l[0],namespace:l[1]};return l[12]!==void 0&&(o.open=l[12]),t=new pl({props:o}),oe.push(()=>se(t,"open",r)),{c(){I(t.$$.fragment)},l(f){E(t.$$.fragment,f)},m(f,s){D(t,f,s),e=!0},p(f,s){const i={};s[0]&1&&(i.workflow=f[0]),s[0]&2&&(i.namespace=f[1]),!n&&s[0]&4096&&(n=!0,i.open=f[12],fe(()=>n=!1)),t.$set(i)},i(f){e||(c(t.$$.fragment,f),e=!0)},o(f){p(t.$$.fragment,f),e=!1},d(f){T(t,f)}}}function un(l){let t,n,e;function r(f){l[32](f)}let o={refresh:Fe,workflow:l[0],namespace:l[1]};return l[13]!==void 0&&(o.open=l[13]),t=new Il({props:o}),oe.push(()=>se(t,"open",r)),{c(){I(t.$$.fragment)},l(f){E(t.$$.fragment,f)},m(f,s){D(t,f,s),e=!0},p(f,s){const i={};s[0]&1&&(i.workflow=f[0]),s[0]&2&&(i.namespace=f[1]),!n&&s[0]&8192&&(n=!0,i.open=f[13],fe(()=>n=!1)),t.$set(i)},i(f){e||(c(t.$$.fragment,f),e=!0)},o(f){p(t.$$.fragment,f),e=!1},d(f){T(t,f)}}}function cn(l){let t,n,e;function r(f){l[33](f)}let o={workflow:l[0],namespace:l[1]};return l[14]!==void 0&&(o.open=l[14]),t=new Bl({props:o}),oe.push(()=>se(t,"open",r)),{c(){I(t.$$.fragment)},l(f){E(t.$$.fragment,f)},m(f,s){D(t,f,s),e=!0},p(f,s){const i={};s[0]&1&&(i.workflow=f[0]),s[0]&2&&(i.namespace=f[1]),!n&&s[0]&16384&&(n=!0,i.open=f[14],fe(()=>n=!1)),t.$set(i)},i(f){e||(c(t.$$.fragment,f),e=!0)},o(f){p(t.$$.fragment,f),e=!1},d(f){T(t,f)}}}function mn(l){let t,n,e;function r(f){l[34](f)}let o={refresh:Fe,workflow:l[0],namespace:l[1]};return l[10]!==void 0&&(o.open=l[10]),t=new lr({props:o}),oe.push(()=>se(t,"open",r)),{c(){I(t.$$.fragment)},l(f){E(t.$$.fragment,f)},m(f,s){D(t,f,s),e=!0},p(f,s){const i={};s[0]&1&&(i.workflow=f[0]),s[0]&2&&(i.namespace=f[1]),!n&&s[0]&1024&&(n=!0,i.open=f[10],fe(()=>n=!1)),t.$set(i)},i(f){e||(c(t.$$.fragment,f),e=!0)},o(f){p(t.$$.fragment,f),e=!1},d(f){T(t,f)}}}function pn(l){let t,n,e;function r(f){l[35](f)}let o={refresh:Fe,workflow:l[0],namespace:l[1]};return l[11]!==void 0&&(o.open=l[11]),t=new or({props:o}),oe.push(()=>se(t,"open",r)),{c(){I(t.$$.fragment)},l(f){E(t.$$.fragment,f)},m(f,s){D(t,f,s),e=!0},p(f,s){const i={};s[0]&1&&(i.workflow=f[0]),s[0]&2&&(i.namespace=f[1]),!n&&s[0]&2048&&(n=!0,i.open=f[11],fe(()=>n=!1)),t.$set(i)},i(f){e||(c(t.$$.fragment,f),e=!0)},o(f){p(t.$$.fragment,f),e=!1},d(f){T(t,f)}}}function Gl(l){let t,n,e,r,o,f,s,i,a,u;const d=[Ol,jl,Hl],v=[];function w(_,k){return k[0]&512&&(t=null),_[3]?0:(t==null&&(t=!nt(_[9])),t?1:2)}n=w(l,[-1,-1]),e=v[n]=d[n](l);let h=l[8]&&an(l),m=l[7]&&un(l),g=l[6]&&cn(l),b=l[17]&&mn(l),W=l[5]&&pn(l);return{c(){e.c(),r=H(),h&&h.c(),o=H(),m&&m.c(),f=H(),g&&g.c(),s=H(),b&&b.c(),i=H(),W&&W.c(),a=le()},l(_){e.l(_),r=j(_),h&&h.l(_),o=j(_),m&&m.l(_),f=j(_),g&&g.l(_),s=j(_),b&&b.l(_),i=j(_),W&&W.l(_),a=le()},m(_,k){v[n].m(_,k),S(_,r,k),h&&h.m(_,k),S(_,o,k),m&&m.m(_,k),S(_,f,k),g&&g.m(_,k),S(_,s,k),b&&b.m(_,k),S(_,i,k),W&&W.m(_,k),S(_,a,k),u=!0},p(_,k){let M=n;n=w(_,k),n===M?v[n].p(_,k):(K(),p(v[M],1,1,()=>{v[M]=null}),Z(),e=v[n],e?e.p(_,k):(e=v[n]=d[n](_),e.c()),c(e,1),e.m(r.parentNode,r)),_[8]?h?(h.p(_,k),k[0]&256&&c(h,1)):(h=an(_),h.c(),c(h,1),h.m(o.parentNode,o)):h&&(K(),p(h,1,1,()=>{h=null}),Z()),_[7]?m?(m.p(_,k),k[0]&128&&c(m,1)):(m=un(_),m.c(),c(m,1),m.m(f.parentNode,f)):m&&(K(),p(m,1,1,()=>{m=null}),Z()),_[6]?g?(g.p(_,k),k[0]&64&&c(g,1)):(g=cn(_),g.c(),c(g,1),g.m(s.parentNode,s)):g&&(K(),p(g,1,1,()=>{g=null}),Z()),_[17]?b?(b.p(_,k),k[0]&131072&&c(b,1)):(b=mn(_),b.c(),c(b,1),b.m(i.parentNode,i)):b&&(K(),p(b,1,1,()=>{b=null}),Z()),_[5]?W?(W.p(_,k),k[0]&32&&c(W,1)):(W=pn(_),W.c(),c(W,1),W.m(a.parentNode,a)):W&&(K(),p(W,1,1,()=>{W=null}),Z())},i(_){u||(c(e),c(h),c(m),c(g),c(b),c(W),u=!0)},o(_){p(e),p(h),p(m),p(g),p(b),p(W),u=!1},d(_){_&&($(r),$(o),$(f),$(s),$(i),$(a)),v[n].d(_),h&&h.d(_),m&&m.d(_),g&&g.d(_),b&&b.d(_),W&&W.d(_)}}}function Kl(l,t,n){let e,r,o,f,s,i,a,u,d,v,w;ee(l,Nn,C=>n(24,u=C)),ee(l,Ae,C=>n(9,v=C)),ee(l,Wn,C=>n(18,w=C));var h,m,g;let{workflow:b}=t,{namespace:W}=t,{cancelInProgress:_}=t,{isRunning:k}=t,M=!1,A=!1,B=!1,F=!1,U=!1,ne,te=pr();ee(l,te,C=>n(25,d=C));let ue;const de=()=>Tt(Dt({namespace:W,workflowId:b.id,taskQueue:b.taskQueue,workflowType:b.name})),O=()=>n(10,M=!0),ie=()=>Tt(Dt({namespace:W,workflowId:b.id,taskQueue:b.taskQueue,workflowType:b.name})),N=()=>n(12,B=!0),V=()=>n(12,B=!0);function Q(C){B=C,n(12,B),n(8,i),n(4,ne),n(7,r),n(6,o),n(5,f),n(23,s),n(0,b),n(20,h),n(24,u),n(21,m),n(22,g),n(9,v),n(25,d),n(1,W)}function x(C){F=C,n(13,F),n(8,i),n(4,ne),n(7,r),n(6,o),n(5,f),n(23,s),n(0,b),n(20,h),n(24,u),n(21,m),n(22,g),n(9,v),n(25,d),n(1,W)}function P(C){U=C,n(14,U),n(8,i),n(4,ne),n(7,r),n(6,o),n(5,f),n(23,s),n(0,b),n(20,h),n(24,u),n(21,m),n(22,g),n(9,v),n(25,d),n(1,W)}function re(C){M=C,n(10,M)}function me(C){A=C,n(11,A),n(8,i),n(4,ne),n(7,r),n(6,o),n(5,f),n(23,s),n(0,b),n(20,h),n(24,u),n(21,m),n(22,g),n(9,v),n(25,d),n(1,W)}return l.$$set=C=>{"workflow"in C&&n(0,b=C.workflow),"namespace"in C&&n(1,W=C.namespace),"cancelInProgress"in C&&n(2,_=C.cancelInProgress),"isRunning"in C&&n(3,k=C.isRunning)},l.$$.update=()=>{l.$$.dirty[0]&33554946&&n(17,e=tr(v.data.settings,d,W)),l.$$.dirty[0]&33554946&&n(7,r=Fl(v.data.settings,d,W)),l.$$.dirty[0]&33554946&&n(6,o=Ul(v.data.settings,d,W)),l.$$.dirty[0]&33554946&&n(5,f=nr(v.data.settings,d,W)),l.$$.dirty[0]&33554946&&n(23,s=rr(v.data.settings,d,W)),l.$$.dirty[0]&26214401&&n(8,i=s&&(n(20,h=b==null?void 0:b.pendingChildren)===null||h===void 0?void 0:h.length)===0&&u.length>0),l.$$.dirty[0]&416&&n(16,a=!i&&!r&&!f),l.$$.dirty[0]&31457281&&(s?s&&(n(21,m=b==null?void 0:b.pendingChildren)===null||m===void 0?void 0:m.length)>0?n(4,ne=R("workflows.reset-disabled-pending-children")):s&&(n(22,g=b==null?void 0:b.pendingChildren)===null||g===void 0?void 0:g.length)===0&&u.length===0&&n(4,ne=R("workflows.reset-disabled-no-events")):n(4,ne=R("workflows.reset-disabled-unauthorized"))),l.$$.dirty[0]&496&&n(15,ue=[{label:R("workflows.reset"),onClick:()=>n(12,B=!0),testId:"reset-button",enabled:i,description:i?"":ne},{label:R("workflows.signal"),onClick:()=>n(13,F=!0),testId:"signal-button",enabled:r,description:r?"":R("workflows.signal-disabled")},{label:R("workflows.update"),onClick:()=>n(14,U=!0),testId:"update-button",enabled:o,description:o?"":R("workflows.update-disabled")},{label:R("workflows.terminate"),onClick:()=>n(11,A=!0),testId:"terminate-button",enabled:f,destructive:!0,description:f?"":R("workflows.terminate-disabled")}])},[b,W,_,k,ne,f,o,r,i,v,M,A,B,F,U,ue,a,e,w,te,h,m,g,s,u,d,de,O,ie,N,V,Q,x,P,re,me]}class dn extends be{constructor(t){super(),ve(this,t,Kl,Gl,we,{workflow:0,namespace:1,cancelInProgress:2,isRunning:3},null,[-1,-1])}}function Zl(l){let t,n,e=R("workers.buildId")+"",r,o,f;return o=new _r({props:{active:!0,buildId:l[0]}}),{c(){t=z("p"),n=z("span"),r=X(e),I(o.$$.fragment),this.h()},l(s){t=y(s,"P",{class:!0});var i=J(t);n=y(i,"SPAN",{});var a=J(n);r=G(a,e),a.forEach($),E(o.$$.fragment,i),i.forEach($),this.h()},h(){L(t,"class","flex items-center gap-1")},m(s,i){S(s,t,i),q(t,n),q(n,r),D(o,t,null),f=!0},p(s,[i]){const a={};i&1&&(a.buildId=s[0]),o.$set(a)},i(s){f||(c(o.$$.fragment,s),f=!0)},o(s){p(o.$$.fragment,s),f=!1},d(s){s&&$(t),T(o)}}}function xl(l,t,n){let e,{workflow:r}=t;return l.$$set=o=>{"workflow"in o&&n(1,r=o.workflow)},l.$$.update=()=>{l.$$.dirty&2&&n(0,e=gr(r))},[e,r]}class eo extends be{constructor(t){super(),ve(this,t,xl,Zl,we,{workflow:1})}}const to=(l,t)=>{const n=l==="Running",e=t==null?void 0:t.some(r=>(r==null?void 0:r.eventType)==="WorkflowExecutionCancelRequested");return n&&e},_n=l=>{const t=l==null?void 0:l.indexOf("?");return t>-1?l.slice(0,t):l},$e=(l,t,n=!1)=>{const e=_n(l).split("/"),r=_n(t).split("/");if(n&&e.length!==r.length)return!1;for(let o=0;o<e.length;o++){const f=e[o],s=r[o];if(f!==s)return!1}return!0};function no(l){let t=(l[13]?R("common.workflows"):R("workflows.back-to-workflows"))+"",n;return{c(){n=X(t)},l(e){n=G(e,t)},m(e,r){S(e,n,r)},p(e,r){r&8192&&t!==(t=(e[13]?R("common.workflows"):R("workflows.back-to-workflows"))+"")&&ce(n,t)},d(e){e&&$(n)}}}function gn(l){let t,n;return t=new qe({props:{href:Re({...l[11]}),"data-testid":"back-to-workflow-execution",icon:"chevron-left",$$slots:{default:[ro]},$$scope:{ctx:l}}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,r){D(t,e,r),n=!0},p(e,r){const o={};r&2048&&(o.href=Re({...e[11]})),r&16777217&&(o.$$scope={dirty:r,ctx:e}),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function ro(l){var e;let t=((e=l[0])==null?void 0:e.runId)+"",n;return{c(){n=X(t)},l(r){n=G(r,t)},m(r,o){S(r,n,o)},p(r,o){var f;o&1&&t!==(t=((f=r[0])==null?void 0:f.runId)+"")&&ce(n,t)},d(r){r&&$(n)}}}function $n(l){let t,n;return t=new eo({props:{workflow:l[0]}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,r){D(t,e,r),n=!0},p(e,r){const o={};r&1&&(o.workflow=e[0]),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function wn(l){let t,n,e,r;return n=new He({props:{icon:"info",intent:"info",title:R("workflows.cancel-request-sent"),$$slots:{default:[lo]},$$scope:{ctx:l}}}),{c(){t=z("div"),I(n.$$.fragment)},l(o){t=y(o,"DIV",{});var f=J(t);E(n.$$.fragment,f),f.forEach($)},m(o,f){S(o,t,f),D(n,t,null),r=!0},p(o,f){const s={};f&16777216&&(s.$$scope={dirty:f,ctx:o}),n.$set(s)},i(o){r||(c(n.$$.fragment,o),o&&(e||bn(()=>{e=Cn(t,Pn,{duration:200,delay:100}),e.start()})),r=!0)},o(o){p(n.$$.fragment,o),r=!1},d(o){o&&$(t),T(n)}}}function lo(l){let t=R("workflows.cancel-request-sent-description")+"",n;return{c(){n=X(t)},l(e){n=G(e,t)},m(e,r){S(e,n,r)},p:pe,d(e){e&&$(n)}}}function hn(l){let t,n,e,r;return n=new He({props:{icon:"info",intent:"info","data-testid":"workflow-reset-alert",title:R("workflows.reset-success-alert-title"),$$slots:{default:[fo]},$$scope:{ctx:l}}}),{c(){t=z("div"),I(n.$$.fragment)},l(o){t=y(o,"DIV",{});var f=J(t);E(n.$$.fragment,f),f.forEach($)},m(o,f){S(o,t,f),D(n,t,null),r=!0},p(o,f){const s={};f&16777230&&(s.$$scope={dirty:f,ctx:o}),n.$set(s)},i(o){r||(c(n.$$.fragment,o),o&&(e||bn(()=>{e=Cn(t,Pn,{duration:200,delay:100}),e.start()})),r=!0)},o(o){p(n.$$.fragment,o),r=!1},d(o){o&&$(t),T(n)}}}function oo(l){let t;return{c(){t=X("here")},l(n){t=G(n,"here")},m(n,e){S(n,t,e)},d(n){n&&$(t)}}}function fo(l){var o,f,s,i;let t,n,e,r;return n=new qe({props:{href:Re({namespace:l[1],workflow:(f=(o=l[3])==null?void 0:o.workflow)==null?void 0:f.id,run:l[2][(i=(s=l[3])==null?void 0:s.workflow)==null?void 0:i.runId]}),$$slots:{default:[oo]},$$scope:{ctx:l}}}),{c(){t=X("You can find the resulting Workflow Execution "),I(n.$$.fragment),e=X(".")},l(a){t=G(a,"You can find the resulting Workflow Execution "),E(n.$$.fragment,a),e=G(a,".")},m(a,u){S(a,t,u),D(n,a,u),S(a,e,u),r=!0},p(a,u){var v,w,h,m;const d={};u&14&&(d.href=Re({namespace:a[1],workflow:(w=(v=a[3])==null?void 0:v.workflow)==null?void 0:w.id,run:a[2][(m=(h=a[3])==null?void 0:h.workflow)==null?void 0:m.runId]})),u&16777216&&(d.$$scope={dirty:u,ctx:a}),n.$set(d)},i(a){r||(c(n.$$.fragment,a),r=!0)},o(a){p(n.$$.fragment,a),r=!1},d(a){a&&($(t),$(e)),T(n,a)}}}function so(l){var e;let t=((e=l[0])==null?void 0:e.historyEvents)+"",n;return{c(){n=X(t)},l(r){n=G(r,t)},m(r,o){S(r,n,o)},p(r,o){var f;o&1&&t!==(t=((f=r[0])==null?void 0:f.historyEvents)+"")&&ce(n,t)},d(r){r&&$(n)}}}function io(l){let t,n;return t=new xe({props:{type:"primary",class:"px-2 py-0",$$slots:{default:[so]},$$scope:{ctx:l}}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,r){D(t,e,r),n=!0},p(e,r){const o={};r&16777217&&(o.$$scope={dirty:r,ctx:e}),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function ao(l){let t=l[5].relationshipCount+"",n;return{c(){n=X(t)},l(e){n=G(e,t)},m(e,r){S(e,n,r)},p(e,r){r&32&&t!==(t=e[5].relationshipCount+"")&&ce(n,t)},d(e){e&&$(n)}}}function uo(l){let t,n;return t=new xe({props:{type:"primary",class:"px-2 py-0",$$slots:{default:[ao]},$$scope:{ctx:l}}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,r){D(t,e,r),n=!0},p(e,r){const o={};r&16777248&&(o.$$scope={dirty:r,ctx:e}),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function co(l){var e,r;let t=((r=(e=l[12])==null?void 0:e.pollers)==null?void 0:r.length)+"",n;return{c(){n=X(t)},l(o){n=G(o,t)},m(o,f){S(o,n,f)},p(o,f){var s,i;f&4096&&t!==(t=((i=(s=o[12])==null?void 0:s.pollers)==null?void 0:i.length)+"")&&ce(n,t)},d(o){o&&$(n)}}}function mo(l){let t,n;return t=new xe({props:{type:"primary",class:"px-2 py-0",$$slots:{default:[co]},$$scope:{ctx:l}}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,r){D(t,e,r),n=!0},p(e,r){const o={};r&16781312&&(o.$$scope={dirty:r,ctx:e}),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function kn(l){let t,n;return t=new Be({props:{name:"canceled"}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,r){D(t,e,r),n=!0},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function po(l){var s,i;let t,n,e=((i=(s=l[0])==null?void 0:s.pendingActivities)==null?void 0:i.length)+"",r,o,f=l[9]&&kn();return{c(){t=z("div"),f&&f.c(),n=H(),r=X(e),this.h()},l(a){t=y(a,"DIV",{class:!0});var u=J(t);f&&f.l(u),n=j(u),r=G(u,e),u.forEach($),this.h()},h(){L(t,"class","flex items-center gap-1")},m(a,u){S(a,t,u),f&&f.m(t,null),q(t,n),q(t,r),o=!0},p(a,u){var d,v;a[9]?f?u&512&&c(f,1):(f=kn(),f.c(),c(f,1),f.m(t,n)):f&&(K(),p(f,1,1,()=>{f=null}),Z()),(!o||u&1)&&e!==(e=((v=(d=a[0])==null?void 0:d.pendingActivities)==null?void 0:v.length)+"")&&ce(r,e)},i(a){o||(c(f),o=!0)},o(a){p(f),o=!1},d(a){a&&$(t),f&&f.d()}}}function _o(l){let t,n;return t=new xe({props:{type:l[9]?"warning":"primary",class:"px-2 py-0",$$slots:{default:[po]},$$scope:{ctx:l}}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,r){D(t,e,r),n=!0},p(e,r){const o={};r&512&&(o.type=e[9]?"warning":"primary"),r&16777729&&(o.$$scope={dirty:r,ctx:e}),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function go(l){let t,n,e,r,o,f,s,i,a,u,d,v,w,h;return t=new Ve({props:{label:R("workflows.history-tab"),id:"history-tab",href:Re({...l[11]}),active:$e(l[4].url.pathname,Re({...l[11]})),$$slots:{default:[io]},$$scope:{ctx:l}}}),e=new Ve({props:{label:R("workflows.relationships"),id:"relationships-tab",href:je(l[11]),active:$e(l[4].url.pathname,je(l[11])),$$slots:{default:[uo]},$$scope:{ctx:l}}}),o=new Ve({props:{label:R("workflows.workers-tab"),id:"workers-tab",href:Ne(l[11]),active:$e(l[4].url.pathname,Ne(l[11])),$$slots:{default:[mo]},$$scope:{ctx:l}}}),s=new Ve({props:{label:R("workflows.pending-activities-tab"),id:"pending-activities-tab",href:Oe(l[11]),active:$e(l[4].url.pathname,Oe(l[11])),$$slots:{default:[_o]},$$scope:{ctx:l}}}),a=new Ve({props:{label:R("workflows.call-stack-tab"),id:"call-stack-tab",href:Qe(l[11]),active:$e(l[4].url.pathname,Qe(l[11]))}}),d=new Ve({props:{label:R("workflows.queries-tab"),id:"queries-tab",href:Le(l[11]),active:$e(l[4].url.pathname,Le(l[11]))}}),w=new Ve({props:{label:R("workflows.metadata-tab"),id:"metadata-tab",href:ze(l[11]),active:$e(l[4].url.pathname,ze(l[11]))}}),{c(){I(t.$$.fragment),n=H(),I(e.$$.fragment),r=H(),I(o.$$.fragment),f=H(),I(s.$$.fragment),i=H(),I(a.$$.fragment),u=H(),I(d.$$.fragment),v=H(),I(w.$$.fragment)},l(m){E(t.$$.fragment,m),n=j(m),E(e.$$.fragment,m),r=j(m),E(o.$$.fragment,m),f=j(m),E(s.$$.fragment,m),i=j(m),E(a.$$.fragment,m),u=j(m),E(d.$$.fragment,m),v=j(m),E(w.$$.fragment,m)},m(m,g){D(t,m,g),S(m,n,g),D(e,m,g),S(m,r,g),D(o,m,g),S(m,f,g),D(s,m,g),S(m,i,g),D(a,m,g),S(m,u,g),D(d,m,g),S(m,v,g),D(w,m,g),h=!0},p(m,g){const b={};g&2048&&(b.href=Re({...m[11]})),g&2064&&(b.active=$e(m[4].url.pathname,Re({...m[11]}))),g&16777217&&(b.$$scope={dirty:g,ctx:m}),t.$set(b);const W={};g&2048&&(W.href=je(m[11])),g&2064&&(W.active=$e(m[4].url.pathname,je(m[11]))),g&16777248&&(W.$$scope={dirty:g,ctx:m}),e.$set(W);const _={};g&2048&&(_.href=Ne(m[11])),g&2064&&(_.active=$e(m[4].url.pathname,Ne(m[11]))),g&16781312&&(_.$$scope={dirty:g,ctx:m}),o.$set(_);const k={};g&2048&&(k.href=Oe(m[11])),g&2064&&(k.active=$e(m[4].url.pathname,Oe(m[11]))),g&16777729&&(k.$$scope={dirty:g,ctx:m}),s.$set(k);const M={};g&2048&&(M.href=Qe(m[11])),g&2064&&(M.active=$e(m[4].url.pathname,Qe(m[11]))),a.$set(M);const A={};g&2048&&(A.href=Le(m[11])),g&2064&&(A.active=$e(m[4].url.pathname,Le(m[11]))),d.$set(A);const B={};g&2048&&(B.href=ze(m[11])),g&2064&&(B.active=$e(m[4].url.pathname,ze(m[11]))),w.$set(B)},i(m){h||(c(t.$$.fragment,m),c(e.$$.fragment,m),c(o.$$.fragment,m),c(s.$$.fragment,m),c(a.$$.fragment,m),c(d.$$.fragment,m),c(w.$$.fragment,m),h=!0)},o(m){p(t.$$.fragment,m),p(e.$$.fragment,m),p(o.$$.fragment,m),p(s.$$.fragment,m),p(a.$$.fragment,m),p(d.$$.fragment,m),p(w.$$.fragment,m),h=!1},d(m){m&&($(n),$(r),$(f),$(i),$(u),$(v)),T(t,m),T(e,m),T(o,m),T(s,m),T(a,m),T(d,m),T(w,m)}}}function $o(l){let t,n;return t=new hr({props:{class:"flex flex-wrap gap-6 pt-2",label:"workflow detail",$$slots:{default:[go]},$$scope:{ctx:l}}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,r){D(t,e,r),n=!0},p(e,r){const o={};r&16783921&&(o.$$scope={dirty:r,ctx:e}),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function wo(l){var re,me;let t,n,e,r,o,f,s,i,a,u,d,v,w,h,m,g,b,W,_,k,M,A,B,F,U,ne,te,ue,de,O,ie,N;e=new qe({props:{href:`${Ye({namespace:l[1]})}?${l[14]}`,"data-testid":"back-to-workflows",icon:"chevron-left",$$slots:{default:[no]},$$scope:{ctx:l}}});let V=l[13]&&gn(l);u=new dr({props:{status:(re=l[0])==null?void 0:re.status,big:!0}}),w=new dn({props:{isRunning:l[10],cancelInProgress:l[8],workflow:l[0],namespace:l[1]}}),b=new Rn({props:{copyIconTitle:R("common.copy-icon-title"),copySuccessIconTitle:R("common.copy-success-icon-title"),content:(me=l[0])==null?void 0:me.id,clickAllToCopy:!0,"container-class":"w-full",class:"overflow-hidden text-ellipsis text-left"}});let Q=l[6]&&$n(l);M=new dn({props:{isRunning:l[10],cancelInProgress:l[8],workflow:l[0],namespace:l[1]}}),B=new ll({}),U=new xr({}),te=new zr({props:{workflow:l[0]}});let x=l[8]&&wn(l),P=l[7]&&hn(l);return ie=new wr({props:{$$slots:{default:[$o]},$$scope:{ctx:l}}}),{c(){t=z("div"),n=z("div"),I(e.$$.fragment),r=H(),V&&V.c(),o=H(),f=z("header"),s=z("div"),i=z("div"),a=z("div"),I(u.$$.fragment),d=H(),v=z("div"),I(w.$$.fragment),h=H(),m=z("div"),g=z("h1"),I(b.$$.fragment),W=H(),Q&&Q.c(),_=H(),k=z("div"),I(M.$$.fragment),A=H(),I(B.$$.fragment),F=H(),I(U.$$.fragment),ne=H(),I(te.$$.fragment),ue=H(),x&&x.c(),de=H(),P&&P.c(),O=H(),I(ie.$$.fragment),this.h()},l(C){t=y(C,"DIV",{class:!0});var Y=J(t);n=y(Y,"DIV",{class:!0});var he=J(n);E(e.$$.fragment,he),r=j(he),V&&V.l(he),he.forEach($),Y.forEach($),o=j(C),f=y(C,"HEADER",{class:!0});var ae=J(f);s=y(ae,"DIV",{class:!0});var ge=J(s);i=y(ge,"DIV",{class:!0});var De=J(i);a=y(De,"DIV",{class:!0});var ke=J(a);E(u.$$.fragment,ke),d=j(ke),v=y(ke,"DIV",{class:!0});var Ce=J(v);E(w.$$.fragment,Ce),Ce.forEach($),ke.forEach($),h=j(De),m=y(De,"DIV",{class:!0});var Te=J(m);g=y(Te,"H1",{"data-testid":!0,class:!0});var Se=J(g);E(b.$$.fragment,Se),Se.forEach($),W=j(Te),Q&&Q.l(Te),Te.forEach($),De.forEach($),_=j(ge),k=y(ge,"DIV",{class:!0});var We=J(k);E(M.$$.fragment,We),We.forEach($),ge.forEach($),A=j(ae),E(B.$$.fragment,ae),F=j(ae),E(U.$$.fragment,ae),ne=j(ae),E(te.$$.fragment,ae),ue=j(ae),x&&x.l(ae),de=j(ae),P&&P.l(ae),O=j(ae),E(ie.$$.fragment,ae),ae.forEach($),this.h()},h(){L(n,"class","flex items-center gap-2"),L(t,"class","flex items-center justify-between pb-4"),L(v,"class","lg:hidden"),L(a,"class","flex flex-wrap items-center justify-between gap-4 max-lg:w-full"),L(g,"data-testid","workflow-id-heading"),L(g,"class","gap-0 overflow-hidden max-sm:text-xl sm:max-md:text-2xl"),L(m,"class","flex flex-col flex-wrap gap-0"),L(i,"class","flex w-full flex-col items-start gap-4 lg:flex-row lg:items-center"),L(k,"class","max-lg:hidden"),L(s,"class","flex flex-col items-center justify-between gap-4 lg:flex-row"),L(f,"class","flex flex-col gap-2")},m(C,Y){S(C,t,Y),q(t,n),D(e,n,null),q(n,r),V&&V.m(n,null),S(C,o,Y),S(C,f,Y),q(f,s),q(s,i),q(i,a),D(u,a,null),q(a,d),q(a,v),D(w,v,null),q(i,h),q(i,m),q(m,g),D(b,g,null),q(m,W),Q&&Q.m(m,null),q(s,_),q(s,k),D(M,k,null),q(f,A),D(B,f,null),q(f,F),D(U,f,null),q(f,ne),D(te,f,null),q(f,ue),x&&x.m(f,null),q(f,de),P&&P.m(f,null),q(f,O),D(ie,f,null),N=!0},p(C,[Y]){var Se,We;const he={};Y&16386&&(he.href=`${Ye({namespace:C[1]})}?${C[14]}`),Y&16785408&&(he.$$scope={dirty:Y,ctx:C}),e.$set(he),C[13]?V?(V.p(C,Y),Y&8192&&c(V,1)):(V=gn(C),V.c(),c(V,1),V.m(n,null)):V&&(K(),p(V,1,1,()=>{V=null}),Z());const ae={};Y&1&&(ae.status=(Se=C[0])==null?void 0:Se.status),u.$set(ae);const ge={};Y&1024&&(ge.isRunning=C[10]),Y&256&&(ge.cancelInProgress=C[8]),Y&1&&(ge.workflow=C[0]),Y&2&&(ge.namespace=C[1]),w.$set(ge);const De={};Y&1&&(De.content=(We=C[0])==null?void 0:We.id),b.$set(De),C[6]?Q?(Q.p(C,Y),Y&64&&c(Q,1)):(Q=$n(C),Q.c(),c(Q,1),Q.m(m,null)):Q&&(K(),p(Q,1,1,()=>{Q=null}),Z());const ke={};Y&1024&&(ke.isRunning=C[10]),Y&256&&(ke.cancelInProgress=C[8]),Y&1&&(ke.workflow=C[0]),Y&2&&(ke.namespace=C[1]),M.$set(ke);const Ce={};Y&1&&(Ce.workflow=C[0]),te.$set(Ce),C[8]?x?(x.p(C,Y),Y&256&&c(x,1)):(x=wn(C),x.c(),c(x,1),x.m(f,de)):x&&(K(),p(x,1,1,()=>{x=null}),Z()),C[7]?P?(P.p(C,Y),Y&128&&c(P,1)):(P=hn(C),P.c(),c(P,1),P.m(f,O)):P&&(K(),p(P,1,1,()=>{P=null}),Z());const Te={};Y&16783921&&(Te.$$scope={dirty:Y,ctx:C}),ie.$set(Te)},i(C){N||(c(e.$$.fragment,C),c(V),c(u.$$.fragment,C),c(w.$$.fragment,C),c(b.$$.fragment,C),c(Q),c(M.$$.fragment,C),c(B.$$.fragment,C),c(U.$$.fragment,C),c(te.$$.fragment,C),c(x),c(P),c(ie.$$.fragment,C),N=!0)},o(C){p(e.$$.fragment,C),p(V),p(u.$$.fragment,C),p(w.$$.fragment,C),p(b.$$.fragment,C),p(Q),p(M.$$.fragment,C),p(B.$$.fragment,C),p(U.$$.fragment,C),p(te.$$.fragment,C),p(x),p(P),p(ie.$$.fragment,C),N=!1},d(C){C&&($(t),$(o),$(f)),T(e),V&&V.d(),T(u),T(w),T(b),Q&&Q.d(),T(M),T(B),T(U),T(te),x&&x.d(),P&&P.d(),T(ie)}}}function ho(l,t,n){let e,r,o,f,s,i,a,u,d,v,w,h,m,g,b,W,_,k,M;ee(l,kr,te=>n(22,g=te)),ee(l,ye,te=>n(23,b=te)),ee(l,Hn,te=>n(2,W=te)),ee(l,Ee,te=>n(3,_=te)),ee(l,Ae,te=>n(4,k=te)),ee(l,Sn,te=>n(14,M=te));var A,B,F,U,ne;return l.$$.update=()=>{l.$$.dirty&16&&n(1,{namespace:e,workflow:r,run:o,id:f}=k.params,e,(n(21,r),n(4,k)),(n(20,o),n(4,k)),(n(13,f),n(4,k))),l.$$.dirty&8&&n(0,{workflow:s,workers:i}=_,s,(n(12,i),n(3,_))),l.$$.dirty&3145730&&n(11,a={namespace:e,workflow:r,run:o}),l.$$.dirty&32776&&n(10,u=n(15,A=_==null?void 0:_.workflow)===null||A===void 0?void 0:A.isRunning),l.$$.dirty&65544&&n(9,d=["Terminated","TimedOut","Canceled"].includes(n(16,B=_.workflow)===null||B===void 0?void 0:B.status)),l.$$.dirty&8519688&&n(8,v=to(n(17,F=_==null?void 0:_.workflow)===null||F===void 0?void 0:F.status,b)),l.$$.dirty&1048580&&n(7,w=vr(W,o)),l.$$.dirty&786433&&n(6,h=n(18,U=s==null?void 0:s.assignedBuildId)!==null&&U!==void 0?U:n(19,ne=s==null?void 0:s.mostRecentWorkerVersionStamp)===null||ne===void 0?void 0:ne.useVersioning),l.$$.dirty&12582913&&n(5,m=br(s,b,g))},[s,e,W,_,k,m,h,w,v,d,u,a,i,f,M,A,B,F,U,ne,o,r,g,b]}class ko extends be{constructor(t){super(),ve(this,t,ho,wo,we,{})}}function bo(l){let t,n,e,r,o;const f=[Do,Eo,Io],s=[];function i(a,u){return a[1]?0:a[0].workflow?2:1}return n=i(l),e=s[n]=f[n](l),{c(){t=z("div"),e.c(),this.h()},l(a){t=y(a,"DIV",{class:!0});var u=J(t);e.l(u),u.forEach($),this.h()},h(){L(t,"class",r="absolute bottom-0 left-0 right-0 "+(l[5]?"top-[540px]":"top-0")+" flex h-full flex-col")},m(a,u){S(a,t,u),s[n].m(t,null),o=!0},p(a,u){let d=n;n=i(a),n===d?s[n].p(a,u):(K(),p(s[d],1,1,()=>{s[d]=null}),Z(),e=s[n],e?e.p(a,u):(e=s[n]=f[n](a),e.c()),c(e,1),e.m(t,null)),(!o||u&32&&r!==(r="absolute bottom-0 left-0 right-0 "+(a[5]?"top-[540px]":"top-0")+" flex h-full flex-col"))&&L(t,"class",r)},i(a){o||(c(e),o=!0)},o(a){p(e),o=!1},d(a){a&&$(t),s[n].d()}}}function vo(l){let t,n,e,r=rt(l[2],null,2)+"",o,f;return n=new Xn({props:{copyIconTitle:R("common.copy-icon-title"),copySuccessIconTitle:R("common.copy-success-icon-title"),class:"absolute right-1 top-1",copied:l[4]}}),n.$on("click",l[7]),{c(){t=z("div"),I(n.$$.fragment),e=H(),o=X(r),this.h()},l(s){t=y(s,"DIV",{class:!0});var i=J(t);E(n.$$.fragment,i),e=j(i),o=G(i,r),i.forEach($),this.h()},h(){L(t,"class","relative h-auto whitespace-break-spaces break-words bg-primary p-4")},m(s,i){S(s,t,i),D(n,t,null),q(t,e),q(t,o),f=!0},p(s,i){const a={};i&16&&(a.copied=s[4]),n.$set(a),(!f||i&4)&&r!==(r=rt(s[2],null,2)+"")&&ce(o,r)},i(s){f||(c(n.$$.fragment,s),f=!0)},o(s){p(n.$$.fragment,s),f=!1},d(s){s&&$(t),T(n)}}}function Io(l){let t,n,e,r;n=new ko({});const o=l[16].default,f=In(o,l,l[15],null);return{c(){t=z("div"),I(n.$$.fragment),e=H(),f&&f.c(),this.h()},l(s){t=y(s,"DIV",{class:!0});var i=J(t);E(n.$$.fragment,i),i.forEach($),e=j(s),f&&f.l(s),this.h()},h(){L(t,"class","border-b border-subtle px-4 pt-8 md:pt-20 xl:px-8")},m(s,i){S(s,t,i),D(n,t,null),S(s,e,i),f&&f.m(s,i),r=!0},p(s,i){f&&f.p&&(!r||i&32768)&&En(f,o,s,s[15],r?Tn(o,s[15],i,null):Dn(s[15]),null)},i(s){r||(c(n.$$.fragment,s),c(f,s),r=!0)},o(s){p(n.$$.fragment,s),p(f,s),r=!1},d(s){s&&($(t),$(e)),T(n),f&&f.d(s)}}}function Eo(l){let t,n;return t=new Gn({props:{class:"pt-24"}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,r){D(t,e,r),n=!0},p:pe,i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function Do(l){let t,n;return t=new Pr({props:{error:l[1]}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,r){D(t,e,r),n=!0},p(e,r){const o={};r&2&&(o.error=e[1]),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function To(l){let t,n,e,r;const o=[vo,bo],f=[];function s(i,a){return i[3]?0:1}return t=s(l),n=f[t]=o[t](l),{c(){n.c(),e=le()},l(i){n.l(i),e=le()},m(i,a){f[t].m(i,a),S(i,e,a),r=!0},p(i,[a]){let u=t;t=s(i),t===u?f[t].p(i,a):(K(),p(f[u],1,1,()=>{f[u]=null}),Z(),n=f[t],n?n.p(i,a):(n=f[t]=o[t](i),n.c()),c(n,1),n.m(e.parentNode,e))},i(i){r||(c(n),r=!0)},o(i){p(n),r=!1},d(i){i&&$(e),f[t].d(i)}}}function Co(l,t,n){let e,r,o,f,s,i,a,u,d,v,w,h,m,g,b,W;ee(l,Ct,V=>n(19,i=V)),ee(l,Ae,V=>n(11,a=V)),ee(l,fr,V=>n(12,u=V)),ee(l,ye,V=>n(13,d=V)),ee(l,St,V=>n(20,v=V)),ee(l,Fe,V=>n(14,w=V)),ee(l,Ee,V=>n(0,h=V)),ee(l,Wt,V=>n(21,m=V)),ee(l,An,V=>n(22,g=V)),ee(l,zn,V=>n(5,W=V));let{$$slots:_={},$$scope:k}=t,M,A,B;const{copy:F,copied:U}=Tr();ee(l,U,V=>n(4,b=V));const ne=V=>{F(V,rt(s))},te=async V=>{const Q={summary:"",details:""};try{if(V!=null&&V.summary){const x=await Rt(V.summary);typeof x=="string"&&(Q.summary=x)}if(V!=null&&V.details){const x=await Rt(V.details);typeof x=="string"&&(Q.details=x)}_e(Ee,h={...h,userMetadata:Q},h)}catch(x){console.error("Error decoding user metadata",x)}},ue=async(V,Q,x)=>{const{settings:P}=a.data,{workflow:re,error:me}=await vt({namespace:V,workflowId:Q,runId:x});if(me){n(1,M=me);return}await te(re);const{taskQueue:C}=re,Y=await $r({queue:C,namespace:V});_e(Ee,h={...h,workflow:re,workers:Y},h),A=new AbortController,re.isRunning&&Vn({namespace:V,workflow:{id:Q,runId:x}},P,g==null?void 0:g.accessToken,A.signal).then(he=>{_e(Ee,h.metadata=he,h)}),_e(ye,d=await Er({namespace:V,workflowId:Q,runId:x,sort:"ascending",signal:A.signal,historySize:re.historyEvents}),d)},de=async V=>{var Q;if(V&&(!((Q=h==null?void 0:h.workflow)===null||Q===void 0)&&Q.isRunning)){const{workflow:x,error:P}=await vt({namespace:e,workflowId:r,runId:o});if(P){n(1,M=P);return}_e(Ee,h.workflow=x,h)}},O=()=>{_e(ye,d=[],d),A&&A.abort()},ie=()=>{_e(Wt,m=null,m),_e(Ee,h=er,h),n(1,M=void 0),O(),Dr(),clearInterval(B),B=null},N=(V,Q)=>{Q||_e(St,v=V,v)};return Ln(()=>{const V=a.url.searchParams.get("sort");V&&_e(Ct,i=V,i),B=setInterval(()=>{Ir()},1e4)}),vn(()=>{ie()}),l.$$set=V=>{"$$scope"in V&&n(15,k=V.$$scope)},l.$$.update=()=>{l.$$.dirty&2048&&n(10,{namespace:e,workflow:r,run:o}=a.params,e,(n(9,r),n(11,a)),(n(8,o),n(11,a))),l.$$.dirty&2048&&n(3,f=a.url.searchParams.has("json")),l.$$.dirty&8193&&n(2,s={...h,eventHistory:d}),l.$$.dirty&256&&ie(),l.$$.dirty&1792&&ue(e,r,o),l.$$.dirty&16384&&de(w),l.$$.dirty&12288&&N(d,u)},[h,M,s,f,b,W,U,ne,o,r,e,a,u,d,w,k,_]}class So extends be{constructor(t){super(),ve(this,t,Co,To,we,{})}}const jn={namespace:null,workflowId:null,runId:null,rawPayloads:null,sort:null},Wo=Ke(jn),Po=()=>{Wo.set(jn)};function Ro(l){let t;const n=l[0].default,e=In(n,l,l[1],null);return{c(){e&&e.c()},l(r){e&&e.l(r)},m(r,o){e&&e.m(r,o),t=!0},p(r,o){e&&e.p&&(!t||o&2)&&En(e,n,r,r[1],t?Tn(n,r[1],o,null):Dn(r[1]),null)},i(r){t||(c(e,r),t=!0)},o(r){p(e,r),t=!1},d(r){e&&e.d(r)}}}function Mo(l){let t,n;return t=new So({props:{$$slots:{default:[Ro]},$$scope:{ctx:l}}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,r){D(t,e,r),n=!0},p(e,[r]){const o={};r&2&&(o.$$scope={dirty:r,ctx:e}),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function Vo(l,t,n){let{$$slots:e={},$$scope:r}=t;return vn(()=>{Po()}),l.$$set=o=>{"$$scope"in o&&n(1,r=o.$$scope)},[e,r]}class jf extends be{constructor(t){super(),ve(this,t,Vo,Mo,we,{})}}export{jf as component};
