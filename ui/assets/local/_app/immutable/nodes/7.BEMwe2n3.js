import{s as $e,h as j,b as O,t as X,j as L,k as z,f as $,d as Q,l as x,m as H,i as W,n as B,q as ie,c as ne,v as de,D as ze,z as qe,A as gn,H as Re,x as me,O as ae,Q as ue,R as Ge,w as _e,y as xe,Z as Vn,a as Ce,E as vt,p as Ye,F as Et,u as Ae,g as Se,e as Pe,M as et,G as Mn,B as It,W as Nn,P as wn}from"../chunks/scheduler.D6mQsyhd.js";import{S as he,i as ke,c as D,a as C,m as A,t as m,b as g,d as S,g as le,e as oe,h as ce,j as Tt,f as $n}from"../chunks/index.CDeUyeTp.js";import{p as Be}from"../chunks/stores.BNj9JTfj.js";import{v as qn}from"../chunks/data-encoder-settings.CH7WGVOZ.js";import{L as Me}from"../chunks/link.CjFmcOEC.js";import{t as M}from"../chunks/translate.BBe5dcco.js";import{c as hn,l as Bn,p as Fn,u as Hn,v as Dt}from"../chunks/workflows.a6L5mvRe.js";import{e as ye,s as Ct,u as We,v as At,w as St,b as Te,x as He,y as Ue,c as Oe,z as Qe,A as je}from"../chunks/route-for.BsS2GKun.js";import{B as Un}from"../chunks/button.Ck7DMcWC.js";import{L as On}from"../chunks/loading.azOfDUyA.js";import{s as Pt,a as kn}from"../chunks/index.2cpoF_sa.js";import{f as we,r as Qn,t as jn}from"../chunks/time-format.SFUZSazv.js";import{w as Ee,r as Fe,i as Ln}from"../chunks/workflow-run.72uoKlDg.js";import{o as zn}from"../chunks/format-time.Dn4a2B__.js";import{C as bn}from"../chunks/index.B_kX2Q0l.js";import{I as Ne}from"../chunks/icon.BRzabkM-.js";import{T as tt}from"../chunks/tooltip.Pfwiu_V0.js";import{e as Ve}from"../chunks/each.5YhwczXz.js";import{w as nt,g as Wt}from"../chunks/entry.p88psuES.js";import{w as yn,a as Jn,b as Yn,C as Gn,T as Zn}from"../chunks/workflow-terminate-enabled.Bwo2ZUx-.js";import{C as Ze,M as vn}from"../chunks/checkbox.C2hXsfAS.js";import{I as En}from"../chunks/input.Cy7U7RHZ.js";import{M as In}from"../chunks/modal.BCYlF_PZ.js";import{S as Tn,O as rt}from"../chunks/option.B2CNloUo.js";import{r as Dn,f as Le,b as Rt,p as Kn,g as Vt,t as Mt}from"../chunks/events.BbyYPdCF.js";import{p as Xn}from"../chunks/persist-store.CsAds3hu.js";import{t as xn}from"../chunks/versions.DbJbjt5M.js";import{i as Cn}from"../chunks/is-network-error.DxxRlstw.js";import{m as er}from"../chunks/route-for-api.B6PVG6zA.js";import{P as tr}from"../chunks/payload-input-with-encoding.qcWMrKpq.js";import{t as nr,v as rr}from"../chunks/toaster.BIWPOCHa.js";import{B as lr}from"../chunks/button.DT3XBXs5.js";import{d as lt}from"../chunks/menu.Duit3esE.js";import{S as An}from"../chunks/split-button.CdyXiU6u.js";import{c as or}from"../chunks/core-user.BS9c1e4l.js";import{w as Ke}from"../chunks/workflow-create-disabled.Donq6zB5.js";import{W as sr}from"../chunks/workflow-status.CzCjZFN4.js";import{C as fr}from"../chunks/compatibility-badge.CDvsa1sO.js";import{k as ir,g as ar}from"../chunks/pollers-service.Diacf-FM.js";import{g as ur}from"../chunks/spread.CgU5AtxT.js";import{A as Sn}from"../chunks/alert.VYr5tJfe.js";import{B as Je}from"../chunks/badge.BRSKsVh1.js";import{M as ot}from"../chunks/markdown.gZY4Ir-6.js";import{T as cr,a as mr,b as De}from"../chunks/tab.BJ9sjF-D.js";import{n as pr}from"../chunks/namespaces.ClqBQbwL.js";import{g as _r}from"../chunks/get-workflow-relationships.iud_1sqx.js";import{h as dr}from"../chunks/has.BnvKvYqj.js";import{e as gr,d as wr,a as Nt}from"../chunks/decode-payload.nVXtn49e.js";import{t as $r,f as hr}from"../chunks/events-service.DLjOQjrv.js";import{b as kr}from"../chunks/query-service.CtJd37BV.js";import{a as br}from"../chunks/auth-user.BOqWVpGU.js";import{r as vr}from"../chunks/data-encoder-config.rFXMpOXt.js";import{c as Er}from"../chunks/copy-to-clipboard.Cy7ib37V.js";import{s as Xe}from"../chunks/parse-with-big-int.BKSBwM2t.js";function Ir(l){let e=M("workflows.back-to-workflows")+"",n;return{c(){n=X(e)},l(t){n=x(t,e)},m(t,r){W(t,n,r)},p:de,d(t){t&&$(n)}}}function Tr(l){var k,P;let e,n,t,r,s,o,f=(((k=l[0])==null?void 0:k.statusCode)??"500")+"",i,a,c,p,b,d,w=(((P=l[0])==null?void 0:P.statusText)??"")+"",u,_;return t=new Me({props:{href:`${ye({namespace:l[2]})}?${l[3]}`,"data-testid":"back-to-workflows",icon:"chevron-left",$$slots:{default:[Ir]},$$scope:{ctx:l}}}),{c(){e=j("header"),n=j("div"),D(t.$$.fragment),r=O(),s=j("div"),o=j("h1"),i=X(f),a=O(),c=j("p"),p=X(l[1]),b=O(),d=j("p"),u=X(w),this.h()},l(E){e=L(E,"HEADER",{class:!0});var h=z(e);n=L(h,"DIV",{class:!0});var U=z(n);C(t.$$.fragment,U),U.forEach($),h.forEach($),r=Q(E),s=L(E,"DIV",{class:!0});var N=z(s);o=L(N,"H1",{class:!0});var G=z(o);i=x(G,f),G.forEach($),a=Q(N),c=L(N,"P",{class:!0});var Z=z(c);p=x(Z,l[1]),Z.forEach($),b=Q(N),d=L(N,"P",{class:!0});var re=z(d);u=x(re,w),re.forEach($),N.forEach($),this.h()},h(){H(n,"class","mb-4 block"),H(e,"class","mb-4 flex flex-col gap-1"),H(o,"class","leading-0 text-[12rem] font-semibold"),H(c,"class","-mt-12 text-lg"),H(d,"class","text-2xl font-bold text-red-700"),H(s,"class","text-center align-middle")},m(E,h){W(E,e,h),B(e,n),A(t,n,null),W(E,r,h),W(E,s,h),B(s,o),B(o,i),B(s,a),B(s,c),B(c,p),B(s,b),B(s,d),B(d,u),_=!0},p(E,[h]){var N,G;const U={};h&12&&(U.href=`${ye({namespace:E[2]})}?${E[3]}`),h&32&&(U.$$scope={dirty:h,ctx:E}),t.$set(U),(!_||h&1)&&f!==(f=(((N=E[0])==null?void 0:N.statusCode)??"500")+"")&&ie(i,f),(!_||h&2)&&ie(p,E[1]),(!_||h&1)&&w!==(w=(((G=E[0])==null?void 0:G.statusText)??"")+"")&&ie(u,w)},i(E){_||(m(t.$$.fragment,E),_=!0)},o(E){g(t.$$.fragment,E),_=!1},d(E){E&&($(e),$(r),$(s)),S(t)}}}function Dr(l,e,n){let t,r,s,o;ne(l,Be,i=>n(4,s=i)),ne(l,hn,i=>n(3,o=i));let{error:f}=e;return l.$$set=i=>{"error"in i&&n(0,f=i.error)},l.$$.update=()=>{l.$$.dirty&16&&n(2,{namespace:t}=s.params,t),l.$$.dirty&1&&n(1,r=f.statusCode===404?M("workflows.workflow-404-title"):M("workflows.workflow-error-title"))},[f,r,t,o,s]}class Cr extends he{constructor(e){super(),ke(this,e,Dr,Tr,$e,{error:0})}}function qt(l){let e,n;return{c(){e=j("span"),n=X(l[0]),this.h()},l(t){e=L(t,"SPAN",{class:!0});var r=z(e);n=x(r,l[0]),r.forEach($),this.h()},h(){H(e,"class","font-mono")},m(t,r){W(t,e,r),B(e,n)},p(t,r){r&1&&ie(n,t[0])},d(t){t&&$(e)}}}function Bt(l){let e,n;return e=new Ne({props:{name:l[5]}}),{c(){D(e.$$.fragment)},l(t){C(e.$$.fragment,t)},m(t,r){A(e,t,r),n=!0},p(t,r){const s={};r&32&&(s.name=t[5]),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Ar(l){let e,n;return e=new tt({props:{text:l[6],hide:!l[6],top:!0,$$slots:{default:[Wr]},$$scope:{ctx:l}}}),{c(){D(e.$$.fragment)},l(t){C(e.$$.fragment,t)},m(t,r){A(e,t,r),n=!0},p(t,r){const s={};r&64&&(s.text=t[6]),r&64&&(s.hide=!t[6]),r&642&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Sr(l){let e,n;return e=new Me({props:{href:l[4],class:"value truncate rounded-sm p-1 leading-4 "+(l[7]&&"surface-subtle"),$$slots:{default:[Rr]},$$scope:{ctx:l}}}),{c(){D(e.$$.fragment)},l(t){C(e.$$.fragment,t)},m(t,r){A(e,t,r),n=!0},p(t,r){const s={};r&16&&(s.href=t[4]),r&128&&(s.class="value truncate rounded-sm p-1 leading-4 "+(t[7]&&"surface-subtle")),r&514&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Pr(l){let e,n;return e=new bn({props:{copyIconTitle:M("common.copy-icon-title"),copySuccessIconTitle:M("common.copy-success-icon-title"),content:l[1],visible:!0,"container-class":"gap-1 w-full justify-end",$$slots:{default:[Br]},$$scope:{ctx:l}}}),{c(){D(e.$$.fragment)},l(t){C(e.$$.fragment,t)},m(t,r){A(e,t,r),n=!0},p(t,r){const s={};r&2&&(s.content=t[1]),r&730&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Wr(l){let e,n;return{c(){e=j("span"),n=X(l[1]),this.h()},l(t){e=L(t,"SPAN",{class:!0});var r=z(e);n=x(r,l[1]),r.forEach($),this.h()},h(){H(e,"class","w-fit select-all truncate rounded-sm p-1 leading-4"),Re(e,"surface-subtle",l[7])},m(t,r){W(t,e,r),B(e,n)},p(t,r){r&2&&ie(n,t[1]),r&128&&Re(e,"surface-subtle",t[7])},d(t){t&&$(e)}}}function Rr(l){let e;return{c(){e=X(l[1])},l(n){e=x(n,l[1])},m(n,t){W(n,e,t)},p(n,t){t&2&&ie(e,n[1])},d(n){n&&$(e)}}}function Vr(l){let e,n;return e=new tt({props:{text:l[6],hide:!l[6],top:!0,$$slots:{default:[Nr]},$$scope:{ctx:l}}}),{c(){D(e.$$.fragment)},l(t){C(e.$$.fragment,t)},m(t,r){A(e,t,r),n=!0},p(t,r){const s={};r&64&&(s.text=t[6]),r&64&&(s.hide=!t[6]),r&642&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Mr(l){let e,n;return e=new Me({props:{href:l[4],class:"flex w-fit flex-row items-center gap-1 truncate rounded-sm p-1 leading-4 "+(l[7]&&"surface-subtle"),$$slots:{default:[qr]},$$scope:{ctx:l}}}),{c(){D(e.$$.fragment)},l(t){C(e.$$.fragment,t)},m(t,r){A(e,t,r),n=!0},p(t,r){const s={};r&16&&(s.href=t[4]),r&128&&(s.class="flex w-fit flex-row items-center gap-1 truncate rounded-sm p-1 leading-4 "+(t[7]&&"surface-subtle")),r&522&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Nr(l){let e,n;return{c(){e=j("span"),n=X(l[1]),this.h()},l(t){e=L(t,"SPAN",{class:!0});var r=z(e);n=x(r,l[1]),r.forEach($),this.h()},h(){H(e,"class","w-fit select-all truncate rounded-sm p-1 leading-4"),Re(e,"surface-subtle",l[7])},m(t,r){W(t,e,r),B(e,n)},p(t,r){r&2&&ie(n,t[1]),r&128&&Re(e,"surface-subtle",t[7])},d(t){t&&$(e)}}}function Ft(l){let e,n;return e=new Ne({props:{name:"filter",class:"shrink-0"}}),{c(){D(e.$$.fragment)},l(t){C(e.$$.fragment,t)},m(t,r){A(e,t,r),n=!0},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function qr(l){let e,n,t,r,s,o=l[3]&&Ft();return{c(){e=j("span"),n=X(l[1]),t=O(),o&&o.c(),r=me(),this.h()},l(f){e=L(f,"SPAN",{class:!0});var i=z(e);n=x(i,l[1]),i.forEach($),t=Q(f),o&&o.l(f),r=me(),this.h()},h(){H(e,"class","truncate")},m(f,i){W(f,e,i),B(e,n),W(f,t,i),o&&o.m(f,i),W(f,r,i),s=!0},p(f,i){(!s||i&2)&&ie(n,f[1]),f[3]?o?i&8&&m(o,1):(o=Ft(),o.c(),m(o,1),o.m(r.parentNode,r)):o&&(le(),g(o,1,1,()=>{o=null}),oe())},i(f){s||(m(o),s=!0)},o(f){g(o),s=!1},d(f){f&&($(e),$(t),$(r)),o&&o.d(f)}}}function Br(l){let e,n,t,r;const s=[Mr,Vr],o=[];function f(i,a){return i[4]?0:1}return e=f(l),n=o[e]=s[e](l),{c(){n.c(),t=me()},l(i){n.l(i),t=me()},m(i,a){o[e].m(i,a),W(i,t,a),r=!0},p(i,a){let c=e;e=f(i),e===c?o[e].p(i,a):(le(),g(o[c],1,1,()=>{o[c]=null}),oe(),n=o[e],n?n.p(i,a):(n=o[e]=s[e](i),n.c()),m(n,1),n.m(t.parentNode,t))},i(i){r||(m(n),r=!0)},o(i){g(n),r=!1},d(i){i&&$(t),o[e].d(i)}}}function Fr(l){let e,n,t,r,s,o,f,i=l[0]&&qt(l),a=l[5]&&Bt(l);const c=[Pr,Sr,Ar],p=[];function b(d,w){return d[2]?0:d[4]?1:2}return r=b(l),s=p[r]=c[r](l),{c(){e=j("p"),i&&i.c(),n=O(),a&&a.c(),t=O(),s.c(),this.h()},l(d){e=L(d,"P",{class:!0});var w=z(e);i&&i.l(w),n=Q(w),a&&a.l(w),t=Q(w),s.l(w),w.forEach($),this.h()},h(){H(e,"class",o="flex h-4 items-center justify-between gap-16 truncate whitespace-nowrap "+l[8].class)},m(d,w){W(d,e,w),i&&i.m(e,null),B(e,n),a&&a.m(e,null),B(e,t),p[r].m(e,null),f=!0},p(d,[w]){d[0]?i?i.p(d,w):(i=qt(d),i.c(),i.m(e,n)):i&&(i.d(1),i=null),d[5]?a?(a.p(d,w),w&32&&m(a,1)):(a=Bt(d),a.c(),m(a,1),a.m(e,t)):a&&(le(),g(a,1,1,()=>{a=null}),oe());let u=r;r=b(d),r===u?p[r].p(d,w):(le(),g(p[u],1,1,()=>{p[u]=null}),oe(),s=p[r],s?s.p(d,w):(s=p[r]=c[r](d),s.c()),m(s,1),s.m(e,null)),(!f||w&256&&o!==(o="flex h-4 items-center justify-between gap-16 truncate whitespace-nowrap "+d[8].class))&&H(e,"class",o)},i(d){f||(m(a),m(s),f=!0)},o(d){g(a),g(s),f=!1},d(d){d&&$(e),i&&i.d(),a&&a.d(),p[r].d()}}}function Hr(l,e,n){const t=["title","content","copyable","filterable","href","icon","tooltip","badge"];let r=ze(e,t),{title:s=""}=e,{content:o}=e,{copyable:f=!1}=e,{filterable:i=!1}=e,{href:a=null}=e,{icon:c=void 0}=e,{tooltip:p=""}=e,{badge:b=!1}=e;return l.$$set=d=>{e=qe(qe({},e),gn(d)),n(8,r=ze(e,t)),"title"in d&&n(0,s=d.title),"content"in d&&n(1,o=d.content),"copyable"in d&&n(2,f=d.copyable),"filterable"in d&&n(3,i=d.filterable),"href"in d&&n(4,a=d.href),"icon"in d&&n(5,c=d.icon),"tooltip"in d&&n(6,p=d.tooltip),"badge"in d&&n(7,b=d.badge)},[s,o,f,i,a,c,p,b,r]}class Ie extends he{constructor(e){super(),ke(this,e,Hr,Fr,$e,{title:0,content:1,copyable:2,filterable:3,href:4,icon:5,tooltip:6,badge:7})}}function Ht(l){var t,r,s,o,f,i;let e,n;return e=new Ie({props:{title:M("workflows.parent-workflow"),content:(r=(t=l[0])==null?void 0:t.parent)==null?void 0:r.workflowId,href:At({namespace:l[3],workflow:(o=(s=l[0])==null?void 0:s.parent)==null?void 0:o.workflowId,run:(i=(f=l[0])==null?void 0:f.parent)==null?void 0:i.runId})}}),{c(){D(e.$$.fragment)},l(a){C(e.$$.fragment,a)},m(a,c){A(e,a,c),n=!0},p(a,c){var b,d,w,u,_,k;const p={};c&1&&(p.content=(d=(b=a[0])==null?void 0:b.parent)==null?void 0:d.workflowId),c&9&&(p.href=At({namespace:a[3],workflow:(u=(w=a[0])==null?void 0:w.parent)==null?void 0:u.workflowId,run:(k=(_=a[0])==null?void 0:_.parent)==null?void 0:k.runId})),e.$set(p)},i(a){n||(m(e.$$.fragment,a),n=!0)},o(a){g(e.$$.fragment,a),n=!1},d(a){S(e,a)}}}function Ur(l){var U,N,G,Z,re,ee,K,J,T,v,y,R,q,F,V;let e,n,t,r,s,o,f,i,a,c,p,b,d,w,u,_,k,P,E;t=new Ie({props:{title:M("common.start"),tooltip:l[4]?we((U=l[0])==null?void 0:U.startTime,l[5],{relative:!1}):we((N=l[0])==null?void 0:N.startTime,l[5],{relative:!0}),content:we((G=l[0])==null?void 0:G.startTime,l[5],{relative:l[4]})}}),s=new Ie({props:{title:M("common.end"),tooltip:l[4]?we((Z=l[0])==null?void 0:Z.endTime,l[5],{relative:!1}):we((re=l[0])==null?void 0:re.endTime,l[5],{relative:!0}),content:(ee=l[0])!=null&&ee.endTime?we((K=l[0])==null?void 0:K.endTime,l[5],{relative:l[4]}):"-"}}),f=new Ie({props:{content:l[2],icon:"clock"}}),c=new Ie({props:{title:M("common.run-id"),content:(J=l[0])==null?void 0:J.runId,copyable:!0}}),b=new Ie({props:{title:M("common.workflow-type"),content:(T=l[0])==null?void 0:T.name,copyable:!0,filterable:!0,href:Ct({namespace:l[3],query:`WorkflowType="${(v=l[0])==null?void 0:v.name}"`})}}),w=new Ie({props:{title:M("common.task-queue"),content:(y=l[0])==null?void 0:y.taskQueue,href:We({namespace:l[1].params.namespace,workflow:(R=l[0])==null?void 0:R.id,run:(q=l[0])==null?void 0:q.runId})}});let h=((F=l[0])==null?void 0:F.parent)&&Ht(l);return P=new Ie({props:{title:M("common.history-size-bytes"),content:(V=l[0])==null?void 0:V.historySizeBytes}}),{c(){e=j("div"),n=j("div"),D(t.$$.fragment),r=O(),D(s.$$.fragment),o=O(),D(f.$$.fragment),i=O(),a=j("div"),D(c.$$.fragment),p=O(),D(b.$$.fragment),d=O(),D(w.$$.fragment),u=O(),_=j("div"),h&&h.c(),k=O(),D(P.$$.fragment),this.h()},l(I){e=L(I,"DIV",{class:!0});var Y=z(e);n=L(Y,"DIV",{class:!0});var te=z(n);C(t.$$.fragment,te),r=Q(te),C(s.$$.fragment,te),o=Q(te),C(f.$$.fragment,te),te.forEach($),i=Q(Y),a=L(Y,"DIV",{class:!0});var se=z(a);C(c.$$.fragment,se),p=Q(se),C(b.$$.fragment,se),d=Q(se),C(w.$$.fragment,se),se.forEach($),u=Q(Y),_=L(Y,"DIV",{class:!0});var fe=z(_);h&&h.l(fe),k=Q(fe),C(P.$$.fragment,fe),fe.forEach($),Y.forEach($),this.h()},h(){H(n,"class","flex w-full flex-col gap-2 xl:w-1/3"),H(a,"class","flex w-full flex-col gap-2 xl:w-1/3"),H(_,"class","flex w-full flex-col gap-2 xl:w-1/3"),H(e,"class","flex w-full flex-col gap-2 xl:flex-row xl:gap-16")},m(I,Y){W(I,e,Y),B(e,n),A(t,n,null),B(n,r),A(s,n,null),B(n,o),A(f,n,null),B(e,i),B(e,a),A(c,a,null),B(a,p),A(b,a,null),B(a,d),A(w,a,null),B(e,u),B(e,_),h&&h.m(_,null),B(_,k),A(P,_,null),E=!0},p(I,[Y]){var ft,it,at,ut,ct,mt,pt,_t,dt,gt,wt,$t,ht,kt,bt;const te={};Y&49&&(te.tooltip=I[4]?we((ft=I[0])==null?void 0:ft.startTime,I[5],{relative:!1}):we((it=I[0])==null?void 0:it.startTime,I[5],{relative:!0})),Y&49&&(te.content=we((at=I[0])==null?void 0:at.startTime,I[5],{relative:I[4]})),t.$set(te);const se={};Y&49&&(se.tooltip=I[4]?we((ut=I[0])==null?void 0:ut.endTime,I[5],{relative:!1}):we((ct=I[0])==null?void 0:ct.endTime,I[5],{relative:!0})),Y&49&&(se.content=(mt=I[0])!=null&&mt.endTime?we((pt=I[0])==null?void 0:pt.endTime,I[5],{relative:I[4]}):"-"),s.$set(se);const fe={};Y&4&&(fe.content=I[2]),f.$set(fe);const ge={};Y&1&&(ge.content=(_t=I[0])==null?void 0:_t.runId),c.$set(ge);const be={};Y&1&&(be.content=(dt=I[0])==null?void 0:dt.name),Y&9&&(be.href=Ct({namespace:I[3],query:`WorkflowType="${(gt=I[0])==null?void 0:gt.name}"`})),b.$set(be);const ve={};Y&1&&(ve.content=(wt=I[0])==null?void 0:wt.taskQueue),Y&3&&(ve.href=We({namespace:I[1].params.namespace,workflow:($t=I[0])==null?void 0:$t.id,run:(ht=I[0])==null?void 0:ht.runId})),w.$set(ve),(kt=I[0])!=null&&kt.parent?h?(h.p(I,Y),Y&1&&m(h,1)):(h=Ht(I),h.c(),m(h,1),h.m(_,k)):h&&(le(),g(h,1,1,()=>{h=null}),oe());const st={};Y&1&&(st.content=(bt=I[0])==null?void 0:bt.historySizeBytes),P.$set(st)},i(I){E||(m(t.$$.fragment,I),m(s.$$.fragment,I),m(f.$$.fragment,I),m(c.$$.fragment,I),m(b.$$.fragment,I),m(w.$$.fragment,I),m(h),m(P.$$.fragment,I),E=!0)},o(I){g(t.$$.fragment,I),g(s.$$.fragment,I),g(f.$$.fragment,I),g(c.$$.fragment,I),g(b.$$.fragment,I),g(w.$$.fragment,I),g(h),g(P.$$.fragment,I),E=!1},d(I){I&&$(e),S(t),S(s),S(f),S(c),S(b),S(w),h&&h.d(),S(P)}}}function Or(l,e,n){let t,r,s,o,f,i,a;return ne(l,Ee,c=>n(6,o=c)),ne(l,Be,c=>n(1,f=c)),ne(l,Qn,c=>n(4,i=c)),ne(l,jn,c=>n(5,a=c)),l.$$.update=()=>{l.$$.dirty&2&&n(3,{namespace:t}=f.params,t),l.$$.dirty&64&&n(0,{workflow:r}=o,r),l.$$.dirty&1&&n(2,s=zn({start:r==null?void 0:r.startTime,end:(r==null?void 0:r.endTime)||Date.now(),includeMilliseconds:!0}))},[r,f,s,t,i,a,o]}class Qr extends he{constructor(e){super(),ke(this,e,Or,Ur,$e,{})}}const Pn=Xn("resetWorkflows",{});function Ut(l,e,n){const t=l.slice();return t[25]=e[n],t}function jr(l){let e,n=M("workflows.reset-modal-title")+"",t;return{c(){e=j("h3"),t=X(n),this.h()},l(r){e=L(r,"H3",{slot:!0});var s=z(e);t=x(s,n),s.forEach($),this.h()},h(){H(e,"slot","title")},m(r,s){W(r,e,s),B(e,t)},p:de,d(r){r&&$(e)}}}function Lr(l){let e=l[25].id+"",n,t,r=l[25].eventType+"",s;return{c(){n=X(e),t=X(" - "),s=X(r)},l(o){n=x(o,e),t=x(o," - "),s=x(o,r)},m(o,f){W(o,n,f),W(o,t,f),W(o,s,f)},p(o,f){f&512&&e!==(e=o[25].id+"")&&ie(n,e),f&512&&r!==(r=o[25].eventType+"")&&ie(s,r)},d(o){o&&($(n),$(t),$(s))}}}function Ot(l){let e,n;return e=new rt({props:{value:l[25].id,$$slots:{default:[Lr]},$$scope:{ctx:l}}}),{c(){D(e.$$.fragment)},l(t){C(e.$$.fragment,t)},m(t,r){A(e,t,r),n=!0},p(t,r){const s={};r&512&&(s.value=t[25].id),r&268435968&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function zr(l){let e,n,t=Ve(l[9]),r=[];for(let o=0;o<t.length;o+=1)r[o]=Ot(Ut(l,t,o));const s=o=>g(r[o],1,1,()=>{r[o]=null});return{c(){for(let o=0;o<r.length;o+=1)r[o].c();e=me()},l(o){for(let f=0;f<r.length;f+=1)r[f].l(o);e=me()},m(o,f){for(let i=0;i<r.length;i+=1)r[i]&&r[i].m(o,f);W(o,e,f),n=!0},p(o,f){if(f&512){t=Ve(o[9]);let i;for(i=0;i<t.length;i+=1){const a=Ut(o,t,i);r[i]?(r[i].p(a,f),m(r[i],1)):(r[i]=Ot(a),r[i].c(),m(r[i],1),r[i].m(e.parentNode,e))}for(le(),i=t.length;i<r.length;i+=1)s(i);oe()}},i(o){if(!n){for(let f=0;f<t.length;f+=1)m(r[f]);n=!0}},o(o){r=r.filter(Boolean);for(let f=0;f<r.length;f+=1)g(r[f]);n=!1},d(o){o&&$(e),xe(r,o)}}}function yr(l){let e,n,t;function r(o){l[20](o)}let s={id:"reset-include-signals-checkbox","data-testid":"reset-include-signals-checkbox",label:M("workflows.reset-reapply-type-label")};return l[5]!==void 0&&(s.checked=l[5]),e=new Ze({props:s}),ae.push(()=>ce(e,"checked",r)),{c(){D(e.$$.fragment)},l(o){C(e.$$.fragment,o)},m(o,f){A(e,o,f),t=!0},p(o,f){const i={};!n&&f&32&&(n=!0,i.checked=o[5],ue(()=>n=!1)),e.$set(i)},i(o){t||(m(e.$$.fragment,o),t=!0)},o(o){g(e.$$.fragment,o),t=!1},d(o){S(e,o)}}}function Jr(l){let e,n,t,r,s,o;function f(p){l[18](p)}let i={id:"reset-exclude-signals-checkbox","data-testid":"reset-exclude-signals-checkbox",label:M("workflows.reset-exclude-signals")};l[6]!==void 0&&(i.checked=l[6]),e=new Ze({props:i}),ae.push(()=>ce(e,"checked",f));function a(p){l[19](p)}let c={id:"reset-exclude-updates-checkbox","data-testid":"reset-exclude-updates-checkbox",label:M("workflows.reset-exclude-updates")};return l[7]!==void 0&&(c.checked=l[7]),r=new Ze({props:c}),ae.push(()=>ce(r,"checked",a)),{c(){D(e.$$.fragment),t=O(),D(r.$$.fragment)},l(p){C(e.$$.fragment,p),t=Q(p),C(r.$$.fragment,p)},m(p,b){A(e,p,b),W(p,t,b),A(r,p,b),o=!0},p(p,b){const d={};!n&&b&64&&(n=!0,d.checked=p[6],ue(()=>n=!1)),e.$set(d);const w={};!s&&b&128&&(s=!0,w.checked=p[7],ue(()=>s=!1)),r.$set(w)},i(p){o||(m(e.$$.fragment,p),m(r.$$.fragment,p),o=!0)},o(p){g(e.$$.fragment,p),g(r.$$.fragment,p),o=!1},d(p){p&&$(t),S(e,p),S(r,p)}}}function Yr(l){let e,n,t,r,s,o,f,i,a,c,p;function b(E){l[17](E)}let d={"data-testid":"workflow-reset-event-id-select",menuClass:"max-h-[16rem]",label:M("workflows.reset-event-radio-group-description"),id:"reset-event-id",$$slots:{default:[zr]},$$scope:{ctx:l}};l[8]!==void 0&&(d.value=l[8]),n=new Tn({props:d}),ae.push(()=>ce(n,"value",b));const w=[Jr,yr],u=[];function _(E,h){return h&3072&&(s=null),s==null&&(s=!!(E[10]||er("1.24.0",E[11]))),s?0:1}o=_(l,-1),f=u[o]=w[o](l);function k(E){l[21](E)}let P={id:"reset-reason",label:M("common.reason")};return l[4]!==void 0&&(P.value=l[4]),a=new En({props:P}),ae.push(()=>ce(a,"value",k)),{c(){e=j("div"),D(n.$$.fragment),r=O(),f.c(),i=O(),D(a.$$.fragment),this.h()},l(E){e=L(E,"DIV",{class:!0});var h=z(e);C(n.$$.fragment,h),r=Q(h),f.l(h),i=Q(h),C(a.$$.fragment,h),h.forEach($),this.h()},h(){H(e,"class","flex w-full flex-col gap-4")},m(E,h){W(E,e,h),A(n,e,null),B(e,r),u[o].m(e,null),B(e,i),A(a,e,null),p=!0},p(E,h){const U={};h&268435968&&(U.$$scope={dirty:h,ctx:E}),!t&&h&256&&(t=!0,U.value=E[8],ue(()=>t=!1)),n.$set(U);let N=o;o=_(E,h),o===N?u[o].p(E,h):(le(),g(u[N],1,1,()=>{u[N]=null}),oe(),f=u[o],f?f.p(E,h):(f=u[o]=w[o](E),f.c()),m(f,1),f.m(e,i));const G={};!c&&h&16&&(c=!0,G.value=E[4],ue(()=>c=!1)),a.$set(G)},i(E){p||(m(n.$$.fragment,E),m(f),m(a.$$.fragment,E),p=!0)},o(E){g(n.$$.fragment,E),g(f),g(a.$$.fragment,E),p=!1},d(E){E&&$(e),S(n),u[o].d(),S(a)}}}function Gr(l){let e,n,t,r;function s(i){l[22](i)}function o(i){l[23](i)}let f={id:"reset-confirmation-modal","data-testid":"reset-confirmation-modal",confirmText:M("common.confirm"),cancelText:M("common.cancel"),loading:l[3],confirmDisabled:!l[8],$$slots:{content:[Yr],title:[jr]},$$scope:{ctx:l}};return l[2]!==void 0&&(f.error=l[2]),l[0]!==void 0&&(f.open=l[0]),e=new In({props:f}),ae.push(()=>ce(e,"error",s)),ae.push(()=>ce(e,"open",o)),e.$on("confirmModal",l[14]),e.$on("cancelModal",l[13]),{c(){D(e.$$.fragment)},l(i){C(e.$$.fragment,i)},m(i,a){A(e,i,a),r=!0},p(i,[a]){const c={};a&8&&(c.loading=i[3]),a&256&&(c.confirmDisabled=!i[8]),a&268439536&&(c.$$scope={dirty:a,ctx:i}),!n&&a&4&&(n=!0,c.error=i[2],ue(()=>n=!1)),!t&&a&1&&(t=!0,c.open=i[0],ue(()=>t=!1)),e.$set(c)},i(i){r||(m(e.$$.fragment,i),r=!0)},o(i){g(e.$$.fragment,i),r=!1},d(i){S(e,i)}}}function Zr(l,e,n){let t,r=de,s=()=>(r(),r=Ge(d,v=>n(24,t=v)),d),o,f,i,a;ne(l,Dn,v=>n(9,f=v)),ne(l,Bn,v=>n(10,i=v)),ne(l,xn,v=>n(11,a=v)),l.$$.on_destroy.push(()=>r());let{open:c}=e,{workflow:p}=e,{namespace:b}=e,{refresh:d}=e;s();let w="",u=!1,_=nt("");ne(l,_,v=>n(8,o=v));let k,P=!0,E=!1,h=!1;const U=()=>{n(0,c=!1),n(5,P=!0),n(6,E=!1),n(7,h=!1),_e(_,o="",o),n(4,k="")},N=async()=>{n(2,w=""),n(3,u=!0);try{const v=await Fn({namespace:b,workflow:p,eventId:o,reason:k,includeSignals:P,excludeSignals:E,excludeUpdates:h});v&&v.runId&&Pn.update(y=>({...y,[p.runId]:v.runId})),_e(d,t=Date.now(),t),U()}catch(v){n(2,w=Cn(v)?v.message:M("common.unknown-error"))}finally{n(3,u=!1)}U()};function G(v){o=v,_.set(o)}function Z(v){E=v,n(6,E)}function re(v){h=v,n(7,h)}function ee(v){P=v,n(5,P)}function K(v){k=v,n(4,k)}function J(v){w=v,n(2,w)}function T(v){c=v,n(0,c)}return l.$$set=v=>{"open"in v&&n(0,c=v.open),"workflow"in v&&n(15,p=v.workflow),"namespace"in v&&n(16,b=v.namespace),"refresh"in v&&s(n(1,d=v.refresh))},[c,d,w,u,k,P,E,h,o,f,i,a,_,U,N,p,b,G,Z,re,ee,K,J,T]}class Kr extends he{constructor(e){super(),ke(this,e,Zr,Gr,$e,{open:0,workflow:15,namespace:16,refresh:1})}}function Qt(l,e,n){const t=l.slice();return t[25]=e[n].name,t[26]=e[n].description!==void 0?e[n].description:"",t}function Xr(l){let e,n=M("workflows.signal-modal-title")+"",t;return{c(){e=j("h3"),t=X(n),this.h()},l(r){e=L(r,"H3",{slot:!0});var s=z(e);t=x(s,n),s.forEach($),this.h()},h(){H(e,"slot","title")},m(r,s){W(r,e,s),B(e,t)},p:de,d(r){r&&$(e)}}}function xr(l){let e,n,t;function r(o){l[18](o)}let s={id:"signal-name",label:M("workflows.signal-name-label"),required:!0};return l[4]!==void 0&&(s.value=l[4]),e=new En({props:s}),ae.push(()=>ce(e,"value",r)),{c(){D(e.$$.fragment)},l(o){C(e.$$.fragment,o)},m(o,f){A(e,o,f),t=!0},p(o,f){const i={};!n&&f&16&&(n=!0,i.value=o[4],ue(()=>n=!1)),e.$set(i)},i(o){t||(m(e.$$.fragment,o),t=!0)},o(o){g(e.$$.fragment,o),t=!1},d(o){S(e,o)}}}function el(l){let e,n,t;function r(o){l[17](o)}let s={id:"signal-select",label:M("workflows.signal-name-label"),class:"min-w-fit","data-testid":"signal-select",placeholder:"Select a signal",required:!0,$$slots:{default:[rl]},$$scope:{ctx:l}};return l[4]!==void 0&&(s.value=l[4]),e=new Tn({props:s}),ae.push(()=>ce(e,"value",r)),{c(){D(e.$$.fragment)},l(o){C(e.$$.fragment,o)},m(o,f){A(e,o,f),t=!0},p(o,f){const i={};f&536871168&&(i.$$scope={dirty:f,ctx:o}),!n&&f&16&&(n=!0,i.value=o[4],ue(()=>n=!1)),e.$set(i)},i(o){t||(m(e.$$.fragment,o),t=!0)},o(o){g(e.$$.fragment,o),t=!1},d(o){S(e,o)}}}function tl(l){let e=l[25]+"",n;return{c(){n=X(e)},l(t){n=x(t,e)},m(t,r){W(t,n,r)},p(t,r){r&256&&e!==(e=t[25]+"")&&ie(n,e)},d(t){t&&$(n)}}}function jt(l){let e,n;return e=new rt({props:{value:l[25],description:l[26],$$slots:{default:[tl]},$$scope:{ctx:l}}}),{c(){D(e.$$.fragment)},l(t){C(e.$$.fragment,t)},m(t,r){A(e,t,r),n=!0},p(t,r){const s={};r&256&&(s.value=t[25]),r&256&&(s.description=t[26]),r&536871168&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function nl(l){let e;return{c(){e=X("Custom")},l(n){e=x(n,"Custom")},m(n,t){W(n,e,t)},d(n){n&&$(e)}}}function rl(l){let e,n,t,r=Ve(l[8]),s=[];for(let f=0;f<r.length;f+=1)s[f]=jt(Qt(l,r,f));const o=f=>g(s[f],1,1,()=>{s[f]=null});return n=new rt({props:{value:"custom",description:"Input Signal name",$$slots:{default:[nl]},$$scope:{ctx:l}}}),n.$on("click",l[11]),{c(){for(let f=0;f<s.length;f+=1)s[f].c();e=O(),D(n.$$.fragment)},l(f){for(let i=0;i<s.length;i+=1)s[i].l(f);e=Q(f),C(n.$$.fragment,f)},m(f,i){for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(f,i);W(f,e,i),A(n,f,i),t=!0},p(f,i){if(i&256){r=Ve(f[8]);let c;for(c=0;c<r.length;c+=1){const p=Qt(f,r,c);s[c]?(s[c].p(p,i),m(s[c],1)):(s[c]=jt(p),s[c].c(),m(s[c],1),s[c].m(e.parentNode,e))}for(le(),c=r.length;c<s.length;c+=1)o(c);oe()}const a={};i&536870912&&(a.$$scope={dirty:i,ctx:f}),n.$set(a)},i(f){if(!t){for(let i=0;i<r.length;i+=1)m(s[i]);m(n.$$.fragment,f),t=!0}},o(f){s=s.filter(Boolean);for(let i=0;i<s.length;i+=1)g(s[i]);g(n.$$.fragment,f),t=!1},d(f){f&&$(e),xe(s,f),S(n,f)}}}function ll(l){let e,n,t,r,s,o,f,i;const a=[el,xr],c=[];function p(u,_){var k;return((k=u[8])==null?void 0:k.length)>0&&!u[5]?0:1}n=p(l),t=c[n]=a[n](l);function b(u){l[19](u)}function d(u){l[20](u)}let w={};return l[7]!==void 0&&(w.input=l[7]),l[6]!==void 0&&(w.encoding=l[6]),s=new tr({props:w}),ae.push(()=>ce(s,"input",b)),ae.push(()=>ce(s,"encoding",d)),{c(){e=j("div"),t.c(),r=O(),D(s.$$.fragment),this.h()},l(u){e=L(u,"DIV",{slot:!0,class:!0});var _=z(e);t.l(_),r=Q(_),C(s.$$.fragment,_),_.forEach($),this.h()},h(){H(e,"slot","content"),H(e,"class","flex flex-col gap-4")},m(u,_){W(u,e,_),c[n].m(e,null),B(e,r),A(s,e,null),i=!0},p(u,_){let k=n;n=p(u),n===k?c[n].p(u,_):(le(),g(c[k],1,1,()=>{c[k]=null}),oe(),t=c[n],t?t.p(u,_):(t=c[n]=a[n](u),t.c()),m(t,1),t.m(e,r));const P={};!o&&_&128&&(o=!0,P.input=u[7],ue(()=>o=!1)),!f&&_&64&&(f=!0,P.encoding=u[6],ue(()=>f=!1)),s.$set(P)},i(u){i||(m(t),m(s.$$.fragment,u),i=!0)},o(u){g(t),g(s.$$.fragment,u),i=!1},d(u){u&&$(e),c[n].d(),S(s)}}}function ol(l){let e,n,t,r;function s(i){l[21](i)}function o(i){l[22](i)}let f={id:"signal-confirmation-modal","data-testid":"signal-confirmation-modal",loading:l[3],confirmText:M("common.submit"),cancelText:M("common.cancel"),confirmDisabled:!l[4]||!l[6],$$slots:{content:[ll],title:[Xr]},$$scope:{ctx:l}};return l[2]!==void 0&&(f.error=l[2]),l[0]!==void 0&&(f.open=l[0]),e=new In({props:f}),ae.push(()=>ce(e,"error",s)),ae.push(()=>ce(e,"open",o)),e.$on("cancelModal",l[9]),e.$on("confirmModal",l[10]),{c(){D(e.$$.fragment)},l(i){C(e.$$.fragment,i)},m(i,a){A(e,i,a),r=!0},p(i,[a]){const c={};a&8&&(c.loading=i[3]),a&80&&(c.confirmDisabled=!i[4]||!i[6]),a&536871408&&(c.$$scope={dirty:a,ctx:i}),!n&&a&4&&(n=!0,c.error=i[2],ue(()=>n=!1)),!t&&a&1&&(t=!0,c.open=i[0],ue(()=>t=!1)),e.$set(c)},i(i){r||(m(e.$$.fragment,i),r=!0)},o(i){g(e.$$.fragment,i),r=!1},d(i){S(e,i)}}}const Lt="json/plain";function sl(l,e,n){let t,r,s,o=de,f=()=>(o(),o=Ge(_,R=>n(23,s=R)),_),i,a=de,c=()=>(a(),a=Ge(U,R=>n(24,i=R)),U),p;ne(l,Ee,R=>n(16,p=R)),l.$$.on_destroy.push(()=>o()),l.$$.on_destroy.push(()=>a());var b;let{open:d}=e,{workflow:w}=e,{namespace:u}=e,{refresh:_}=e;f();let k="",P=!1,E="",h=!1,U=nt(Lt);c();let N="";const G=()=>{n(0,d=!1),n(4,E=""),n(7,N=""),n(5,h=!1),_e(U,i=Lt,i)},Z=async()=>{n(2,k=""),n(3,P=!0);try{await Hn({namespace:u,workflow:w,input:N,encoding:i,name:E}),_e(_,s=Date.now(),s),nr.push({message:M("workflows.signal-success"),id:"workflow-signal-success-toast"}),G()}catch(R){n(2,k=Cn(R)?R.message:M("common.unknown-error"))}finally{n(3,P=!1)}},re=()=>{n(5,h=!0),n(4,E="")};function ee(R){E=R,n(4,E)}function K(R){E=R,n(4,E)}function J(R){N=R,n(7,N)}function T(R){U=R,c(n(6,U))}function v(R){k=R,n(2,k)}function y(R){d=R,n(0,d)}return l.$$set=R=>{"open"in R&&n(0,d=R.open),"workflow"in R&&n(12,w=R.workflow),"namespace"in R&&n(13,u=R.namespace),"refresh"in R&&f(n(1,_=R.refresh))},l.$$.update=()=>{l.$$.dirty&65536&&n(15,{metadata:t}=p,t),l.$$.dirty&49152&&n(8,r=n(14,b=t==null?void 0:t.definition)===null||b===void 0?void 0:b.signalDefinitions)},[d,_,k,P,E,h,U,N,r,G,Z,re,w,u,b,t,p,ee,K,J,T,v,y]}class fl extends he{constructor(e){super(),ke(this,e,sl,ol,$e,{open:0,workflow:12,namespace:13,refresh:1})}}const il=(l,e,n)=>!l.disableWriteActions&&!l.workflowSignalDisabled&&!e.namespaceWriteDisabled(n);function zt(l,e,n){const t=l.slice();return t[31]=e[n].onClick,t[32]=e[n].destructive,t[33]=e[n].label,t[34]=e[n].enabled,t[35]=e[n].testId,t[36]=e[n].description,t}function al(l){let e,n;return e=new tt({props:{bottomRight:!0,width:200,text:l[4],hide:l[7],$$slots:{default:[pl]},$$scope:{ctx:l}}}),{c(){D(e.$$.fragment)},l(t){C(e.$$.fragment,t)},m(t,r){A(e,t,r),n=!0},p(t,r){const s={};r[0]&16&&(s.text=t[4]),r[0]&128&&(s.hide=t[7]),r[0]&2176|r[1]&256&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function ul(l){let e,n;return e=new An({props:{id:"workflow-actions",menuClass:"w-[16rem]",position:"right",primaryActionDisabled:!l[7],label:M("workflows.reset"),menuLabel:M("workflows.workflow-actions"),$$slots:{default:[dl]},$$scope:{ctx:l}}}),e.$on("click",l[25]),{c(){D(e.$$.fragment)},l(t){C(e.$$.fragment,t)},m(t,r){A(e,t,r),n=!0},p(t,r){const s={};r[0]&128&&(s.primaryActionDisabled=!t[7]),r[0]&3|r[1]&256&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function cl(l){let e,n;return e=new An({props:{id:"workflow-actions",menuClass:"w-[16rem] md:w-[24rem]",position:"right",disabled:l[14],primaryActionDisabled:!l[15]||l[2],label:M("workflows.request-cancellation"),menuLabel:M("workflows.workflow-actions"),$$slots:{default:[$l]},$$scope:{ctx:l}}}),e.$on("click",l[23]),{c(){D(e.$$.fragment)},l(t){C(e.$$.fragment,t)},m(t,r){A(e,t,r),n=!0},p(t,r){const s={};r[0]&16384&&(s.disabled=t[14]),r[0]&32772&&(s.primaryActionDisabled=!t[15]||t[2]),r[0]&8451|r[1]&256&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function ml(l){let e=M("workflows.reset")+"",n;return{c(){n=X(e)},l(t){n=x(t,e)},m(t,r){W(t,n,r)},p:de,d(t){t&&$(n)}}}function pl(l){let e,n;return e=new lr({props:{"aria-label":M("workflows.reset"),disabled:!l[7],variant:"primary","data-testid":"workflow-reset-button",$$slots:{default:[ml]},$$scope:{ctx:l}}}),e.$on("click",l[26]),{c(){D(e.$$.fragment)},l(t){C(e.$$.fragment,t)},m(t,r){A(e,t,r),n=!0},p(t,r){const s={};r[0]&128&&(s.disabled=!t[7]),r[1]&256&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function _l(l){let e=M("workflows.start-workflow-like-this-one")+"",n;return{c(){n=X(e)},l(t){n=x(t,e)},m(t,r){W(t,n,r)},p:de,d(t){t&&$(n)}}}function dl(l){let e,n;return e=new lt({props:{"data-testid":"start-workflow-button",$$slots:{default:[_l]},$$scope:{ctx:l}}}),e.$on("click",l[24]),{c(){D(e.$$.fragment)},l(t){C(e.$$.fragment,t)},m(t,r){A(e,t,r),n=!0},p(t,r){const s={};r[1]&256&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function yt(l){let e,n;return e=new vn({}),{c(){D(e.$$.fragment)},l(t){C(e.$$.fragment,t)},m(t,r){A(e,t,r),n=!0},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function gl(l){let e=l[33]+"",n;return{c(){n=X(e)},l(t){n=x(t,e)},m(t,r){W(t,n,r)},p(t,r){r[0]&8192&&e!==(e=t[33]+"")&&ie(n,e)},d(t){t&&$(n)}}}function Jt(l){let e,n,t,r=l[32]&&yt();return n=new lt({props:{destructive:l[32],disabled:!l[34],"data-testid":l[35],description:l[36],$$slots:{default:[gl]},$$scope:{ctx:l}}}),n.$on("click",function(){Vn(l[31])&&l[31].apply(this,arguments)}),{c(){r&&r.c(),e=O(),D(n.$$.fragment)},l(s){r&&r.l(s),e=Q(s),C(n.$$.fragment,s)},m(s,o){r&&r.m(s,o),W(s,e,o),A(n,s,o),t=!0},p(s,o){l=s,l[32]?r?o[0]&8192&&m(r,1):(r=yt(),r.c(),m(r,1),r.m(e.parentNode,e)):r&&(le(),g(r,1,1,()=>{r=null}),oe());const f={};o[0]&8192&&(f.destructive=l[32]),o[0]&8192&&(f.disabled=!l[34]),o[0]&8192&&(f["data-testid"]=l[35]),o[0]&8192&&(f.description=l[36]),o[0]&8192|o[1]&256&&(f.$$scope={dirty:o,ctx:l}),n.$set(f)},i(s){t||(m(r),m(n.$$.fragment,s),t=!0)},o(s){g(r),g(n.$$.fragment,s),t=!1},d(s){s&&$(e),r&&r.d(s),S(n,s)}}}function Yt(l){let e,n,t,r;return e=new vn({}),t=new lt({props:{"data-testid":"start-workflow-button",$$slots:{default:[wl]},$$scope:{ctx:l}}}),t.$on("click",l[22]),{c(){D(e.$$.fragment),n=O(),D(t.$$.fragment)},l(s){C(e.$$.fragment,s),n=Q(s),C(t.$$.fragment,s)},m(s,o){A(e,s,o),W(s,n,o),A(t,s,o),r=!0},p(s,o){const f={};o[1]&256&&(f.$$scope={dirty:o,ctx:s}),t.$set(f)},i(s){r||(m(e.$$.fragment,s),m(t.$$.fragment,s),r=!0)},o(s){g(e.$$.fragment,s),g(t.$$.fragment,s),r=!1},d(s){s&&$(n),S(e,s),S(t,s)}}}function wl(l){let e=M("workflows.start-workflow-like-this-one")+"",n;return{c(){n=X(e)},l(t){n=x(t,e)},m(t,r){W(t,n,r)},p:de,d(t){t&&$(n)}}}function $l(l){let e,n=!Ke(l[8]),t,r,s=Ve(l[13]),o=[];for(let a=0;a<s.length;a+=1)o[a]=Jt(zt(l,s,a));const f=a=>g(o[a],1,1,()=>{o[a]=null});let i=n&&Yt(l);return{c(){for(let a=0;a<o.length;a+=1)o[a].c();e=O(),i&&i.c(),t=me()},l(a){for(let c=0;c<o.length;c+=1)o[c].l(a);e=Q(a),i&&i.l(a),t=me()},m(a,c){for(let p=0;p<o.length;p+=1)o[p]&&o[p].m(a,c);W(a,e,c),i&&i.m(a,c),W(a,t,c),r=!0},p(a,c){if(c[0]&8192){s=Ve(a[13]);let p;for(p=0;p<s.length;p+=1){const b=zt(a,s,p);o[p]?(o[p].p(b,c),m(o[p],1)):(o[p]=Jt(b),o[p].c(),m(o[p],1),o[p].m(e.parentNode,e))}for(le(),p=s.length;p<o.length;p+=1)f(p);oe()}c[0]&256&&(n=!Ke(a[8])),n?i?(i.p(a,c),c[0]&256&&m(i,1)):(i=Yt(a),i.c(),m(i,1),i.m(t.parentNode,t)):i&&(le(),g(i,1,1,()=>{i=null}),oe())},i(a){if(!r){for(let c=0;c<s.length;c+=1)m(o[c]);m(i),r=!0}},o(a){o=o.filter(Boolean);for(let c=0;c<o.length;c+=1)g(o[c]);g(i),r=!1},d(a){a&&($(e),$(t)),xe(o,a),i&&i.d(a)}}}function Gt(l){let e,n,t;function r(o){l[27](o)}let s={refresh:Fe,workflow:l[0],namespace:l[1]};return l[11]!==void 0&&(s.open=l[11]),e=new Kr({props:s}),ae.push(()=>ce(e,"open",r)),{c(){D(e.$$.fragment)},l(o){C(e.$$.fragment,o)},m(o,f){A(e,o,f),t=!0},p(o,f){const i={};f[0]&1&&(i.workflow=o[0]),f[0]&2&&(i.namespace=o[1]),!n&&f[0]&2048&&(n=!0,i.open=o[11],ue(()=>n=!1)),e.$set(i)},i(o){t||(m(e.$$.fragment,o),t=!0)},o(o){g(e.$$.fragment,o),t=!1},d(o){S(e,o)}}}function Zt(l){let e,n,t;function r(o){l[28](o)}let s={refresh:Fe,workflow:l[0],namespace:l[1]};return l[12]!==void 0&&(s.open=l[12]),e=new fl({props:s}),ae.push(()=>ce(e,"open",r)),{c(){D(e.$$.fragment)},l(o){C(e.$$.fragment,o)},m(o,f){A(e,o,f),t=!0},p(o,f){const i={};f[0]&1&&(i.workflow=o[0]),f[0]&2&&(i.namespace=o[1]),!n&&f[0]&4096&&(n=!0,i.open=o[12],ue(()=>n=!1)),e.$set(i)},i(o){t||(m(e.$$.fragment,o),t=!0)},o(o){g(e.$$.fragment,o),t=!1},d(o){S(e,o)}}}function Kt(l){let e,n,t;function r(o){l[29](o)}let s={refresh:Fe,workflow:l[0],namespace:l[1]};return l[9]!==void 0&&(s.open=l[9]),e=new Gn({props:s}),ae.push(()=>ce(e,"open",r)),{c(){D(e.$$.fragment)},l(o){C(e.$$.fragment,o)},m(o,f){A(e,o,f),t=!0},p(o,f){const i={};f[0]&1&&(i.workflow=o[0]),f[0]&2&&(i.namespace=o[1]),!n&&f[0]&512&&(n=!0,i.open=o[9],ue(()=>n=!1)),e.$set(i)},i(o){t||(m(e.$$.fragment,o),t=!0)},o(o){g(e.$$.fragment,o),t=!1},d(o){S(e,o)}}}function Xt(l){let e,n,t;function r(o){l[30](o)}let s={refresh:Fe,workflow:l[0],namespace:l[1]};return l[10]!==void 0&&(s.open=l[10]),e=new Zn({props:s}),ae.push(()=>ce(e,"open",r)),{c(){D(e.$$.fragment)},l(o){C(e.$$.fragment,o)},m(o,f){A(e,o,f),t=!0},p(o,f){const i={};f[0]&1&&(i.workflow=o[0]),f[0]&2&&(i.namespace=o[1]),!n&&f[0]&1024&&(n=!0,i.open=o[10],ue(()=>n=!1)),e.$set(i)},i(o){t||(m(e.$$.fragment,o),t=!0)},o(o){g(e.$$.fragment,o),t=!1},d(o){S(e,o)}}}function hl(l){let e,n,t,r,s,o,f,i,a;const c=[cl,ul,al],p=[];function b(k,P){return P[0]&256&&(e=null),k[3]?0:(e==null&&(e=!Ke(k[8])),e?1:2)}n=b(l,[-1,-1]),t=p[n]=c[n](l);let d=l[7]&&Gt(l),w=l[6]&&Zt(l),u=l[15]&&Kt(l),_=l[5]&&Xt(l);return{c(){t.c(),r=O(),d&&d.c(),s=O(),w&&w.c(),o=O(),u&&u.c(),f=O(),_&&_.c(),i=me()},l(k){t.l(k),r=Q(k),d&&d.l(k),s=Q(k),w&&w.l(k),o=Q(k),u&&u.l(k),f=Q(k),_&&_.l(k),i=me()},m(k,P){p[n].m(k,P),W(k,r,P),d&&d.m(k,P),W(k,s,P),w&&w.m(k,P),W(k,o,P),u&&u.m(k,P),W(k,f,P),_&&_.m(k,P),W(k,i,P),a=!0},p(k,P){let E=n;n=b(k,P),n===E?p[n].p(k,P):(le(),g(p[E],1,1,()=>{p[E]=null}),oe(),t=p[n],t?t.p(k,P):(t=p[n]=c[n](k),t.c()),m(t,1),t.m(r.parentNode,r)),k[7]?d?(d.p(k,P),P[0]&128&&m(d,1)):(d=Gt(k),d.c(),m(d,1),d.m(s.parentNode,s)):d&&(le(),g(d,1,1,()=>{d=null}),oe()),k[6]?w?(w.p(k,P),P[0]&64&&m(w,1)):(w=Zt(k),w.c(),m(w,1),w.m(o.parentNode,o)):w&&(le(),g(w,1,1,()=>{w=null}),oe()),k[15]?u?(u.p(k,P),P[0]&32768&&m(u,1)):(u=Kt(k),u.c(),m(u,1),u.m(f.parentNode,f)):u&&(le(),g(u,1,1,()=>{u=null}),oe()),k[5]?_?(_.p(k,P),P[0]&32&&m(_,1)):(_=Xt(k),_.c(),m(_,1),_.m(i.parentNode,i)):_&&(le(),g(_,1,1,()=>{_=null}),oe())},i(k){a||(m(t),m(d),m(w),m(u),m(_),a=!0)},o(k){g(t),g(d),g(w),g(u),g(_),a=!1},d(k){k&&($(r),$(s),$(o),$(f),$(i)),p[n].d(k),d&&d.d(k),w&&w.d(k),u&&u.d(k),_&&_.d(k)}}}function kl(l,e,n){let t,r,s,o,f,i,a,c,p;ne(l,Dn,F=>n(20,a=F)),ne(l,Be,F=>n(8,p=F));var b,d;let{workflow:w}=e,{namespace:u}=e,{cancelInProgress:_}=e,{isRunning:k}=e,P=!1,E=!1,h=!1,U=!1,N,G=or();ne(l,G,F=>n(21,c=F));let Z;const re=()=>Wt(St({namespace:u,workflowId:w.id,taskQueue:w.taskQueue,workflowType:w.name})),ee=()=>n(9,P=!0),K=()=>Wt(St({namespace:u,workflowId:w.id,taskQueue:w.taskQueue,workflowType:w.name})),J=()=>n(11,h=!0),T=()=>n(11,h=!0);function v(F){h=F,n(11,h),n(7,f),n(4,N),n(6,r),n(5,s),n(19,o),n(0,w),n(20,a),n(17,b),n(18,d),n(8,p),n(21,c),n(1,u)}function y(F){U=F,n(12,U),n(7,f),n(4,N),n(6,r),n(5,s),n(19,o),n(0,w),n(20,a),n(17,b),n(18,d),n(8,p),n(21,c),n(1,u)}function R(F){P=F,n(9,P)}function q(F){E=F,n(10,E),n(7,f),n(4,N),n(6,r),n(5,s),n(19,o),n(0,w),n(20,a),n(17,b),n(18,d),n(8,p),n(21,c),n(1,u)}return l.$$set=F=>{"workflow"in F&&n(0,w=F.workflow),"namespace"in F&&n(1,u=F.namespace),"cancelInProgress"in F&&n(2,_=F.cancelInProgress),"isRunning"in F&&n(3,k=F.isRunning)},l.$$.update=()=>{l.$$.dirty[0]&2097410&&n(15,t=yn(p.data.settings,c,u)),l.$$.dirty[0]&2097410&&n(6,r=il(p.data.settings,c,u)),l.$$.dirty[0]&2097410&&n(5,s=Jn(p.data.settings,c,u)),l.$$.dirty[0]&2097410&&n(19,o=Yn(p.data.settings,c,u)),l.$$.dirty[0]&1572865&&n(7,f=o&&w.pendingChildren.length===0&&a.length>0),l.$$.dirty[0]&224&&n(14,i=!f&&!r&&!s),l.$$.dirty[0]&1966081&&(o?o&&(n(17,b=w==null?void 0:w.pendingChildren)===null||b===void 0?void 0:b.length)>0?n(4,N=M("workflows.reset-disabled-pending-children")):o&&(n(18,d=w==null?void 0:w.pendingChildren)===null||d===void 0?void 0:d.length)===0&&a.length===0&&n(4,N=M("workflows.reset-disabled-no-events")):n(4,N=M("workflows.reset-disabled-unauthorized"))),l.$$.dirty[0]&240&&n(13,Z=[{label:M("workflows.reset"),onClick:()=>n(11,h=!0),testId:"reset-button",enabled:f,description:f?"":N},{label:M("workflows.signal"),onClick:()=>n(12,U=!0),testId:"signal-button",enabled:r,description:r?"":M("workflows.signal-disabled")},{label:M("workflows.terminate"),onClick:()=>n(10,E=!0),testId:"terminate-button",enabled:s,destructive:!0,description:s?"":M("workflows.terminate-disabled")}])},[w,u,_,k,N,s,r,f,p,P,E,h,U,Z,i,t,G,b,d,o,a,c,re,ee,K,J,T,v,y,R,q]}class bl extends he{constructor(e){super(),ke(this,e,kl,hl,$e,{workflow:0,namespace:1,cancelInProgress:2,isRunning:3},null,[-1,-1])}}function vl(l){let e,n,t=M("workers.buildId")+"",r,s,o;return s=new fr({props:{active:!0,buildId:l[0]}}),{c(){e=j("p"),n=j("span"),r=X(t),D(s.$$.fragment),this.h()},l(f){e=L(f,"P",{class:!0});var i=z(e);n=L(i,"SPAN",{});var a=z(n);r=x(a,t),a.forEach($),C(s.$$.fragment,i),i.forEach($),this.h()},h(){H(e,"class","flex items-center gap-1")},m(f,i){W(f,e,i),B(e,n),B(n,r),A(s,e,null),o=!0},p(f,[i]){const a={};i&1&&(a.buildId=f[0]),s.$set(a)},i(f){o||(m(s.$$.fragment,f),o=!0)},o(f){g(s.$$.fragment,f),o=!1},d(f){f&&$(e),S(s)}}}function El(l,e,n){let t,{workflow:r}=e;return l.$$set=s=>{"workflow"in s&&n(1,r=s.workflow)},l.$$.update=()=>{l.$$.dirty&2&&n(0,t=ir(r))},[t,r]}class Il extends he{constructor(e){super(),ke(this,e,El,vl,$e,{workflow:1})}}const Tl=l=>({open:l&1}),xt=l=>({open:l[0]}),Dl=l=>({}),en=l=>({}),Cl=l=>({}),tn=l=>({}),Al=l=>({}),nn=l=>({});function Sl(l){let e,n,t,r,s,o,f,i,a,c,p,b,d,w,u,_,k,P;const E=l[6].title,h=Ce(E,l,l[5],nn),U=l[6].description,N=Ce(U,l,l[5],tn),G=l[6].action,Z=Ce(G,l,l[5],en);i=new Ne({props:{class:"m-2 shrink-0",name:l[0]?"arrow-down":"arrow-right"}});const re=l[6].default,ee=Ce(re,l,l[5],xt);let K=[{class:"w-full"},l[3]],J={};for(let T=0;T<K.length;T+=1)J=qe(J,K[T]);return{c(){e=j("div"),n=j("button"),t=j("div"),h&&h.c(),r=O(),N&&N.c(),s=O(),o=j("div"),Z&&Z.c(),f=O(),D(i.$$.fragment),p=O(),b=j("div"),ee&&ee.c(),this.h()},l(T){e=L(T,"DIV",{class:!0});var v=z(e);n=L(v,"BUTTON",{id:!0,"aria-expanded":!0,"aria-controls":!0,class:!0,type:!0});var y=z(n);t=L(y,"DIV",{class:!0});var R=z(t);h&&h.l(R),r=Q(R),N&&N.l(R),s=Q(R),o=L(R,"DIV",{class:!0,role:!0});var q=z(o);Z&&Z.l(q),f=Q(q),C(i.$$.fragment,q),q.forEach($),R.forEach($),y.forEach($),p=Q(v),b=L(v,"DIV",{id:!0,"aria-labelledby":!0,role:!0,class:!0});var F=z(b);ee&&ee.l(F),F.forEach($),v.forEach($),this.h()},h(){H(o,"class","flex flex-row items-center gap-2 pr-2"),H(o,"role","none"),H(t,"class","flex w-full flex-row items-center justify-between gap-2"),H(n,"id",a=l[1]+"-trigger"),H(n,"aria-expanded",l[0]),H(n,"aria-controls",c=l[1]+"-content"),H(n,"class","focus-visible:outline-interactive w-full cursor-pointer hover:bg-interactive-secondary-hover"),H(n,"type","button"),H(b,"id",d=l[1]+"-content"),H(b,"aria-labelledby",w=l[1]+"-trigger"),H(b,"role","textbox"),H(b,"class","rounded-b-2 block w-full bg-primary p-2"),Re(b,"hidden",!l[0]),vt(e,J)},m(T,v){W(T,e,v),B(e,n),B(n,t),h&&h.m(t,null),B(t,r),N&&N.m(t,null),B(t,s),B(t,o),Z&&Z.m(o,null),B(o,f),A(i,o,null),B(e,p),B(e,b),ee&&ee.m(b,null),_=!0,k||(P=[Ye(o,"click",Et(l[7])),Ye(o,"keyup",Et(l[8])),Ye(n,"click",l[2])],k=!0)},p(T,[v]){h&&h.p&&(!_||v&32)&&Ae(h,E,T,T[5],_?Pe(E,T[5],v,Al):Se(T[5]),nn),N&&N.p&&(!_||v&32)&&Ae(N,U,T,T[5],_?Pe(U,T[5],v,Cl):Se(T[5]),tn),Z&&Z.p&&(!_||v&32)&&Ae(Z,G,T,T[5],_?Pe(G,T[5],v,Dl):Se(T[5]),en);const y={};v&1&&(y.name=T[0]?"arrow-down":"arrow-right"),i.$set(y),(!_||v&2&&a!==(a=T[1]+"-trigger"))&&H(n,"id",a),(!_||v&1)&&H(n,"aria-expanded",T[0]),(!_||v&2&&c!==(c=T[1]+"-content"))&&H(n,"aria-controls",c),ee&&ee.p&&(!_||v&33)&&Ae(ee,re,T,T[5],_?Pe(re,T[5],v,Tl):Se(T[5]),xt),(!_||v&2&&d!==(d=T[1]+"-content"))&&H(b,"id",d),(!_||v&2&&w!==(w=T[1]+"-trigger"))&&H(b,"aria-labelledby",w),(!_||v&1)&&Re(b,"hidden",!T[0]),vt(e,J=ur(K,[{class:"w-full"},v&8&&T[3]]))},i(T){_||(m(h,T),m(N,T),m(Z,T),m(i.$$.fragment,T),m(ee,T),T&&et(()=>{_&&(u||(u=Tt(b,Pt,{},!0)),u.run(1))}),_=!0)},o(T){g(h,T),g(N,T),g(Z,T),g(i.$$.fragment,T),g(ee,T),T&&(u||(u=Tt(b,Pt,{},!1)),u.run(0)),_=!1},d(T){T&&$(e),h&&h.d(T),N&&N.d(T),Z&&Z.d(T),S(i),ee&&ee.d(T),T&&u&&u.end(),k=!1,Mn(P)}}}function Pl(l,e,n){const t=["id","open","onToggle"];let r=ze(e,t),{$$slots:s={},$$scope:o}=e,{id:f=rr()}=e,{open:i=!1}=e,{onToggle:a=de}=e;const c=()=>{n(0,i=!i),a()};function p(d){It.call(this,l,d)}function b(d){It.call(this,l,d)}return l.$$set=d=>{e=qe(qe({},e),gn(d)),n(3,r=ze(e,t)),"id"in d&&n(1,f=d.id),"open"in d&&n(0,i=d.open),"onToggle"in d&&n(4,a=d.onToggle),"$$scope"in d&&n(5,o=d.$$scope)},[i,f,c,r,a,o,s,p,b]}class Wn extends he{constructor(e){super(),ke(this,e,Pl,Sl,$e,{id:1,open:0,onToggle:4})}}const Wl=(l,e)=>{const n=l==="Running",t=e==null?void 0:e.some(r=>(r==null?void 0:r.eventType)==="WorkflowExecutionCancelRequested");return n&&t},rn=l=>{const e=l==null?void 0:l.indexOf("?");return e>-1?l.slice(0,e):l},pe=(l,e,n=!1)=>{const t=rn(l).split("/"),r=rn(e).split("/");if(n&&t.length!==r.length)return!1;for(let s=0;s<t.length;s++){const o=t[s],f=r[s];if(o!==f)return!1}return!0};function Rl(l){let e=(l[17]?M("common.workflows"):M("workflows.back-to-workflows"))+"",n;return{c(){n=X(e)},l(t){n=x(t,e)},m(t,r){W(t,n,r)},p(t,r){r[0]&131072&&e!==(e=(t[17]?M("common.workflows"):M("workflows.back-to-workflows"))+"")&&ie(n,e)},d(t){t&&$(n)}}}function ln(l){let e,n;return e=new Me({props:{href:Te({...l[15]}),"data-testid":"back-to-workflow-execution",icon:"chevron-left",$$slots:{default:[Vl]},$$scope:{ctx:l}}}),{c(){D(e.$$.fragment)},l(t){C(e.$$.fragment,t)},m(t,r){A(e,t,r),n=!0},p(t,r){const s={};r[0]&32768&&(s.href=Te({...t[15]})),r[0]&4|r[1]&2&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Vl(l){var t;let e=((t=l[2])==null?void 0:t.runId)+"",n;return{c(){n=X(e)},l(r){n=x(r,e)},m(r,s){W(r,n,s)},p(r,s){var o;s[0]&4&&e!==(e=((o=r[2])==null?void 0:o.runId)+"")&&ie(n,e)},d(r){r&&$(n)}}}function on(l){let e,n;return e=new Il({props:{workflow:l[2]}}),{c(){D(e.$$.fragment)},l(t){C(e.$$.fragment,t)},m(t,r){A(e,t,r),n=!0},p(t,r){const s={};r[0]&4&&(s.workflow=t[2]),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function sn(l){let e,n;return e=new Wn({props:{$$slots:{title:[Nl],default:[Ml,({open:t})=>({31:t}),({open:t})=>[0,t?1:0]]},$$scope:{ctx:l}}}),{c(){D(e.$$.fragment)},l(t){C(e.$$.fragment,t)},m(t,r){A(e,t,r),n=!0},p(t,r){const s={};r[0]&3|r[1]&3&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function fn(l){let e,n=M("workflows.summary")+"",t,r,s,o;return s=new ot({props:{content:l[1]}}),{c(){e=j("h3"),t=X(n),r=O(),D(s.$$.fragment)},l(f){e=L(f,"H3",{});var i=z(e);t=x(i,n),i.forEach($),r=Q(f),C(s.$$.fragment,f)},m(f,i){W(f,e,i),B(e,t),W(f,r,i),A(s,f,i),o=!0},p(f,i){const a={};i[0]&2&&(a.content=f[1]),s.$set(a)},i(f){o||(m(s.$$.fragment,f),o=!0)},o(f){g(s.$$.fragment,f),o=!1},d(f){f&&($(e),$(r)),S(s,f)}}}function an(l){let e,n=M("workflows.details")+"",t,r,s,o;return s=new ot({props:{content:l[0]}}),{c(){e=j("h3"),t=X(n),r=O(),D(s.$$.fragment)},l(f){e=L(f,"H3",{});var i=z(e);t=x(i,n),i.forEach($),r=Q(f),C(s.$$.fragment,f)},m(f,i){W(f,e,i),B(e,t),W(f,r,i),A(s,f,i),o=!0},p(f,i){const a={};i[0]&1&&(a.content=f[0]),s.$set(a)},i(f){o||(m(s.$$.fragment,f),o=!0)},o(f){g(s.$$.fragment,f),o=!1},d(f){f&&($(e),$(r)),S(s,f)}}}function Ml(l){let e,n,t,r=l[31]&&l[1]&&fn(l),s=l[31]&&l[0]&&an(l);return{c(){r&&r.c(),e=O(),s&&s.c(),n=me()},l(o){r&&r.l(o),e=Q(o),s&&s.l(o),n=me()},m(o,f){r&&r.m(o,f),W(o,e,f),s&&s.m(o,f),W(o,n,f),t=!0},p(o,f){o[31]&&o[1]?r?(r.p(o,f),f[0]&2|f[1]&1&&m(r,1)):(r=fn(o),r.c(),m(r,1),r.m(e.parentNode,e)):r&&(le(),g(r,1,1,()=>{r=null}),oe()),o[31]&&o[0]?s?(s.p(o,f),f[0]&1|f[1]&1&&m(s,1)):(s=an(o),s.c(),m(s,1),s.m(n.parentNode,n)):s&&(le(),g(s,1,1,()=>{s=null}),oe())},i(o){t||(m(r),m(s),t=!0)},o(o){g(r),g(s),t=!1},d(o){o&&($(e),$(n)),r&&r.d(o),s&&s.d(o)}}}function Nl(l){let e,n,t=M("workflows.summary-and-details")+"",r,s;return n=new Ne({props:{name:"info",class:"text-brand",width:32,height:32}}),{c(){e=j("div"),D(n.$$.fragment),r=X(t),this.h()},l(o){e=L(o,"DIV",{slot:!0,class:!0});var f=z(e);C(n.$$.fragment,f),r=x(f,t),f.forEach($),this.h()},h(){H(e,"slot","title"),H(e,"class","flex w-full items-center gap-2 p-2 text-xl")},m(o,f){W(o,e,f),A(n,e,null),B(e,r),s=!0},p:de,i(o){s||(m(n.$$.fragment,o),s=!0)},o(o){g(n.$$.fragment,o),s=!1},d(o){o&&$(e),S(n)}}}function un(l){let e,n;return e=new Wn({props:{$$slots:{title:[Bl],default:[ql,({open:t})=>({31:t}),({open:t})=>[0,t?1:0]]},$$scope:{ctx:l}}}),{c(){D(e.$$.fragment)},l(t){C(e.$$.fragment,t)},m(t,r){A(e,t,r),n=!0},p(t,r){const s={};r[0]&128|r[1]&3&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function cn(l){let e,n;return e=new ot({props:{content:l[7]}}),{c(){D(e.$$.fragment)},l(t){C(e.$$.fragment,t)},m(t,r){A(e,t,r),n=!0},p(t,r){const s={};r[0]&128&&(s.content=t[7]),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function ql(l){let e,n,t=l[31]&&cn(l);return{c(){t&&t.c(),e=me()},l(r){t&&t.l(r),e=me()},m(r,s){t&&t.m(r,s),W(r,e,s),n=!0},p(r,s){r[31]?t?(t.p(r,s),s[1]&1&&m(t,1)):(t=cn(r),t.c(),m(t,1),t.m(e.parentNode,e)):t&&(le(),g(t,1,1,()=>{t=null}),oe())},i(r){n||(m(t),n=!0)},o(r){g(t),n=!1},d(r){r&&$(e),t&&t.d(r)}}}function Bl(l){let e,n,t=M("workflows.current-details")+"",r,s;return n=new Ne({props:{name:"flag",class:"text-brand",width:32,height:32}}),{c(){e=j("div"),D(n.$$.fragment),r=X(t),this.h()},l(o){e=L(o,"DIV",{slot:!0,class:!0});var f=z(e);C(n.$$.fragment,f),r=x(f,t),f.forEach($),this.h()},h(){H(e,"slot","title"),H(e,"class","flex w-full items-center gap-2 rounded p-2 text-xl")},m(o,f){W(o,e,f),A(n,e,null),B(e,r),s=!0},p:de,i(o){s||(m(n.$$.fragment,o),s=!0)},o(o){g(n.$$.fragment,o),s=!1},d(o){o&&$(e),S(n)}}}function mn(l){let e,n,t,r;return n=new Sn({props:{icon:"info",intent:"info",title:M("workflows.cancel-request-sent"),$$slots:{default:[Fl]},$$scope:{ctx:l}}}),{c(){e=j("div"),D(n.$$.fragment)},l(s){e=L(s,"DIV",{});var o=z(e);C(n.$$.fragment,o),o.forEach($)},m(s,o){W(s,e,o),A(n,e,null),r=!0},p(s,o){const f={};o[1]&2&&(f.$$scope={dirty:o,ctx:s}),n.$set(f)},i(s){r||(m(n.$$.fragment,s),s&&(t||et(()=>{t=$n(e,kn,{duration:200,delay:100}),t.start()})),r=!0)},o(s){g(n.$$.fragment,s),r=!1},d(s){s&&$(e),S(n)}}}function Fl(l){let e=M("workflows.cancel-request-sent-description")+"",n;return{c(){n=X(e)},l(t){n=x(t,e)},m(t,r){W(t,n,r)},p:de,d(t){t&&$(n)}}}function pn(l){let e,n,t,r;return n=new Sn({props:{icon:"info",intent:"info","data-testid":"workflow-reset-alert",title:M("workflows.reset-success-alert-title"),$$slots:{default:[Ul]},$$scope:{ctx:l}}}),{c(){e=j("div"),D(n.$$.fragment)},l(s){e=L(s,"DIV",{});var o=z(e);C(n.$$.fragment,o),o.forEach($)},m(s,o){W(s,e,o),A(n,e,null),r=!0},p(s,o){const f={};o[0]&56|o[1]&2&&(f.$$scope={dirty:o,ctx:s}),n.$set(f)},i(s){r||(m(n.$$.fragment,s),s&&(t||et(()=>{t=$n(e,kn,{duration:200,delay:100}),t.start()})),r=!0)},o(s){g(n.$$.fragment,s),r=!1},d(s){s&&$(e),S(n)}}}function Hl(l){let e;return{c(){e=X("here")},l(n){e=x(n,"here")},m(n,t){W(n,e,t)},d(n){n&&$(e)}}}function Ul(l){var s,o,f,i;let e,n,t,r;return n=new Me({props:{href:Te({namespace:l[3],workflow:(o=(s=l[4])==null?void 0:s.workflow)==null?void 0:o.id,run:l[5][(i=(f=l[4])==null?void 0:f.workflow)==null?void 0:i.runId]}),$$slots:{default:[Hl]},$$scope:{ctx:l}}}),{c(){e=X("You can find the resulting Workflow Execution "),D(n.$$.fragment),t=X(".")},l(a){e=x(a,"You can find the resulting Workflow Execution "),C(n.$$.fragment,a),t=x(a,".")},m(a,c){W(a,e,c),A(n,a,c),W(a,t,c),r=!0},p(a,c){var b,d,w,u;const p={};c[0]&56&&(p.href=Te({namespace:a[3],workflow:(d=(b=a[4])==null?void 0:b.workflow)==null?void 0:d.id,run:a[5][(u=(w=a[4])==null?void 0:w.workflow)==null?void 0:u.runId]})),c[1]&2&&(p.$$scope={dirty:c,ctx:a}),n.$set(p)},i(a){r||(m(n.$$.fragment,a),r=!0)},o(a){g(n.$$.fragment,a),r=!1},d(a){a&&($(e),$(t)),S(n,a)}}}function Ol(l){var t;let e=((t=l[2])==null?void 0:t.historyEvents)+"",n;return{c(){n=X(e)},l(r){n=x(r,e)},m(r,s){W(r,n,s)},p(r,s){var o;s[0]&4&&e!==(e=((o=r[2])==null?void 0:o.historyEvents)+"")&&ie(n,e)},d(r){r&&$(n)}}}function Ql(l){let e,n;return e=new Je({props:{type:"primary",class:"px-2 py-0",$$slots:{default:[Ol]},$$scope:{ctx:l}}}),{c(){D(e.$$.fragment)},l(t){C(e.$$.fragment,t)},m(t,r){A(e,t,r),n=!0},p(t,r){const s={};r[0]&4|r[1]&2&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function jl(l){var t,r;let e=((r=(t=l[16])==null?void 0:t.pollers)==null?void 0:r.length)+"",n;return{c(){n=X(e)},l(s){n=x(s,e)},m(s,o){W(s,n,o)},p(s,o){var f,i;o[0]&65536&&e!==(e=((i=(f=s[16])==null?void 0:f.pollers)==null?void 0:i.length)+"")&&ie(n,e)},d(s){s&&$(n)}}}function Ll(l){let e,n;return e=new Je({props:{type:"primary",class:"px-2 py-0",$$slots:{default:[jl]},$$scope:{ctx:l}}}),{c(){D(e.$$.fragment)},l(t){C(e.$$.fragment,t)},m(t,r){A(e,t,r),n=!0},p(t,r){const s={};r[0]&65536|r[1]&2&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function zl(l){let e=l[9].relationshipCount+"",n;return{c(){n=X(e)},l(t){n=x(t,e)},m(t,r){W(t,n,r)},p(t,r){r[0]&512&&e!==(e=t[9].relationshipCount+"")&&ie(n,e)},d(t){t&&$(n)}}}function yl(l){let e,n;return e=new Je({props:{type:"primary",class:"px-2 py-0",$$slots:{default:[zl]},$$scope:{ctx:l}}}),{c(){D(e.$$.fragment)},l(t){C(e.$$.fragment,t)},m(t,r){A(e,t,r),n=!0},p(t,r){const s={};r[0]&512|r[1]&2&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function _n(l){let e,n;return e=new Ne({props:{name:"canceled"}}),{c(){D(e.$$.fragment)},l(t){C(e.$$.fragment,t)},m(t,r){A(e,t,r),n=!0},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Jl(l){var f,i;let e,n,t=((i=(f=l[2])==null?void 0:f.pendingActivities)==null?void 0:i.length)+"",r,s,o=l[13]&&_n();return{c(){e=j("div"),o&&o.c(),n=O(),r=X(t),this.h()},l(a){e=L(a,"DIV",{class:!0});var c=z(e);o&&o.l(c),n=Q(c),r=x(c,t),c.forEach($),this.h()},h(){H(e,"class","flex items-center gap-1")},m(a,c){W(a,e,c),o&&o.m(e,null),B(e,n),B(e,r),s=!0},p(a,c){var p,b;a[13]?o?c[0]&8192&&m(o,1):(o=_n(),o.c(),m(o,1),o.m(e,n)):o&&(le(),g(o,1,1,()=>{o=null}),oe()),(!s||c[0]&4)&&t!==(t=((b=(p=a[2])==null?void 0:p.pendingActivities)==null?void 0:b.length)+"")&&ie(r,t)},i(a){s||(m(o),s=!0)},o(a){g(o),s=!1},d(a){a&&$(e),o&&o.d()}}}function Yl(l){let e,n;return e=new Je({props:{type:l[13]?"warning":"primary",class:"px-2 py-0",$$slots:{default:[Jl]},$$scope:{ctx:l}}}),{c(){D(e.$$.fragment)},l(t){C(e.$$.fragment,t)},m(t,r){A(e,t,r),n=!0},p(t,r){const s={};r[0]&8192&&(s.type=t[13]?"warning":"primary"),r[0]&8196|r[1]&2&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Gl(l){let e,n,t,r,s,o,f,i,a,c,p,b,d,w;return e=new De({props:{label:M("workflows.history-tab"),id:"history-tab",href:Te({...l[15]}),active:pe(l[6].url.pathname,Te({...l[15]})),$$slots:{default:[Ql]},$$scope:{ctx:l}}}),t=new De({props:{label:M("workflows.workers-tab"),id:"workers-tab",href:We(l[15]),active:pe(l[6].url.pathname,We(l[15])),$$slots:{default:[Ll]},$$scope:{ctx:l}}}),s=new De({props:{label:M("workflows.relationships"),id:"relationships-tab",href:He(l[15]),active:pe(l[6].url.pathname,He(l[15])),$$slots:{default:[yl]},$$scope:{ctx:l}}}),f=new De({props:{label:M("workflows.pending-activities-tab"),id:"pending-activities-tab",href:Ue(l[15]),active:pe(l[6].url.pathname,Ue(l[15])),$$slots:{default:[Yl]},$$scope:{ctx:l}}}),a=new De({props:{label:M("workflows.call-stack-tab"),id:"call-stack-tab",href:Oe(l[15]),active:pe(l[6].url.pathname,Oe(l[15]))}}),p=new De({props:{label:M("workflows.queries-tab"),id:"queries-tab",href:Qe(l[15]),active:pe(l[6].url.pathname,Qe(l[15]))}}),d=new De({props:{label:M("workflows.metadata-tab"),id:"metadata-tab",href:je(l[15]),active:pe(l[6].url.pathname,je(l[15]))}}),{c(){D(e.$$.fragment),n=O(),D(t.$$.fragment),r=O(),D(s.$$.fragment),o=O(),D(f.$$.fragment),i=O(),D(a.$$.fragment),c=O(),D(p.$$.fragment),b=O(),D(d.$$.fragment)},l(u){C(e.$$.fragment,u),n=Q(u),C(t.$$.fragment,u),r=Q(u),C(s.$$.fragment,u),o=Q(u),C(f.$$.fragment,u),i=Q(u),C(a.$$.fragment,u),c=Q(u),C(p.$$.fragment,u),b=Q(u),C(d.$$.fragment,u)},m(u,_){A(e,u,_),W(u,n,_),A(t,u,_),W(u,r,_),A(s,u,_),W(u,o,_),A(f,u,_),W(u,i,_),A(a,u,_),W(u,c,_),A(p,u,_),W(u,b,_),A(d,u,_),w=!0},p(u,_){const k={};_[0]&32768&&(k.href=Te({...u[15]})),_[0]&32832&&(k.active=pe(u[6].url.pathname,Te({...u[15]}))),_[0]&4|_[1]&2&&(k.$$scope={dirty:_,ctx:u}),e.$set(k);const P={};_[0]&32768&&(P.href=We(u[15])),_[0]&32832&&(P.active=pe(u[6].url.pathname,We(u[15]))),_[0]&65536|_[1]&2&&(P.$$scope={dirty:_,ctx:u}),t.$set(P);const E={};_[0]&32768&&(E.href=He(u[15])),_[0]&32832&&(E.active=pe(u[6].url.pathname,He(u[15]))),_[0]&512|_[1]&2&&(E.$$scope={dirty:_,ctx:u}),s.$set(E);const h={};_[0]&32768&&(h.href=Ue(u[15])),_[0]&32832&&(h.active=pe(u[6].url.pathname,Ue(u[15]))),_[0]&8196|_[1]&2&&(h.$$scope={dirty:_,ctx:u}),f.$set(h);const U={};_[0]&32768&&(U.href=Oe(u[15])),_[0]&32832&&(U.active=pe(u[6].url.pathname,Oe(u[15]))),a.$set(U);const N={};_[0]&32768&&(N.href=Qe(u[15])),_[0]&32832&&(N.active=pe(u[6].url.pathname,Qe(u[15]))),p.$set(N);const G={};_[0]&32768&&(G.href=je(u[15])),_[0]&32832&&(G.active=pe(u[6].url.pathname,je(u[15]))),d.$set(G)},i(u){w||(m(e.$$.fragment,u),m(t.$$.fragment,u),m(s.$$.fragment,u),m(f.$$.fragment,u),m(a.$$.fragment,u),m(p.$$.fragment,u),m(d.$$.fragment,u),w=!0)},o(u){g(e.$$.fragment,u),g(t.$$.fragment,u),g(s.$$.fragment,u),g(f.$$.fragment,u),g(a.$$.fragment,u),g(p.$$.fragment,u),g(d.$$.fragment,u),w=!1},d(u){u&&($(n),$(r),$(o),$(i),$(c),$(b)),S(e,u),S(t,u),S(s,u),S(f,u),S(a,u),S(p,u),S(d,u)}}}function Zl(l){let e,n;return e=new mr({props:{class:"flex flex-wrap gap-6 pt-2",label:"workflow detail",$$slots:{default:[Gl]},$$scope:{ctx:l}}}),{c(){D(e.$$.fragment)},l(t){C(e.$$.fragment,t)},m(t,r){A(e,t,r),n=!0},p(t,r){const s={};r[0]&107076|r[1]&2&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Kl(l){var q,F;let e,n,t,r,s,o,f,i,a,c,p,b,d,w,u,_,k,P,E,h,U,N,G,Z,re,ee;t=new Me({props:{href:`${ye({namespace:l[3]})}?${l[18]}`,"data-testid":"back-to-workflows",icon:"chevron-left",$$slots:{default:[Rl]},$$scope:{ctx:l}}});let K=l[17]&&ln(l);a=new sr({props:{status:(q=l[2])==null?void 0:q.status,big:!0}}),d=new bn({props:{copyIconTitle:M("common.copy-icon-title"),copySuccessIconTitle:M("common.copy-success-icon-title"),content:(F=l[2])==null?void 0:F.id,clickAllToCopy:!0,"container-class":"w-full",class:"overflow-hidden text-ellipsis"}});let J=l[10]&&on(l);k=new bl({props:{isRunning:l[14],cancelInProgress:l[12],workflow:l[2],namespace:l[3]}});let T=l[8]&&sn(l),v=l[7]&&un(l);U=new Qr({});let y=l[12]&&mn(l),R=l[11]&&pn(l);return re=new cr({props:{$$slots:{default:[Zl]},$$scope:{ctx:l}}}),{c(){e=j("div"),n=j("div"),D(t.$$.fragment),r=O(),K&&K.c(),s=O(),o=j("header"),f=j("div"),i=j("div"),D(a.$$.fragment),c=O(),p=j("div"),b=j("h1"),D(d.$$.fragment),w=O(),J&&J.c(),u=O(),_=j("div"),D(k.$$.fragment),P=O(),T&&T.c(),E=O(),v&&v.c(),h=O(),D(U.$$.fragment),N=O(),y&&y.c(),G=O(),R&&R.c(),Z=O(),D(re.$$.fragment),this.h()},l(V){e=L(V,"DIV",{class:!0});var I=z(e);n=L(I,"DIV",{class:!0});var Y=z(n);C(t.$$.fragment,Y),r=Q(Y),K&&K.l(Y),Y.forEach($),I.forEach($),s=Q(V),o=L(V,"HEADER",{class:!0});var te=z(o);f=L(te,"DIV",{class:!0});var se=z(f);i=L(se,"DIV",{class:!0});var fe=z(i);C(a.$$.fragment,fe),c=Q(fe),p=L(fe,"DIV",{class:!0});var ge=z(p);b=L(ge,"H1",{"data-testid":!0,class:!0});var be=z(b);C(d.$$.fragment,be),be.forEach($),w=Q(ge),J&&J.l(ge),ge.forEach($),fe.forEach($),u=Q(se),_=L(se,"DIV",{class:!0});var ve=z(_);C(k.$$.fragment,ve),ve.forEach($),se.forEach($),P=Q(te),T&&T.l(te),E=Q(te),v&&v.l(te),h=Q(te),C(U.$$.fragment,te),N=Q(te),y&&y.l(te),G=Q(te),R&&R.l(te),Z=Q(te),C(re.$$.fragment,te),te.forEach($),this.h()},h(){H(n,"class","flex items-center gap-2"),H(e,"class","flex items-center justify-between pb-4"),H(b,"data-testid","workflow-id-heading"),H(b,"class","gap-0 overflow-hidden"),H(p,"class","flex flex-col flex-wrap gap-0"),H(i,"class","flex flex-col items-center gap-4 lg:flex-row"),H(_,"class","px-2"),H(f,"class","flex flex-col items-center justify-between gap-4 lg:flex-row"),H(o,"class","rounded-top flex flex-col gap-2")},m(V,I){W(V,e,I),B(e,n),A(t,n,null),B(n,r),K&&K.m(n,null),W(V,s,I),W(V,o,I),B(o,f),B(f,i),A(a,i,null),B(i,c),B(i,p),B(p,b),A(d,b,null),B(p,w),J&&J.m(p,null),B(f,u),B(f,_),A(k,_,null),B(o,P),T&&T.m(o,null),B(o,E),v&&v.m(o,null),B(o,h),A(U,o,null),B(o,N),y&&y.m(o,null),B(o,G),R&&R.m(o,null),B(o,Z),A(re,o,null),ee=!0},p(V,I){var be,ve;const Y={};I[0]&262152&&(Y.href=`${ye({namespace:V[3]})}?${V[18]}`),I[0]&131072|I[1]&2&&(Y.$$scope={dirty:I,ctx:V}),t.$set(Y),V[17]?K?(K.p(V,I),I[0]&131072&&m(K,1)):(K=ln(V),K.c(),m(K,1),K.m(n,null)):K&&(le(),g(K,1,1,()=>{K=null}),oe());const te={};I[0]&4&&(te.status=(be=V[2])==null?void 0:be.status),a.$set(te);const se={};I[0]&4&&(se.content=(ve=V[2])==null?void 0:ve.id),d.$set(se),V[10]?J?(J.p(V,I),I[0]&1024&&m(J,1)):(J=on(V),J.c(),m(J,1),J.m(p,null)):J&&(le(),g(J,1,1,()=>{J=null}),oe());const fe={};I[0]&16384&&(fe.isRunning=V[14]),I[0]&4096&&(fe.cancelInProgress=V[12]),I[0]&4&&(fe.workflow=V[2]),I[0]&8&&(fe.namespace=V[3]),k.$set(fe),V[8]?T?(T.p(V,I),I[0]&256&&m(T,1)):(T=sn(V),T.c(),m(T,1),T.m(o,E)):T&&(le(),g(T,1,1,()=>{T=null}),oe()),V[7]?v?(v.p(V,I),I[0]&128&&m(v,1)):(v=un(V),v.c(),m(v,1),v.m(o,h)):v&&(le(),g(v,1,1,()=>{v=null}),oe()),V[12]?y?(y.p(V,I),I[0]&4096&&m(y,1)):(y=mn(V),y.c(),m(y,1),y.m(o,G)):y&&(le(),g(y,1,1,()=>{y=null}),oe()),V[11]?R?(R.p(V,I),I[0]&2048&&m(R,1)):(R=pn(V),R.c(),m(R,1),R.m(o,Z)):R&&(le(),g(R,1,1,()=>{R=null}),oe());const ge={};I[0]&107076|I[1]&2&&(ge.$$scope={dirty:I,ctx:V}),re.$set(ge)},i(V){ee||(m(t.$$.fragment,V),m(K),m(a.$$.fragment,V),m(d.$$.fragment,V),m(J),m(k.$$.fragment,V),m(T),m(v),m(U.$$.fragment,V),m(y),m(R),m(re.$$.fragment,V),ee=!0)},o(V){g(t.$$.fragment,V),g(K),g(a.$$.fragment,V),g(d.$$.fragment,V),g(J),g(k.$$.fragment,V),g(T),g(v),g(U.$$.fragment,V),g(y),g(R),g(re.$$.fragment,V),ee=!1},d(V){V&&($(e),$(s),$(o)),S(t),K&&K.d(),S(a),S(d),J&&J.d(),S(k),T&&T.d(),v&&v.d(),S(U),y&&y.d(),R&&R.d(),S(re)}}}function Xl(l,e,n){let t,r,s,o,f,i,a,c,p,b,d,w,u,_,k,P,E,h,U,N,G,Z,re;ne(l,Ee,F=>n(4,h=F)),ne(l,pr,F=>n(29,U=F)),ne(l,Le,F=>n(30,N=F)),ne(l,Pn,F=>n(5,G=F)),ne(l,Be,F=>n(6,Z=F)),ne(l,hn,F=>n(18,re=F));var ee,K,J,T,v,y,R,q;return l.$$.update=()=>{l.$$.dirty[0]&64&&n(3,{namespace:t,workflow:r,run:s,id:o}=Z.params,t,(n(28,r),n(6,Z)),(n(27,s),n(6,Z)),(n(17,o),n(6,Z))),l.$$.dirty[0]&16&&n(2,{workflow:f,workers:i}=h,f,(n(16,i),n(4,h))),l.$$.dirty[0]&402653192&&n(15,a={namespace:t,workflow:r,run:s}),l.$$.dirty[0]&524304&&n(14,c=n(19,ee=h==null?void 0:h.workflow)===null||ee===void 0?void 0:ee.isRunning),l.$$.dirty[0]&1048592&&n(13,p=["Terminated","TimedOut","Canceled"].includes(n(20,K=h.workflow)===null||K===void 0?void 0:K.status)),l.$$.dirty[0]&1075838992&&n(12,b=Wl(n(21,J=h==null?void 0:h.workflow)===null||J===void 0?void 0:J.status,N)),l.$$.dirty[0]&134217760&&n(11,d=dr(G,s)),l.$$.dirty[0]&12582916&&n(10,w=n(22,T=f==null?void 0:f.assignedBuildId)!==null&&T!==void 0?T:n(23,v=f==null?void 0:f.mostRecentWorkerVersionStamp)===null||v===void 0?void 0:v.useVersioning),l.$$.dirty[0]&1610612740&&n(9,u=_r(f,N,U)),l.$$.dirty[0]&16777232&&n(1,_=n(24,y=h==null?void 0:h.userMetadata)===null||y===void 0?void 0:y.summary),l.$$.dirty[0]&33554448&&n(0,k=n(25,R=h==null?void 0:h.userMetadata)===null||R===void 0?void 0:R.details),l.$$.dirty[0]&3&&n(8,P=_||k),l.$$.dirty[0]&67108880&&n(7,E=n(26,q=h==null?void 0:h.metadata)===null||q===void 0?void 0:q.currentDetails)},[k,_,f,t,h,G,Z,E,P,u,w,d,b,p,c,a,i,o,re,ee,K,J,T,v,y,R,q,s,r,U,N]}class xl extends he{constructor(e){super(),ke(this,e,Xl,Kl,$e,{},null,[-1,-1])}}async function eo({activity:l,namespace:e,settings:n,accessToken:t},{convertWithCodec:r=gr,decodeAttributes:s=wr}={}){const o=await r({attributes:l,namespace:e,settings:n,accessToken:t});return s(o)}const to=async({activity:l,namespace:e,settings:n,accessToken:t})=>await eo({activity:l,namespace:e,settings:n,accessToken:t}),dn=async(l,e,n,t)=>{const r=(l==null?void 0:l.pendingActivities)??[],s=[];for(const o of r){const f=await to({activity:o,namespace:e,settings:n,accessToken:t});s.push(f)}return s};function no(l){let e,n,t,r,s;const o=[so,oo,lo],f=[];function i(a,c){return a[1]?0:a[0].workflow?2:1}return n=i(l),t=f[n]=o[n](l),{c(){e=j("div"),t.c(),this.h()},l(a){e=L(a,"DIV",{class:!0});var c=z(e);t.l(c),c.forEach($),this.h()},h(){H(e,"class",r="absolute bottom-0 left-0 right-0 "+(l[5]?"top-[540px]":"top-0")+" } flex h-full flex-col gap-4")},m(a,c){W(a,e,c),f[n].m(e,null),s=!0},p(a,c){let p=n;n=i(a),n===p?f[n].p(a,c):(le(),g(f[p],1,1,()=>{f[p]=null}),oe(),t=f[n],t?t.p(a,c):(t=f[n]=o[n](a),t.c()),m(t,1),t.m(e,null)),(!s||c&32&&r!==(r="absolute bottom-0 left-0 right-0 "+(a[5]?"top-[540px]":"top-0")+" } flex h-full flex-col gap-4"))&&H(e,"class",r)},i(a){s||(m(t),s=!0)},o(a){g(t),s=!1},d(a){a&&$(e),f[n].d()}}}function ro(l){let e,n,t,r=Xe(l[2],null,2)+"",s,o;return n=new Un({props:{copyIconTitle:M("common.copy-icon-title"),copySuccessIconTitle:M("common.copy-success-icon-title"),class:"absolute right-1 top-1",copied:l[4]}}),n.$on("click",l[7]),{c(){e=j("div"),D(n.$$.fragment),t=O(),s=X(r),this.h()},l(f){e=L(f,"DIV",{class:!0});var i=z(e);C(n.$$.fragment,i),t=Q(i),s=x(i,r),i.forEach($),this.h()},h(){H(e,"class","relative h-auto whitespace-break-spaces break-words rounded bg-primary p-4")},m(f,i){W(f,e,i),A(n,e,null),B(e,t),B(e,s),o=!0},p(f,i){const a={};i&16&&(a.copied=f[4]),n.$set(a),(!o||i&4)&&r!==(r=Xe(f[2],null,2)+"")&&ie(s,r)},i(f){o||(m(n.$$.fragment,f),o=!0)},o(f){g(n.$$.fragment,f),o=!1},d(f){f&&$(e),S(n)}}}function lo(l){let e,n,t,r;n=new xl({});const s=l[16].default,o=Ce(s,l,l[15],null);return{c(){e=j("div"),D(n.$$.fragment),t=O(),o&&o.c(),this.h()},l(f){e=L(f,"DIV",{class:!0});var i=z(e);C(n.$$.fragment,i),i.forEach($),t=Q(f),o&&o.l(f),this.h()},h(){H(e,"class","border-b border-subtle px-4 pt-8 md:pt-20 xl:px-8")},m(f,i){W(f,e,i),A(n,e,null),W(f,t,i),o&&o.m(f,i),r=!0},p(f,i){o&&o.p&&(!r||i&32768)&&Ae(o,s,f,f[15],r?Pe(s,f[15],i,null):Se(f[15]),null)},i(f){r||(m(n.$$.fragment,f),m(o,f),r=!0)},o(f){g(n.$$.fragment,f),g(o,f),r=!1},d(f){f&&($(e),$(t)),S(n),o&&o.d(f)}}}function oo(l){let e,n;return e=new On({props:{class:"pt-24"}}),{c(){D(e.$$.fragment)},l(t){C(e.$$.fragment,t)},m(t,r){A(e,t,r),n=!0},p:de,i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function so(l){let e,n;return e=new Cr({props:{error:l[1]}}),{c(){D(e.$$.fragment)},l(t){C(e.$$.fragment,t)},m(t,r){A(e,t,r),n=!0},p(t,r){const s={};r&2&&(s.error=t[1]),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function fo(l){let e,n,t,r;const s=[ro,no],o=[];function f(i,a){return i[3]?0:1}return e=f(l),n=o[e]=s[e](l),{c(){n.c(),t=me()},l(i){n.l(i),t=me()},m(i,a){o[e].m(i,a),W(i,t,a),r=!0},p(i,[a]){let c=e;e=f(i),e===c?o[e].p(i,a):(le(),g(o[c],1,1,()=>{o[c]=null}),oe(),n=o[e],n?n.p(i,a):(n=o[e]=s[e](i),n.c()),m(n,1),n.m(t.parentNode,t))},i(i){r||(m(n),r=!0)},o(i){g(n),r=!1},d(i){i&&$(t),o[e].d(i)}}}function io(l,e,n){let t,r,s,o,f,i,a,c,p,b,d,w,u,_,k,P;ne(l,Rt,q=>n(19,i=q)),ne(l,Be,q=>n(11,a=q)),ne(l,Kn,q=>n(12,c=q)),ne(l,Le,q=>n(13,p=q)),ne(l,Vt,q=>n(20,b=q)),ne(l,Fe,q=>n(14,d=q)),ne(l,Ee,q=>n(0,w=q)),ne(l,Mt,q=>n(21,u=q)),ne(l,br,q=>n(22,_=q)),ne(l,qn,q=>n(5,P=q));let{$$slots:E={},$$scope:h}=e,U,N,G;const{copy:Z,copied:re}=Er();ne(l,re,q=>n(4,k=q));const ee=q=>{Z(q,Xe(f))},K=async q=>{const F={summary:"",details:""};try{if(q!=null&&q.summary){const V=await Nt(q.summary);typeof V=="string"&&(F.summary=V)}if(q!=null&&q.details){const V=await Nt(q.details);typeof V=="string"&&(F.details=V)}_e(Ee,w={...w,userMetadata:F},w)}catch(V){console.error("Error decoding user metadata",V)}},J=async(q,F,V)=>{const{settings:I}=a.data,{workflow:Y,error:te}=await Dt({namespace:q,workflowId:F,runId:V});if(te){n(1,U=te);return}await K(Y);const{taskQueue:se}=Y,fe=await ar({queue:se,namespace:q});_e(Ee,w={...w,workflow:Y,workers:fe},w),Y.pendingActivities=await dn(Y,q,I,_==null?void 0:_.accessToken),N=new AbortController,kr({namespace:q,workflow:{id:F,runId:V}},I,_==null?void 0:_.accessToken,N.signal).then(ge=>{_e(Ee,w.metadata=ge,w)}),_e(Le,p=await hr({namespace:q,workflowId:F,runId:V,sort:"ascending",signal:N.signal,historySize:Y.historyEvents}),p)},T=async q=>{var F;if(q&&(!((F=w==null?void 0:w.workflow)===null||F===void 0)&&F.isRunning)){const{settings:V}=a.data,{workflow:I,error:Y}=await Dt({namespace:t,workflowId:r,runId:s});if(Y){n(1,U=Y);return}_e(Ee,w.workflow=I,w),I.pendingActivities=await dn(I,t,V,_==null?void 0:_.accessToken)}},v=()=>{_e(Le,p=[],p),N&&N.abort()},y=()=>{_e(Mt,u=null,u),_e(Ee,w=Ln,w),n(1,U=void 0),v(),vr(),clearInterval(G),G=null},R=(q,F)=>{F||_e(Vt,b=q,b)};return Nn(()=>{const q=a.url.searchParams.get("sort");q&&_e(Rt,i=q,i),G=setInterval(()=>{$r()},1e4)}),wn(()=>{y()}),l.$$set=q=>{"$$scope"in q&&n(15,h=q.$$scope)},l.$$.update=()=>{l.$$.dirty&2048&&n(10,{namespace:t,workflow:r,run:s}=a.params,t,(n(9,r),n(11,a)),(n(8,s),n(11,a))),l.$$.dirty&2048&&n(3,o=a.url.searchParams.has("json")),l.$$.dirty&8193&&n(2,f={...w,eventHistory:p}),l.$$.dirty&256&&y(),l.$$.dirty&1792&&J(t,r,s),l.$$.dirty&16384&&T(d),l.$$.dirty&12288&&R(p,c)},[w,U,f,o,k,P,re,ee,s,r,t,a,c,p,d,h,E]}class ao extends he{constructor(e){super(),ke(this,e,io,fo,$e,{})}}const Rn={namespace:null,workflowId:null,runId:null,rawPayloads:null,sort:null},uo=nt(Rn),co=()=>{uo.set(Rn)};function mo(l){let e;const n=l[0].default,t=Ce(n,l,l[1],null);return{c(){t&&t.c()},l(r){t&&t.l(r)},m(r,s){t&&t.m(r,s),e=!0},p(r,s){t&&t.p&&(!e||s&2)&&Ae(t,n,r,r[1],e?Pe(n,r[1],s,null):Se(r[1]),null)},i(r){e||(m(t,r),e=!0)},o(r){g(t,r),e=!1},d(r){t&&t.d(r)}}}function po(l){let e,n;return e=new ao({props:{$$slots:{default:[mo]},$$scope:{ctx:l}}}),{c(){D(e.$$.fragment)},l(t){C(e.$$.fragment,t)},m(t,r){A(e,t,r),n=!0},p(t,[r]){const s={};r&2&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function _o(l,e,n){let{$$slots:t={},$$scope:r}=e;return wn(()=>{co()}),l.$$set=s=>{"$$scope"in s&&n(1,r=s.$$scope)},[t,r]}class gs extends he{constructor(e){super(),ke(this,e,_o,po,$e,{})}}export{gs as component};
