import{s as k,h as D,j as G,k as P,f as b,m as v,i as V,c,w as E,v as W}from"../chunks/scheduler.DpGMy-aI.js";import{S as x,i as I,c as S,a as A,m as F,t as H,b as N,d as O}from"../chunks/index.D6yvRDVo.js";import{p as z}from"../chunks/stores.orBfmnsv.js";import{E as B}from"../chunks/event-summary-table.CybG7aYq.js";import{g as J}from"../chunks/index.YNAPcIRS.js";import{f as K}from"../chunks/events-service.C7R-YNPj.js";import{f as h,b as L}from"../chunks/events.sRqbTHi6.js";import{w as M}from"../chunks/workflow-run.pAIaty2H.js";function Q(e){let r,t,s;return t=new B({props:{items:e[0],groups:e[1],updating:e[2],openExpanded:!0}}),{c(){r=D("div"),S(t.$$.fragment),this.h()},l(n){r=G(n,"DIV",{class:!0,"data-testid":!0});var o=P(r);A(t.$$.fragment,o),o.forEach(b),this.h()},h(){v(r,"class","px-8"),v(r,"data-testid","event-summary-table")},m(n,o){V(n,r,o),F(t,r,null),s=!0},p(n,[o]){const u={};o&1&&(u.items=n[0]),o&2&&(u.groups=n[1]),o&4&&(u.updating=n[2]),t.$set(u)},i(n){s||(H(t.$$.fragment,n),s=!0)},o(n){N(t.$$.fragment,n),s=!1},d(n){n&&b(r),O(t)}}}function T(e,r,t){let s,n,o,u,m,l,d,f,y,w,p,a,g,_;c(e,z,i=>t(10,p=i)),c(e,h,i=>t(11,a=i)),c(e,L,i=>t(12,g=i)),c(e,M,i=>t(13,_=i));const R=()=>{E(h,a=[],a)},j=async(i,q,C)=>{a.length||(R(),E(h,a=await K({namespace:i,workflowId:q,runId:C}),a))};return e.$$.update=()=>{e.$$.dirty&1024&&t(9,{namespace:s,workflow:n,run:o}=p.params,s,(t(8,n),t(10,p)),(t(7,o),t(10,p))),e.$$.dirty&896&&j(s,n,o),e.$$.dirty&2048&&t(2,u=!a.length),e.$$.dirty&8192&&t(6,{workflow:m}=_,m),e.$$.dirty&64&&t(5,l=m==null?void 0:m.pendingActivities),e.$$.dirty&64&&t(4,d=m==null?void 0:m.pendingNexusOperations),e.$$.dirty&2096&&t(3,f=J(a,"ascending",l,d)),e.$$.dirty&4104&&t(1,y=g==="ascending"?f:[...f].reverse()),e.$$.dirty&3072&&t(0,w=a.filter(i=>i.id===p.params.id))},[w,y,u,f,d,l,m,o,n,s,p,a,g,_]}class U extends x{constructor(r){super(),I(this,r,T,Q,k,{})}}function X(e){let r,t;return r=new U({}),{c(){S(r.$$.fragment)},l(s){A(r.$$.fragment,s)},m(s,n){F(r,s,n),t=!0},p:W,i(s){t||(H(r.$$.fragment,s),t=!0)},o(s){N(r.$$.fragment,s),t=!1},d(s){O(r,s)}}}class ot extends x{constructor(r){super(),I(this,r,null,X,k,{})}}export{ot as component};
