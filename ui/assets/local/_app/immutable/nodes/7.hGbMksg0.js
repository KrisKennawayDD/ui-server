import{s as be,h as L,b as j,t as K,j as z,k as J,f as $,d as O,l as X,m as H,i as R,n as q,q as ie,c as ne,v as we,D as Ke,z as Oe,A as wn,H as Fe,x as pe,O as ae,Q as ue,R as tt,w as ge,y as ot,Z as Mn,a as Ve,E as vt,p as et,F as It,u as Me,g as Ne,e as qe,M as st,G as Nn,B as Et,W as qn,P as $n}from"../chunks/scheduler.D6mQsyhd.js";import{S as ve,i as Ie,c as T,a as D,m as C,t as m,b as g,d as A,g as re,e as le,h as ce,j as Tt,f as hn}from"../chunks/index.CDeUyeTp.js";import{p as Qe}from"../chunks/stores.B4GJOLu2.js";import{v as Bn}from"../chunks/data-encoder-settings.DN3EaYoC.js";import{L as Ue}from"../chunks/link.BzrBFMOU.js";import{t as B}from"../chunks/translate.BBe5dcco.js";import{c as kn,k as Fn,o as Hn,p as Un,u as Dt}from"../chunks/workflows.CygT-snF.js";import{e as Xe,s as Ct,u as Be,v as At,w as Pt,b as We,x as ze,y as Je,c as ye,z as Ye,A as Ge}from"../chunks/route-for.CABoy1kz.js";import{B as jn}from"../chunks/button.B_UTQ1b9.js";import{L as On}from"../chunks/loading.azOfDUyA.js";import{s as St,a as bn}from"../chunks/index.2cpoF_sa.js";import{f as ke,r as Qn,t as Ln}from"../chunks/time-format.Dg4nx8-3.js";import{o as zn}from"../chunks/format-time.Dn4a2B__.js";import{C as vn}from"../chunks/index.CP0KX5Mn.js";import{I as je}from"../chunks/icon.x35qC2Gh.js";import{T as ft}from"../chunks/tooltip.I5toLvgE.js";import{e as He}from"../chunks/each.5YhwczXz.js";import{w as it,g as Wt}from"../chunks/entry.CdL22gnD.js";import{w as Jn,a as yn,b as Yn,C as Gn,T as Zn}from"../chunks/workflow-terminate-enabled.DE7m9HzO.js";import{C as nt,M as In}from"../chunks/checkbox.BJjbr9kp.js";import{I as En}from"../chunks/input.D2iquU_T.js";import{M as Tn}from"../chunks/modal.CHsJ-5TJ.js";import{S as Dn,O as at}from"../chunks/option.BS2f1eLN.js";import{r as Cn,f as Ze,b as Rt,p as Kn,g as Vt,t as Mt}from"../chunks/events.C-D1wtBM.js";import{p as Xn}from"../chunks/persist-store.nyVSGPFa.js";import{t as xn}from"../chunks/versions.DNjmllqv.js";import{i as An}from"../chunks/is-network-error.DxxRlstw.js";import{m as er}from"../chunks/route-for-api.Dl9JBWlM.js";import{P as tr}from"../chunks/payload-input-with-encoding.GCNqHD9d.js";import{t as nr,v as rr}from"../chunks/toaster.DRVr5yJ0.js";import{w as Se,r as Le,i as lr}from"../chunks/workflow-run.DzyzeyrV.js";import{B as or}from"../chunks/button.Cd0QmEiP.js";import{d as ut}from"../chunks/menu.BiCwa7uk.js";import{S as Pn}from"../chunks/split-button.CD5F890X.js";import{c as sr}from"../chunks/core-user.BGSj3NBZ.js";import{w as rt}from"../chunks/workflow-create-disabled.B2ZCWGmt.js";import{W as fr}from"../chunks/workflow-status.CCkH01OU.js";import{C as ir}from"../chunks/compatibility-badge.COQj7tOB.js";import{k as ar,g as ur}from"../chunks/pollers-service.BSemR9ox.js";import{g as cr}from"../chunks/spread.CgU5AtxT.js";import{A as Sn}from"../chunks/alert.BVx8_ypX.js";import{B as xe}from"../chunks/badge.R7mYic6p.js";import{M as ct}from"../chunks/markdown.CUl8DhoY.js";import{T as mr,a as pr,b as Re}from"../chunks/tab.BqnSIHVr.js";import{n as _r}from"../chunks/namespaces.BG3NqiUV.js";import{g as dr}from"../chunks/get-workflow-relationships.DoFib6sV.js";import{h as gr}from"../chunks/has.BnvKvYqj.js";import{e as wr,d as $r,a as Nt}from"../chunks/decode-payload.DoYK51H7.js";import{t as hr,f as kr}from"../chunks/events-service.Cg8XR8MF.js";import{b as br}from"../chunks/query-service.CNMwoAjd.js";import{a as vr}from"../chunks/auth-user.DrNhnq0Z.js";import{r as Ir}from"../chunks/data-encoder-config.DnpFVUZk.js";import{c as Er}from"../chunks/copy-to-clipboard.BKyFenmK.js";import{s as lt}from"../chunks/parse-with-big-int.Dyr6jPtv.js";function Tr(r){let e=B("workflows.back-to-workflows")+"",n;return{c(){n=K(e)},l(t){n=X(t,e)},m(t,l){R(t,n,l)},p:we,d(t){t&&$(n)}}}function Dr(r){var k,W;let e,n,t,l,s,o,f=(((k=r[0])==null?void 0:k.statusCode)??"500")+"",i,a,c,_,b,d,w=(((W=r[0])==null?void 0:W.statusText)??"")+"",u,p;return t=new Ue({props:{href:`${Xe({namespace:r[2]})}?${r[3]}`,"data-testid":"back-to-workflows",icon:"chevron-left",$$slots:{default:[Tr]},$$scope:{ctx:r}}}),{c(){e=L("header"),n=L("div"),T(t.$$.fragment),l=j(),s=L("div"),o=L("h1"),i=K(f),a=j(),c=L("p"),_=K(r[1]),b=j(),d=L("p"),u=K(w),this.h()},l(v){e=z(v,"HEADER",{class:!0});var h=J(e);n=z(h,"DIV",{class:!0});var U=J(n);D(t.$$.fragment,U),U.forEach($),h.forEach($),l=O(v),s=z(v,"DIV",{class:!0});var F=J(s);o=z(F,"H1",{class:!0});var Y=J(o);i=X(Y,f),Y.forEach($),a=O(F),c=z(F,"P",{class:!0});var G=J(c);_=X(G,r[1]),G.forEach($),b=O(F),d=z(F,"P",{class:!0});var te=J(d);u=X(te,w),te.forEach($),F.forEach($),this.h()},h(){H(n,"class","mb-4 block"),H(e,"class","mb-4 flex flex-col gap-1"),H(o,"class","leading-0 text-[12rem] font-semibold"),H(c,"class","-mt-12 text-lg"),H(d,"class","text-2xl font-bold text-red-700"),H(s,"class","text-center align-middle")},m(v,h){R(v,e,h),q(e,n),C(t,n,null),R(v,l,h),R(v,s,h),q(s,o),q(o,i),q(s,a),q(s,c),q(c,_),q(s,b),q(s,d),q(d,u),p=!0},p(v,[h]){var F,Y;const U={};h&12&&(U.href=`${Xe({namespace:v[2]})}?${v[3]}`),h&32&&(U.$$scope={dirty:h,ctx:v}),t.$set(U),(!p||h&1)&&f!==(f=(((F=v[0])==null?void 0:F.statusCode)??"500")+"")&&ie(i,f),(!p||h&2)&&ie(_,v[1]),(!p||h&1)&&w!==(w=(((Y=v[0])==null?void 0:Y.statusText)??"")+"")&&ie(u,w)},i(v){p||(m(t.$$.fragment,v),p=!0)},o(v){g(t.$$.fragment,v),p=!1},d(v){v&&($(e),$(l),$(s)),A(t)}}}function Cr(r,e,n){let t,l,s,o;ne(r,Qe,i=>n(4,s=i)),ne(r,kn,i=>n(3,o=i));let{error:f}=e;return r.$$set=i=>{"error"in i&&n(0,f=i.error)},r.$$.update=()=>{r.$$.dirty&16&&n(2,{namespace:t}=s.params,t),r.$$.dirty&1&&n(1,l=f.statusCode===404?B("workflows.workflow-404-title"):B("workflows.workflow-error-title"))},[f,l,t,o,s]}class Ar extends ve{constructor(e){super(),Ie(this,e,Cr,Dr,be,{error:0})}}function qt(r){let e,n;return{c(){e=L("span"),n=K(r[0]),this.h()},l(t){e=z(t,"SPAN",{class:!0});var l=J(e);n=X(l,r[0]),l.forEach($),this.h()},h(){H(e,"class","font-mono")},m(t,l){R(t,e,l),q(e,n)},p(t,l){l&1&&ie(n,t[0])},d(t){t&&$(e)}}}function Bt(r){let e,n;return e=new je({props:{name:r[5]}}),{c(){T(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,l){C(e,t,l),n=!0},p(t,l){const s={};l&32&&(s.name=t[5]),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){A(e,t)}}}function Pr(r){let e,n;return e=new ft({props:{text:r[6],hide:!r[6],top:!0,$$slots:{default:[Rr]},$$scope:{ctx:r}}}),{c(){T(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,l){C(e,t,l),n=!0},p(t,l){const s={};l&64&&(s.text=t[6]),l&64&&(s.hide=!t[6]),l&642&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){A(e,t)}}}function Sr(r){let e,n;return e=new Ue({props:{href:r[4],class:"value truncate rounded-sm p-1 leading-4 "+(r[7]&&"surface-subtle"),$$slots:{default:[Vr]},$$scope:{ctx:r}}}),{c(){T(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,l){C(e,t,l),n=!0},p(t,l){const s={};l&16&&(s.href=t[4]),l&128&&(s.class="value truncate rounded-sm p-1 leading-4 "+(t[7]&&"surface-subtle")),l&514&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){A(e,t)}}}function Wr(r){let e,n;return e=new vn({props:{copyIconTitle:B("common.copy-icon-title"),copySuccessIconTitle:B("common.copy-success-icon-title"),content:r[1],visible:!0,"container-class":"gap-1 w-full justify-end",$$slots:{default:[Fr]},$$scope:{ctx:r}}}),{c(){T(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,l){C(e,t,l),n=!0},p(t,l){const s={};l&2&&(s.content=t[1]),l&730&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){A(e,t)}}}function Rr(r){let e,n;return{c(){e=L("span"),n=K(r[1]),this.h()},l(t){e=z(t,"SPAN",{class:!0});var l=J(e);n=X(l,r[1]),l.forEach($),this.h()},h(){H(e,"class","w-fit select-all truncate rounded-sm p-1 leading-4"),Fe(e,"surface-subtle",r[7])},m(t,l){R(t,e,l),q(e,n)},p(t,l){l&2&&ie(n,t[1]),l&128&&Fe(e,"surface-subtle",t[7])},d(t){t&&$(e)}}}function Vr(r){let e;return{c(){e=K(r[1])},l(n){e=X(n,r[1])},m(n,t){R(n,e,t)},p(n,t){t&2&&ie(e,n[1])},d(n){n&&$(e)}}}function Mr(r){let e,n;return e=new ft({props:{text:r[6],hide:!r[6],top:!0,$$slots:{default:[qr]},$$scope:{ctx:r}}}),{c(){T(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,l){C(e,t,l),n=!0},p(t,l){const s={};l&64&&(s.text=t[6]),l&64&&(s.hide=!t[6]),l&642&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){A(e,t)}}}function Nr(r){let e,n;return e=new Ue({props:{href:r[4],class:"flex w-fit flex-row items-center gap-1 truncate rounded-sm p-1 leading-4 "+(r[7]&&"surface-subtle"),$$slots:{default:[Br]},$$scope:{ctx:r}}}),{c(){T(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,l){C(e,t,l),n=!0},p(t,l){const s={};l&16&&(s.href=t[4]),l&128&&(s.class="flex w-fit flex-row items-center gap-1 truncate rounded-sm p-1 leading-4 "+(t[7]&&"surface-subtle")),l&522&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){A(e,t)}}}function qr(r){let e,n;return{c(){e=L("span"),n=K(r[1]),this.h()},l(t){e=z(t,"SPAN",{class:!0});var l=J(e);n=X(l,r[1]),l.forEach($),this.h()},h(){H(e,"class","w-fit select-all truncate rounded-sm p-1 leading-4"),Fe(e,"surface-subtle",r[7])},m(t,l){R(t,e,l),q(e,n)},p(t,l){l&2&&ie(n,t[1]),l&128&&Fe(e,"surface-subtle",t[7])},d(t){t&&$(e)}}}function Ft(r){let e,n;return e=new je({props:{name:"filter",class:"shrink-0"}}),{c(){T(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,l){C(e,t,l),n=!0},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){A(e,t)}}}function Br(r){let e,n,t,l,s,o=r[3]&&Ft();return{c(){e=L("span"),n=K(r[1]),t=j(),o&&o.c(),l=pe(),this.h()},l(f){e=z(f,"SPAN",{class:!0});var i=J(e);n=X(i,r[1]),i.forEach($),t=O(f),o&&o.l(f),l=pe(),this.h()},h(){H(e,"class","truncate")},m(f,i){R(f,e,i),q(e,n),R(f,t,i),o&&o.m(f,i),R(f,l,i),s=!0},p(f,i){(!s||i&2)&&ie(n,f[1]),f[3]?o?i&8&&m(o,1):(o=Ft(),o.c(),m(o,1),o.m(l.parentNode,l)):o&&(re(),g(o,1,1,()=>{o=null}),le())},i(f){s||(m(o),s=!0)},o(f){g(o),s=!1},d(f){f&&($(e),$(t),$(l)),o&&o.d(f)}}}function Fr(r){let e,n,t,l;const s=[Nr,Mr],o=[];function f(i,a){return i[4]?0:1}return e=f(r),n=o[e]=s[e](r),{c(){n.c(),t=pe()},l(i){n.l(i),t=pe()},m(i,a){o[e].m(i,a),R(i,t,a),l=!0},p(i,a){let c=e;e=f(i),e===c?o[e].p(i,a):(re(),g(o[c],1,1,()=>{o[c]=null}),le(),n=o[e],n?n.p(i,a):(n=o[e]=s[e](i),n.c()),m(n,1),n.m(t.parentNode,t))},i(i){l||(m(n),l=!0)},o(i){g(n),l=!1},d(i){i&&$(t),o[e].d(i)}}}function Hr(r){let e,n,t,l,s,o,f,i=r[0]&&qt(r),a=r[5]&&Bt(r);const c=[Wr,Sr,Pr],_=[];function b(d,w){return d[2]?0:d[4]?1:2}return l=b(r),s=_[l]=c[l](r),{c(){e=L("p"),i&&i.c(),n=j(),a&&a.c(),t=j(),s.c(),this.h()},l(d){e=z(d,"P",{class:!0});var w=J(e);i&&i.l(w),n=O(w),a&&a.l(w),t=O(w),s.l(w),w.forEach($),this.h()},h(){H(e,"class",o="flex h-4 items-center justify-between gap-16 truncate whitespace-nowrap "+r[8].class)},m(d,w){R(d,e,w),i&&i.m(e,null),q(e,n),a&&a.m(e,null),q(e,t),_[l].m(e,null),f=!0},p(d,[w]){d[0]?i?i.p(d,w):(i=qt(d),i.c(),i.m(e,n)):i&&(i.d(1),i=null),d[5]?a?(a.p(d,w),w&32&&m(a,1)):(a=Bt(d),a.c(),m(a,1),a.m(e,t)):a&&(re(),g(a,1,1,()=>{a=null}),le());let u=l;l=b(d),l===u?_[l].p(d,w):(re(),g(_[u],1,1,()=>{_[u]=null}),le(),s=_[l],s?s.p(d,w):(s=_[l]=c[l](d),s.c()),m(s,1),s.m(e,null)),(!f||w&256&&o!==(o="flex h-4 items-center justify-between gap-16 truncate whitespace-nowrap "+d[8].class))&&H(e,"class",o)},i(d){f||(m(a),m(s),f=!0)},o(d){g(a),g(s),f=!1},d(d){d&&$(e),i&&i.d(),a&&a.d(),_[l].d()}}}function Ur(r,e,n){const t=["title","content","copyable","filterable","href","icon","tooltip","badge"];let l=Ke(e,t),{title:s=""}=e,{content:o}=e,{copyable:f=!1}=e,{filterable:i=!1}=e,{href:a=null}=e,{icon:c=void 0}=e,{tooltip:_=""}=e,{badge:b=!1}=e;return r.$$set=d=>{e=Oe(Oe({},e),wn(d)),n(8,l=Ke(e,t)),"title"in d&&n(0,s=d.title),"content"in d&&n(1,o=d.content),"copyable"in d&&n(2,f=d.copyable),"filterable"in d&&n(3,i=d.filterable),"href"in d&&n(4,a=d.href),"icon"in d&&n(5,c=d.icon),"tooltip"in d&&n(6,_=d.tooltip),"badge"in d&&n(7,b=d.badge)},[s,o,f,i,a,c,_,b,l]}class Pe extends ve{constructor(e){super(),Ie(this,e,Ur,Hr,be,{title:0,content:1,copyable:2,filterable:3,href:4,icon:5,tooltip:6,badge:7})}}function Ht(r){var t,l,s,o,f,i;let e,n;return e=new Pe({props:{title:B("workflows.parent-workflow"),content:(l=(t=r[0])==null?void 0:t.parent)==null?void 0:l.workflowId,href:At({namespace:r[3],workflow:(o=(s=r[0])==null?void 0:s.parent)==null?void 0:o.workflowId,run:(i=(f=r[0])==null?void 0:f.parent)==null?void 0:i.runId})}}),{c(){T(e.$$.fragment)},l(a){D(e.$$.fragment,a)},m(a,c){C(e,a,c),n=!0},p(a,c){var b,d,w,u,p,k;const _={};c&1&&(_.content=(d=(b=a[0])==null?void 0:b.parent)==null?void 0:d.workflowId),c&9&&(_.href=At({namespace:a[3],workflow:(u=(w=a[0])==null?void 0:w.parent)==null?void 0:u.workflowId,run:(k=(p=a[0])==null?void 0:p.parent)==null?void 0:k.runId})),e.$set(_)},i(a){n||(m(e.$$.fragment,a),n=!0)},o(a){g(e.$$.fragment,a),n=!1},d(a){A(e,a)}}}function jr(r){var U,F,Y,G,te,ee,se,oe,S,E,y,N,I,V,Z;let e,n,t,l,s,o,f,i,a,c,_,b,d,w,u,p,k,W,v;t=new Pe({props:{title:B("common.start"),tooltip:r[4]?ke((U=r[0])==null?void 0:U.startTime,r[5],{relative:!1}):ke((F=r[0])==null?void 0:F.startTime,r[5],{relative:!0}),content:ke((Y=r[0])==null?void 0:Y.startTime,r[5],{relative:r[4]})}}),s=new Pe({props:{title:B("common.end"),tooltip:r[4]?ke((G=r[0])==null?void 0:G.endTime,r[5],{relative:!1}):ke((te=r[0])==null?void 0:te.endTime,r[5],{relative:!0}),content:(ee=r[0])!=null&&ee.endTime?ke((se=r[0])==null?void 0:se.endTime,r[5],{relative:r[4]}):"-"}}),f=new Pe({props:{content:r[2],icon:"clock"}}),c=new Pe({props:{title:B("common.run-id"),content:(oe=r[0])==null?void 0:oe.runId,copyable:!0}}),b=new Pe({props:{title:B("common.workflow-type"),content:(S=r[0])==null?void 0:S.name,copyable:!0,filterable:!0,href:Ct({namespace:r[3],query:`WorkflowType="${(E=r[0])==null?void 0:E.name}"`})}}),w=new Pe({props:{title:B("common.task-queue"),content:(y=r[0])==null?void 0:y.taskQueue,href:Be({namespace:r[1].params.namespace,workflow:(N=r[0])==null?void 0:N.id,run:(I=r[0])==null?void 0:I.runId})}});let h=((V=r[0])==null?void 0:V.parent)&&Ht(r);return W=new Pe({props:{title:B("common.history-size-bytes"),content:(Z=r[0])==null?void 0:Z.historySizeBytes}}),{c(){e=L("div"),n=L("div"),T(t.$$.fragment),l=j(),T(s.$$.fragment),o=j(),T(f.$$.fragment),i=j(),a=L("div"),T(c.$$.fragment),_=j(),T(b.$$.fragment),d=j(),T(w.$$.fragment),u=j(),p=L("div"),h&&h.c(),k=j(),T(W.$$.fragment),this.h()},l(P){e=z(P,"DIV",{class:!0});var x=J(e);n=z(x,"DIV",{class:!0});var me=J(n);D(t.$$.fragment,me),l=O(me),D(s.$$.fragment,me),o=O(me),D(f.$$.fragment,me),me.forEach($),i=O(x),a=z(x,"DIV",{class:!0});var M=J(a);D(c.$$.fragment,M),_=O(M),D(b.$$.fragment,M),d=O(M),D(w.$$.fragment,M),M.forEach($),u=O(x),p=z(x,"DIV",{class:!0});var Q=J(p);h&&h.l(Q),k=O(Q),D(W.$$.fragment,Q),Q.forEach($),x.forEach($),this.h()},h(){H(n,"class","flex w-full flex-col gap-2 xl:w-1/3"),H(a,"class","flex w-full flex-col gap-2 xl:w-1/3"),H(p,"class","flex w-full flex-col gap-2 xl:w-1/3"),H(e,"class","flex w-full flex-col gap-2 xl:flex-row xl:gap-16")},m(P,x){R(P,e,x),q(e,n),C(t,n,null),q(n,l),C(s,n,null),q(n,o),C(f,n,null),q(e,i),q(e,a),C(c,a,null),q(a,_),C(b,a,null),q(a,d),C(w,a,null),q(e,u),q(e,p),h&&h.m(p,null),q(p,k),C(W,p,null),v=!0},p(P,[x]){var he,De,Te,Ce,Ae,mt,pt,_t,dt,gt,wt,$t,ht,kt,bt;const me={};x&49&&(me.tooltip=P[4]?ke((he=P[0])==null?void 0:he.startTime,P[5],{relative:!1}):ke((De=P[0])==null?void 0:De.startTime,P[5],{relative:!0})),x&49&&(me.content=ke((Te=P[0])==null?void 0:Te.startTime,P[5],{relative:P[4]})),t.$set(me);const M={};x&49&&(M.tooltip=P[4]?ke((Ce=P[0])==null?void 0:Ce.endTime,P[5],{relative:!1}):ke((Ae=P[0])==null?void 0:Ae.endTime,P[5],{relative:!0})),x&49&&(M.content=(mt=P[0])!=null&&mt.endTime?ke((pt=P[0])==null?void 0:pt.endTime,P[5],{relative:P[4]}):"-"),s.$set(M);const Q={};x&4&&(Q.content=P[2]),f.$set(Q);const $e={};x&1&&($e.content=(_t=P[0])==null?void 0:_t.runId),c.$set($e);const fe={};x&1&&(fe.content=(dt=P[0])==null?void 0:dt.name),x&9&&(fe.href=Ct({namespace:P[3],query:`WorkflowType="${(gt=P[0])==null?void 0:gt.name}"`})),b.$set(fe);const _e={};x&1&&(_e.content=(wt=P[0])==null?void 0:wt.taskQueue),x&3&&(_e.href=Be({namespace:P[1].params.namespace,workflow:($t=P[0])==null?void 0:$t.id,run:(ht=P[0])==null?void 0:ht.runId})),w.$set(_e),(kt=P[0])!=null&&kt.parent?h?(h.p(P,x),x&1&&m(h,1)):(h=Ht(P),h.c(),m(h,1),h.m(p,k)):h&&(re(),g(h,1,1,()=>{h=null}),le());const Ee={};x&1&&(Ee.content=(bt=P[0])==null?void 0:bt.historySizeBytes),W.$set(Ee)},i(P){v||(m(t.$$.fragment,P),m(s.$$.fragment,P),m(f.$$.fragment,P),m(c.$$.fragment,P),m(b.$$.fragment,P),m(w.$$.fragment,P),m(h),m(W.$$.fragment,P),v=!0)},o(P){g(t.$$.fragment,P),g(s.$$.fragment,P),g(f.$$.fragment,P),g(c.$$.fragment,P),g(b.$$.fragment,P),g(w.$$.fragment,P),g(h),g(W.$$.fragment,P),v=!1},d(P){P&&$(e),A(t),A(s),A(f),A(c),A(b),A(w),h&&h.d(),A(W)}}}function Or(r,e,n){let t,l,s,o,f;ne(r,Qe,a=>n(1,s=a)),ne(r,Qn,a=>n(4,o=a)),ne(r,Ln,a=>n(5,f=a));let{workflow:i}=e;return r.$$set=a=>{"workflow"in a&&n(0,i=a.workflow)},r.$$.update=()=>{r.$$.dirty&2&&n(3,{namespace:t}=s.params,t),r.$$.dirty&1&&n(2,l=zn({start:i==null?void 0:i.startTime,end:(i==null?void 0:i.endTime)||Date.now(),includeMilliseconds:!0}))},[i,s,l,t,o,f]}class Qr extends ve{constructor(e){super(),Ie(this,e,Or,jr,be,{workflow:0})}}const Wn=Xn("resetWorkflows",{});function Ut(r,e,n){const t=r.slice();return t[25]=e[n],t}function Lr(r){let e,n=B("workflows.reset-modal-title")+"",t;return{c(){e=L("h3"),t=K(n),this.h()},l(l){e=z(l,"H3",{slot:!0});var s=J(e);t=X(s,n),s.forEach($),this.h()},h(){H(e,"slot","title")},m(l,s){R(l,e,s),q(e,t)},p:we,d(l){l&&$(e)}}}function zr(r){let e=r[25].id+"",n,t,l=r[25].eventType+"",s;return{c(){n=K(e),t=K(" - "),s=K(l)},l(o){n=X(o,e),t=X(o," - "),s=X(o,l)},m(o,f){R(o,n,f),R(o,t,f),R(o,s,f)},p(o,f){f&512&&e!==(e=o[25].id+"")&&ie(n,e),f&512&&l!==(l=o[25].eventType+"")&&ie(s,l)},d(o){o&&($(n),$(t),$(s))}}}function jt(r){let e,n;return e=new at({props:{value:r[25].id,$$slots:{default:[zr]},$$scope:{ctx:r}}}),{c(){T(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,l){C(e,t,l),n=!0},p(t,l){const s={};l&512&&(s.value=t[25].id),l&268435968&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){A(e,t)}}}function Jr(r){let e,n,t=He(r[9]),l=[];for(let o=0;o<t.length;o+=1)l[o]=jt(Ut(r,t,o));const s=o=>g(l[o],1,1,()=>{l[o]=null});return{c(){for(let o=0;o<l.length;o+=1)l[o].c();e=pe()},l(o){for(let f=0;f<l.length;f+=1)l[f].l(o);e=pe()},m(o,f){for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(o,f);R(o,e,f),n=!0},p(o,f){if(f&512){t=He(o[9]);let i;for(i=0;i<t.length;i+=1){const a=Ut(o,t,i);l[i]?(l[i].p(a,f),m(l[i],1)):(l[i]=jt(a),l[i].c(),m(l[i],1),l[i].m(e.parentNode,e))}for(re(),i=t.length;i<l.length;i+=1)s(i);le()}},i(o){if(!n){for(let f=0;f<t.length;f+=1)m(l[f]);n=!0}},o(o){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)g(l[f]);n=!1},d(o){o&&$(e),ot(l,o)}}}function yr(r){let e,n,t;function l(o){r[20](o)}let s={id:"reset-include-signals-checkbox","data-testid":"reset-include-signals-checkbox",label:B("workflows.reset-reapply-type-label")};return r[5]!==void 0&&(s.checked=r[5]),e=new nt({props:s}),ae.push(()=>ce(e,"checked",l)),{c(){T(e.$$.fragment)},l(o){D(e.$$.fragment,o)},m(o,f){C(e,o,f),t=!0},p(o,f){const i={};!n&&f&32&&(n=!0,i.checked=o[5],ue(()=>n=!1)),e.$set(i)},i(o){t||(m(e.$$.fragment,o),t=!0)},o(o){g(e.$$.fragment,o),t=!1},d(o){A(e,o)}}}function Yr(r){let e,n,t,l,s,o;function f(_){r[18](_)}let i={id:"reset-exclude-signals-checkbox","data-testid":"reset-exclude-signals-checkbox",label:B("workflows.reset-exclude-signals")};r[6]!==void 0&&(i.checked=r[6]),e=new nt({props:i}),ae.push(()=>ce(e,"checked",f));function a(_){r[19](_)}let c={id:"reset-exclude-updates-checkbox","data-testid":"reset-exclude-updates-checkbox",label:B("workflows.reset-exclude-updates")};return r[7]!==void 0&&(c.checked=r[7]),l=new nt({props:c}),ae.push(()=>ce(l,"checked",a)),{c(){T(e.$$.fragment),t=j(),T(l.$$.fragment)},l(_){D(e.$$.fragment,_),t=O(_),D(l.$$.fragment,_)},m(_,b){C(e,_,b),R(_,t,b),C(l,_,b),o=!0},p(_,b){const d={};!n&&b&64&&(n=!0,d.checked=_[6],ue(()=>n=!1)),e.$set(d);const w={};!s&&b&128&&(s=!0,w.checked=_[7],ue(()=>s=!1)),l.$set(w)},i(_){o||(m(e.$$.fragment,_),m(l.$$.fragment,_),o=!0)},o(_){g(e.$$.fragment,_),g(l.$$.fragment,_),o=!1},d(_){_&&$(t),A(e,_),A(l,_)}}}function Gr(r){let e,n,t,l,s,o,f,i,a,c,_;function b(v){r[17](v)}let d={"data-testid":"workflow-reset-event-id-select",menuClass:"max-h-[16rem]",label:B("workflows.reset-event-radio-group-description"),id:"reset-event-id",$$slots:{default:[Jr]},$$scope:{ctx:r}};r[8]!==void 0&&(d.value=r[8]),n=new Dn({props:d}),ae.push(()=>ce(n,"value",b));const w=[Yr,yr],u=[];function p(v,h){return h&3072&&(s=null),s==null&&(s=!!(v[10]||er("1.24.0",v[11]))),s?0:1}o=p(r,-1),f=u[o]=w[o](r);function k(v){r[21](v)}let W={id:"reset-reason",label:B("common.reason")};return r[4]!==void 0&&(W.value=r[4]),a=new En({props:W}),ae.push(()=>ce(a,"value",k)),{c(){e=L("div"),T(n.$$.fragment),l=j(),f.c(),i=j(),T(a.$$.fragment),this.h()},l(v){e=z(v,"DIV",{class:!0});var h=J(e);D(n.$$.fragment,h),l=O(h),f.l(h),i=O(h),D(a.$$.fragment,h),h.forEach($),this.h()},h(){H(e,"class","flex w-full flex-col gap-4")},m(v,h){R(v,e,h),C(n,e,null),q(e,l),u[o].m(e,null),q(e,i),C(a,e,null),_=!0},p(v,h){const U={};h&268435968&&(U.$$scope={dirty:h,ctx:v}),!t&&h&256&&(t=!0,U.value=v[8],ue(()=>t=!1)),n.$set(U);let F=o;o=p(v,h),o===F?u[o].p(v,h):(re(),g(u[F],1,1,()=>{u[F]=null}),le(),f=u[o],f?f.p(v,h):(f=u[o]=w[o](v),f.c()),m(f,1),f.m(e,i));const Y={};!c&&h&16&&(c=!0,Y.value=v[4],ue(()=>c=!1)),a.$set(Y)},i(v){_||(m(n.$$.fragment,v),m(f),m(a.$$.fragment,v),_=!0)},o(v){g(n.$$.fragment,v),g(f),g(a.$$.fragment,v),_=!1},d(v){v&&$(e),A(n),u[o].d(),A(a)}}}function Zr(r){let e,n,t,l;function s(i){r[22](i)}function o(i){r[23](i)}let f={id:"reset-confirmation-modal","data-testid":"reset-confirmation-modal",confirmText:B("common.confirm"),cancelText:B("common.cancel"),loading:r[3],confirmDisabled:!r[8],$$slots:{content:[Gr],title:[Lr]},$$scope:{ctx:r}};return r[2]!==void 0&&(f.error=r[2]),r[0]!==void 0&&(f.open=r[0]),e=new Tn({props:f}),ae.push(()=>ce(e,"error",s)),ae.push(()=>ce(e,"open",o)),e.$on("confirmModal",r[14]),e.$on("cancelModal",r[13]),{c(){T(e.$$.fragment)},l(i){D(e.$$.fragment,i)},m(i,a){C(e,i,a),l=!0},p(i,[a]){const c={};a&8&&(c.loading=i[3]),a&256&&(c.confirmDisabled=!i[8]),a&268439536&&(c.$$scope={dirty:a,ctx:i}),!n&&a&4&&(n=!0,c.error=i[2],ue(()=>n=!1)),!t&&a&1&&(t=!0,c.open=i[0],ue(()=>t=!1)),e.$set(c)},i(i){l||(m(e.$$.fragment,i),l=!0)},o(i){g(e.$$.fragment,i),l=!1},d(i){A(e,i)}}}function Kr(r,e,n){let t,l=we,s=()=>(l(),l=tt(d,E=>n(24,t=E)),d),o,f,i,a;ne(r,Cn,E=>n(9,f=E)),ne(r,Fn,E=>n(10,i=E)),ne(r,xn,E=>n(11,a=E)),r.$$.on_destroy.push(()=>l());let{open:c}=e,{workflow:_}=e,{namespace:b}=e,{refresh:d}=e;s();let w="",u=!1,p=it("");ne(r,p,E=>n(8,o=E));let k,W=!0,v=!1,h=!1;const U=()=>{n(0,c=!1),n(5,W=!0),n(6,v=!1),n(7,h=!1),ge(p,o="",o),n(4,k="")},F=async()=>{n(2,w=""),n(3,u=!0);try{const E=await Hn({namespace:b,workflow:_,eventId:o,reason:k,includeSignals:W,excludeSignals:v,excludeUpdates:h});E&&E.runId&&Wn.update(y=>({...y,[_.runId]:E.runId})),ge(d,t=Date.now(),t),U()}catch(E){n(2,w=An(E)?E.message:B("common.unknown-error"))}finally{n(3,u=!1)}U()};function Y(E){o=E,p.set(o)}function G(E){v=E,n(6,v)}function te(E){h=E,n(7,h)}function ee(E){W=E,n(5,W)}function se(E){k=E,n(4,k)}function oe(E){w=E,n(2,w)}function S(E){c=E,n(0,c)}return r.$$set=E=>{"open"in E&&n(0,c=E.open),"workflow"in E&&n(15,_=E.workflow),"namespace"in E&&n(16,b=E.namespace),"refresh"in E&&s(n(1,d=E.refresh))},[c,d,w,u,k,W,v,h,o,f,i,a,p,U,F,_,b,Y,G,te,ee,se,oe,S]}class Xr extends ve{constructor(e){super(),Ie(this,e,Kr,Zr,be,{open:0,workflow:15,namespace:16,refresh:1})}}function Ot(r,e,n){const t=r.slice();return t[25]=e[n].name,t[26]=e[n].description!==void 0?e[n].description:"",t}function xr(r){let e,n=B("workflows.signal-modal-title")+"",t;return{c(){e=L("h3"),t=K(n),this.h()},l(l){e=z(l,"H3",{slot:!0});var s=J(e);t=X(s,n),s.forEach($),this.h()},h(){H(e,"slot","title")},m(l,s){R(l,e,s),q(e,t)},p:we,d(l){l&&$(e)}}}function el(r){let e,n,t;function l(o){r[18](o)}let s={id:"signal-name",label:B("workflows.signal-name-label"),required:!0};return r[4]!==void 0&&(s.value=r[4]),e=new En({props:s}),ae.push(()=>ce(e,"value",l)),{c(){T(e.$$.fragment)},l(o){D(e.$$.fragment,o)},m(o,f){C(e,o,f),t=!0},p(o,f){const i={};!n&&f&16&&(n=!0,i.value=o[4],ue(()=>n=!1)),e.$set(i)},i(o){t||(m(e.$$.fragment,o),t=!0)},o(o){g(e.$$.fragment,o),t=!1},d(o){A(e,o)}}}function tl(r){let e,n,t;function l(o){r[17](o)}let s={id:"signal-select",label:B("workflows.signal-name-label"),class:"min-w-fit","data-testid":"signal-select",placeholder:"Select a signal",required:!0,$$slots:{default:[ll]},$$scope:{ctx:r}};return r[4]!==void 0&&(s.value=r[4]),e=new Dn({props:s}),ae.push(()=>ce(e,"value",l)),{c(){T(e.$$.fragment)},l(o){D(e.$$.fragment,o)},m(o,f){C(e,o,f),t=!0},p(o,f){const i={};f&536871168&&(i.$$scope={dirty:f,ctx:o}),!n&&f&16&&(n=!0,i.value=o[4],ue(()=>n=!1)),e.$set(i)},i(o){t||(m(e.$$.fragment,o),t=!0)},o(o){g(e.$$.fragment,o),t=!1},d(o){A(e,o)}}}function nl(r){let e=r[25]+"",n;return{c(){n=K(e)},l(t){n=X(t,e)},m(t,l){R(t,n,l)},p(t,l){l&256&&e!==(e=t[25]+"")&&ie(n,e)},d(t){t&&$(n)}}}function Qt(r){let e,n;return e=new at({props:{value:r[25],description:r[26],$$slots:{default:[nl]},$$scope:{ctx:r}}}),{c(){T(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,l){C(e,t,l),n=!0},p(t,l){const s={};l&256&&(s.value=t[25]),l&256&&(s.description=t[26]),l&536871168&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){A(e,t)}}}function rl(r){let e;return{c(){e=K("Custom")},l(n){e=X(n,"Custom")},m(n,t){R(n,e,t)},d(n){n&&$(e)}}}function ll(r){let e,n,t,l=He(r[8]),s=[];for(let f=0;f<l.length;f+=1)s[f]=Qt(Ot(r,l,f));const o=f=>g(s[f],1,1,()=>{s[f]=null});return n=new at({props:{value:"custom",description:"Input Signal name",$$slots:{default:[rl]},$$scope:{ctx:r}}}),n.$on("click",r[11]),{c(){for(let f=0;f<s.length;f+=1)s[f].c();e=j(),T(n.$$.fragment)},l(f){for(let i=0;i<s.length;i+=1)s[i].l(f);e=O(f),D(n.$$.fragment,f)},m(f,i){for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(f,i);R(f,e,i),C(n,f,i),t=!0},p(f,i){if(i&256){l=He(f[8]);let c;for(c=0;c<l.length;c+=1){const _=Ot(f,l,c);s[c]?(s[c].p(_,i),m(s[c],1)):(s[c]=Qt(_),s[c].c(),m(s[c],1),s[c].m(e.parentNode,e))}for(re(),c=l.length;c<s.length;c+=1)o(c);le()}const a={};i&536870912&&(a.$$scope={dirty:i,ctx:f}),n.$set(a)},i(f){if(!t){for(let i=0;i<l.length;i+=1)m(s[i]);m(n.$$.fragment,f),t=!0}},o(f){s=s.filter(Boolean);for(let i=0;i<s.length;i+=1)g(s[i]);g(n.$$.fragment,f),t=!1},d(f){f&&$(e),ot(s,f),A(n,f)}}}function ol(r){let e,n,t,l,s,o,f,i;const a=[tl,el],c=[];function _(u,p){var k;return((k=u[8])==null?void 0:k.length)>0&&!u[5]?0:1}n=_(r),t=c[n]=a[n](r);function b(u){r[19](u)}function d(u){r[20](u)}let w={};return r[7]!==void 0&&(w.input=r[7]),r[6]!==void 0&&(w.encoding=r[6]),s=new tr({props:w}),ae.push(()=>ce(s,"input",b)),ae.push(()=>ce(s,"encoding",d)),{c(){e=L("div"),t.c(),l=j(),T(s.$$.fragment),this.h()},l(u){e=z(u,"DIV",{slot:!0,class:!0});var p=J(e);t.l(p),l=O(p),D(s.$$.fragment,p),p.forEach($),this.h()},h(){H(e,"slot","content"),H(e,"class","flex flex-col gap-4")},m(u,p){R(u,e,p),c[n].m(e,null),q(e,l),C(s,e,null),i=!0},p(u,p){let k=n;n=_(u),n===k?c[n].p(u,p):(re(),g(c[k],1,1,()=>{c[k]=null}),le(),t=c[n],t?t.p(u,p):(t=c[n]=a[n](u),t.c()),m(t,1),t.m(e,l));const W={};!o&&p&128&&(o=!0,W.input=u[7],ue(()=>o=!1)),!f&&p&64&&(f=!0,W.encoding=u[6],ue(()=>f=!1)),s.$set(W)},i(u){i||(m(t),m(s.$$.fragment,u),i=!0)},o(u){g(t),g(s.$$.fragment,u),i=!1},d(u){u&&$(e),c[n].d(),A(s)}}}function sl(r){let e,n,t,l;function s(i){r[21](i)}function o(i){r[22](i)}let f={id:"signal-confirmation-modal","data-testid":"signal-confirmation-modal",loading:r[3],confirmText:B("common.submit"),cancelText:B("common.cancel"),confirmDisabled:!r[4]||!r[6],$$slots:{content:[ol],title:[xr]},$$scope:{ctx:r}};return r[2]!==void 0&&(f.error=r[2]),r[0]!==void 0&&(f.open=r[0]),e=new Tn({props:f}),ae.push(()=>ce(e,"error",s)),ae.push(()=>ce(e,"open",o)),e.$on("cancelModal",r[9]),e.$on("confirmModal",r[10]),{c(){T(e.$$.fragment)},l(i){D(e.$$.fragment,i)},m(i,a){C(e,i,a),l=!0},p(i,[a]){const c={};a&8&&(c.loading=i[3]),a&80&&(c.confirmDisabled=!i[4]||!i[6]),a&536871408&&(c.$$scope={dirty:a,ctx:i}),!n&&a&4&&(n=!0,c.error=i[2],ue(()=>n=!1)),!t&&a&1&&(t=!0,c.open=i[0],ue(()=>t=!1)),e.$set(c)},i(i){l||(m(e.$$.fragment,i),l=!0)},o(i){g(e.$$.fragment,i),l=!1},d(i){A(e,i)}}}const Lt="json/plain";function fl(r,e,n){let t,l,s,o=we,f=()=>(o(),o=tt(p,N=>n(23,s=N)),p),i,a=we,c=()=>(a(),a=tt(U,N=>n(24,i=N)),U),_;ne(r,Se,N=>n(16,_=N)),r.$$.on_destroy.push(()=>o()),r.$$.on_destroy.push(()=>a());var b;let{open:d}=e,{workflow:w}=e,{namespace:u}=e,{refresh:p}=e;f();let k="",W=!1,v="",h=!1,U=it(Lt);c();let F="";const Y=()=>{n(0,d=!1),n(4,v=""),n(7,F=""),n(5,h=!1),ge(U,i=Lt,i)},G=async()=>{n(2,k=""),n(3,W=!0);try{await Un({namespace:u,workflow:w,input:F,encoding:i,name:v}),ge(p,s=Date.now(),s),nr.push({message:B("workflows.signal-success"),id:"workflow-signal-success-toast"}),Y()}catch(N){n(2,k=An(N)?N.message:B("common.unknown-error"))}finally{n(3,W=!1)}},te=()=>{n(5,h=!0),n(4,v="")};function ee(N){v=N,n(4,v)}function se(N){v=N,n(4,v)}function oe(N){F=N,n(7,F)}function S(N){U=N,c(n(6,U))}function E(N){k=N,n(2,k)}function y(N){d=N,n(0,d)}return r.$$set=N=>{"open"in N&&n(0,d=N.open),"workflow"in N&&n(12,w=N.workflow),"namespace"in N&&n(13,u=N.namespace),"refresh"in N&&f(n(1,p=N.refresh))},r.$$.update=()=>{r.$$.dirty&65536&&n(15,{metadata:t}=_,t),r.$$.dirty&49152&&n(8,l=n(14,b=t==null?void 0:t.definition)===null||b===void 0?void 0:b.signalDefinitions)},[d,p,k,W,v,h,U,F,l,Y,G,te,w,u,b,t,_,ee,se,oe,S,E,y]}class il extends ve{constructor(e){super(),Ie(this,e,fl,sl,be,{open:0,workflow:12,namespace:13,refresh:1})}}const al=(r,e,n)=>!r.disableWriteActions&&!r.workflowSignalDisabled&&!e.namespaceWriteDisabled(n);function zt(r,e,n){const t=r.slice();return t[31]=e[n].onClick,t[32]=e[n].destructive,t[33]=e[n].label,t[34]=e[n].enabled,t[35]=e[n].testId,t[36]=e[n].description,t}function ul(r){let e,n;return e=new ft({props:{bottomRight:!0,width:200,text:r[4],hide:r[7],$$slots:{default:[_l]},$$scope:{ctx:r}}}),{c(){T(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,l){C(e,t,l),n=!0},p(t,l){const s={};l[0]&16&&(s.text=t[4]),l[0]&128&&(s.hide=t[7]),l[0]&2176|l[1]&256&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){A(e,t)}}}function cl(r){let e,n;return e=new Pn({props:{id:"workflow-actions",menuClass:"w-[16rem]",position:"right",primaryActionDisabled:!r[7],label:B("workflows.reset"),menuLabel:B("workflows.workflow-actions"),$$slots:{default:[gl]},$$scope:{ctx:r}}}),e.$on("click",r[25]),{c(){T(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,l){C(e,t,l),n=!0},p(t,l){const s={};l[0]&128&&(s.primaryActionDisabled=!t[7]),l[0]&3|l[1]&256&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){A(e,t)}}}function ml(r){let e,n;return e=new Pn({props:{id:"workflow-actions",menuClass:"w-[16rem] md:w-[24rem]",position:"right",disabled:r[14],primaryActionDisabled:!r[15]||r[2],label:B("workflows.request-cancellation"),menuLabel:B("workflows.workflow-actions"),$$slots:{default:[hl]},$$scope:{ctx:r}}}),e.$on("click",r[23]),{c(){T(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,l){C(e,t,l),n=!0},p(t,l){const s={};l[0]&16384&&(s.disabled=t[14]),l[0]&32772&&(s.primaryActionDisabled=!t[15]||t[2]),l[0]&8451|l[1]&256&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){A(e,t)}}}function pl(r){let e=B("workflows.reset")+"",n;return{c(){n=K(e)},l(t){n=X(t,e)},m(t,l){R(t,n,l)},p:we,d(t){t&&$(n)}}}function _l(r){let e,n;return e=new or({props:{"aria-label":B("workflows.reset"),disabled:!r[7],variant:"primary","data-testid":"workflow-reset-button",$$slots:{default:[pl]},$$scope:{ctx:r}}}),e.$on("click",r[26]),{c(){T(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,l){C(e,t,l),n=!0},p(t,l){const s={};l[0]&128&&(s.disabled=!t[7]),l[1]&256&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){A(e,t)}}}function dl(r){let e=B("workflows.start-workflow-like-this-one")+"",n;return{c(){n=K(e)},l(t){n=X(t,e)},m(t,l){R(t,n,l)},p:we,d(t){t&&$(n)}}}function gl(r){let e,n;return e=new ut({props:{"data-testid":"start-workflow-button",$$slots:{default:[dl]},$$scope:{ctx:r}}}),e.$on("click",r[24]),{c(){T(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,l){C(e,t,l),n=!0},p(t,l){const s={};l[1]&256&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){A(e,t)}}}function Jt(r){let e,n;return e=new In({}),{c(){T(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,l){C(e,t,l),n=!0},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){A(e,t)}}}function wl(r){let e=r[33]+"",n;return{c(){n=K(e)},l(t){n=X(t,e)},m(t,l){R(t,n,l)},p(t,l){l[0]&8192&&e!==(e=t[33]+"")&&ie(n,e)},d(t){t&&$(n)}}}function yt(r){let e,n,t,l=r[32]&&Jt();return n=new ut({props:{destructive:r[32],disabled:!r[34],"data-testid":r[35],description:r[36],$$slots:{default:[wl]},$$scope:{ctx:r}}}),n.$on("click",function(){Mn(r[31])&&r[31].apply(this,arguments)}),{c(){l&&l.c(),e=j(),T(n.$$.fragment)},l(s){l&&l.l(s),e=O(s),D(n.$$.fragment,s)},m(s,o){l&&l.m(s,o),R(s,e,o),C(n,s,o),t=!0},p(s,o){r=s,r[32]?l?o[0]&8192&&m(l,1):(l=Jt(),l.c(),m(l,1),l.m(e.parentNode,e)):l&&(re(),g(l,1,1,()=>{l=null}),le());const f={};o[0]&8192&&(f.destructive=r[32]),o[0]&8192&&(f.disabled=!r[34]),o[0]&8192&&(f["data-testid"]=r[35]),o[0]&8192&&(f.description=r[36]),o[0]&8192|o[1]&256&&(f.$$scope={dirty:o,ctx:r}),n.$set(f)},i(s){t||(m(l),m(n.$$.fragment,s),t=!0)},o(s){g(l),g(n.$$.fragment,s),t=!1},d(s){s&&$(e),l&&l.d(s),A(n,s)}}}function Yt(r){let e,n,t,l;return e=new In({}),t=new ut({props:{"data-testid":"start-workflow-button",$$slots:{default:[$l]},$$scope:{ctx:r}}}),t.$on("click",r[22]),{c(){T(e.$$.fragment),n=j(),T(t.$$.fragment)},l(s){D(e.$$.fragment,s),n=O(s),D(t.$$.fragment,s)},m(s,o){C(e,s,o),R(s,n,o),C(t,s,o),l=!0},p(s,o){const f={};o[1]&256&&(f.$$scope={dirty:o,ctx:s}),t.$set(f)},i(s){l||(m(e.$$.fragment,s),m(t.$$.fragment,s),l=!0)},o(s){g(e.$$.fragment,s),g(t.$$.fragment,s),l=!1},d(s){s&&$(n),A(e,s),A(t,s)}}}function $l(r){let e=B("workflows.start-workflow-like-this-one")+"",n;return{c(){n=K(e)},l(t){n=X(t,e)},m(t,l){R(t,n,l)},p:we,d(t){t&&$(n)}}}function hl(r){let e,n=!rt(r[8]),t,l,s=He(r[13]),o=[];for(let a=0;a<s.length;a+=1)o[a]=yt(zt(r,s,a));const f=a=>g(o[a],1,1,()=>{o[a]=null});let i=n&&Yt(r);return{c(){for(let a=0;a<o.length;a+=1)o[a].c();e=j(),i&&i.c(),t=pe()},l(a){for(let c=0;c<o.length;c+=1)o[c].l(a);e=O(a),i&&i.l(a),t=pe()},m(a,c){for(let _=0;_<o.length;_+=1)o[_]&&o[_].m(a,c);R(a,e,c),i&&i.m(a,c),R(a,t,c),l=!0},p(a,c){if(c[0]&8192){s=He(a[13]);let _;for(_=0;_<s.length;_+=1){const b=zt(a,s,_);o[_]?(o[_].p(b,c),m(o[_],1)):(o[_]=yt(b),o[_].c(),m(o[_],1),o[_].m(e.parentNode,e))}for(re(),_=s.length;_<o.length;_+=1)f(_);le()}c[0]&256&&(n=!rt(a[8])),n?i?(i.p(a,c),c[0]&256&&m(i,1)):(i=Yt(a),i.c(),m(i,1),i.m(t.parentNode,t)):i&&(re(),g(i,1,1,()=>{i=null}),le())},i(a){if(!l){for(let c=0;c<s.length;c+=1)m(o[c]);m(i),l=!0}},o(a){o=o.filter(Boolean);for(let c=0;c<o.length;c+=1)g(o[c]);g(i),l=!1},d(a){a&&($(e),$(t)),ot(o,a),i&&i.d(a)}}}function Gt(r){let e,n,t;function l(o){r[27](o)}let s={refresh:Le,workflow:r[0],namespace:r[1]};return r[11]!==void 0&&(s.open=r[11]),e=new Xr({props:s}),ae.push(()=>ce(e,"open",l)),{c(){T(e.$$.fragment)},l(o){D(e.$$.fragment,o)},m(o,f){C(e,o,f),t=!0},p(o,f){const i={};f[0]&1&&(i.workflow=o[0]),f[0]&2&&(i.namespace=o[1]),!n&&f[0]&2048&&(n=!0,i.open=o[11],ue(()=>n=!1)),e.$set(i)},i(o){t||(m(e.$$.fragment,o),t=!0)},o(o){g(e.$$.fragment,o),t=!1},d(o){A(e,o)}}}function Zt(r){let e,n,t;function l(o){r[28](o)}let s={refresh:Le,workflow:r[0],namespace:r[1]};return r[12]!==void 0&&(s.open=r[12]),e=new il({props:s}),ae.push(()=>ce(e,"open",l)),{c(){T(e.$$.fragment)},l(o){D(e.$$.fragment,o)},m(o,f){C(e,o,f),t=!0},p(o,f){const i={};f[0]&1&&(i.workflow=o[0]),f[0]&2&&(i.namespace=o[1]),!n&&f[0]&4096&&(n=!0,i.open=o[12],ue(()=>n=!1)),e.$set(i)},i(o){t||(m(e.$$.fragment,o),t=!0)},o(o){g(e.$$.fragment,o),t=!1},d(o){A(e,o)}}}function Kt(r){let e,n,t;function l(o){r[29](o)}let s={refresh:Le,workflow:r[0],namespace:r[1]};return r[9]!==void 0&&(s.open=r[9]),e=new Gn({props:s}),ae.push(()=>ce(e,"open",l)),{c(){T(e.$$.fragment)},l(o){D(e.$$.fragment,o)},m(o,f){C(e,o,f),t=!0},p(o,f){const i={};f[0]&1&&(i.workflow=o[0]),f[0]&2&&(i.namespace=o[1]),!n&&f[0]&512&&(n=!0,i.open=o[9],ue(()=>n=!1)),e.$set(i)},i(o){t||(m(e.$$.fragment,o),t=!0)},o(o){g(e.$$.fragment,o),t=!1},d(o){A(e,o)}}}function Xt(r){let e,n,t;function l(o){r[30](o)}let s={refresh:Le,workflow:r[0],namespace:r[1]};return r[10]!==void 0&&(s.open=r[10]),e=new Zn({props:s}),ae.push(()=>ce(e,"open",l)),{c(){T(e.$$.fragment)},l(o){D(e.$$.fragment,o)},m(o,f){C(e,o,f),t=!0},p(o,f){const i={};f[0]&1&&(i.workflow=o[0]),f[0]&2&&(i.namespace=o[1]),!n&&f[0]&1024&&(n=!0,i.open=o[10],ue(()=>n=!1)),e.$set(i)},i(o){t||(m(e.$$.fragment,o),t=!0)},o(o){g(e.$$.fragment,o),t=!1},d(o){A(e,o)}}}function kl(r){let e,n,t,l,s,o,f,i,a;const c=[ml,cl,ul],_=[];function b(k,W){return W[0]&256&&(e=null),k[3]?0:(e==null&&(e=!rt(k[8])),e?1:2)}n=b(r,[-1,-1]),t=_[n]=c[n](r);let d=r[7]&&Gt(r),w=r[6]&&Zt(r),u=r[15]&&Kt(r),p=r[5]&&Xt(r);return{c(){t.c(),l=j(),d&&d.c(),s=j(),w&&w.c(),o=j(),u&&u.c(),f=j(),p&&p.c(),i=pe()},l(k){t.l(k),l=O(k),d&&d.l(k),s=O(k),w&&w.l(k),o=O(k),u&&u.l(k),f=O(k),p&&p.l(k),i=pe()},m(k,W){_[n].m(k,W),R(k,l,W),d&&d.m(k,W),R(k,s,W),w&&w.m(k,W),R(k,o,W),u&&u.m(k,W),R(k,f,W),p&&p.m(k,W),R(k,i,W),a=!0},p(k,W){let v=n;n=b(k,W),n===v?_[n].p(k,W):(re(),g(_[v],1,1,()=>{_[v]=null}),le(),t=_[n],t?t.p(k,W):(t=_[n]=c[n](k),t.c()),m(t,1),t.m(l.parentNode,l)),k[7]?d?(d.p(k,W),W[0]&128&&m(d,1)):(d=Gt(k),d.c(),m(d,1),d.m(s.parentNode,s)):d&&(re(),g(d,1,1,()=>{d=null}),le()),k[6]?w?(w.p(k,W),W[0]&64&&m(w,1)):(w=Zt(k),w.c(),m(w,1),w.m(o.parentNode,o)):w&&(re(),g(w,1,1,()=>{w=null}),le()),k[15]?u?(u.p(k,W),W[0]&32768&&m(u,1)):(u=Kt(k),u.c(),m(u,1),u.m(f.parentNode,f)):u&&(re(),g(u,1,1,()=>{u=null}),le()),k[5]?p?(p.p(k,W),W[0]&32&&m(p,1)):(p=Xt(k),p.c(),m(p,1),p.m(i.parentNode,i)):p&&(re(),g(p,1,1,()=>{p=null}),le())},i(k){a||(m(t),m(d),m(w),m(u),m(p),a=!0)},o(k){g(t),g(d),g(w),g(u),g(p),a=!1},d(k){k&&($(l),$(s),$(o),$(f),$(i)),_[n].d(k),d&&d.d(k),w&&w.d(k),u&&u.d(k),p&&p.d(k)}}}function bl(r,e,n){let t,l,s,o,f,i,a,c,_;ne(r,Cn,V=>n(20,a=V)),ne(r,Qe,V=>n(8,_=V));var b,d;let{workflow:w}=e,{namespace:u}=e,{cancelInProgress:p}=e,{isRunning:k}=e,W=!1,v=!1,h=!1,U=!1,F,Y=sr();ne(r,Y,V=>n(21,c=V));let G;const te=()=>Wt(Pt({namespace:u,workflowId:w.id,taskQueue:w.taskQueue,workflowType:w.name})),ee=()=>n(9,W=!0),se=()=>Wt(Pt({namespace:u,workflowId:w.id,taskQueue:w.taskQueue,workflowType:w.name})),oe=()=>n(11,h=!0),S=()=>n(11,h=!0);function E(V){h=V,n(11,h),n(7,f),n(4,F),n(6,l),n(5,s),n(19,o),n(0,w),n(20,a),n(17,b),n(18,d),n(8,_),n(21,c),n(1,u)}function y(V){U=V,n(12,U),n(7,f),n(4,F),n(6,l),n(5,s),n(19,o),n(0,w),n(20,a),n(17,b),n(18,d),n(8,_),n(21,c),n(1,u)}function N(V){W=V,n(9,W)}function I(V){v=V,n(10,v),n(7,f),n(4,F),n(6,l),n(5,s),n(19,o),n(0,w),n(20,a),n(17,b),n(18,d),n(8,_),n(21,c),n(1,u)}return r.$$set=V=>{"workflow"in V&&n(0,w=V.workflow),"namespace"in V&&n(1,u=V.namespace),"cancelInProgress"in V&&n(2,p=V.cancelInProgress),"isRunning"in V&&n(3,k=V.isRunning)},r.$$.update=()=>{r.$$.dirty[0]&2097410&&n(15,t=Jn(_.data.settings,c,u)),r.$$.dirty[0]&2097410&&n(6,l=al(_.data.settings,c,u)),r.$$.dirty[0]&2097410&&n(5,s=yn(_.data.settings,c,u)),r.$$.dirty[0]&2097410&&n(19,o=Yn(_.data.settings,c,u)),r.$$.dirty[0]&1572865&&n(7,f=o&&w.pendingChildren.length===0&&a.length>0),r.$$.dirty[0]&224&&n(14,i=!f&&!l&&!s),r.$$.dirty[0]&1966081&&(o?o&&(n(17,b=w==null?void 0:w.pendingChildren)===null||b===void 0?void 0:b.length)>0?n(4,F=B("workflows.reset-disabled-pending-children")):o&&(n(18,d=w==null?void 0:w.pendingChildren)===null||d===void 0?void 0:d.length)===0&&a.length===0&&n(4,F=B("workflows.reset-disabled-no-events")):n(4,F=B("workflows.reset-disabled-unauthorized"))),r.$$.dirty[0]&240&&n(13,G=[{label:B("workflows.reset"),onClick:()=>n(11,h=!0),testId:"reset-button",enabled:f,description:f?"":F},{label:B("workflows.signal"),onClick:()=>n(12,U=!0),testId:"signal-button",enabled:l,description:l?"":B("workflows.signal-disabled")},{label:B("workflows.terminate"),onClick:()=>n(10,v=!0),testId:"terminate-button",enabled:s,destructive:!0,description:s?"":B("workflows.terminate-disabled")}])},[w,u,p,k,F,s,l,f,_,W,v,h,U,G,i,t,Y,b,d,o,a,c,te,ee,se,oe,S,E,y,N,I]}class xt extends ve{constructor(e){super(),Ie(this,e,bl,kl,be,{workflow:0,namespace:1,cancelInProgress:2,isRunning:3},null,[-1,-1])}}function vl(r){let e,n,t=B("workers.buildId")+"",l,s,o;return s=new ir({props:{active:!0,buildId:r[0]}}),{c(){e=L("p"),n=L("span"),l=K(t),T(s.$$.fragment),this.h()},l(f){e=z(f,"P",{class:!0});var i=J(e);n=z(i,"SPAN",{});var a=J(n);l=X(a,t),a.forEach($),D(s.$$.fragment,i),i.forEach($),this.h()},h(){H(e,"class","flex items-center gap-1")},m(f,i){R(f,e,i),q(e,n),q(n,l),C(s,e,null),o=!0},p(f,[i]){const a={};i&1&&(a.buildId=f[0]),s.$set(a)},i(f){o||(m(s.$$.fragment,f),o=!0)},o(f){g(s.$$.fragment,f),o=!1},d(f){f&&$(e),A(s)}}}function Il(r,e,n){let t,{workflow:l}=e;return r.$$set=s=>{"workflow"in s&&n(1,l=s.workflow)},r.$$.update=()=>{r.$$.dirty&2&&n(0,t=ar(l))},[t,l]}class El extends ve{constructor(e){super(),Ie(this,e,Il,vl,be,{workflow:1})}}const Tl=r=>({open:r&1}),en=r=>({open:r[0]}),Dl=r=>({}),tn=r=>({}),Cl=r=>({}),nn=r=>({}),Al=r=>({}),rn=r=>({});function Pl(r){let e,n,t,l,s,o,f,i,a,c,_,b,d,w,u,p,k,W;const v=r[6].title,h=Ve(v,r,r[5],rn),U=r[6].description,F=Ve(U,r,r[5],nn),Y=r[6].action,G=Ve(Y,r,r[5],tn);i=new je({props:{class:"m-2 shrink-0",name:r[0]?"arrow-down":"arrow-right"}});const te=r[6].default,ee=Ve(te,r,r[5],en);let se=[{class:"w-full"},r[3]],oe={};for(let S=0;S<se.length;S+=1)oe=Oe(oe,se[S]);return{c(){e=L("div"),n=L("button"),t=L("div"),h&&h.c(),l=j(),F&&F.c(),s=j(),o=L("div"),G&&G.c(),f=j(),T(i.$$.fragment),_=j(),b=L("div"),ee&&ee.c(),this.h()},l(S){e=z(S,"DIV",{class:!0});var E=J(e);n=z(E,"BUTTON",{id:!0,"aria-expanded":!0,"aria-controls":!0,class:!0,type:!0});var y=J(n);t=z(y,"DIV",{class:!0});var N=J(t);h&&h.l(N),l=O(N),F&&F.l(N),s=O(N),o=z(N,"DIV",{class:!0,role:!0});var I=J(o);G&&G.l(I),f=O(I),D(i.$$.fragment,I),I.forEach($),N.forEach($),y.forEach($),_=O(E),b=z(E,"DIV",{id:!0,"aria-labelledby":!0,role:!0,class:!0});var V=J(b);ee&&ee.l(V),V.forEach($),E.forEach($),this.h()},h(){H(o,"class","flex flex-row items-center gap-2 pr-2"),H(o,"role","none"),H(t,"class","flex w-full flex-row items-center justify-between gap-2"),H(n,"id",a=r[1]+"-trigger"),H(n,"aria-expanded",r[0]),H(n,"aria-controls",c=r[1]+"-content"),H(n,"class","focus-visible:outline-interactive w-full cursor-pointer hover:bg-interactive-secondary-hover"),H(n,"type","button"),H(b,"id",d=r[1]+"-content"),H(b,"aria-labelledby",w=r[1]+"-trigger"),H(b,"role","textbox"),H(b,"class","block w-full bg-primary p-2"),Fe(b,"hidden",!r[0]),vt(e,oe)},m(S,E){R(S,e,E),q(e,n),q(n,t),h&&h.m(t,null),q(t,l),F&&F.m(t,null),q(t,s),q(t,o),G&&G.m(o,null),q(o,f),C(i,o,null),q(e,_),q(e,b),ee&&ee.m(b,null),p=!0,k||(W=[et(o,"click",It(r[7])),et(o,"keyup",It(r[8])),et(n,"click",r[2])],k=!0)},p(S,[E]){h&&h.p&&(!p||E&32)&&Me(h,v,S,S[5],p?qe(v,S[5],E,Al):Ne(S[5]),rn),F&&F.p&&(!p||E&32)&&Me(F,U,S,S[5],p?qe(U,S[5],E,Cl):Ne(S[5]),nn),G&&G.p&&(!p||E&32)&&Me(G,Y,S,S[5],p?qe(Y,S[5],E,Dl):Ne(S[5]),tn);const y={};E&1&&(y.name=S[0]?"arrow-down":"arrow-right"),i.$set(y),(!p||E&2&&a!==(a=S[1]+"-trigger"))&&H(n,"id",a),(!p||E&1)&&H(n,"aria-expanded",S[0]),(!p||E&2&&c!==(c=S[1]+"-content"))&&H(n,"aria-controls",c),ee&&ee.p&&(!p||E&33)&&Me(ee,te,S,S[5],p?qe(te,S[5],E,Tl):Ne(S[5]),en),(!p||E&2&&d!==(d=S[1]+"-content"))&&H(b,"id",d),(!p||E&2&&w!==(w=S[1]+"-trigger"))&&H(b,"aria-labelledby",w),(!p||E&1)&&Fe(b,"hidden",!S[0]),vt(e,oe=cr(se,[{class:"w-full"},E&8&&S[3]]))},i(S){p||(m(h,S),m(F,S),m(G,S),m(i.$$.fragment,S),m(ee,S),S&&st(()=>{p&&(u||(u=Tt(b,St,{},!0)),u.run(1))}),p=!0)},o(S){g(h,S),g(F,S),g(G,S),g(i.$$.fragment,S),g(ee,S),S&&(u||(u=Tt(b,St,{},!1)),u.run(0)),p=!1},d(S){S&&$(e),h&&h.d(S),F&&F.d(S),G&&G.d(S),A(i),ee&&ee.d(S),S&&u&&u.end(),k=!1,Nn(W)}}}function Sl(r,e,n){const t=["id","open","onToggle"];let l=Ke(e,t),{$$slots:s={},$$scope:o}=e,{id:f=rr()}=e,{open:i=!1}=e,{onToggle:a=we}=e;const c=()=>{n(0,i=!i),a()};function _(d){Et.call(this,r,d)}function b(d){Et.call(this,r,d)}return r.$$set=d=>{e=Oe(Oe({},e),wn(d)),n(3,l=Ke(e,t)),"id"in d&&n(1,f=d.id),"open"in d&&n(0,i=d.open),"onToggle"in d&&n(4,a=d.onToggle),"$$scope"in d&&n(5,o=d.$$scope)},[i,f,c,l,a,o,s,_,b]}class Rn extends ve{constructor(e){super(),Ie(this,e,Sl,Pl,be,{id:1,open:0,onToggle:4})}}const Wl=(r,e)=>{const n=r==="Running",t=e==null?void 0:e.some(l=>(l==null?void 0:l.eventType)==="WorkflowExecutionCancelRequested");return n&&t},ln=r=>{const e=r==null?void 0:r.indexOf("?");return e>-1?r.slice(0,e):r},de=(r,e,n=!1)=>{const t=ln(r).split("/"),l=ln(e).split("/");if(n&&t.length!==l.length)return!1;for(let s=0;s<t.length;s++){const o=t[s],f=l[s];if(o!==f)return!1}return!0};function Rl(r){let e=(r[17]?B("common.workflows"):B("workflows.back-to-workflows"))+"",n;return{c(){n=K(e)},l(t){n=X(t,e)},m(t,l){R(t,n,l)},p(t,l){l[0]&131072&&e!==(e=(t[17]?B("common.workflows"):B("workflows.back-to-workflows"))+"")&&ie(n,e)},d(t){t&&$(n)}}}function on(r){let e,n;return e=new Ue({props:{href:We({...r[15]}),"data-testid":"back-to-workflow-execution",icon:"chevron-left",$$slots:{default:[Vl]},$$scope:{ctx:r}}}),{c(){T(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,l){C(e,t,l),n=!0},p(t,l){const s={};l[0]&32768&&(s.href=We({...t[15]})),l[0]&4|l[1]&2&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){A(e,t)}}}function Vl(r){var t;let e=((t=r[2])==null?void 0:t.runId)+"",n;return{c(){n=K(e)},l(l){n=X(l,e)},m(l,s){R(l,n,s)},p(l,s){var o;s[0]&4&&e!==(e=((o=l[2])==null?void 0:o.runId)+"")&&ie(n,e)},d(l){l&&$(n)}}}function sn(r){let e,n;return e=new El({props:{workflow:r[2]}}),{c(){T(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,l){C(e,t,l),n=!0},p(t,l){const s={};l[0]&4&&(s.workflow=t[2]),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){A(e,t)}}}function fn(r){let e,n;return e=new Rn({props:{$$slots:{title:[Nl],default:[Ml,({open:t})=>({31:t}),({open:t})=>[0,t?1:0]]},$$scope:{ctx:r}}}),{c(){T(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,l){C(e,t,l),n=!0},p(t,l){const s={};l[0]&3|l[1]&3&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){A(e,t)}}}function an(r){let e,n=B("workflows.summary")+"",t,l,s,o;return s=new ct({props:{content:r[1]}}),{c(){e=L("h3"),t=K(n),l=j(),T(s.$$.fragment)},l(f){e=z(f,"H3",{});var i=J(e);t=X(i,n),i.forEach($),l=O(f),D(s.$$.fragment,f)},m(f,i){R(f,e,i),q(e,t),R(f,l,i),C(s,f,i),o=!0},p(f,i){const a={};i[0]&2&&(a.content=f[1]),s.$set(a)},i(f){o||(m(s.$$.fragment,f),o=!0)},o(f){g(s.$$.fragment,f),o=!1},d(f){f&&($(e),$(l)),A(s,f)}}}function un(r){let e,n=B("workflows.details")+"",t,l,s,o;return s=new ct({props:{content:r[0]}}),{c(){e=L("h3"),t=K(n),l=j(),T(s.$$.fragment)},l(f){e=z(f,"H3",{});var i=J(e);t=X(i,n),i.forEach($),l=O(f),D(s.$$.fragment,f)},m(f,i){R(f,e,i),q(e,t),R(f,l,i),C(s,f,i),o=!0},p(f,i){const a={};i[0]&1&&(a.content=f[0]),s.$set(a)},i(f){o||(m(s.$$.fragment,f),o=!0)},o(f){g(s.$$.fragment,f),o=!1},d(f){f&&($(e),$(l)),A(s,f)}}}function Ml(r){let e,n,t,l=r[31]&&r[1]&&an(r),s=r[31]&&r[0]&&un(r);return{c(){l&&l.c(),e=j(),s&&s.c(),n=pe()},l(o){l&&l.l(o),e=O(o),s&&s.l(o),n=pe()},m(o,f){l&&l.m(o,f),R(o,e,f),s&&s.m(o,f),R(o,n,f),t=!0},p(o,f){o[31]&&o[1]?l?(l.p(o,f),f[0]&2|f[1]&1&&m(l,1)):(l=an(o),l.c(),m(l,1),l.m(e.parentNode,e)):l&&(re(),g(l,1,1,()=>{l=null}),le()),o[31]&&o[0]?s?(s.p(o,f),f[0]&1|f[1]&1&&m(s,1)):(s=un(o),s.c(),m(s,1),s.m(n.parentNode,n)):s&&(re(),g(s,1,1,()=>{s=null}),le())},i(o){t||(m(l),m(s),t=!0)},o(o){g(l),g(s),t=!1},d(o){o&&($(e),$(n)),l&&l.d(o),s&&s.d(o)}}}function Nl(r){let e,n,t=B("workflows.summary-and-details")+"",l,s;return n=new je({props:{name:"info",class:"text-brand",width:32,height:32}}),{c(){e=L("div"),T(n.$$.fragment),l=K(t),this.h()},l(o){e=z(o,"DIV",{slot:!0,class:!0});var f=J(e);D(n.$$.fragment,f),l=X(f,t),f.forEach($),this.h()},h(){H(e,"slot","title"),H(e,"class","flex w-full items-center gap-2 p-2 text-xl")},m(o,f){R(o,e,f),C(n,e,null),q(e,l),s=!0},p:we,i(o){s||(m(n.$$.fragment,o),s=!0)},o(o){g(n.$$.fragment,o),s=!1},d(o){o&&$(e),A(n)}}}function cn(r){let e,n;return e=new Rn({props:{$$slots:{title:[Bl],default:[ql,({open:t})=>({31:t}),({open:t})=>[0,t?1:0]]},$$scope:{ctx:r}}}),{c(){T(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,l){C(e,t,l),n=!0},p(t,l){const s={};l[0]&128|l[1]&3&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){A(e,t)}}}function mn(r){let e,n;return e=new ct({props:{content:r[7]}}),{c(){T(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,l){C(e,t,l),n=!0},p(t,l){const s={};l[0]&128&&(s.content=t[7]),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){A(e,t)}}}function ql(r){let e,n,t=r[31]&&mn(r);return{c(){t&&t.c(),e=pe()},l(l){t&&t.l(l),e=pe()},m(l,s){t&&t.m(l,s),R(l,e,s),n=!0},p(l,s){l[31]?t?(t.p(l,s),s[1]&1&&m(t,1)):(t=mn(l),t.c(),m(t,1),t.m(e.parentNode,e)):t&&(re(),g(t,1,1,()=>{t=null}),le())},i(l){n||(m(t),n=!0)},o(l){g(t),n=!1},d(l){l&&$(e),t&&t.d(l)}}}function Bl(r){let e,n,t=B("workflows.current-details")+"",l,s;return n=new je({props:{name:"flag",class:"text-brand",width:32,height:32}}),{c(){e=L("div"),T(n.$$.fragment),l=K(t),this.h()},l(o){e=z(o,"DIV",{slot:!0,class:!0});var f=J(e);D(n.$$.fragment,f),l=X(f,t),f.forEach($),this.h()},h(){H(e,"slot","title"),H(e,"class","flex w-full items-center gap-2 p-2 text-xl")},m(o,f){R(o,e,f),C(n,e,null),q(e,l),s=!0},p:we,i(o){s||(m(n.$$.fragment,o),s=!0)},o(o){g(n.$$.fragment,o),s=!1},d(o){o&&$(e),A(n)}}}function pn(r){let e,n,t,l;return n=new Sn({props:{icon:"info",intent:"info",title:B("workflows.cancel-request-sent"),$$slots:{default:[Fl]},$$scope:{ctx:r}}}),{c(){e=L("div"),T(n.$$.fragment)},l(s){e=z(s,"DIV",{});var o=J(e);D(n.$$.fragment,o),o.forEach($)},m(s,o){R(s,e,o),C(n,e,null),l=!0},p(s,o){const f={};o[1]&2&&(f.$$scope={dirty:o,ctx:s}),n.$set(f)},i(s){l||(m(n.$$.fragment,s),s&&(t||st(()=>{t=hn(e,bn,{duration:200,delay:100}),t.start()})),l=!0)},o(s){g(n.$$.fragment,s),l=!1},d(s){s&&$(e),A(n)}}}function Fl(r){let e=B("workflows.cancel-request-sent-description")+"",n;return{c(){n=K(e)},l(t){n=X(t,e)},m(t,l){R(t,n,l)},p:we,d(t){t&&$(n)}}}function _n(r){let e,n,t,l;return n=new Sn({props:{icon:"info",intent:"info","data-testid":"workflow-reset-alert",title:B("workflows.reset-success-alert-title"),$$slots:{default:[Ul]},$$scope:{ctx:r}}}),{c(){e=L("div"),T(n.$$.fragment)},l(s){e=z(s,"DIV",{});var o=J(e);D(n.$$.fragment,o),o.forEach($)},m(s,o){R(s,e,o),C(n,e,null),l=!0},p(s,o){const f={};o[0]&56|o[1]&2&&(f.$$scope={dirty:o,ctx:s}),n.$set(f)},i(s){l||(m(n.$$.fragment,s),s&&(t||st(()=>{t=hn(e,bn,{duration:200,delay:100}),t.start()})),l=!0)},o(s){g(n.$$.fragment,s),l=!1},d(s){s&&$(e),A(n)}}}function Hl(r){let e;return{c(){e=K("here")},l(n){e=X(n,"here")},m(n,t){R(n,e,t)},d(n){n&&$(e)}}}function Ul(r){var s,o,f,i;let e,n,t,l;return n=new Ue({props:{href:We({namespace:r[3],workflow:(o=(s=r[4])==null?void 0:s.workflow)==null?void 0:o.id,run:r[5][(i=(f=r[4])==null?void 0:f.workflow)==null?void 0:i.runId]}),$$slots:{default:[Hl]},$$scope:{ctx:r}}}),{c(){e=K("You can find the resulting Workflow Execution "),T(n.$$.fragment),t=K(".")},l(a){e=X(a,"You can find the resulting Workflow Execution "),D(n.$$.fragment,a),t=X(a,".")},m(a,c){R(a,e,c),C(n,a,c),R(a,t,c),l=!0},p(a,c){var b,d,w,u;const _={};c[0]&56&&(_.href=We({namespace:a[3],workflow:(d=(b=a[4])==null?void 0:b.workflow)==null?void 0:d.id,run:a[5][(u=(w=a[4])==null?void 0:w.workflow)==null?void 0:u.runId]})),c[1]&2&&(_.$$scope={dirty:c,ctx:a}),n.$set(_)},i(a){l||(m(n.$$.fragment,a),l=!0)},o(a){g(n.$$.fragment,a),l=!1},d(a){a&&($(e),$(t)),A(n,a)}}}function jl(r){var t;let e=((t=r[2])==null?void 0:t.historyEvents)+"",n;return{c(){n=K(e)},l(l){n=X(l,e)},m(l,s){R(l,n,s)},p(l,s){var o;s[0]&4&&e!==(e=((o=l[2])==null?void 0:o.historyEvents)+"")&&ie(n,e)},d(l){l&&$(n)}}}function Ol(r){let e,n;return e=new xe({props:{type:"primary",class:"px-2 py-0",$$slots:{default:[jl]},$$scope:{ctx:r}}}),{c(){T(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,l){C(e,t,l),n=!0},p(t,l){const s={};l[0]&4|l[1]&2&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){A(e,t)}}}function Ql(r){let e=r[9].relationshipCount+"",n;return{c(){n=K(e)},l(t){n=X(t,e)},m(t,l){R(t,n,l)},p(t,l){l[0]&512&&e!==(e=t[9].relationshipCount+"")&&ie(n,e)},d(t){t&&$(n)}}}function Ll(r){let e,n;return e=new xe({props:{type:"primary",class:"px-2 py-0",$$slots:{default:[Ql]},$$scope:{ctx:r}}}),{c(){T(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,l){C(e,t,l),n=!0},p(t,l){const s={};l[0]&512|l[1]&2&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){A(e,t)}}}function zl(r){var t,l;let e=((l=(t=r[16])==null?void 0:t.pollers)==null?void 0:l.length)+"",n;return{c(){n=K(e)},l(s){n=X(s,e)},m(s,o){R(s,n,o)},p(s,o){var f,i;o[0]&65536&&e!==(e=((i=(f=s[16])==null?void 0:f.pollers)==null?void 0:i.length)+"")&&ie(n,e)},d(s){s&&$(n)}}}function Jl(r){let e,n;return e=new xe({props:{type:"primary",class:"px-2 py-0",$$slots:{default:[zl]},$$scope:{ctx:r}}}),{c(){T(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,l){C(e,t,l),n=!0},p(t,l){const s={};l[0]&65536|l[1]&2&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){A(e,t)}}}function dn(r){let e,n;return e=new je({props:{name:"canceled"}}),{c(){T(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,l){C(e,t,l),n=!0},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){A(e,t)}}}function yl(r){var f,i;let e,n,t=((i=(f=r[2])==null?void 0:f.pendingActivities)==null?void 0:i.length)+"",l,s,o=r[13]&&dn();return{c(){e=L("div"),o&&o.c(),n=j(),l=K(t),this.h()},l(a){e=z(a,"DIV",{class:!0});var c=J(e);o&&o.l(c),n=O(c),l=X(c,t),c.forEach($),this.h()},h(){H(e,"class","flex items-center gap-1")},m(a,c){R(a,e,c),o&&o.m(e,null),q(e,n),q(e,l),s=!0},p(a,c){var _,b;a[13]?o?c[0]&8192&&m(o,1):(o=dn(),o.c(),m(o,1),o.m(e,n)):o&&(re(),g(o,1,1,()=>{o=null}),le()),(!s||c[0]&4)&&t!==(t=((b=(_=a[2])==null?void 0:_.pendingActivities)==null?void 0:b.length)+"")&&ie(l,t)},i(a){s||(m(o),s=!0)},o(a){g(o),s=!1},d(a){a&&$(e),o&&o.d()}}}function Yl(r){let e,n;return e=new xe({props:{type:r[13]?"warning":"primary",class:"px-2 py-0",$$slots:{default:[yl]},$$scope:{ctx:r}}}),{c(){T(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,l){C(e,t,l),n=!0},p(t,l){const s={};l[0]&8192&&(s.type=t[13]?"warning":"primary"),l[0]&8196|l[1]&2&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){A(e,t)}}}function Gl(r){let e,n,t,l,s,o,f,i,a,c,_,b,d,w;return e=new Re({props:{label:B("workflows.history-tab"),id:"history-tab",href:We({...r[15]}),active:de(r[6].url.pathname,We({...r[15]})),$$slots:{default:[Ol]},$$scope:{ctx:r}}}),t=new Re({props:{label:B("workflows.relationships"),id:"relationships-tab",href:ze(r[15]),active:de(r[6].url.pathname,ze(r[15])),$$slots:{default:[Ll]},$$scope:{ctx:r}}}),s=new Re({props:{label:B("workflows.workers-tab"),id:"workers-tab",href:Be(r[15]),active:de(r[6].url.pathname,Be(r[15])),$$slots:{default:[Jl]},$$scope:{ctx:r}}}),f=new Re({props:{label:B("workflows.pending-activities-tab"),id:"pending-activities-tab",href:Je(r[15]),active:de(r[6].url.pathname,Je(r[15])),$$slots:{default:[Yl]},$$scope:{ctx:r}}}),a=new Re({props:{label:B("workflows.call-stack-tab"),id:"call-stack-tab",href:ye(r[15]),active:de(r[6].url.pathname,ye(r[15]))}}),_=new Re({props:{label:B("workflows.queries-tab"),id:"queries-tab",href:Ye(r[15]),active:de(r[6].url.pathname,Ye(r[15]))}}),d=new Re({props:{label:B("workflows.metadata-tab"),id:"metadata-tab",href:Ge(r[15]),active:de(r[6].url.pathname,Ge(r[15]))}}),{c(){T(e.$$.fragment),n=j(),T(t.$$.fragment),l=j(),T(s.$$.fragment),o=j(),T(f.$$.fragment),i=j(),T(a.$$.fragment),c=j(),T(_.$$.fragment),b=j(),T(d.$$.fragment)},l(u){D(e.$$.fragment,u),n=O(u),D(t.$$.fragment,u),l=O(u),D(s.$$.fragment,u),o=O(u),D(f.$$.fragment,u),i=O(u),D(a.$$.fragment,u),c=O(u),D(_.$$.fragment,u),b=O(u),D(d.$$.fragment,u)},m(u,p){C(e,u,p),R(u,n,p),C(t,u,p),R(u,l,p),C(s,u,p),R(u,o,p),C(f,u,p),R(u,i,p),C(a,u,p),R(u,c,p),C(_,u,p),R(u,b,p),C(d,u,p),w=!0},p(u,p){const k={};p[0]&32768&&(k.href=We({...u[15]})),p[0]&32832&&(k.active=de(u[6].url.pathname,We({...u[15]}))),p[0]&4|p[1]&2&&(k.$$scope={dirty:p,ctx:u}),e.$set(k);const W={};p[0]&32768&&(W.href=ze(u[15])),p[0]&32832&&(W.active=de(u[6].url.pathname,ze(u[15]))),p[0]&512|p[1]&2&&(W.$$scope={dirty:p,ctx:u}),t.$set(W);const v={};p[0]&32768&&(v.href=Be(u[15])),p[0]&32832&&(v.active=de(u[6].url.pathname,Be(u[15]))),p[0]&65536|p[1]&2&&(v.$$scope={dirty:p,ctx:u}),s.$set(v);const h={};p[0]&32768&&(h.href=Je(u[15])),p[0]&32832&&(h.active=de(u[6].url.pathname,Je(u[15]))),p[0]&8196|p[1]&2&&(h.$$scope={dirty:p,ctx:u}),f.$set(h);const U={};p[0]&32768&&(U.href=ye(u[15])),p[0]&32832&&(U.active=de(u[6].url.pathname,ye(u[15]))),a.$set(U);const F={};p[0]&32768&&(F.href=Ye(u[15])),p[0]&32832&&(F.active=de(u[6].url.pathname,Ye(u[15]))),_.$set(F);const Y={};p[0]&32768&&(Y.href=Ge(u[15])),p[0]&32832&&(Y.active=de(u[6].url.pathname,Ge(u[15]))),d.$set(Y)},i(u){w||(m(e.$$.fragment,u),m(t.$$.fragment,u),m(s.$$.fragment,u),m(f.$$.fragment,u),m(a.$$.fragment,u),m(_.$$.fragment,u),m(d.$$.fragment,u),w=!0)},o(u){g(e.$$.fragment,u),g(t.$$.fragment,u),g(s.$$.fragment,u),g(f.$$.fragment,u),g(a.$$.fragment,u),g(_.$$.fragment,u),g(d.$$.fragment,u),w=!1},d(u){u&&($(n),$(l),$(o),$(i),$(c),$(b)),A(e,u),A(t,u),A(s,u),A(f,u),A(a,u),A(_,u),A(d,u)}}}function Zl(r){let e,n;return e=new pr({props:{class:"flex flex-wrap gap-6 pt-2",label:"workflow detail",$$slots:{default:[Gl]},$$scope:{ctx:r}}}),{c(){T(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,l){C(e,t,l),n=!0},p(t,l){const s={};l[0]&107076|l[1]&2&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){A(e,t)}}}function Kl(r){var x,me;let e,n,t,l,s,o,f,i,a,c,_,b,d,w,u,p,k,W,v,h,U,F,Y,G,te,ee,se,oe,S,E;t=new Ue({props:{href:`${Xe({namespace:r[3]})}?${r[18]}`,"data-testid":"back-to-workflows",icon:"chevron-left",$$slots:{default:[Rl]},$$scope:{ctx:r}}});let y=r[17]&&on(r);c=new fr({props:{status:(x=r[2])==null?void 0:x.status,big:!0}}),d=new xt({props:{isRunning:r[14],cancelInProgress:r[12],workflow:r[2],namespace:r[3]}}),k=new vn({props:{copyIconTitle:B("common.copy-icon-title"),copySuccessIconTitle:B("common.copy-success-icon-title"),content:(me=r[2])==null?void 0:me.id,clickAllToCopy:!0,"container-class":"w-full",class:"overflow-hidden text-ellipsis text-left"}});let N=r[10]&&sn(r);U=new xt({props:{isRunning:r[14],cancelInProgress:r[12],workflow:r[2],namespace:r[3]}});let I=r[8]&&fn(r),V=r[7]&&cn(r);te=new Qr({props:{workflow:r[2]}});let Z=r[12]&&pn(r),P=r[11]&&_n(r);return S=new mr({props:{$$slots:{default:[Zl]},$$scope:{ctx:r}}}),{c(){e=L("div"),n=L("div"),T(t.$$.fragment),l=j(),y&&y.c(),s=j(),o=L("header"),f=L("div"),i=L("div"),a=L("div"),T(c.$$.fragment),_=j(),b=L("div"),T(d.$$.fragment),w=j(),u=L("div"),p=L("h1"),T(k.$$.fragment),W=j(),N&&N.c(),v=j(),h=L("div"),T(U.$$.fragment),F=j(),I&&I.c(),Y=j(),V&&V.c(),G=j(),T(te.$$.fragment),ee=j(),Z&&Z.c(),se=j(),P&&P.c(),oe=j(),T(S.$$.fragment),this.h()},l(M){e=z(M,"DIV",{class:!0});var Q=J(e);n=z(Q,"DIV",{class:!0});var $e=J(n);D(t.$$.fragment,$e),l=O($e),y&&y.l($e),$e.forEach($),Q.forEach($),s=O(M),o=z(M,"HEADER",{class:!0});var fe=J(o);f=z(fe,"DIV",{class:!0});var _e=J(f);i=z(_e,"DIV",{class:!0});var Ee=J(i);a=z(Ee,"DIV",{class:!0});var he=J(a);D(c.$$.fragment,he),_=O(he),b=z(he,"DIV",{class:!0});var De=J(b);D(d.$$.fragment,De),De.forEach($),he.forEach($),w=O(Ee),u=z(Ee,"DIV",{class:!0});var Te=J(u);p=z(Te,"H1",{"data-testid":!0,class:!0});var Ce=J(p);D(k.$$.fragment,Ce),Ce.forEach($),W=O(Te),N&&N.l(Te),Te.forEach($),Ee.forEach($),v=O(_e),h=z(_e,"DIV",{class:!0});var Ae=J(h);D(U.$$.fragment,Ae),Ae.forEach($),_e.forEach($),F=O(fe),I&&I.l(fe),Y=O(fe),V&&V.l(fe),G=O(fe),D(te.$$.fragment,fe),ee=O(fe),Z&&Z.l(fe),se=O(fe),P&&P.l(fe),oe=O(fe),D(S.$$.fragment,fe),fe.forEach($),this.h()},h(){H(n,"class","flex items-center gap-2"),H(e,"class","flex items-center justify-between pb-4"),H(b,"class","lg:hidden"),H(a,"class","flex flex-wrap items-center justify-between gap-4 max-lg:w-full"),H(p,"data-testid","workflow-id-heading"),H(p,"class","gap-0 overflow-hidden max-sm:text-xl sm:max-md:text-2xl"),H(u,"class","flex flex-col flex-wrap gap-0"),H(i,"class","flex w-full flex-col items-start gap-4 lg:flex-row lg:items-center"),H(h,"class","max-lg:hidden"),H(f,"class","flex flex-col items-center justify-between gap-4 lg:flex-row"),H(o,"class","flex flex-col gap-2")},m(M,Q){R(M,e,Q),q(e,n),C(t,n,null),q(n,l),y&&y.m(n,null),R(M,s,Q),R(M,o,Q),q(o,f),q(f,i),q(i,a),C(c,a,null),q(a,_),q(a,b),C(d,b,null),q(i,w),q(i,u),q(u,p),C(k,p,null),q(u,W),N&&N.m(u,null),q(f,v),q(f,h),C(U,h,null),q(o,F),I&&I.m(o,null),q(o,Y),V&&V.m(o,null),q(o,G),C(te,o,null),q(o,ee),Z&&Z.m(o,null),q(o,se),P&&P.m(o,null),q(o,oe),C(S,o,null),E=!0},p(M,Q){var Ce,Ae;const $e={};Q[0]&262152&&($e.href=`${Xe({namespace:M[3]})}?${M[18]}`),Q[0]&131072|Q[1]&2&&($e.$$scope={dirty:Q,ctx:M}),t.$set($e),M[17]?y?(y.p(M,Q),Q[0]&131072&&m(y,1)):(y=on(M),y.c(),m(y,1),y.m(n,null)):y&&(re(),g(y,1,1,()=>{y=null}),le());const fe={};Q[0]&4&&(fe.status=(Ce=M[2])==null?void 0:Ce.status),c.$set(fe);const _e={};Q[0]&16384&&(_e.isRunning=M[14]),Q[0]&4096&&(_e.cancelInProgress=M[12]),Q[0]&4&&(_e.workflow=M[2]),Q[0]&8&&(_e.namespace=M[3]),d.$set(_e);const Ee={};Q[0]&4&&(Ee.content=(Ae=M[2])==null?void 0:Ae.id),k.$set(Ee),M[10]?N?(N.p(M,Q),Q[0]&1024&&m(N,1)):(N=sn(M),N.c(),m(N,1),N.m(u,null)):N&&(re(),g(N,1,1,()=>{N=null}),le());const he={};Q[0]&16384&&(he.isRunning=M[14]),Q[0]&4096&&(he.cancelInProgress=M[12]),Q[0]&4&&(he.workflow=M[2]),Q[0]&8&&(he.namespace=M[3]),U.$set(he),M[8]?I?(I.p(M,Q),Q[0]&256&&m(I,1)):(I=fn(M),I.c(),m(I,1),I.m(o,Y)):I&&(re(),g(I,1,1,()=>{I=null}),le()),M[7]?V?(V.p(M,Q),Q[0]&128&&m(V,1)):(V=cn(M),V.c(),m(V,1),V.m(o,G)):V&&(re(),g(V,1,1,()=>{V=null}),le());const De={};Q[0]&4&&(De.workflow=M[2]),te.$set(De),M[12]?Z?(Z.p(M,Q),Q[0]&4096&&m(Z,1)):(Z=pn(M),Z.c(),m(Z,1),Z.m(o,se)):Z&&(re(),g(Z,1,1,()=>{Z=null}),le()),M[11]?P?(P.p(M,Q),Q[0]&2048&&m(P,1)):(P=_n(M),P.c(),m(P,1),P.m(o,oe)):P&&(re(),g(P,1,1,()=>{P=null}),le());const Te={};Q[0]&107076|Q[1]&2&&(Te.$$scope={dirty:Q,ctx:M}),S.$set(Te)},i(M){E||(m(t.$$.fragment,M),m(y),m(c.$$.fragment,M),m(d.$$.fragment,M),m(k.$$.fragment,M),m(N),m(U.$$.fragment,M),m(I),m(V),m(te.$$.fragment,M),m(Z),m(P),m(S.$$.fragment,M),E=!0)},o(M){g(t.$$.fragment,M),g(y),g(c.$$.fragment,M),g(d.$$.fragment,M),g(k.$$.fragment,M),g(N),g(U.$$.fragment,M),g(I),g(V),g(te.$$.fragment,M),g(Z),g(P),g(S.$$.fragment,M),E=!1},d(M){M&&($(e),$(s),$(o)),A(t),y&&y.d(),A(c),A(d),A(k),N&&N.d(),A(U),I&&I.d(),V&&V.d(),A(te),Z&&Z.d(),P&&P.d(),A(S)}}}function Xl(r,e,n){let t,l,s,o,f,i,a,c,_,b,d,w,u,p,k,W,v,h,U,F,Y,G,te;ne(r,Se,V=>n(4,h=V)),ne(r,_r,V=>n(29,U=V)),ne(r,Ze,V=>n(30,F=V)),ne(r,Wn,V=>n(5,Y=V)),ne(r,Qe,V=>n(6,G=V)),ne(r,kn,V=>n(18,te=V));var ee,se,oe,S,E,y,N,I;return r.$$.update=()=>{r.$$.dirty[0]&64&&n(3,{namespace:t,workflow:l,run:s,id:o}=G.params,t,(n(28,l),n(6,G)),(n(27,s),n(6,G)),(n(17,o),n(6,G))),r.$$.dirty[0]&16&&n(2,{workflow:f,workers:i}=h,f,(n(16,i),n(4,h))),r.$$.dirty[0]&402653192&&n(15,a={namespace:t,workflow:l,run:s}),r.$$.dirty[0]&524304&&n(14,c=n(19,ee=h==null?void 0:h.workflow)===null||ee===void 0?void 0:ee.isRunning),r.$$.dirty[0]&1048592&&n(13,_=["Terminated","TimedOut","Canceled"].includes(n(20,se=h.workflow)===null||se===void 0?void 0:se.status)),r.$$.dirty[0]&1075838992&&n(12,b=Wl(n(21,oe=h==null?void 0:h.workflow)===null||oe===void 0?void 0:oe.status,F)),r.$$.dirty[0]&134217760&&n(11,d=gr(Y,s)),r.$$.dirty[0]&12582916&&n(10,w=n(22,S=f==null?void 0:f.assignedBuildId)!==null&&S!==void 0?S:n(23,E=f==null?void 0:f.mostRecentWorkerVersionStamp)===null||E===void 0?void 0:E.useVersioning),r.$$.dirty[0]&1610612740&&n(9,u=dr(f,F,U)),r.$$.dirty[0]&16777232&&n(1,p=n(24,y=h==null?void 0:h.userMetadata)===null||y===void 0?void 0:y.summary),r.$$.dirty[0]&33554448&&n(0,k=n(25,N=h==null?void 0:h.userMetadata)===null||N===void 0?void 0:N.details),r.$$.dirty[0]&3&&n(8,W=p||k),r.$$.dirty[0]&67108880&&n(7,v=n(26,I=h==null?void 0:h.metadata)===null||I===void 0?void 0:I.currentDetails)},[k,p,f,t,h,Y,G,v,W,u,w,d,b,_,c,a,i,o,te,ee,se,oe,S,E,y,N,I,s,l,U,F]}class xl extends ve{constructor(e){super(),Ie(this,e,Xl,Kl,be,{},null,[-1,-1])}}async function eo({activity:r,namespace:e,settings:n,accessToken:t},{convertWithCodec:l=wr,decodeAttributes:s=$r}={}){const o=await l({attributes:r,namespace:e,settings:n,accessToken:t});return s(o)}const to=async({activity:r,namespace:e,settings:n,accessToken:t})=>await eo({activity:r,namespace:e,settings:n,accessToken:t}),gn=async(r,e,n,t)=>{const l=(r==null?void 0:r.pendingActivities)??[],s=[];for(const o of l){const f=await to({activity:o,namespace:e,settings:n,accessToken:t});s.push(f)}return s};function no(r){let e,n,t,l,s;const o=[so,oo,lo],f=[];function i(a,c){return a[1]?0:a[0].workflow?2:1}return n=i(r),t=f[n]=o[n](r),{c(){e=L("div"),t.c(),this.h()},l(a){e=z(a,"DIV",{class:!0});var c=J(e);t.l(c),c.forEach($),this.h()},h(){H(e,"class",l="absolute bottom-0 left-0 right-0 "+(r[5]?"top-[540px]":"top-0")+" flex h-full flex-col")},m(a,c){R(a,e,c),f[n].m(e,null),s=!0},p(a,c){let _=n;n=i(a),n===_?f[n].p(a,c):(re(),g(f[_],1,1,()=>{f[_]=null}),le(),t=f[n],t?t.p(a,c):(t=f[n]=o[n](a),t.c()),m(t,1),t.m(e,null)),(!s||c&32&&l!==(l="absolute bottom-0 left-0 right-0 "+(a[5]?"top-[540px]":"top-0")+" flex h-full flex-col"))&&H(e,"class",l)},i(a){s||(m(t),s=!0)},o(a){g(t),s=!1},d(a){a&&$(e),f[n].d()}}}function ro(r){let e,n,t,l=lt(r[2],null,2)+"",s,o;return n=new jn({props:{copyIconTitle:B("common.copy-icon-title"),copySuccessIconTitle:B("common.copy-success-icon-title"),class:"absolute right-1 top-1",copied:r[4]}}),n.$on("click",r[7]),{c(){e=L("div"),T(n.$$.fragment),t=j(),s=K(l),this.h()},l(f){e=z(f,"DIV",{class:!0});var i=J(e);D(n.$$.fragment,i),t=O(i),s=X(i,l),i.forEach($),this.h()},h(){H(e,"class","relative h-auto whitespace-break-spaces break-words bg-primary p-4")},m(f,i){R(f,e,i),C(n,e,null),q(e,t),q(e,s),o=!0},p(f,i){const a={};i&16&&(a.copied=f[4]),n.$set(a),(!o||i&4)&&l!==(l=lt(f[2],null,2)+"")&&ie(s,l)},i(f){o||(m(n.$$.fragment,f),o=!0)},o(f){g(n.$$.fragment,f),o=!1},d(f){f&&$(e),A(n)}}}function lo(r){let e,n,t,l;n=new xl({});const s=r[16].default,o=Ve(s,r,r[15],null);return{c(){e=L("div"),T(n.$$.fragment),t=j(),o&&o.c(),this.h()},l(f){e=z(f,"DIV",{class:!0});var i=J(e);D(n.$$.fragment,i),i.forEach($),t=O(f),o&&o.l(f),this.h()},h(){H(e,"class","border-b border-subtle px-4 pt-8 md:pt-20 xl:px-8")},m(f,i){R(f,e,i),C(n,e,null),R(f,t,i),o&&o.m(f,i),l=!0},p(f,i){o&&o.p&&(!l||i&32768)&&Me(o,s,f,f[15],l?qe(s,f[15],i,null):Ne(f[15]),null)},i(f){l||(m(n.$$.fragment,f),m(o,f),l=!0)},o(f){g(n.$$.fragment,f),g(o,f),l=!1},d(f){f&&($(e),$(t)),A(n),o&&o.d(f)}}}function oo(r){let e,n;return e=new On({props:{class:"pt-24"}}),{c(){T(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,l){C(e,t,l),n=!0},p:we,i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){A(e,t)}}}function so(r){let e,n;return e=new Ar({props:{error:r[1]}}),{c(){T(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,l){C(e,t,l),n=!0},p(t,l){const s={};l&2&&(s.error=t[1]),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){A(e,t)}}}function fo(r){let e,n,t,l;const s=[ro,no],o=[];function f(i,a){return i[3]?0:1}return e=f(r),n=o[e]=s[e](r),{c(){n.c(),t=pe()},l(i){n.l(i),t=pe()},m(i,a){o[e].m(i,a),R(i,t,a),l=!0},p(i,[a]){let c=e;e=f(i),e===c?o[e].p(i,a):(re(),g(o[c],1,1,()=>{o[c]=null}),le(),n=o[e],n?n.p(i,a):(n=o[e]=s[e](i),n.c()),m(n,1),n.m(t.parentNode,t))},i(i){l||(m(n),l=!0)},o(i){g(n),l=!1},d(i){i&&$(t),o[e].d(i)}}}function io(r,e,n){let t,l,s,o,f,i,a,c,_,b,d,w,u,p,k,W;ne(r,Rt,I=>n(19,i=I)),ne(r,Qe,I=>n(11,a=I)),ne(r,Kn,I=>n(12,c=I)),ne(r,Ze,I=>n(13,_=I)),ne(r,Vt,I=>n(20,b=I)),ne(r,Le,I=>n(14,d=I)),ne(r,Se,I=>n(0,w=I)),ne(r,Mt,I=>n(21,u=I)),ne(r,vr,I=>n(22,p=I)),ne(r,Bn,I=>n(5,W=I));let{$$slots:v={},$$scope:h}=e,U,F,Y;const{copy:G,copied:te}=Er();ne(r,te,I=>n(4,k=I));const ee=I=>{G(I,lt(f))},se=async I=>{const V={summary:"",details:""};try{if(I!=null&&I.summary){const Z=await Nt(I.summary);typeof Z=="string"&&(V.summary=Z)}if(I!=null&&I.details){const Z=await Nt(I.details);typeof Z=="string"&&(V.details=Z)}ge(Se,w={...w,userMetadata:V},w)}catch(Z){console.error("Error decoding user metadata",Z)}},oe=async(I,V,Z)=>{const{settings:P}=a.data,{workflow:x,error:me}=await Dt({namespace:I,workflowId:V,runId:Z});if(me){n(1,U=me);return}await se(x);const{taskQueue:M}=x,Q=await ur({queue:M,namespace:I});ge(Se,w={...w,workflow:x,workers:Q},w),x.pendingActivities=await gn(x,I,P,p==null?void 0:p.accessToken),F=new AbortController,br({namespace:I,workflow:{id:V,runId:Z}},P,p==null?void 0:p.accessToken,F.signal).then($e=>{ge(Se,w.metadata=$e,w)}),ge(Ze,_=await kr({namespace:I,workflowId:V,runId:Z,sort:"ascending",signal:F.signal,historySize:x.historyEvents}),_)},S=async I=>{var V;if(I&&(!((V=w==null?void 0:w.workflow)===null||V===void 0)&&V.isRunning)){const{settings:Z}=a.data,{workflow:P,error:x}=await Dt({namespace:t,workflowId:l,runId:s});if(x){n(1,U=x);return}ge(Se,w.workflow=P,w),P.pendingActivities=await gn(P,t,Z,p==null?void 0:p.accessToken)}},E=()=>{ge(Ze,_=[],_),F&&F.abort()},y=()=>{ge(Mt,u=null,u),ge(Se,w=lr,w),n(1,U=void 0),E(),Ir(),clearInterval(Y),Y=null},N=(I,V)=>{V||ge(Vt,b=I,b)};return qn(()=>{const I=a.url.searchParams.get("sort");I&&ge(Rt,i=I,i),Y=setInterval(()=>{hr()},1e4)}),$n(()=>{y()}),r.$$set=I=>{"$$scope"in I&&n(15,h=I.$$scope)},r.$$.update=()=>{r.$$.dirty&2048&&n(10,{namespace:t,workflow:l,run:s}=a.params,t,(n(9,l),n(11,a)),(n(8,s),n(11,a))),r.$$.dirty&2048&&n(3,o=a.url.searchParams.has("json")),r.$$.dirty&8193&&n(2,f={...w,eventHistory:_}),r.$$.dirty&256&&y(),r.$$.dirty&1792&&oe(t,l,s),r.$$.dirty&16384&&S(d),r.$$.dirty&12288&&N(_,c)},[w,U,f,o,k,W,te,ee,s,l,t,a,c,_,d,h,v]}class ao extends ve{constructor(e){super(),Ie(this,e,io,fo,be,{})}}const Vn={namespace:null,workflowId:null,runId:null,rawPayloads:null,sort:null},uo=it(Vn),co=()=>{uo.set(Vn)};function mo(r){let e;const n=r[0].default,t=Ve(n,r,r[1],null);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s&2)&&Me(t,n,l,l[1],e?qe(n,l[1],s,null):Ne(l[1]),null)},i(l){e||(m(t,l),e=!0)},o(l){g(t,l),e=!1},d(l){t&&t.d(l)}}}function po(r){let e,n;return e=new ao({props:{$$slots:{default:[mo]},$$scope:{ctx:r}}}),{c(){T(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,l){C(e,t,l),n=!0},p(t,[l]){const s={};l&2&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){A(e,t)}}}function _o(r,e,n){let{$$slots:t={},$$scope:l}=e;return $n(()=>{co()}),r.$$set=s=>{"$$scope"in s&&n(1,l=s.$$scope)},[t,l]}class gs extends ve{constructor(e){super(),Ie(this,e,_o,po,be,{})}}export{gs as component};
