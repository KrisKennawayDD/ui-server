import{s as be,h as J,b as L,t as x,j as Y,k as G,f as h,d as z,l as ee,m as Q,i as A,n as F,q as pe,c as re,v as _e,D as xe,z as Qe,A as Mn,H as Ue,x as ce,O as ie,Q as ae,R as st,w as de,y as tt,Z as Kn,a as Me,E as Pt,p as rt,F as St,u as Ne,g as qe,e as Be,M as ct,G as Xn,B as At,W as yn,P as Nn}from"../chunks/scheduler.D6mQsyhd.js";import{S as ve,i as Ie,c as E,a as D,m as T,t as c,b as _,d as C,g as ne,e as le,h as ue,j as Wt,f as qn}from"../chunks/index.CDeUyeTp.js";import{p as He}from"../chunks/stores.4ruy3MAL.js";import{v as xn}from"../chunks/data-encoder-settings.B2FSOK14.js";import{L as je}from"../chunks/link.CnZMjPah.js";import{t as B}from"../chunks/translate.BBe5dcco.js";import{c as Bn,k as Fn,u as el,v as tl,x as nl,y as Rt}from"../chunks/workflows.D6VTt94M.js";import{e as et,s as Vt,v as Fe,w as Mt,x as Nt,b as We,y as Ye,z as Ge,c as Ze,A as Ke,B as Xe}from"../chunks/route-for.CVA-Bn5R.js";import{B as ll}from"../chunks/button.B_UTQ1b9.js";import{L as ol}from"../chunks/loading.azOfDUyA.js";import{s as qt,a as Un}from"../chunks/index.2cpoF_sa.js";import{f as ke,r as rl,t as sl}from"../chunks/time-format.qfLtmZnE.js";import{q as fl}from"../chunks/format-time.CMwu9Qgq.js";import{C as Hn}from"../chunks/index.DPVFvtE6.js";import{I as Oe}from"../chunks/icon.x35qC2Gh.js";import{T as mt}from"../chunks/tooltip.I5toLvgE.js";import{e as Re}from"../chunks/each.5YhwczXz.js";import{w as nt,g as Bt}from"../chunks/entry.D4QP4ih1.js";import{w as il,a as al,b as ul,C as cl,T as ml}from"../chunks/workflow-terminate-enabled.gZYhccSO.js";import{C as ft}from"../chunks/checkbox.Cc7s00BR.js";import{I as lt}from"../chunks/input.Cicm2fKU.js";import{M as pt}from"../chunks/modal.Dmtu1WPo.js";import{S as _t,O as Le}from"../chunks/option.qaX60Z8q.js";import{r as jn,f as ye,b as Ft,p as pl,g as Ut,t as Ht}from"../chunks/events.BYcP3Dbd.js";import{p as _l}from"../chunks/persist-store.0epIITaU.js";import{t as dl}from"../chunks/versions.C8ot6Z8Z.js";import{i as dt}from"../chunks/is-network-error.DxxRlstw.js";import{m as gl}from"../chunks/route-for-api.D1fSF7OO.js";import{P as $l}from"../chunks/payload-input-with-encoding.ZrosoGAg.js";import{t as On,v as it}from"../chunks/toaster.Dsb_2Xi4.js";import{w as Te,r as ze,i as wl}from"../chunks/workflow-run.D0Q1eB4I.js";import{P as hl}from"../chunks/payload-decoder.B4U0PaTx.js";import"../chunks/card.nkKic5l3.js";import"../chunks/radio-input.D-yvqO3m.js";import{P as kl}from"../chunks/payload-input.Di0X0AoI.js";import{A as Je}from"../chunks/alert.BVx8_ypX.js";import{B as Qn}from"../chunks/button.B73HuIKG.js";import{C as Ln}from"../chunks/code-block.LfA0mafI.js";import{d as gt}from"../chunks/menu.BVyjCXuy.js";import{M as zn}from"../chunks/menu-divider.BhHnc57S.js";import{S as Jn}from"../chunks/split-button.DI-beHxx.js";import{c as bl}from"../chunks/core-user.BpHnux3e.js";import{w as at}from"../chunks/workflow-create-disabled.Csxgh7BL.js";import{W as vl}from"../chunks/workflow-status.CCkH01OU.js";import{C as Il}from"../chunks/compatibility-badge.COQj7tOB.js";import{k as El,g as Dl}from"../chunks/pollers-service.BoHXQAdw.js";import{g as Tl}from"../chunks/spread.CgU5AtxT.js";import{B as ot}from"../chunks/badge.R7mYic6p.js";import{M as $t}from"../chunks/markdown.D1-T0V4w.js";import{T as Cl,a as Pl,b as Ve}from"../chunks/tab.BOkg17zp.js";import{n as Sl}from"../chunks/namespaces.BFvq8uA_.js";import{g as Al}from"../chunks/get-workflow-relationships.DoFib6sV.js";import{h as Wl}from"../chunks/has.BnvKvYqj.js";import{e as Rl,d as Vl,a as jt}from"../chunks/decode-payload.B0TWe1ck.js";import{t as Ml,f as Nl}from"../chunks/events-service.BpKZfLhh.js";import{b as ql}from"../chunks/query-service.BoVfK7iU.js";import{a as Bl}from"../chunks/auth-user.B1CgSkF6.js";import{r as Fl}from"../chunks/data-encoder-config.CVTXw7IS.js";import{c as Ul}from"../chunks/copy-to-clipboard.DAXh6Z27.js";import{s as ut}from"../chunks/parse-with-big-int.Dyr6jPtv.js";function Hl(o){let e=B("workflows.back-to-workflows")+"",n;return{c(){n=x(e)},l(t){n=ee(t,e)},m(t,l){A(t,n,l)},p:_e,d(t){t&&h(n)}}}function jl(o){var v,N;let e,n,t,l,r,s,f=(((v=o[0])==null?void 0:v.statusCode)??"500")+"",i,a,u,d,b,w,k=(((N=o[0])==null?void 0:N.statusText)??"")+"",m,p;return t=new je({props:{href:`${et({namespace:o[2]})}?${o[3]}`,"data-testid":"back-to-workflows",icon:"chevron-left",$$slots:{default:[Hl]},$$scope:{ctx:o}}}),{c(){e=J("header"),n=J("div"),E(t.$$.fragment),l=L(),r=J("div"),s=J("h1"),i=x(f),a=L(),u=J("p"),d=x(o[1]),b=L(),w=J("p"),m=x(k),this.h()},l($){e=Y($,"HEADER",{class:!0});var g=G(e);n=Y(g,"DIV",{class:!0});var W=G(n);D(t.$$.fragment,W),W.forEach(h),g.forEach(h),l=z($),r=Y($,"DIV",{class:!0});var P=G(r);s=Y(P,"H1",{class:!0});var j=G(s);i=ee(j,f),j.forEach(h),a=z(P),u=Y(P,"P",{class:!0});var q=G(u);d=ee(q,o[1]),q.forEach(h),b=z(P),w=Y(P,"P",{class:!0});var H=G(w);m=ee(H,k),H.forEach(h),P.forEach(h),this.h()},h(){Q(n,"class","mb-4 block"),Q(e,"class","mb-4 flex flex-col gap-1"),Q(s,"class","leading-0 text-[12rem] font-semibold"),Q(u,"class","-mt-12 text-lg"),Q(w,"class","text-2xl font-bold text-red-700"),Q(r,"class","text-center align-middle")},m($,g){A($,e,g),F(e,n),T(t,n,null),A($,l,g),A($,r,g),F(r,s),F(s,i),F(r,a),F(r,u),F(u,d),F(r,b),F(r,w),F(w,m),p=!0},p($,[g]){var P,j;const W={};g&12&&(W.href=`${et({namespace:$[2]})}?${$[3]}`),g&32&&(W.$$scope={dirty:g,ctx:$}),t.$set(W),(!p||g&1)&&f!==(f=(((P=$[0])==null?void 0:P.statusCode)??"500")+"")&&pe(i,f),(!p||g&2)&&pe(d,$[1]),(!p||g&1)&&k!==(k=(((j=$[0])==null?void 0:j.statusText)??"")+"")&&pe(m,k)},i($){p||(c(t.$$.fragment,$),p=!0)},o($){_(t.$$.fragment,$),p=!1},d($){$&&(h(e),h(l),h(r)),C(t)}}}function Ol(o,e,n){let t,l,r,s;re(o,He,i=>n(4,r=i)),re(o,Bn,i=>n(3,s=i));let{error:f}=e;return o.$$set=i=>{"error"in i&&n(0,f=i.error)},o.$$.update=()=>{o.$$.dirty&16&&n(2,{namespace:t}=r.params,t),o.$$.dirty&1&&n(1,l=f.statusCode===404?B("workflows.workflow-404-title"):B("workflows.workflow-error-title"))},[f,l,t,s,r]}class Ql extends ve{constructor(e){super(),Ie(this,e,Ol,jl,be,{error:0})}}function Ot(o){let e,n;return{c(){e=J("span"),n=x(o[0]),this.h()},l(t){e=Y(t,"SPAN",{class:!0});var l=G(e);n=ee(l,o[0]),l.forEach(h),this.h()},h(){Q(e,"class","font-mono")},m(t,l){A(t,e,l),F(e,n)},p(t,l){l&1&&pe(n,t[0])},d(t){t&&h(e)}}}function Qt(o){let e,n;return e=new Oe({props:{name:o[5]}}),{c(){E(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,l){T(e,t,l),n=!0},p(t,l){const r={};l&32&&(r.name=t[5]),e.$set(r)},i(t){n||(c(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function Ll(o){let e,n;return e=new mt({props:{text:o[6],hide:!o[6],top:!0,$$slots:{default:[Yl]},$$scope:{ctx:o}}}),{c(){E(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,l){T(e,t,l),n=!0},p(t,l){const r={};l&64&&(r.text=t[6]),l&64&&(r.hide=!t[6]),l&642&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(c(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function zl(o){let e,n;return e=new je({props:{href:o[4],class:"value truncate rounded-sm p-1 leading-4 "+(o[7]&&"surface-subtle"),$$slots:{default:[Gl]},$$scope:{ctx:o}}}),{c(){E(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,l){T(e,t,l),n=!0},p(t,l){const r={};l&16&&(r.href=t[4]),l&128&&(r.class="value truncate rounded-sm p-1 leading-4 "+(t[7]&&"surface-subtle")),l&514&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(c(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function Jl(o){let e,n;return e=new Hn({props:{copyIconTitle:B("common.copy-icon-title"),copySuccessIconTitle:B("common.copy-success-icon-title"),content:o[1],visible:!0,"container-class":"gap-1 w-full justify-end",$$slots:{default:[xl]},$$scope:{ctx:o}}}),{c(){E(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,l){T(e,t,l),n=!0},p(t,l){const r={};l&2&&(r.content=t[1]),l&730&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(c(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function Yl(o){let e,n;return{c(){e=J("span"),n=x(o[1]),this.h()},l(t){e=Y(t,"SPAN",{class:!0});var l=G(e);n=ee(l,o[1]),l.forEach(h),this.h()},h(){Q(e,"class","w-fit select-all truncate rounded-sm p-1 leading-4"),Ue(e,"surface-subtle",o[7])},m(t,l){A(t,e,l),F(e,n)},p(t,l){l&2&&pe(n,t[1]),l&128&&Ue(e,"surface-subtle",t[7])},d(t){t&&h(e)}}}function Gl(o){let e;return{c(){e=x(o[1])},l(n){e=ee(n,o[1])},m(n,t){A(n,e,t)},p(n,t){t&2&&pe(e,n[1])},d(n){n&&h(e)}}}function Zl(o){let e,n;return e=new mt({props:{text:o[6],hide:!o[6],top:!0,$$slots:{default:[Xl]},$$scope:{ctx:o}}}),{c(){E(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,l){T(e,t,l),n=!0},p(t,l){const r={};l&64&&(r.text=t[6]),l&64&&(r.hide=!t[6]),l&642&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(c(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function Kl(o){let e,n;return e=new je({props:{href:o[4],class:"flex w-fit flex-row items-center gap-1 truncate rounded-sm p-1 leading-4 "+(o[7]&&"surface-subtle"),$$slots:{default:[yl]},$$scope:{ctx:o}}}),{c(){E(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,l){T(e,t,l),n=!0},p(t,l){const r={};l&16&&(r.href=t[4]),l&128&&(r.class="flex w-fit flex-row items-center gap-1 truncate rounded-sm p-1 leading-4 "+(t[7]&&"surface-subtle")),l&522&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(c(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function Xl(o){let e,n;return{c(){e=J("span"),n=x(o[1]),this.h()},l(t){e=Y(t,"SPAN",{class:!0});var l=G(e);n=ee(l,o[1]),l.forEach(h),this.h()},h(){Q(e,"class","w-fit select-all truncate rounded-sm p-1 leading-4"),Ue(e,"surface-subtle",o[7])},m(t,l){A(t,e,l),F(e,n)},p(t,l){l&2&&pe(n,t[1]),l&128&&Ue(e,"surface-subtle",t[7])},d(t){t&&h(e)}}}function Lt(o){let e,n;return e=new Oe({props:{name:"filter",class:"shrink-0"}}),{c(){E(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,l){T(e,t,l),n=!0},i(t){n||(c(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function yl(o){let e,n,t,l,r,s=o[3]&&Lt();return{c(){e=J("span"),n=x(o[1]),t=L(),s&&s.c(),l=ce(),this.h()},l(f){e=Y(f,"SPAN",{class:!0});var i=G(e);n=ee(i,o[1]),i.forEach(h),t=z(f),s&&s.l(f),l=ce(),this.h()},h(){Q(e,"class","truncate")},m(f,i){A(f,e,i),F(e,n),A(f,t,i),s&&s.m(f,i),A(f,l,i),r=!0},p(f,i){(!r||i&2)&&pe(n,f[1]),f[3]?s?i&8&&c(s,1):(s=Lt(),s.c(),c(s,1),s.m(l.parentNode,l)):s&&(ne(),_(s,1,1,()=>{s=null}),le())},i(f){r||(c(s),r=!0)},o(f){_(s),r=!1},d(f){f&&(h(e),h(t),h(l)),s&&s.d(f)}}}function xl(o){let e,n,t,l;const r=[Kl,Zl],s=[];function f(i,a){return i[4]?0:1}return e=f(o),n=s[e]=r[e](o),{c(){n.c(),t=ce()},l(i){n.l(i),t=ce()},m(i,a){s[e].m(i,a),A(i,t,a),l=!0},p(i,a){let u=e;e=f(i),e===u?s[e].p(i,a):(ne(),_(s[u],1,1,()=>{s[u]=null}),le(),n=s[e],n?n.p(i,a):(n=s[e]=r[e](i),n.c()),c(n,1),n.m(t.parentNode,t))},i(i){l||(c(n),l=!0)},o(i){_(n),l=!1},d(i){i&&h(t),s[e].d(i)}}}function eo(o){let e,n,t,l,r,s,f,i=o[0]&&Ot(o),a=o[5]&&Qt(o);const u=[Jl,zl,Ll],d=[];function b(w,k){return w[2]?0:w[4]?1:2}return l=b(o),r=d[l]=u[l](o),{c(){e=J("p"),i&&i.c(),n=L(),a&&a.c(),t=L(),r.c(),this.h()},l(w){e=Y(w,"P",{class:!0});var k=G(e);i&&i.l(k),n=z(k),a&&a.l(k),t=z(k),r.l(k),k.forEach(h),this.h()},h(){Q(e,"class",s="flex h-4 items-center justify-between gap-16 truncate whitespace-nowrap "+o[8].class)},m(w,k){A(w,e,k),i&&i.m(e,null),F(e,n),a&&a.m(e,null),F(e,t),d[l].m(e,null),f=!0},p(w,[k]){w[0]?i?i.p(w,k):(i=Ot(w),i.c(),i.m(e,n)):i&&(i.d(1),i=null),w[5]?a?(a.p(w,k),k&32&&c(a,1)):(a=Qt(w),a.c(),c(a,1),a.m(e,t)):a&&(ne(),_(a,1,1,()=>{a=null}),le());let m=l;l=b(w),l===m?d[l].p(w,k):(ne(),_(d[m],1,1,()=>{d[m]=null}),le(),r=d[l],r?r.p(w,k):(r=d[l]=u[l](w),r.c()),c(r,1),r.m(e,null)),(!f||k&256&&s!==(s="flex h-4 items-center justify-between gap-16 truncate whitespace-nowrap "+w[8].class))&&Q(e,"class",s)},i(w){f||(c(a),c(r),f=!0)},o(w){_(a),_(r),f=!1},d(w){w&&h(e),i&&i.d(),a&&a.d(),d[l].d()}}}function to(o,e,n){const t=["title","content","copyable","filterable","href","icon","tooltip","badge"];let l=xe(e,t),{title:r=""}=e,{content:s}=e,{copyable:f=!1}=e,{filterable:i=!1}=e,{href:a=null}=e,{icon:u=void 0}=e,{tooltip:d=""}=e,{badge:b=!1}=e;return o.$$set=w=>{e=Qe(Qe({},e),Mn(w)),n(8,l=xe(e,t)),"title"in w&&n(0,r=w.title),"content"in w&&n(1,s=w.content),"copyable"in w&&n(2,f=w.copyable),"filterable"in w&&n(3,i=w.filterable),"href"in w&&n(4,a=w.href),"icon"in w&&n(5,u=w.icon),"tooltip"in w&&n(6,d=w.tooltip),"badge"in w&&n(7,b=w.badge)},[r,s,f,i,a,u,d,b,l]}class Ae extends ve{constructor(e){super(),Ie(this,e,to,eo,be,{title:0,content:1,copyable:2,filterable:3,href:4,icon:5,tooltip:6,badge:7})}}function zt(o){var t,l,r,s,f,i;let e,n;return e=new Ae({props:{title:B("workflows.parent-workflow"),content:(l=(t=o[0])==null?void 0:t.parent)==null?void 0:l.workflowId,href:Mt({namespace:o[3],workflow:(s=(r=o[0])==null?void 0:r.parent)==null?void 0:s.workflowId,run:(i=(f=o[0])==null?void 0:f.parent)==null?void 0:i.runId})}}),{c(){E(e.$$.fragment)},l(a){D(e.$$.fragment,a)},m(a,u){T(e,a,u),n=!0},p(a,u){var b,w,k,m,p,v;const d={};u&1&&(d.content=(w=(b=a[0])==null?void 0:b.parent)==null?void 0:w.workflowId),u&9&&(d.href=Mt({namespace:a[3],workflow:(m=(k=a[0])==null?void 0:k.parent)==null?void 0:m.workflowId,run:(v=(p=a[0])==null?void 0:p.parent)==null?void 0:v.runId})),e.$set(d)},i(a){n||(c(e.$$.fragment,a),n=!0)},o(a){_(e.$$.fragment,a),n=!1},d(a){C(e,a)}}}function no(o){var W,P,j,q,H,X,se,fe,M,R,K,I,S,O,te;let e,n,t,l,r,s,f,i,a,u,d,b,w,k,m,p,v,N,$;t=new Ae({props:{title:B("common.start"),tooltip:o[4]?ke((W=o[0])==null?void 0:W.startTime,o[5],{relative:!1}):ke((P=o[0])==null?void 0:P.startTime,o[5],{relative:!0}),content:ke((j=o[0])==null?void 0:j.startTime,o[5],{relative:o[4]})}}),r=new Ae({props:{title:B("common.end"),tooltip:o[4]?ke((q=o[0])==null?void 0:q.endTime,o[5],{relative:!1}):ke((H=o[0])==null?void 0:H.endTime,o[5],{relative:!0}),content:(X=o[0])!=null&&X.endTime?ke((se=o[0])==null?void 0:se.endTime,o[5],{relative:o[4]}):"-"}}),f=new Ae({props:{content:o[2],icon:"clock"}}),u=new Ae({props:{title:B("common.run-id"),content:(fe=o[0])==null?void 0:fe.runId,copyable:!0}}),b=new Ae({props:{title:B("common.workflow-type"),content:(M=o[0])==null?void 0:M.name,copyable:!0,filterable:!0,href:Vt({namespace:o[3],query:`WorkflowType="${(R=o[0])==null?void 0:R.name}"`})}}),k=new Ae({props:{title:B("common.task-queue"),content:(K=o[0])==null?void 0:K.taskQueue,href:Fe({namespace:o[1].params.namespace,workflow:(I=o[0])==null?void 0:I.id,run:(S=o[0])==null?void 0:S.runId})}});let g=((O=o[0])==null?void 0:O.parent)&&zt(o);return N=new Ae({props:{title:B("common.history-size-bytes"),content:(te=o[0])==null?void 0:te.historySizeBytes}}),{c(){e=J("div"),n=J("div"),E(t.$$.fragment),l=L(),E(r.$$.fragment),s=L(),E(f.$$.fragment),i=L(),a=J("div"),E(u.$$.fragment),d=L(),E(b.$$.fragment),w=L(),E(k.$$.fragment),m=L(),p=J("div"),g&&g.c(),v=L(),E(N.$$.fragment),this.h()},l(V){e=Y(V,"DIV",{class:!0});var oe=G(e);n=Y(oe,"DIV",{class:!0});var y=G(n);D(t.$$.fragment,y),l=z(y),D(r.$$.fragment,y),s=z(y),D(f.$$.fragment,y),y.forEach(h),i=z(oe),a=Y(oe,"DIV",{class:!0});var U=G(a);D(u.$$.fragment,U),d=z(U),D(b.$$.fragment,U),w=z(U),D(k.$$.fragment,U),U.forEach(h),m=z(oe),p=Y(oe,"DIV",{class:!0});var Z=G(p);g&&g.l(Z),v=z(Z),D(N.$$.fragment,Z),Z.forEach(h),oe.forEach(h),this.h()},h(){Q(n,"class","flex w-full flex-col gap-2 xl:w-1/3"),Q(a,"class","flex w-full flex-col gap-2 xl:w-1/3"),Q(p,"class","flex w-full flex-col gap-2 xl:w-1/3"),Q(e,"class","flex w-full flex-col gap-2 xl:flex-row xl:gap-16")},m(V,oe){A(V,e,oe),F(e,n),T(t,n,null),F(n,l),T(r,n,null),F(n,s),T(f,n,null),F(e,i),F(e,a),T(u,a,null),F(a,d),T(b,a,null),F(a,w),T(k,a,null),F(e,m),F(e,p),g&&g.m(p,null),F(p,v),T(N,p,null),$=!0},p(V,[oe]){var he,Ce,De,Pe,Se,wt,ht,kt,bt,vt,It,Et,Dt,Tt,Ct;const y={};oe&49&&(y.tooltip=V[4]?ke((he=V[0])==null?void 0:he.startTime,V[5],{relative:!1}):ke((Ce=V[0])==null?void 0:Ce.startTime,V[5],{relative:!0})),oe&49&&(y.content=ke((De=V[0])==null?void 0:De.startTime,V[5],{relative:V[4]})),t.$set(y);const U={};oe&49&&(U.tooltip=V[4]?ke((Pe=V[0])==null?void 0:Pe.endTime,V[5],{relative:!1}):ke((Se=V[0])==null?void 0:Se.endTime,V[5],{relative:!0})),oe&49&&(U.content=(wt=V[0])!=null&&wt.endTime?ke((ht=V[0])==null?void 0:ht.endTime,V[5],{relative:V[4]}):"-"),r.$set(U);const Z={};oe&4&&(Z.content=V[2]),f.$set(Z);const we={};oe&1&&(we.content=(kt=V[0])==null?void 0:kt.runId),u.$set(we);const me={};oe&1&&(me.content=(bt=V[0])==null?void 0:bt.name),oe&9&&(me.href=Vt({namespace:V[3],query:`WorkflowType="${(vt=V[0])==null?void 0:vt.name}"`})),b.$set(me);const ge={};oe&1&&(ge.content=(It=V[0])==null?void 0:It.taskQueue),oe&3&&(ge.href=Fe({namespace:V[1].params.namespace,workflow:(Et=V[0])==null?void 0:Et.id,run:(Dt=V[0])==null?void 0:Dt.runId})),k.$set(ge),(Tt=V[0])!=null&&Tt.parent?g?(g.p(V,oe),oe&1&&c(g,1)):(g=zt(V),g.c(),c(g,1),g.m(p,v)):g&&(ne(),_(g,1,1,()=>{g=null}),le());const Ee={};oe&1&&(Ee.content=(Ct=V[0])==null?void 0:Ct.historySizeBytes),N.$set(Ee)},i(V){$||(c(t.$$.fragment,V),c(r.$$.fragment,V),c(f.$$.fragment,V),c(u.$$.fragment,V),c(b.$$.fragment,V),c(k.$$.fragment,V),c(g),c(N.$$.fragment,V),$=!0)},o(V){_(t.$$.fragment,V),_(r.$$.fragment,V),_(f.$$.fragment,V),_(u.$$.fragment,V),_(b.$$.fragment,V),_(k.$$.fragment,V),_(g),_(N.$$.fragment,V),$=!1},d(V){V&&h(e),C(t),C(r),C(f),C(u),C(b),C(k),g&&g.d(),C(N)}}}function lo(o,e,n){let t,l,r,s,f;re(o,He,a=>n(1,r=a)),re(o,rl,a=>n(4,s=a)),re(o,sl,a=>n(5,f=a));let{workflow:i}=e;return o.$$set=a=>{"workflow"in a&&n(0,i=a.workflow)},o.$$.update=()=>{o.$$.dirty&2&&n(3,{namespace:t}=r.params,t),o.$$.dirty&1&&n(2,l=fl({start:i==null?void 0:i.startTime,end:(i==null?void 0:i.endTime)||Date.now(),includeMilliseconds:!0}))},[i,r,l,t,s,f]}class oo extends ve{constructor(e){super(),Ie(this,e,lo,no,be,{workflow:0})}}const Yn=_l("resetWorkflows",{});function Jt(o,e,n){const t=o.slice();return t[25]=e[n],t}function ro(o){let e,n=B("workflows.reset-modal-title")+"",t;return{c(){e=J("h3"),t=x(n),this.h()},l(l){e=Y(l,"H3",{slot:!0});var r=G(e);t=ee(r,n),r.forEach(h),this.h()},h(){Q(e,"slot","title")},m(l,r){A(l,e,r),F(e,t)},p:_e,d(l){l&&h(e)}}}function so(o){let e=o[25].id+"",n,t,l=o[25].eventType+"",r;return{c(){n=x(e),t=x(" - "),r=x(l)},l(s){n=ee(s,e),t=ee(s," - "),r=ee(s,l)},m(s,f){A(s,n,f),A(s,t,f),A(s,r,f)},p(s,f){f&512&&e!==(e=s[25].id+"")&&pe(n,e),f&512&&l!==(l=s[25].eventType+"")&&pe(r,l)},d(s){s&&(h(n),h(t),h(r))}}}function Yt(o){let e,n;return e=new Le({props:{value:o[25].id,$$slots:{default:[so]},$$scope:{ctx:o}}}),{c(){E(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,l){T(e,t,l),n=!0},p(t,l){const r={};l&512&&(r.value=t[25].id),l&268435968&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(c(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function fo(o){let e,n,t=Re(o[9]),l=[];for(let s=0;s<t.length;s+=1)l[s]=Yt(Jt(o,t,s));const r=s=>_(l[s],1,1,()=>{l[s]=null});return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=ce()},l(s){for(let f=0;f<l.length;f+=1)l[f].l(s);e=ce()},m(s,f){for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(s,f);A(s,e,f),n=!0},p(s,f){if(f&512){t=Re(s[9]);let i;for(i=0;i<t.length;i+=1){const a=Jt(s,t,i);l[i]?(l[i].p(a,f),c(l[i],1)):(l[i]=Yt(a),l[i].c(),c(l[i],1),l[i].m(e.parentNode,e))}for(ne(),i=t.length;i<l.length;i+=1)r(i);le()}},i(s){if(!n){for(let f=0;f<t.length;f+=1)c(l[f]);n=!0}},o(s){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)_(l[f]);n=!1},d(s){s&&h(e),tt(l,s)}}}function io(o){let e,n,t;function l(s){o[20](s)}let r={id:"reset-include-signals-checkbox","data-testid":"reset-include-signals-checkbox",label:B("workflows.reset-reapply-type-label")};return o[5]!==void 0&&(r.checked=o[5]),e=new ft({props:r}),ie.push(()=>ue(e,"checked",l)),{c(){E(e.$$.fragment)},l(s){D(e.$$.fragment,s)},m(s,f){T(e,s,f),t=!0},p(s,f){const i={};!n&&f&32&&(n=!0,i.checked=s[5],ae(()=>n=!1)),e.$set(i)},i(s){t||(c(e.$$.fragment,s),t=!0)},o(s){_(e.$$.fragment,s),t=!1},d(s){C(e,s)}}}function ao(o){let e,n,t,l,r,s;function f(d){o[18](d)}let i={id:"reset-exclude-signals-checkbox","data-testid":"reset-exclude-signals-checkbox",label:B("workflows.reset-exclude-signals")};o[6]!==void 0&&(i.checked=o[6]),e=new ft({props:i}),ie.push(()=>ue(e,"checked",f));function a(d){o[19](d)}let u={id:"reset-exclude-updates-checkbox","data-testid":"reset-exclude-updates-checkbox",label:B("workflows.reset-exclude-updates")};return o[7]!==void 0&&(u.checked=o[7]),l=new ft({props:u}),ie.push(()=>ue(l,"checked",a)),{c(){E(e.$$.fragment),t=L(),E(l.$$.fragment)},l(d){D(e.$$.fragment,d),t=z(d),D(l.$$.fragment,d)},m(d,b){T(e,d,b),A(d,t,b),T(l,d,b),s=!0},p(d,b){const w={};!n&&b&64&&(n=!0,w.checked=d[6],ae(()=>n=!1)),e.$set(w);const k={};!r&&b&128&&(r=!0,k.checked=d[7],ae(()=>r=!1)),l.$set(k)},i(d){s||(c(e.$$.fragment,d),c(l.$$.fragment,d),s=!0)},o(d){_(e.$$.fragment,d),_(l.$$.fragment,d),s=!1},d(d){d&&h(t),C(e,d),C(l,d)}}}function uo(o){let e,n,t,l,r,s,f,i,a,u,d;function b($){o[17]($)}let w={"data-testid":"workflow-reset-event-id-select",menuClass:"max-h-[16rem]",label:B("workflows.reset-event-radio-group-description"),id:"reset-event-id",$$slots:{default:[fo]},$$scope:{ctx:o}};o[8]!==void 0&&(w.value=o[8]),n=new _t({props:w}),ie.push(()=>ue(n,"value",b));const k=[ao,io],m=[];function p($,g){return g&3072&&(r=null),r==null&&(r=!!($[10]||gl("1.24.0",$[11]))),r?0:1}s=p(o,-1),f=m[s]=k[s](o);function v($){o[21]($)}let N={id:"reset-reason",label:B("common.reason")};return o[4]!==void 0&&(N.value=o[4]),a=new lt({props:N}),ie.push(()=>ue(a,"value",v)),{c(){e=J("div"),E(n.$$.fragment),l=L(),f.c(),i=L(),E(a.$$.fragment),this.h()},l($){e=Y($,"DIV",{class:!0});var g=G(e);D(n.$$.fragment,g),l=z(g),f.l(g),i=z(g),D(a.$$.fragment,g),g.forEach(h),this.h()},h(){Q(e,"class","flex w-full flex-col gap-4")},m($,g){A($,e,g),T(n,e,null),F(e,l),m[s].m(e,null),F(e,i),T(a,e,null),d=!0},p($,g){const W={};g&268435968&&(W.$$scope={dirty:g,ctx:$}),!t&&g&256&&(t=!0,W.value=$[8],ae(()=>t=!1)),n.$set(W);let P=s;s=p($,g),s===P?m[s].p($,g):(ne(),_(m[P],1,1,()=>{m[P]=null}),le(),f=m[s],f?f.p($,g):(f=m[s]=k[s]($),f.c()),c(f,1),f.m(e,i));const j={};!u&&g&16&&(u=!0,j.value=$[4],ae(()=>u=!1)),a.$set(j)},i($){d||(c(n.$$.fragment,$),c(f),c(a.$$.fragment,$),d=!0)},o($){_(n.$$.fragment,$),_(f),_(a.$$.fragment,$),d=!1},d($){$&&h(e),C(n),m[s].d(),C(a)}}}function co(o){let e,n,t,l;function r(i){o[22](i)}function s(i){o[23](i)}let f={id:"reset-confirmation-modal","data-testid":"reset-confirmation-modal",confirmText:B("common.confirm"),cancelText:B("common.cancel"),loading:o[3],confirmDisabled:!o[8],$$slots:{content:[uo],title:[ro]},$$scope:{ctx:o}};return o[2]!==void 0&&(f.error=o[2]),o[0]!==void 0&&(f.open=o[0]),e=new pt({props:f}),ie.push(()=>ue(e,"error",r)),ie.push(()=>ue(e,"open",s)),e.$on("confirmModal",o[14]),e.$on("cancelModal",o[13]),{c(){E(e.$$.fragment)},l(i){D(e.$$.fragment,i)},m(i,a){T(e,i,a),l=!0},p(i,[a]){const u={};a&8&&(u.loading=i[3]),a&256&&(u.confirmDisabled=!i[8]),a&268439536&&(u.$$scope={dirty:a,ctx:i}),!n&&a&4&&(n=!0,u.error=i[2],ae(()=>n=!1)),!t&&a&1&&(t=!0,u.open=i[0],ae(()=>t=!1)),e.$set(u)},i(i){l||(c(e.$$.fragment,i),l=!0)},o(i){_(e.$$.fragment,i),l=!1},d(i){C(e,i)}}}function mo(o,e,n){let t,l=_e,r=()=>(l(),l=st(w,R=>n(24,t=R)),w),s,f,i,a;re(o,jn,R=>n(9,f=R)),re(o,Fn,R=>n(10,i=R)),re(o,dl,R=>n(11,a=R)),o.$$.on_destroy.push(()=>l());let{open:u}=e,{workflow:d}=e,{namespace:b}=e,{refresh:w}=e;r();let k="",m=!1,p=nt("");re(o,p,R=>n(8,s=R));let v,N=!0,$=!1,g=!1;const W=()=>{n(0,u=!1),n(5,N=!0),n(6,$=!1),n(7,g=!1),de(p,s="",s),n(4,v="")},P=async()=>{n(2,k=""),n(3,m=!0);try{const R=await el({namespace:b,workflow:d,eventId:s,reason:v,includeSignals:N,excludeSignals:$,excludeUpdates:g});R&&R.runId&&Yn.update(K=>({...K,[d.runId]:R.runId})),de(w,t=Date.now(),t),W()}catch(R){n(2,k=dt(R)?R.message:B("common.unknown-error"))}finally{n(3,m=!1)}W()};function j(R){s=R,p.set(s)}function q(R){$=R,n(6,$)}function H(R){g=R,n(7,g)}function X(R){N=R,n(5,N)}function se(R){v=R,n(4,v)}function fe(R){k=R,n(2,k)}function M(R){u=R,n(0,u)}return o.$$set=R=>{"open"in R&&n(0,u=R.open),"workflow"in R&&n(15,d=R.workflow),"namespace"in R&&n(16,b=R.namespace),"refresh"in R&&r(n(1,w=R.refresh))},[u,w,k,m,v,N,$,g,s,f,i,a,p,W,P,d,b,j,q,H,X,se,fe,M]}class po extends ve{constructor(e){super(),Ie(this,e,mo,co,be,{open:0,workflow:15,namespace:16,refresh:1})}}function Gt(o,e,n){const t=o.slice();return t[25]=e[n].name,t[26]=e[n].description!==void 0?e[n].description:"",t}function _o(o){let e,n=B("workflows.signal-modal-title")+"",t;return{c(){e=J("h3"),t=x(n),this.h()},l(l){e=Y(l,"H3",{slot:!0});var r=G(e);t=ee(r,n),r.forEach(h),this.h()},h(){Q(e,"slot","title")},m(l,r){A(l,e,r),F(e,t)},p:_e,d(l){l&&h(e)}}}function go(o){let e,n,t;function l(s){o[18](s)}let r={id:"signal-name",label:B("workflows.signal-name-label"),required:!0};return o[4]!==void 0&&(r.value=o[4]),e=new lt({props:r}),ie.push(()=>ue(e,"value",l)),{c(){E(e.$$.fragment)},l(s){D(e.$$.fragment,s)},m(s,f){T(e,s,f),t=!0},p(s,f){const i={};!n&&f&16&&(n=!0,i.value=s[4],ae(()=>n=!1)),e.$set(i)},i(s){t||(c(e.$$.fragment,s),t=!0)},o(s){_(e.$$.fragment,s),t=!1},d(s){C(e,s)}}}function $o(o){let e,n,t;function l(s){o[17](s)}let r={id:"signal-select",label:B("workflows.signal-name-label"),class:"min-w-fit","data-testid":"signal-select",placeholder:"Select a signal",required:!0,$$slots:{default:[ko]},$$scope:{ctx:o}};return o[4]!==void 0&&(r.value=o[4]),e=new _t({props:r}),ie.push(()=>ue(e,"value",l)),{c(){E(e.$$.fragment)},l(s){D(e.$$.fragment,s)},m(s,f){T(e,s,f),t=!0},p(s,f){const i={};f&536871168&&(i.$$scope={dirty:f,ctx:s}),!n&&f&16&&(n=!0,i.value=s[4],ae(()=>n=!1)),e.$set(i)},i(s){t||(c(e.$$.fragment,s),t=!0)},o(s){_(e.$$.fragment,s),t=!1},d(s){C(e,s)}}}function wo(o){let e=o[25]+"",n;return{c(){n=x(e)},l(t){n=ee(t,e)},m(t,l){A(t,n,l)},p(t,l){l&256&&e!==(e=t[25]+"")&&pe(n,e)},d(t){t&&h(n)}}}function Zt(o){let e,n;return e=new Le({props:{value:o[25],description:o[26],$$slots:{default:[wo]},$$scope:{ctx:o}}}),{c(){E(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,l){T(e,t,l),n=!0},p(t,l){const r={};l&256&&(r.value=t[25]),l&256&&(r.description=t[26]),l&536871168&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(c(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function ho(o){let e;return{c(){e=x("Custom")},l(n){e=ee(n,"Custom")},m(n,t){A(n,e,t)},d(n){n&&h(e)}}}function ko(o){let e,n,t,l=Re(o[8]),r=[];for(let f=0;f<l.length;f+=1)r[f]=Zt(Gt(o,l,f));const s=f=>_(r[f],1,1,()=>{r[f]=null});return n=new Le({props:{value:"custom",description:"Input Signal name",$$slots:{default:[ho]},$$scope:{ctx:o}}}),n.$on("click",o[11]),{c(){for(let f=0;f<r.length;f+=1)r[f].c();e=L(),E(n.$$.fragment)},l(f){for(let i=0;i<r.length;i+=1)r[i].l(f);e=z(f),D(n.$$.fragment,f)},m(f,i){for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(f,i);A(f,e,i),T(n,f,i),t=!0},p(f,i){if(i&256){l=Re(f[8]);let u;for(u=0;u<l.length;u+=1){const d=Gt(f,l,u);r[u]?(r[u].p(d,i),c(r[u],1)):(r[u]=Zt(d),r[u].c(),c(r[u],1),r[u].m(e.parentNode,e))}for(ne(),u=l.length;u<r.length;u+=1)s(u);le()}const a={};i&536870912&&(a.$$scope={dirty:i,ctx:f}),n.$set(a)},i(f){if(!t){for(let i=0;i<l.length;i+=1)c(r[i]);c(n.$$.fragment,f),t=!0}},o(f){r=r.filter(Boolean);for(let i=0;i<r.length;i+=1)_(r[i]);_(n.$$.fragment,f),t=!1},d(f){f&&h(e),tt(r,f),C(n,f)}}}function bo(o){let e,n,t,l,r,s,f,i;const a=[$o,go],u=[];function d(m,p){var v;return((v=m[8])==null?void 0:v.length)>0&&!m[5]?0:1}n=d(o),t=u[n]=a[n](o);function b(m){o[19](m)}function w(m){o[20](m)}let k={};return o[7]!==void 0&&(k.input=o[7]),o[6]!==void 0&&(k.encoding=o[6]),r=new $l({props:k}),ie.push(()=>ue(r,"input",b)),ie.push(()=>ue(r,"encoding",w)),{c(){e=J("div"),t.c(),l=L(),E(r.$$.fragment),this.h()},l(m){e=Y(m,"DIV",{slot:!0,class:!0});var p=G(e);t.l(p),l=z(p),D(r.$$.fragment,p),p.forEach(h),this.h()},h(){Q(e,"slot","content"),Q(e,"class","flex flex-col gap-4")},m(m,p){A(m,e,p),u[n].m(e,null),F(e,l),T(r,e,null),i=!0},p(m,p){let v=n;n=d(m),n===v?u[n].p(m,p):(ne(),_(u[v],1,1,()=>{u[v]=null}),le(),t=u[n],t?t.p(m,p):(t=u[n]=a[n](m),t.c()),c(t,1),t.m(e,l));const N={};!s&&p&128&&(s=!0,N.input=m[7],ae(()=>s=!1)),!f&&p&64&&(f=!0,N.encoding=m[6],ae(()=>f=!1)),r.$set(N)},i(m){i||(c(t),c(r.$$.fragment,m),i=!0)},o(m){_(t),_(r.$$.fragment,m),i=!1},d(m){m&&h(e),u[n].d(),C(r)}}}function vo(o){let e,n,t,l;function r(i){o[21](i)}function s(i){o[22](i)}let f={id:"signal-confirmation-modal","data-testid":"signal-confirmation-modal",loading:o[3],confirmText:B("common.submit"),cancelText:B("common.cancel"),confirmDisabled:!o[4]||!o[6],$$slots:{content:[bo],title:[_o]},$$scope:{ctx:o}};return o[2]!==void 0&&(f.error=o[2]),o[0]!==void 0&&(f.open=o[0]),e=new pt({props:f}),ie.push(()=>ue(e,"error",r)),ie.push(()=>ue(e,"open",s)),e.$on("cancelModal",o[9]),e.$on("confirmModal",o[10]),{c(){E(e.$$.fragment)},l(i){D(e.$$.fragment,i)},m(i,a){T(e,i,a),l=!0},p(i,[a]){const u={};a&8&&(u.loading=i[3]),a&80&&(u.confirmDisabled=!i[4]||!i[6]),a&536871408&&(u.$$scope={dirty:a,ctx:i}),!n&&a&4&&(n=!0,u.error=i[2],ae(()=>n=!1)),!t&&a&1&&(t=!0,u.open=i[0],ae(()=>t=!1)),e.$set(u)},i(i){l||(c(e.$$.fragment,i),l=!0)},o(i){_(e.$$.fragment,i),l=!1},d(i){C(e,i)}}}const Kt="json/plain";function Io(o,e,n){let t,l,r,s=_e,f=()=>(s(),s=st(p,I=>n(23,r=I)),p),i,a=_e,u=()=>(a(),a=st(W,I=>n(24,i=I)),W),d;re(o,Te,I=>n(16,d=I)),o.$$.on_destroy.push(()=>s()),o.$$.on_destroy.push(()=>a());var b;let{open:w}=e,{workflow:k}=e,{namespace:m}=e,{refresh:p}=e;f();let v="",N=!1,$="",g=!1,W=nt(Kt);u();let P="";const j=()=>{n(0,w=!1),n(4,$=""),n(7,P=""),n(5,g=!1),de(W,i=Kt,i)},q=async()=>{n(2,v=""),n(3,N=!0);try{await tl({namespace:m,workflow:k,input:P,encoding:i,name:$}),de(p,r=Date.now(),r),On.push({message:B("workflows.signal-success"),id:"workflow-signal-success-toast"}),j()}catch(I){n(2,v=dt(I)?I.message:B("common.unknown-error"))}finally{n(3,N=!1)}},H=()=>{n(5,g=!0),n(4,$="")};function X(I){$=I,n(4,$)}function se(I){$=I,n(4,$)}function fe(I){P=I,n(7,P)}function M(I){W=I,u(n(6,W))}function R(I){v=I,n(2,v)}function K(I){w=I,n(0,w)}return o.$$set=I=>{"open"in I&&n(0,w=I.open),"workflow"in I&&n(12,k=I.workflow),"namespace"in I&&n(13,m=I.namespace),"refresh"in I&&f(n(1,p=I.refresh))},o.$$.update=()=>{o.$$.dirty&65536&&n(15,{metadata:t}=d,t),o.$$.dirty&49152&&n(8,l=n(14,b=t==null?void 0:t.definition)===null||b===void 0?void 0:b.signalDefinitions)},[w,p,v,N,$,g,W,P,l,j,q,H,k,m,b,t,d,X,se,fe,M,R,K]}class Eo extends ve{constructor(e){super(),Ie(this,e,Io,vo,be,{open:0,workflow:12,namespace:13,refresh:1})}}function Xt(o,e,n){const t=o.slice();return t[30]=e[n].name,t[31]=e[n].description!==void 0?e[n].description:"",t}function Do(o){let e,n=B("workflows.update-modal-title")+"",t;return{c(){e=J("h3"),t=x(n),this.h()},l(l){e=Y(l,"H3",{slot:!0});var r=G(e);t=ee(r,n),r.forEach(h),this.h()},h(){Q(e,"slot","title")},m(l,r){A(l,e,r),F(e,t)},p:_e,d(l){l&&h(e)}}}function To(o){let e,n,t,l,r;function s(a){o[21](a)}let f={id:"update-name",class:"w-full",label:B("common.name"),required:!0};o[5]!==void 0&&(f.value=o[5]),n=new lt({props:f}),ie.push(()=>ue(n,"value",s));let i=o[8]&&yt(o);return{c(){e=J("div"),E(n.$$.fragment),l=L(),i&&i.c(),this.h()},l(a){e=Y(a,"DIV",{class:!0});var u=G(e);D(n.$$.fragment,u),l=z(u),i&&i.l(u),u.forEach(h),this.h()},h(){Q(e,"class","flex w-full items-end justify-between gap-2")},m(a,u){A(a,e,u),T(n,e,null),F(e,l),i&&i.m(e,null),r=!0},p(a,u){const d={};!t&&u[0]&32&&(t=!0,d.value=a[5],ae(()=>t=!1)),n.$set(d),a[8]?i?(i.p(a,u),u[0]&256&&c(i,1)):(i=yt(a),i.c(),c(i,1),i.m(e,null)):i&&(ne(),_(i,1,1,()=>{i=null}),le())},i(a){r||(c(n.$$.fragment,a),c(i),r=!0)},o(a){_(n.$$.fragment,a),_(i),r=!1},d(a){a&&h(e),C(n),i&&i.d()}}}function Co(o){let e,n,t;function l(s){o[20](s)}let r={id:"update-select",label:B("common.name"),class:"min-w-fit","data-testid":"update-select",placeholder:"Select an Update",required:!0,$$slots:{default:[Ao]},$$scope:{ctx:o}};return o[5]!==void 0&&(r.value=o[5]),e=new _t({props:r}),ie.push(()=>ue(e,"value",l)),{c(){E(e.$$.fragment)},l(s){D(e.$$.fragment,s)},m(s,f){T(e,s,f),t=!0},p(s,f){const i={};f[0]&512|f[1]&8&&(i.$$scope={dirty:f,ctx:s}),!n&&f[0]&32&&(n=!0,i.value=s[5],ae(()=>n=!1)),e.$set(i)},i(s){t||(c(e.$$.fragment,s),t=!0)},o(s){_(e.$$.fragment,s),t=!1},d(s){C(e,s)}}}function yt(o){let e,n;return e=new Qn({props:{variant:"secondary",leadingIcon:"close"}}),e.$on("click",o[22]),{c(){E(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,l){T(e,t,l),n=!0},p:_e,i(t){n||(c(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function Po(o){let e=o[30]+"",n;return{c(){n=x(e)},l(t){n=ee(t,e)},m(t,l){A(t,n,l)},p(t,l){l[0]&512&&e!==(e=t[30]+"")&&pe(n,e)},d(t){t&&h(n)}}}function xt(o){let e,n;return e=new Le({props:{value:o[30],description:o[31],$$slots:{default:[Po]},$$scope:{ctx:o}}}),{c(){E(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,l){T(e,t,l),n=!0},p(t,l){const r={};l[0]&512&&(r.value=t[30]),l[0]&512&&(r.description=t[31]),l[0]&512|l[1]&8&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(c(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function So(o){let e;return{c(){e=x("Custom")},l(n){e=ee(n,"Custom")},m(n,t){A(n,e,t)},d(n){n&&h(e)}}}function Ao(o){let e,n,t,l=Re(o[9]),r=[];for(let f=0;f<l.length;f+=1)r[f]=xt(Xt(o,l,f));const s=f=>_(r[f],1,1,()=>{r[f]=null});return n=new Le({props:{value:"custom",$$slots:{default:[So]},$$scope:{ctx:o}}}),n.$on("click",o[13]),{c(){for(let f=0;f<r.length;f+=1)r[f].c();e=L(),E(n.$$.fragment)},l(f){for(let i=0;i<r.length;i+=1)r[i].l(f);e=z(f),D(n.$$.fragment,f)},m(f,i){for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(f,i);A(f,e,i),T(n,f,i),t=!0},p(f,i){if(i[0]&512){l=Re(f[9]);let u;for(u=0;u<l.length;u+=1){const d=Xt(f,l,u);r[u]?(r[u].p(d,i),c(r[u],1)):(r[u]=xt(d),r[u].c(),c(r[u],1),r[u].m(e.parentNode,e))}for(ne(),u=l.length;u<r.length;u+=1)s(u);le()}const a={};i[1]&8&&(a.$$scope={dirty:i,ctx:f}),n.$set(a)},i(f){if(!t){for(let i=0;i<l.length;i+=1)c(r[i]);c(n.$$.fragment,f),t=!0}},o(f){r=r.filter(Boolean);for(let i=0;i<r.length;i+=1)_(r[i]);_(n.$$.fragment,f),t=!1},d(f){f&&h(e),tt(r,f),C(n,f)}}}function en(o){let e,n;return e=new Je({props:{intent:"info",title:"In Progress",$$slots:{default:[Wo]},$$scope:{ctx:o}}}),{c(){E(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,l){T(e,t,l),n=!0},p(t,l){const r={};l[1]&8&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(c(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function Wo(o){let e=B("workflows.update-in-progress")+"",n;return{c(){n=x(e)},l(t){n=ee(t,e)},m(t,l){A(t,n,l)},p:_e,d(t){t&&h(n)}}}function tn(o){var t;let e,n;return e=new Je({props:{intent:"error",title:((t=o[3])==null?void 0:t.message)||"Failure",$$slots:{default:[Ro]},$$scope:{ctx:o}}}),{c(){E(e.$$.fragment)},l(l){D(e.$$.fragment,l)},m(l,r){T(e,l,r),n=!0},p(l,r){var f;const s={};r[0]&8&&(s.title=((f=l[3])==null?void 0:f.message)||"Failure"),r[0]&8|r[1]&8&&(s.$$scope={dirty:r,ctx:l}),e.$set(s)},i(l){n||(c(e.$$.fragment,l),n=!0)},o(l){_(e.$$.fragment,l),n=!1},d(l){C(e,l)}}}function nn(o){let e,n;return e=new Ln({props:{class:"mt-4",content:o[3].stackTrace,language:"text"}}),{c(){E(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,l){T(e,t,l),n=!0},p(t,l){const r={};l[0]&8&&(r.content=t[3].stackTrace),e.$set(r)},i(t){n||(c(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function Ro(o){var l;let e,n,t=((l=o[3])==null?void 0:l.stackTrace)&&nn(o);return{c(){t&&t.c(),e=ce()},l(r){t&&t.l(r),e=ce()},m(r,s){t&&t.m(r,s),A(r,e,s),n=!0},p(r,s){var f;(f=r[3])!=null&&f.stackTrace?t?(t.p(r,s),s[0]&8&&c(t,1)):(t=nn(r),t.c(),c(t,1),t.m(e.parentNode,e)):t&&(ne(),_(t,1,1,()=>{t=null}),le())},i(r){n||(c(t),n=!0)},o(r){_(t),n=!1},d(r){r&&h(e),t&&t.d(r)}}}function ln(o){let e,n;return e=new Je({props:{intent:"success",title:"Success",$$slots:{default:[Mo]},$$scope:{ctx:o}}}),{c(){E(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,l){T(e,t,l),n=!0},p(t,l){const r={};l[0]&16|l[1]&8&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(c(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function on(o){let e,n;return e=new hl({props:{value:o[4].payloads[0],$$slots:{default:[Vo,({decodedValue:t})=>({29:t}),({decodedValue:t})=>[t?536870912:0]]},$$scope:{ctx:o}}}),{c(){E(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,l){T(e,t,l),n=!0},p(t,l){const r={};l[0]&16&&(r.value=t[4].payloads[0]),l[0]&536870912|l[1]&8&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(c(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function Vo(o){let e,n;return e=new Ln({props:{class:"mt-4",content:o[29],language:"text"}}),{c(){E(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,l){T(e,t,l),n=!0},p(t,l){const r={};l[0]&536870912&&(r.content=t[29]),e.$set(r)},i(t){n||(c(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function Mo(o){var l,r;let e,n,t=((r=(l=o[4])==null?void 0:l.payloads)==null?void 0:r[0])&&o[4].payloads[0].data&&on(o);return{c(){t&&t.c(),e=ce()},l(s){t&&t.l(s),e=ce()},m(s,f){t&&t.m(s,f),A(s,e,f),n=!0},p(s,f){var i,a;(a=(i=s[4])==null?void 0:i.payloads)!=null&&a[0]&&s[4].payloads[0].data?t?(t.p(s,f),f[0]&16&&c(t,1)):(t=on(s),t.c(),c(t,1),t.m(e.parentNode,e)):t&&(ne(),_(t,1,1,()=>{t=null}),le())},i(s){n||(c(t),n=!0)},o(s){_(t),n=!1},d(s){s&&h(e),t&&t.d(s)}}}function No(o){let e,n,t,l,r,s,f,i,a,u,d,b,w;const k=[Co,To],m=[];function p(q,H){var X;return((X=q[9])==null?void 0:X.length)>0&&!q[8]?0:1}n=p(o),t=m[n]=k[n](o);function v(q){o[23](q)}let N={id:"update-id",label:B("workflows.update-id"),required:!0};o[6]!==void 0&&(N.value=o[6]),r=new lt({props:N}),ie.push(()=>ue(r,"value",v));function $(q){o[24](q)}let g={};o[7]!==void 0&&(g.input=o[7]),i=new kl({props:g}),ie.push(()=>ue(i,"input",$));let W=o[2]&&en(o),P=o[3]&&tn(o),j=o[4]&&ln(o);return{c(){e=J("div"),t.c(),l=L(),E(r.$$.fragment),f=L(),E(i.$$.fragment),u=L(),W&&W.c(),d=L(),P&&P.c(),b=L(),j&&j.c(),this.h()},l(q){e=Y(q,"DIV",{class:!0,slot:!0});var H=G(e);t.l(H),l=z(H),D(r.$$.fragment,H),f=z(H),D(i.$$.fragment,H),u=z(H),W&&W.l(H),d=z(H),P&&P.l(H),b=z(H),j&&j.l(H),H.forEach(h),this.h()},h(){Q(e,"class","flex flex-col gap-4"),Q(e,"slot","content")},m(q,H){A(q,e,H),m[n].m(e,null),F(e,l),T(r,e,null),F(e,f),T(i,e,null),F(e,u),W&&W.m(e,null),F(e,d),P&&P.m(e,null),F(e,b),j&&j.m(e,null),w=!0},p(q,H){let X=n;n=p(q),n===X?m[n].p(q,H):(ne(),_(m[X],1,1,()=>{m[X]=null}),le(),t=m[n],t?t.p(q,H):(t=m[n]=k[n](q),t.c()),c(t,1),t.m(e,l));const se={};!s&&H[0]&64&&(s=!0,se.value=q[6],ae(()=>s=!1)),r.$set(se);const fe={};!a&&H[0]&128&&(a=!0,fe.input=q[7],ae(()=>a=!1)),i.$set(fe),q[2]?W?(W.p(q,H),H[0]&4&&c(W,1)):(W=en(q),W.c(),c(W,1),W.m(e,d)):W&&(ne(),_(W,1,1,()=>{W=null}),le()),q[3]?P?(P.p(q,H),H[0]&8&&c(P,1)):(P=tn(q),P.c(),c(P,1),P.m(e,b)):P&&(ne(),_(P,1,1,()=>{P=null}),le()),q[4]?j?(j.p(q,H),H[0]&16&&c(j,1)):(j=ln(q),j.c(),c(j,1),j.m(e,null)):j&&(ne(),_(j,1,1,()=>{j=null}),le())},i(q){w||(c(t),c(r.$$.fragment,q),c(i.$$.fragment,q),c(W),c(P),c(j),w=!0)},o(q){_(t),_(r.$$.fragment,q),_(i.$$.fragment,q),_(W),_(P),_(j),w=!1},d(q){q&&h(e),m[n].d(),C(r),C(i),W&&W.d(),P&&P.d(),j&&j.d()}}}function qo(o){let e,n,t,l;function r(i){o[25](i)}function s(i){o[26](i)}let f={id:"update-confirmation-modal","data-testid":"update-confirmation-modal",large:!0,loading:o[2],confirmText:B("common.submit"),cancelText:B("common.cancel"),confirmDisabled:!o[5]||!o[10],$$slots:{content:[No],title:[Do]},$$scope:{ctx:o}};return o[1]!==void 0&&(f.error=o[1]),o[0]!==void 0&&(f.open=o[0]),e=new pt({props:f}),ie.push(()=>ue(e,"error",r)),ie.push(()=>ue(e,"open",s)),e.$on("cancelModal",o[11]),e.$on("confirmModal",o[12]),{c(){E(e.$$.fragment)},l(i){D(e.$$.fragment,i)},m(i,a){T(e,i,a),l=!0},p(i,a){const u={};a[0]&4&&(u.loading=i[2]),a[0]&32&&(u.confirmDisabled=!i[5]||!i[10]),a[0]&1020|a[1]&8&&(u.$$scope={dirty:a,ctx:i}),!n&&a[0]&2&&(n=!0,u.error=i[1],ae(()=>n=!1)),!t&&a[0]&1&&(t=!0,u.open=i[0],ae(()=>t=!1)),e.$set(u)},i(i){l||(c(e.$$.fragment,i),l=!0)},o(i){_(e.$$.fragment,i),l=!1},d(i){C(e,i)}}}const rn="json/plain";function Bo(o,e,n){let t,l,r,s,f,i;re(o,Te,I=>n(18,f=I)),re(o,He,I=>n(19,i=I));var a;let{open:u}=e,{workflow:d}=e,{namespace:b}=e,w="",k=!1,m,p,v="",N=it(),$="",g=!1,W=nt(rn);re(o,W,I=>n(28,s=I));const P=()=>{n(0,u=!1),n(5,v=""),n(7,$=""),n(8,g=!1),de(W,s=rn,s),n(3,m=void 0),n(4,p=void 0)},j=async()=>{var I,S;n(3,m=void 0),n(4,p=void 0),n(1,w=""),n(2,k=!0);try{const O=await nl({namespace:b,workflow:{workflowId:d.id,runId:t},input:$,updateId:N,encoding:s,name:v});n(3,m=(I=O==null?void 0:O.outcome)===null||I===void 0?void 0:I.failure),n(4,p=((S=O==null?void 0:O.outcome)===null||S===void 0?void 0:S.success)||!m),n(6,N=it()),p&&(On.push({message:B("workflows.update-success"),variant:"success"}),P())}catch(O){n(1,w=dt(O)?O.message:B("common.unknown-error"))}finally{n(2,k=!1)}},q=()=>{n(8,g=!0),n(5,v="")};function H(I){v=I,n(5,v)}function X(I){v=I,n(5,v)}const se=()=>{n(8,g=!1),n(5,v="")};function fe(I){N=I,n(6,N)}function M(I){$=I,n(7,$)}function R(I){w=I,n(1,w)}function K(I){u=I,n(0,u)}return o.$$set=I=>{"open"in I&&n(0,u=I.open),"workflow"in I&&n(14,d=I.workflow),"namespace"in I&&n(15,b=I.namespace)},o.$$.update=()=>{o.$$.dirty[0]&524288&&({run:t}=i.params),o.$$.dirty[0]&262144&&n(17,{metadata:l}=f,l),o.$$.dirty[0]&196608&&n(9,r=n(16,a=l==null?void 0:l.definition)===null||a===void 0?void 0:a.updateDefinitions)},[u,w,k,m,p,v,N,$,g,r,W,P,j,q,d,b,a,l,f,i,H,X,se,fe,M,R,K]}class Fo extends ve{constructor(e){super(),Ie(this,e,Bo,qo,be,{open:0,workflow:14,namespace:15},null,[-1,-1])}}const Uo=(o,e,n)=>!o.disableWriteActions&&!o.workflowSignalDisabled&&!e.namespaceWriteDisabled(n),Ho=(o,e,n)=>!o.disableWriteActions&&!o.workflowUpdateDisabled&&!e.namespaceWriteDisabled(n);function sn(o,e,n){const t=o.slice();return t[35]=e[n].onClick,t[36]=e[n].destructive,t[37]=e[n].label,t[38]=e[n].enabled,t[39]=e[n].testId,t[40]=e[n].description,t}function jo(o){let e,n;return e=new mt({props:{bottomRight:!0,width:200,text:o[4],hide:o[8],$$slots:{default:[zo]},$$scope:{ctx:o}}}),{c(){E(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,l){T(e,t,l),n=!0},p(t,l){const r={};l[0]&16&&(r.text=t[4]),l[0]&256&&(r.hide=t[8]),l[0]&4352|l[1]&4096&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(c(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function Oo(o){let e,n;return e=new Jn({props:{id:"workflow-actions",menuClass:"w-[16rem]",position:"right",primaryActionDisabled:!o[8],label:B("workflows.reset"),menuLabel:B("workflows.workflow-actions"),$$slots:{default:[Yo]},$$scope:{ctx:o}}}),e.$on("click",o[28]),{c(){E(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,l){T(e,t,l),n=!0},p(t,l){const r={};l[0]&256&&(r.primaryActionDisabled=!t[8]),l[0]&3|l[1]&4096&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(c(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function Qo(o){let e,n;return e=new Jn({props:{id:"workflow-actions",menuClass:"w-[16rem] md:w-[24rem]",position:"right",disabled:o[16],primaryActionDisabled:!o[17]||o[2],label:B("workflows.request-cancellation"),menuLabel:B("workflows.workflow-actions"),$$slots:{default:[Ko]},$$scope:{ctx:o}}}),e.$on("click",o[26]),{c(){E(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,l){T(e,t,l),n=!0},p(t,l){const r={};l[0]&65536&&(r.disabled=t[16]),l[0]&131076&&(r.primaryActionDisabled=!t[17]||t[2]),l[0]&295427|l[1]&4096&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(c(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function Lo(o){let e=B("workflows.reset")+"",n;return{c(){n=x(e)},l(t){n=ee(t,e)},m(t,l){A(t,n,l)},p:_e,d(t){t&&h(n)}}}function zo(o){let e,n;return e=new Qn({props:{"aria-label":B("workflows.reset"),disabled:!o[8],variant:"primary","data-testid":"workflow-reset-button",$$slots:{default:[Lo]},$$scope:{ctx:o}}}),e.$on("click",o[29]),{c(){E(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,l){T(e,t,l),n=!0},p(t,l){const r={};l[0]&256&&(r.disabled=!t[8]),l[1]&4096&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(c(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function Jo(o){let e=B("workflows.start-workflow-like-this-one")+"",n;return{c(){n=x(e)},l(t){n=ee(t,e)},m(t,l){A(t,n,l)},p:_e,d(t){t&&h(n)}}}function Yo(o){let e,n;return e=new gt({props:{"data-testid":"start-workflow-button",$$slots:{default:[Jo]},$$scope:{ctx:o}}}),e.$on("click",o[27]),{c(){E(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,l){T(e,t,l),n=!0},p(t,l){const r={};l[1]&4096&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(c(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function fn(o){let e,n,t,l=o[36]&&an();return n=new gt({props:{destructive:o[36],disabled:!o[38],"data-testid":o[39],description:o[40],$$slots:{default:[Go]},$$scope:{ctx:o}}}),n.$on("click",function(){Kn(o[35])&&o[35].apply(this,arguments)}),{c(){l&&l.c(),e=L(),E(n.$$.fragment)},l(r){l&&l.l(r),e=z(r),D(n.$$.fragment,r)},m(r,s){l&&l.m(r,s),A(r,e,s),T(n,r,s),t=!0},p(r,s){o=r,o[36]?l?s[0]&32768&&c(l,1):(l=an(),l.c(),c(l,1),l.m(e.parentNode,e)):l&&(ne(),_(l,1,1,()=>{l=null}),le());const f={};s[0]&32768&&(f.destructive=o[36]),s[0]&32768&&(f.disabled=!o[38]),s[0]&32768&&(f["data-testid"]=o[39]),s[0]&32768&&(f.description=o[40]),s[0]&32768|s[1]&4096&&(f.$$scope={dirty:s,ctx:o}),n.$set(f)},i(r){t||(c(l),c(n.$$.fragment,r),t=!0)},o(r){_(l),_(n.$$.fragment,r),t=!1},d(r){r&&h(e),l&&l.d(r),C(n,r)}}}function an(o){let e,n;return e=new zn({}),{c(){E(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,l){T(e,t,l),n=!0},i(t){n||(c(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function Go(o){let e=o[37]+"",n;return{c(){n=x(e)},l(t){n=ee(t,e)},m(t,l){A(t,n,l)},p(t,l){l[0]&32768&&e!==(e=t[37]+"")&&pe(n,e)},d(t){t&&h(n)}}}function un(o){let e,n,t=(!o[18]||o[18]&&o[39]!=="update-button")&&fn(o);return{c(){t&&t.c(),e=ce()},l(l){t&&t.l(l),e=ce()},m(l,r){t&&t.m(l,r),A(l,e,r),n=!0},p(l,r){!l[18]||l[18]&&l[39]!=="update-button"?t?(t.p(l,r),r[0]&294912&&c(t,1)):(t=fn(l),t.c(),c(t,1),t.m(e.parentNode,e)):t&&(ne(),_(t,1,1,()=>{t=null}),le())},i(l){n||(c(t),n=!0)},o(l){_(t),n=!1},d(l){l&&h(e),t&&t.d(l)}}}function cn(o){let e,n,t,l;return e=new zn({}),t=new gt({props:{"data-testid":"start-workflow-button",$$slots:{default:[Zo]},$$scope:{ctx:o}}}),t.$on("click",o[25]),{c(){E(e.$$.fragment),n=L(),E(t.$$.fragment)},l(r){D(e.$$.fragment,r),n=z(r),D(t.$$.fragment,r)},m(r,s){T(e,r,s),A(r,n,s),T(t,r,s),l=!0},p(r,s){const f={};s[1]&4096&&(f.$$scope={dirty:s,ctx:r}),t.$set(f)},i(r){l||(c(e.$$.fragment,r),c(t.$$.fragment,r),l=!0)},o(r){_(e.$$.fragment,r),_(t.$$.fragment,r),l=!1},d(r){r&&h(n),C(e,r),C(t,r)}}}function Zo(o){let e=B("workflows.start-workflow-like-this-one")+"",n;return{c(){n=x(e)},l(t){n=ee(t,e)},m(t,l){A(t,n,l)},p:_e,d(t){t&&h(n)}}}function Ko(o){let e,n=!at(o[9]),t,l,r=Re(o[15]),s=[];for(let a=0;a<r.length;a+=1)s[a]=un(sn(o,r,a));const f=a=>_(s[a],1,1,()=>{s[a]=null});let i=n&&cn(o);return{c(){for(let a=0;a<s.length;a+=1)s[a].c();e=L(),i&&i.c(),t=ce()},l(a){for(let u=0;u<s.length;u+=1)s[u].l(a);e=z(a),i&&i.l(a),t=ce()},m(a,u){for(let d=0;d<s.length;d+=1)s[d]&&s[d].m(a,u);A(a,e,u),i&&i.m(a,u),A(a,t,u),l=!0},p(a,u){if(u[0]&294912){r=Re(a[15]);let d;for(d=0;d<r.length;d+=1){const b=sn(a,r,d);s[d]?(s[d].p(b,u),c(s[d],1)):(s[d]=un(b),s[d].c(),c(s[d],1),s[d].m(e.parentNode,e))}for(ne(),d=r.length;d<s.length;d+=1)f(d);le()}u[0]&512&&(n=!at(a[9])),n?i?(i.p(a,u),u[0]&512&&c(i,1)):(i=cn(a),i.c(),c(i,1),i.m(t.parentNode,t)):i&&(ne(),_(i,1,1,()=>{i=null}),le())},i(a){if(!l){for(let u=0;u<r.length;u+=1)c(s[u]);c(i),l=!0}},o(a){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)_(s[u]);_(i),l=!1},d(a){a&&(h(e),h(t)),tt(s,a),i&&i.d(a)}}}function mn(o){let e,n,t;function l(s){o[30](s)}let r={refresh:ze,workflow:o[0],namespace:o[1]};return o[12]!==void 0&&(r.open=o[12]),e=new po({props:r}),ie.push(()=>ue(e,"open",l)),{c(){E(e.$$.fragment)},l(s){D(e.$$.fragment,s)},m(s,f){T(e,s,f),t=!0},p(s,f){const i={};f[0]&1&&(i.workflow=s[0]),f[0]&2&&(i.namespace=s[1]),!n&&f[0]&4096&&(n=!0,i.open=s[12],ae(()=>n=!1)),e.$set(i)},i(s){t||(c(e.$$.fragment,s),t=!0)},o(s){_(e.$$.fragment,s),t=!1},d(s){C(e,s)}}}function pn(o){let e,n,t;function l(s){o[31](s)}let r={refresh:ze,workflow:o[0],namespace:o[1]};return o[13]!==void 0&&(r.open=o[13]),e=new Eo({props:r}),ie.push(()=>ue(e,"open",l)),{c(){E(e.$$.fragment)},l(s){D(e.$$.fragment,s)},m(s,f){T(e,s,f),t=!0},p(s,f){const i={};f[0]&1&&(i.workflow=s[0]),f[0]&2&&(i.namespace=s[1]),!n&&f[0]&8192&&(n=!0,i.open=s[13],ae(()=>n=!1)),e.$set(i)},i(s){t||(c(e.$$.fragment,s),t=!0)},o(s){_(e.$$.fragment,s),t=!1},d(s){C(e,s)}}}function _n(o){let e,n,t;function l(s){o[32](s)}let r={workflow:o[0],namespace:o[1]};return o[14]!==void 0&&(r.open=o[14]),e=new Fo({props:r}),ie.push(()=>ue(e,"open",l)),{c(){E(e.$$.fragment)},l(s){D(e.$$.fragment,s)},m(s,f){T(e,s,f),t=!0},p(s,f){const i={};f[0]&1&&(i.workflow=s[0]),f[0]&2&&(i.namespace=s[1]),!n&&f[0]&16384&&(n=!0,i.open=s[14],ae(()=>n=!1)),e.$set(i)},i(s){t||(c(e.$$.fragment,s),t=!0)},o(s){_(e.$$.fragment,s),t=!1},d(s){C(e,s)}}}function dn(o){let e,n,t;function l(s){o[33](s)}let r={refresh:ze,workflow:o[0],namespace:o[1]};return o[10]!==void 0&&(r.open=o[10]),e=new cl({props:r}),ie.push(()=>ue(e,"open",l)),{c(){E(e.$$.fragment)},l(s){D(e.$$.fragment,s)},m(s,f){T(e,s,f),t=!0},p(s,f){const i={};f[0]&1&&(i.workflow=s[0]),f[0]&2&&(i.namespace=s[1]),!n&&f[0]&1024&&(n=!0,i.open=s[10],ae(()=>n=!1)),e.$set(i)},i(s){t||(c(e.$$.fragment,s),t=!0)},o(s){_(e.$$.fragment,s),t=!1},d(s){C(e,s)}}}function gn(o){let e,n,t;function l(s){o[34](s)}let r={refresh:ze,workflow:o[0],namespace:o[1]};return o[11]!==void 0&&(r.open=o[11]),e=new ml({props:r}),ie.push(()=>ue(e,"open",l)),{c(){E(e.$$.fragment)},l(s){D(e.$$.fragment,s)},m(s,f){T(e,s,f),t=!0},p(s,f){const i={};f[0]&1&&(i.workflow=s[0]),f[0]&2&&(i.namespace=s[1]),!n&&f[0]&2048&&(n=!0,i.open=s[11],ae(()=>n=!1)),e.$set(i)},i(s){t||(c(e.$$.fragment,s),t=!0)},o(s){_(e.$$.fragment,s),t=!1},d(s){C(e,s)}}}function Xo(o){let e,n,t,l,r,s,f,i,a,u;const d=[Qo,Oo,jo],b=[];function w($,g){return g[0]&512&&(e=null),$[3]?0:(e==null&&(e=!at($[9])),e?1:2)}n=w(o,[-1,-1]),t=b[n]=d[n](o);let k=o[8]&&mn(o),m=o[7]&&pn(o),p=o[6]&&_n(o),v=o[17]&&dn(o),N=o[5]&&gn(o);return{c(){t.c(),l=L(),k&&k.c(),r=L(),m&&m.c(),s=L(),p&&p.c(),f=L(),v&&v.c(),i=L(),N&&N.c(),a=ce()},l($){t.l($),l=z($),k&&k.l($),r=z($),m&&m.l($),s=z($),p&&p.l($),f=z($),v&&v.l($),i=z($),N&&N.l($),a=ce()},m($,g){b[n].m($,g),A($,l,g),k&&k.m($,g),A($,r,g),m&&m.m($,g),A($,s,g),p&&p.m($,g),A($,f,g),v&&v.m($,g),A($,i,g),N&&N.m($,g),A($,a,g),u=!0},p($,g){let W=n;n=w($,g),n===W?b[n].p($,g):(ne(),_(b[W],1,1,()=>{b[W]=null}),le(),t=b[n],t?t.p($,g):(t=b[n]=d[n]($),t.c()),c(t,1),t.m(l.parentNode,l)),$[8]?k?(k.p($,g),g[0]&256&&c(k,1)):(k=mn($),k.c(),c(k,1),k.m(r.parentNode,r)):k&&(ne(),_(k,1,1,()=>{k=null}),le()),$[7]?m?(m.p($,g),g[0]&128&&c(m,1)):(m=pn($),m.c(),c(m,1),m.m(s.parentNode,s)):m&&(ne(),_(m,1,1,()=>{m=null}),le()),$[6]?p?(p.p($,g),g[0]&64&&c(p,1)):(p=_n($),p.c(),c(p,1),p.m(f.parentNode,f)):p&&(ne(),_(p,1,1,()=>{p=null}),le()),$[17]?v?(v.p($,g),g[0]&131072&&c(v,1)):(v=dn($),v.c(),c(v,1),v.m(i.parentNode,i)):v&&(ne(),_(v,1,1,()=>{v=null}),le()),$[5]?N?(N.p($,g),g[0]&32&&c(N,1)):(N=gn($),N.c(),c(N,1),N.m(a.parentNode,a)):N&&(ne(),_(N,1,1,()=>{N=null}),le())},i($){u||(c(t),c(k),c(m),c(p),c(v),c(N),u=!0)},o($){_(t),_(k),_(m),_(p),_(v),_(N),u=!1},d($){$&&(h(l),h(r),h(s),h(f),h(i),h(a)),b[n].d($),k&&k.d($),m&&m.d($),p&&p.d($),v&&v.d($),N&&N.d($)}}}function yo(o,e,n){let t,l,r,s,f,i,a,u,d,b,w;re(o,jn,y=>n(23,u=y)),re(o,He,y=>n(9,b=y)),re(o,Fn,y=>n(18,w=y));var k,m;let{workflow:p}=e,{namespace:v}=e,{cancelInProgress:N}=e,{isRunning:$}=e,g=!1,W=!1,P=!1,j=!1,q=!1,H,X=bl();re(o,X,y=>n(24,d=y));let se;const fe=()=>Bt(Nt({namespace:v,workflowId:p.id,taskQueue:p.taskQueue,workflowType:p.name})),M=()=>n(10,g=!0),R=()=>Bt(Nt({namespace:v,workflowId:p.id,taskQueue:p.taskQueue,workflowType:p.name})),K=()=>n(12,P=!0),I=()=>n(12,P=!0);function S(y){P=y,n(12,P),n(8,i),n(4,H),n(7,l),n(6,r),n(5,s),n(22,f),n(0,p),n(23,u),n(20,k),n(21,m),n(9,b),n(24,d),n(1,v)}function O(y){j=y,n(13,j),n(8,i),n(4,H),n(7,l),n(6,r),n(5,s),n(22,f),n(0,p),n(23,u),n(20,k),n(21,m),n(9,b),n(24,d),n(1,v)}function te(y){q=y,n(14,q),n(8,i),n(4,H),n(7,l),n(6,r),n(5,s),n(22,f),n(0,p),n(23,u),n(20,k),n(21,m),n(9,b),n(24,d),n(1,v)}function V(y){g=y,n(10,g)}function oe(y){W=y,n(11,W),n(8,i),n(4,H),n(7,l),n(6,r),n(5,s),n(22,f),n(0,p),n(23,u),n(20,k),n(21,m),n(9,b),n(24,d),n(1,v)}return o.$$set=y=>{"workflow"in y&&n(0,p=y.workflow),"namespace"in y&&n(1,v=y.namespace),"cancelInProgress"in y&&n(2,N=y.cancelInProgress),"isRunning"in y&&n(3,$=y.isRunning)},o.$$.update=()=>{o.$$.dirty[0]&16777730&&n(17,t=il(b.data.settings,d,v)),o.$$.dirty[0]&16777730&&n(7,l=Uo(b.data.settings,d,v)),o.$$.dirty[0]&16777730&&n(6,r=Ho(b.data.settings,d,v)),o.$$.dirty[0]&16777730&&n(5,s=al(b.data.settings,d,v)),o.$$.dirty[0]&16777730&&n(22,f=ul(b.data.settings,d,v)),o.$$.dirty[0]&12582913&&n(8,i=f&&p.pendingChildren.length===0&&u.length>0),o.$$.dirty[0]&416&&n(16,a=!i&&!l&&!s),o.$$.dirty[0]&15728641&&(f?f&&(n(20,k=p==null?void 0:p.pendingChildren)===null||k===void 0?void 0:k.length)>0?n(4,H=B("workflows.reset-disabled-pending-children")):f&&(n(21,m=p==null?void 0:p.pendingChildren)===null||m===void 0?void 0:m.length)===0&&u.length===0&&n(4,H=B("workflows.reset-disabled-no-events")):n(4,H=B("workflows.reset-disabled-unauthorized"))),o.$$.dirty[0]&496&&n(15,se=[{label:B("workflows.reset"),onClick:()=>n(12,P=!0),testId:"reset-button",enabled:i,description:i?"":H},{label:B("workflows.signal"),onClick:()=>n(13,j=!0),testId:"signal-button",enabled:l,description:l?"":B("workflows.signal-disabled")},{label:B("workflows.update"),onClick:()=>n(14,q=!0),testId:"update-button",enabled:r,description:r?"":B("workflows.update-disabled")},{label:B("workflows.terminate"),onClick:()=>n(11,W=!0),testId:"terminate-button",enabled:s,destructive:!0,description:s?"":B("workflows.terminate-disabled")}])},[p,v,N,$,H,s,r,l,i,b,g,W,P,j,q,se,a,t,w,X,k,m,f,u,d,fe,M,R,K,I,S,O,te,V,oe]}class $n extends ve{constructor(e){super(),Ie(this,e,yo,Xo,be,{workflow:0,namespace:1,cancelInProgress:2,isRunning:3},null,[-1,-1])}}function xo(o){let e,n,t=B("workers.buildId")+"",l,r,s;return r=new Il({props:{active:!0,buildId:o[0]}}),{c(){e=J("p"),n=J("span"),l=x(t),E(r.$$.fragment),this.h()},l(f){e=Y(f,"P",{class:!0});var i=G(e);n=Y(i,"SPAN",{});var a=G(n);l=ee(a,t),a.forEach(h),D(r.$$.fragment,i),i.forEach(h),this.h()},h(){Q(e,"class","flex items-center gap-1")},m(f,i){A(f,e,i),F(e,n),F(n,l),T(r,e,null),s=!0},p(f,[i]){const a={};i&1&&(a.buildId=f[0]),r.$set(a)},i(f){s||(c(r.$$.fragment,f),s=!0)},o(f){_(r.$$.fragment,f),s=!1},d(f){f&&h(e),C(r)}}}function er(o,e,n){let t,{workflow:l}=e;return o.$$set=r=>{"workflow"in r&&n(1,l=r.workflow)},o.$$.update=()=>{o.$$.dirty&2&&n(0,t=El(l))},[t,l]}class tr extends ve{constructor(e){super(),Ie(this,e,er,xo,be,{workflow:1})}}const nr=o=>({open:o&1}),wn=o=>({open:o[0]}),lr=o=>({}),hn=o=>({}),or=o=>({}),kn=o=>({}),rr=o=>({}),bn=o=>({});function sr(o){let e,n,t,l,r,s,f,i,a,u,d,b,w,k,m,p,v,N;const $=o[6].title,g=Me($,o,o[5],bn),W=o[6].description,P=Me(W,o,o[5],kn),j=o[6].action,q=Me(j,o,o[5],hn);i=new Oe({props:{class:"m-2 shrink-0",name:o[0]?"arrow-down":"arrow-right"}});const H=o[6].default,X=Me(H,o,o[5],wn);let se=[{class:"w-full"},o[3]],fe={};for(let M=0;M<se.length;M+=1)fe=Qe(fe,se[M]);return{c(){e=J("div"),n=J("button"),t=J("div"),g&&g.c(),l=L(),P&&P.c(),r=L(),s=J("div"),q&&q.c(),f=L(),E(i.$$.fragment),d=L(),b=J("div"),X&&X.c(),this.h()},l(M){e=Y(M,"DIV",{class:!0});var R=G(e);n=Y(R,"BUTTON",{id:!0,"aria-expanded":!0,"aria-controls":!0,class:!0,type:!0});var K=G(n);t=Y(K,"DIV",{class:!0});var I=G(t);g&&g.l(I),l=z(I),P&&P.l(I),r=z(I),s=Y(I,"DIV",{class:!0,role:!0});var S=G(s);q&&q.l(S),f=z(S),D(i.$$.fragment,S),S.forEach(h),I.forEach(h),K.forEach(h),d=z(R),b=Y(R,"DIV",{id:!0,"aria-labelledby":!0,role:!0,class:!0});var O=G(b);X&&X.l(O),O.forEach(h),R.forEach(h),this.h()},h(){Q(s,"class","flex flex-row items-center gap-2 pr-2"),Q(s,"role","none"),Q(t,"class","flex w-full flex-row items-center justify-between gap-2"),Q(n,"id",a=o[1]+"-trigger"),Q(n,"aria-expanded",o[0]),Q(n,"aria-controls",u=o[1]+"-content"),Q(n,"class","focus-visible:outline-interactive w-full cursor-pointer hover:bg-interactive-secondary-hover"),Q(n,"type","button"),Q(b,"id",w=o[1]+"-content"),Q(b,"aria-labelledby",k=o[1]+"-trigger"),Q(b,"role","textbox"),Q(b,"class","block w-full bg-primary p-2"),Ue(b,"hidden",!o[0]),Pt(e,fe)},m(M,R){A(M,e,R),F(e,n),F(n,t),g&&g.m(t,null),F(t,l),P&&P.m(t,null),F(t,r),F(t,s),q&&q.m(s,null),F(s,f),T(i,s,null),F(e,d),F(e,b),X&&X.m(b,null),p=!0,v||(N=[rt(s,"click",St(o[7])),rt(s,"keyup",St(o[8])),rt(n,"click",o[2])],v=!0)},p(M,[R]){g&&g.p&&(!p||R&32)&&Ne(g,$,M,M[5],p?Be($,M[5],R,rr):qe(M[5]),bn),P&&P.p&&(!p||R&32)&&Ne(P,W,M,M[5],p?Be(W,M[5],R,or):qe(M[5]),kn),q&&q.p&&(!p||R&32)&&Ne(q,j,M,M[5],p?Be(j,M[5],R,lr):qe(M[5]),hn);const K={};R&1&&(K.name=M[0]?"arrow-down":"arrow-right"),i.$set(K),(!p||R&2&&a!==(a=M[1]+"-trigger"))&&Q(n,"id",a),(!p||R&1)&&Q(n,"aria-expanded",M[0]),(!p||R&2&&u!==(u=M[1]+"-content"))&&Q(n,"aria-controls",u),X&&X.p&&(!p||R&33)&&Ne(X,H,M,M[5],p?Be(H,M[5],R,nr):qe(M[5]),wn),(!p||R&2&&w!==(w=M[1]+"-content"))&&Q(b,"id",w),(!p||R&2&&k!==(k=M[1]+"-trigger"))&&Q(b,"aria-labelledby",k),(!p||R&1)&&Ue(b,"hidden",!M[0]),Pt(e,fe=Tl(se,[{class:"w-full"},R&8&&M[3]]))},i(M){p||(c(g,M),c(P,M),c(q,M),c(i.$$.fragment,M),c(X,M),M&&ct(()=>{p&&(m||(m=Wt(b,qt,{},!0)),m.run(1))}),p=!0)},o(M){_(g,M),_(P,M),_(q,M),_(i.$$.fragment,M),_(X,M),M&&(m||(m=Wt(b,qt,{},!1)),m.run(0)),p=!1},d(M){M&&h(e),g&&g.d(M),P&&P.d(M),q&&q.d(M),C(i),X&&X.d(M),M&&m&&m.end(),v=!1,Xn(N)}}}function fr(o,e,n){const t=["id","open","onToggle"];let l=xe(e,t),{$$slots:r={},$$scope:s}=e,{id:f=it()}=e,{open:i=!1}=e,{onToggle:a=_e}=e;const u=()=>{n(0,i=!i),a()};function d(w){At.call(this,o,w)}function b(w){At.call(this,o,w)}return o.$$set=w=>{e=Qe(Qe({},e),Mn(w)),n(3,l=xe(e,t)),"id"in w&&n(1,f=w.id),"open"in w&&n(0,i=w.open),"onToggle"in w&&n(4,a=w.onToggle),"$$scope"in w&&n(5,s=w.$$scope)},[i,f,u,l,a,s,r,d,b]}class Gn extends ve{constructor(e){super(),Ie(this,e,fr,sr,be,{id:1,open:0,onToggle:4})}}const ir=(o,e)=>{const n=o==="Running",t=e==null?void 0:e.some(l=>(l==null?void 0:l.eventType)==="WorkflowExecutionCancelRequested");return n&&t},vn=o=>{const e=o==null?void 0:o.indexOf("?");return e>-1?o.slice(0,e):o},$e=(o,e,n=!1)=>{const t=vn(o).split("/"),l=vn(e).split("/");if(n&&t.length!==l.length)return!1;for(let r=0;r<t.length;r++){const s=t[r],f=l[r];if(s!==f)return!1}return!0};function ar(o){let e=(o[17]?B("common.workflows"):B("workflows.back-to-workflows"))+"",n;return{c(){n=x(e)},l(t){n=ee(t,e)},m(t,l){A(t,n,l)},p(t,l){l[0]&131072&&e!==(e=(t[17]?B("common.workflows"):B("workflows.back-to-workflows"))+"")&&pe(n,e)},d(t){t&&h(n)}}}function In(o){let e,n;return e=new je({props:{href:We({...o[15]}),"data-testid":"back-to-workflow-execution",icon:"chevron-left",$$slots:{default:[ur]},$$scope:{ctx:o}}}),{c(){E(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,l){T(e,t,l),n=!0},p(t,l){const r={};l[0]&32768&&(r.href=We({...t[15]})),l[0]&4|l[1]&2&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(c(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function ur(o){var t;let e=((t=o[2])==null?void 0:t.runId)+"",n;return{c(){n=x(e)},l(l){n=ee(l,e)},m(l,r){A(l,n,r)},p(l,r){var s;r[0]&4&&e!==(e=((s=l[2])==null?void 0:s.runId)+"")&&pe(n,e)},d(l){l&&h(n)}}}function En(o){let e,n;return e=new tr({props:{workflow:o[2]}}),{c(){E(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,l){T(e,t,l),n=!0},p(t,l){const r={};l[0]&4&&(r.workflow=t[2]),e.$set(r)},i(t){n||(c(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function Dn(o){let e,n;return e=new Gn({props:{$$slots:{title:[mr],default:[cr,({open:t})=>({31:t}),({open:t})=>[0,t?1:0]]},$$scope:{ctx:o}}}),{c(){E(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,l){T(e,t,l),n=!0},p(t,l){const r={};l[0]&3|l[1]&3&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(c(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function Tn(o){let e,n=B("workflows.summary")+"",t,l,r,s;return r=new $t({props:{content:o[1]}}),{c(){e=J("h3"),t=x(n),l=L(),E(r.$$.fragment)},l(f){e=Y(f,"H3",{});var i=G(e);t=ee(i,n),i.forEach(h),l=z(f),D(r.$$.fragment,f)},m(f,i){A(f,e,i),F(e,t),A(f,l,i),T(r,f,i),s=!0},p(f,i){const a={};i[0]&2&&(a.content=f[1]),r.$set(a)},i(f){s||(c(r.$$.fragment,f),s=!0)},o(f){_(r.$$.fragment,f),s=!1},d(f){f&&(h(e),h(l)),C(r,f)}}}function Cn(o){let e,n=B("workflows.details")+"",t,l,r,s;return r=new $t({props:{content:o[0]}}),{c(){e=J("h3"),t=x(n),l=L(),E(r.$$.fragment)},l(f){e=Y(f,"H3",{});var i=G(e);t=ee(i,n),i.forEach(h),l=z(f),D(r.$$.fragment,f)},m(f,i){A(f,e,i),F(e,t),A(f,l,i),T(r,f,i),s=!0},p(f,i){const a={};i[0]&1&&(a.content=f[0]),r.$set(a)},i(f){s||(c(r.$$.fragment,f),s=!0)},o(f){_(r.$$.fragment,f),s=!1},d(f){f&&(h(e),h(l)),C(r,f)}}}function cr(o){let e,n,t,l=o[31]&&o[1]&&Tn(o),r=o[31]&&o[0]&&Cn(o);return{c(){l&&l.c(),e=L(),r&&r.c(),n=ce()},l(s){l&&l.l(s),e=z(s),r&&r.l(s),n=ce()},m(s,f){l&&l.m(s,f),A(s,e,f),r&&r.m(s,f),A(s,n,f),t=!0},p(s,f){s[31]&&s[1]?l?(l.p(s,f),f[0]&2|f[1]&1&&c(l,1)):(l=Tn(s),l.c(),c(l,1),l.m(e.parentNode,e)):l&&(ne(),_(l,1,1,()=>{l=null}),le()),s[31]&&s[0]?r?(r.p(s,f),f[0]&1|f[1]&1&&c(r,1)):(r=Cn(s),r.c(),c(r,1),r.m(n.parentNode,n)):r&&(ne(),_(r,1,1,()=>{r=null}),le())},i(s){t||(c(l),c(r),t=!0)},o(s){_(l),_(r),t=!1},d(s){s&&(h(e),h(n)),l&&l.d(s),r&&r.d(s)}}}function mr(o){let e,n,t=B("workflows.summary-and-details")+"",l,r;return n=new Oe({props:{name:"info",class:"text-brand",width:32,height:32}}),{c(){e=J("div"),E(n.$$.fragment),l=x(t),this.h()},l(s){e=Y(s,"DIV",{slot:!0,class:!0});var f=G(e);D(n.$$.fragment,f),l=ee(f,t),f.forEach(h),this.h()},h(){Q(e,"slot","title"),Q(e,"class","flex w-full items-center gap-2 p-2 text-xl")},m(s,f){A(s,e,f),T(n,e,null),F(e,l),r=!0},p:_e,i(s){r||(c(n.$$.fragment,s),r=!0)},o(s){_(n.$$.fragment,s),r=!1},d(s){s&&h(e),C(n)}}}function Pn(o){let e,n;return e=new Gn({props:{$$slots:{title:[_r],default:[pr,({open:t})=>({31:t}),({open:t})=>[0,t?1:0]]},$$scope:{ctx:o}}}),{c(){E(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,l){T(e,t,l),n=!0},p(t,l){const r={};l[0]&128|l[1]&3&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(c(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function Sn(o){let e,n;return e=new $t({props:{content:o[7]}}),{c(){E(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,l){T(e,t,l),n=!0},p(t,l){const r={};l[0]&128&&(r.content=t[7]),e.$set(r)},i(t){n||(c(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function pr(o){let e,n,t=o[31]&&Sn(o);return{c(){t&&t.c(),e=ce()},l(l){t&&t.l(l),e=ce()},m(l,r){t&&t.m(l,r),A(l,e,r),n=!0},p(l,r){l[31]?t?(t.p(l,r),r[1]&1&&c(t,1)):(t=Sn(l),t.c(),c(t,1),t.m(e.parentNode,e)):t&&(ne(),_(t,1,1,()=>{t=null}),le())},i(l){n||(c(t),n=!0)},o(l){_(t),n=!1},d(l){l&&h(e),t&&t.d(l)}}}function _r(o){let e,n,t=B("workflows.current-details")+"",l,r;return n=new Oe({props:{name:"flag",class:"text-brand",width:32,height:32}}),{c(){e=J("div"),E(n.$$.fragment),l=x(t),this.h()},l(s){e=Y(s,"DIV",{slot:!0,class:!0});var f=G(e);D(n.$$.fragment,f),l=ee(f,t),f.forEach(h),this.h()},h(){Q(e,"slot","title"),Q(e,"class","flex w-full items-center gap-2 p-2 text-xl")},m(s,f){A(s,e,f),T(n,e,null),F(e,l),r=!0},p:_e,i(s){r||(c(n.$$.fragment,s),r=!0)},o(s){_(n.$$.fragment,s),r=!1},d(s){s&&h(e),C(n)}}}function An(o){let e,n,t,l;return n=new Je({props:{icon:"info",intent:"info",title:B("workflows.cancel-request-sent"),$$slots:{default:[dr]},$$scope:{ctx:o}}}),{c(){e=J("div"),E(n.$$.fragment)},l(r){e=Y(r,"DIV",{});var s=G(e);D(n.$$.fragment,s),s.forEach(h)},m(r,s){A(r,e,s),T(n,e,null),l=!0},p(r,s){const f={};s[1]&2&&(f.$$scope={dirty:s,ctx:r}),n.$set(f)},i(r){l||(c(n.$$.fragment,r),r&&(t||ct(()=>{t=qn(e,Un,{duration:200,delay:100}),t.start()})),l=!0)},o(r){_(n.$$.fragment,r),l=!1},d(r){r&&h(e),C(n)}}}function dr(o){let e=B("workflows.cancel-request-sent-description")+"",n;return{c(){n=x(e)},l(t){n=ee(t,e)},m(t,l){A(t,n,l)},p:_e,d(t){t&&h(n)}}}function Wn(o){let e,n,t,l;return n=new Je({props:{icon:"info",intent:"info","data-testid":"workflow-reset-alert",title:B("workflows.reset-success-alert-title"),$$slots:{default:[$r]},$$scope:{ctx:o}}}),{c(){e=J("div"),E(n.$$.fragment)},l(r){e=Y(r,"DIV",{});var s=G(e);D(n.$$.fragment,s),s.forEach(h)},m(r,s){A(r,e,s),T(n,e,null),l=!0},p(r,s){const f={};s[0]&56|s[1]&2&&(f.$$scope={dirty:s,ctx:r}),n.$set(f)},i(r){l||(c(n.$$.fragment,r),r&&(t||ct(()=>{t=qn(e,Un,{duration:200,delay:100}),t.start()})),l=!0)},o(r){_(n.$$.fragment,r),l=!1},d(r){r&&h(e),C(n)}}}function gr(o){let e;return{c(){e=x("here")},l(n){e=ee(n,"here")},m(n,t){A(n,e,t)},d(n){n&&h(e)}}}function $r(o){var r,s,f,i;let e,n,t,l;return n=new je({props:{href:We({namespace:o[3],workflow:(s=(r=o[4])==null?void 0:r.workflow)==null?void 0:s.id,run:o[5][(i=(f=o[4])==null?void 0:f.workflow)==null?void 0:i.runId]}),$$slots:{default:[gr]},$$scope:{ctx:o}}}),{c(){e=x("You can find the resulting Workflow Execution "),E(n.$$.fragment),t=x(".")},l(a){e=ee(a,"You can find the resulting Workflow Execution "),D(n.$$.fragment,a),t=ee(a,".")},m(a,u){A(a,e,u),T(n,a,u),A(a,t,u),l=!0},p(a,u){var b,w,k,m;const d={};u[0]&56&&(d.href=We({namespace:a[3],workflow:(w=(b=a[4])==null?void 0:b.workflow)==null?void 0:w.id,run:a[5][(m=(k=a[4])==null?void 0:k.workflow)==null?void 0:m.runId]})),u[1]&2&&(d.$$scope={dirty:u,ctx:a}),n.$set(d)},i(a){l||(c(n.$$.fragment,a),l=!0)},o(a){_(n.$$.fragment,a),l=!1},d(a){a&&(h(e),h(t)),C(n,a)}}}function wr(o){var t;let e=((t=o[2])==null?void 0:t.historyEvents)+"",n;return{c(){n=x(e)},l(l){n=ee(l,e)},m(l,r){A(l,n,r)},p(l,r){var s;r[0]&4&&e!==(e=((s=l[2])==null?void 0:s.historyEvents)+"")&&pe(n,e)},d(l){l&&h(n)}}}function hr(o){let e,n;return e=new ot({props:{type:"primary",class:"px-2 py-0",$$slots:{default:[wr]},$$scope:{ctx:o}}}),{c(){E(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,l){T(e,t,l),n=!0},p(t,l){const r={};l[0]&4|l[1]&2&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(c(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function kr(o){let e=o[9].relationshipCount+"",n;return{c(){n=x(e)},l(t){n=ee(t,e)},m(t,l){A(t,n,l)},p(t,l){l[0]&512&&e!==(e=t[9].relationshipCount+"")&&pe(n,e)},d(t){t&&h(n)}}}function br(o){let e,n;return e=new ot({props:{type:"primary",class:"px-2 py-0",$$slots:{default:[kr]},$$scope:{ctx:o}}}),{c(){E(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,l){T(e,t,l),n=!0},p(t,l){const r={};l[0]&512|l[1]&2&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(c(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function vr(o){var t,l;let e=((l=(t=o[16])==null?void 0:t.pollers)==null?void 0:l.length)+"",n;return{c(){n=x(e)},l(r){n=ee(r,e)},m(r,s){A(r,n,s)},p(r,s){var f,i;s[0]&65536&&e!==(e=((i=(f=r[16])==null?void 0:f.pollers)==null?void 0:i.length)+"")&&pe(n,e)},d(r){r&&h(n)}}}function Ir(o){let e,n;return e=new ot({props:{type:"primary",class:"px-2 py-0",$$slots:{default:[vr]},$$scope:{ctx:o}}}),{c(){E(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,l){T(e,t,l),n=!0},p(t,l){const r={};l[0]&65536|l[1]&2&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(c(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function Rn(o){let e,n;return e=new Oe({props:{name:"canceled"}}),{c(){E(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,l){T(e,t,l),n=!0},i(t){n||(c(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function Er(o){var f,i;let e,n,t=((i=(f=o[2])==null?void 0:f.pendingActivities)==null?void 0:i.length)+"",l,r,s=o[13]&&Rn();return{c(){e=J("div"),s&&s.c(),n=L(),l=x(t),this.h()},l(a){e=Y(a,"DIV",{class:!0});var u=G(e);s&&s.l(u),n=z(u),l=ee(u,t),u.forEach(h),this.h()},h(){Q(e,"class","flex items-center gap-1")},m(a,u){A(a,e,u),s&&s.m(e,null),F(e,n),F(e,l),r=!0},p(a,u){var d,b;a[13]?s?u[0]&8192&&c(s,1):(s=Rn(),s.c(),c(s,1),s.m(e,n)):s&&(ne(),_(s,1,1,()=>{s=null}),le()),(!r||u[0]&4)&&t!==(t=((b=(d=a[2])==null?void 0:d.pendingActivities)==null?void 0:b.length)+"")&&pe(l,t)},i(a){r||(c(s),r=!0)},o(a){_(s),r=!1},d(a){a&&h(e),s&&s.d()}}}function Dr(o){let e,n;return e=new ot({props:{type:o[13]?"warning":"primary",class:"px-2 py-0",$$slots:{default:[Er]},$$scope:{ctx:o}}}),{c(){E(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,l){T(e,t,l),n=!0},p(t,l){const r={};l[0]&8192&&(r.type=t[13]?"warning":"primary"),l[0]&8196|l[1]&2&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(c(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function Tr(o){let e,n,t,l,r,s,f,i,a,u,d,b,w,k;return e=new Ve({props:{label:B("workflows.history-tab"),id:"history-tab",href:We({...o[15]}),active:$e(o[6].url.pathname,We({...o[15]})),$$slots:{default:[hr]},$$scope:{ctx:o}}}),t=new Ve({props:{label:B("workflows.relationships"),id:"relationships-tab",href:Ye(o[15]),active:$e(o[6].url.pathname,Ye(o[15])),$$slots:{default:[br]},$$scope:{ctx:o}}}),r=new Ve({props:{label:B("workflows.workers-tab"),id:"workers-tab",href:Fe(o[15]),active:$e(o[6].url.pathname,Fe(o[15])),$$slots:{default:[Ir]},$$scope:{ctx:o}}}),f=new Ve({props:{label:B("workflows.pending-activities-tab"),id:"pending-activities-tab",href:Ge(o[15]),active:$e(o[6].url.pathname,Ge(o[15])),$$slots:{default:[Dr]},$$scope:{ctx:o}}}),a=new Ve({props:{label:B("workflows.call-stack-tab"),id:"call-stack-tab",href:Ze(o[15]),active:$e(o[6].url.pathname,Ze(o[15]))}}),d=new Ve({props:{label:B("workflows.queries-tab"),id:"queries-tab",href:Ke(o[15]),active:$e(o[6].url.pathname,Ke(o[15]))}}),w=new Ve({props:{label:B("workflows.metadata-tab"),id:"metadata-tab",href:Xe(o[15]),active:$e(o[6].url.pathname,Xe(o[15]))}}),{c(){E(e.$$.fragment),n=L(),E(t.$$.fragment),l=L(),E(r.$$.fragment),s=L(),E(f.$$.fragment),i=L(),E(a.$$.fragment),u=L(),E(d.$$.fragment),b=L(),E(w.$$.fragment)},l(m){D(e.$$.fragment,m),n=z(m),D(t.$$.fragment,m),l=z(m),D(r.$$.fragment,m),s=z(m),D(f.$$.fragment,m),i=z(m),D(a.$$.fragment,m),u=z(m),D(d.$$.fragment,m),b=z(m),D(w.$$.fragment,m)},m(m,p){T(e,m,p),A(m,n,p),T(t,m,p),A(m,l,p),T(r,m,p),A(m,s,p),T(f,m,p),A(m,i,p),T(a,m,p),A(m,u,p),T(d,m,p),A(m,b,p),T(w,m,p),k=!0},p(m,p){const v={};p[0]&32768&&(v.href=We({...m[15]})),p[0]&32832&&(v.active=$e(m[6].url.pathname,We({...m[15]}))),p[0]&4|p[1]&2&&(v.$$scope={dirty:p,ctx:m}),e.$set(v);const N={};p[0]&32768&&(N.href=Ye(m[15])),p[0]&32832&&(N.active=$e(m[6].url.pathname,Ye(m[15]))),p[0]&512|p[1]&2&&(N.$$scope={dirty:p,ctx:m}),t.$set(N);const $={};p[0]&32768&&($.href=Fe(m[15])),p[0]&32832&&($.active=$e(m[6].url.pathname,Fe(m[15]))),p[0]&65536|p[1]&2&&($.$$scope={dirty:p,ctx:m}),r.$set($);const g={};p[0]&32768&&(g.href=Ge(m[15])),p[0]&32832&&(g.active=$e(m[6].url.pathname,Ge(m[15]))),p[0]&8196|p[1]&2&&(g.$$scope={dirty:p,ctx:m}),f.$set(g);const W={};p[0]&32768&&(W.href=Ze(m[15])),p[0]&32832&&(W.active=$e(m[6].url.pathname,Ze(m[15]))),a.$set(W);const P={};p[0]&32768&&(P.href=Ke(m[15])),p[0]&32832&&(P.active=$e(m[6].url.pathname,Ke(m[15]))),d.$set(P);const j={};p[0]&32768&&(j.href=Xe(m[15])),p[0]&32832&&(j.active=$e(m[6].url.pathname,Xe(m[15]))),w.$set(j)},i(m){k||(c(e.$$.fragment,m),c(t.$$.fragment,m),c(r.$$.fragment,m),c(f.$$.fragment,m),c(a.$$.fragment,m),c(d.$$.fragment,m),c(w.$$.fragment,m),k=!0)},o(m){_(e.$$.fragment,m),_(t.$$.fragment,m),_(r.$$.fragment,m),_(f.$$.fragment,m),_(a.$$.fragment,m),_(d.$$.fragment,m),_(w.$$.fragment,m),k=!1},d(m){m&&(h(n),h(l),h(s),h(i),h(u),h(b)),C(e,m),C(t,m),C(r,m),C(f,m),C(a,m),C(d,m),C(w,m)}}}function Cr(o){let e,n;return e=new Pl({props:{class:"flex flex-wrap gap-6 pt-2",label:"workflow detail",$$slots:{default:[Tr]},$$scope:{ctx:o}}}),{c(){E(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,l){T(e,t,l),n=!0},p(t,l){const r={};l[0]&107076|l[1]&2&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(c(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function Pr(o){var oe,y;let e,n,t,l,r,s,f,i,a,u,d,b,w,k,m,p,v,N,$,g,W,P,j,q,H,X,se,fe,M,R;t=new je({props:{href:`${et({namespace:o[3]})}?${o[18]}`,"data-testid":"back-to-workflows",icon:"chevron-left",$$slots:{default:[ar]},$$scope:{ctx:o}}});let K=o[17]&&In(o);u=new vl({props:{status:(oe=o[2])==null?void 0:oe.status,big:!0}}),w=new $n({props:{isRunning:o[14],cancelInProgress:o[12],workflow:o[2],namespace:o[3]}}),v=new Hn({props:{copyIconTitle:B("common.copy-icon-title"),copySuccessIconTitle:B("common.copy-success-icon-title"),content:(y=o[2])==null?void 0:y.id,clickAllToCopy:!0,"container-class":"w-full",class:"overflow-hidden text-ellipsis text-left"}});let I=o[10]&&En(o);W=new $n({props:{isRunning:o[14],cancelInProgress:o[12],workflow:o[2],namespace:o[3]}});let S=o[8]&&Dn(o),O=o[7]&&Pn(o);H=new oo({props:{workflow:o[2]}});let te=o[12]&&An(o),V=o[11]&&Wn(o);return M=new Cl({props:{$$slots:{default:[Cr]},$$scope:{ctx:o}}}),{c(){e=J("div"),n=J("div"),E(t.$$.fragment),l=L(),K&&K.c(),r=L(),s=J("header"),f=J("div"),i=J("div"),a=J("div"),E(u.$$.fragment),d=L(),b=J("div"),E(w.$$.fragment),k=L(),m=J("div"),p=J("h1"),E(v.$$.fragment),N=L(),I&&I.c(),$=L(),g=J("div"),E(W.$$.fragment),P=L(),S&&S.c(),j=L(),O&&O.c(),q=L(),E(H.$$.fragment),X=L(),te&&te.c(),se=L(),V&&V.c(),fe=L(),E(M.$$.fragment),this.h()},l(U){e=Y(U,"DIV",{class:!0});var Z=G(e);n=Y(Z,"DIV",{class:!0});var we=G(n);D(t.$$.fragment,we),l=z(we),K&&K.l(we),we.forEach(h),Z.forEach(h),r=z(U),s=Y(U,"HEADER",{class:!0});var me=G(s);f=Y(me,"DIV",{class:!0});var ge=G(f);i=Y(ge,"DIV",{class:!0});var Ee=G(i);a=Y(Ee,"DIV",{class:!0});var he=G(a);D(u.$$.fragment,he),d=z(he),b=Y(he,"DIV",{class:!0});var Ce=G(b);D(w.$$.fragment,Ce),Ce.forEach(h),he.forEach(h),k=z(Ee),m=Y(Ee,"DIV",{class:!0});var De=G(m);p=Y(De,"H1",{"data-testid":!0,class:!0});var Pe=G(p);D(v.$$.fragment,Pe),Pe.forEach(h),N=z(De),I&&I.l(De),De.forEach(h),Ee.forEach(h),$=z(ge),g=Y(ge,"DIV",{class:!0});var Se=G(g);D(W.$$.fragment,Se),Se.forEach(h),ge.forEach(h),P=z(me),S&&S.l(me),j=z(me),O&&O.l(me),q=z(me),D(H.$$.fragment,me),X=z(me),te&&te.l(me),se=z(me),V&&V.l(me),fe=z(me),D(M.$$.fragment,me),me.forEach(h),this.h()},h(){Q(n,"class","flex items-center gap-2"),Q(e,"class","flex items-center justify-between pb-4"),Q(b,"class","lg:hidden"),Q(a,"class","flex flex-wrap items-center justify-between gap-4 max-lg:w-full"),Q(p,"data-testid","workflow-id-heading"),Q(p,"class","gap-0 overflow-hidden max-sm:text-xl sm:max-md:text-2xl"),Q(m,"class","flex flex-col flex-wrap gap-0"),Q(i,"class","flex w-full flex-col items-start gap-4 lg:flex-row lg:items-center"),Q(g,"class","max-lg:hidden"),Q(f,"class","flex flex-col items-center justify-between gap-4 lg:flex-row"),Q(s,"class","flex flex-col gap-2")},m(U,Z){A(U,e,Z),F(e,n),T(t,n,null),F(n,l),K&&K.m(n,null),A(U,r,Z),A(U,s,Z),F(s,f),F(f,i),F(i,a),T(u,a,null),F(a,d),F(a,b),T(w,b,null),F(i,k),F(i,m),F(m,p),T(v,p,null),F(m,N),I&&I.m(m,null),F(f,$),F(f,g),T(W,g,null),F(s,P),S&&S.m(s,null),F(s,j),O&&O.m(s,null),F(s,q),T(H,s,null),F(s,X),te&&te.m(s,null),F(s,se),V&&V.m(s,null),F(s,fe),T(M,s,null),R=!0},p(U,Z){var Pe,Se;const we={};Z[0]&262152&&(we.href=`${et({namespace:U[3]})}?${U[18]}`),Z[0]&131072|Z[1]&2&&(we.$$scope={dirty:Z,ctx:U}),t.$set(we),U[17]?K?(K.p(U,Z),Z[0]&131072&&c(K,1)):(K=In(U),K.c(),c(K,1),K.m(n,null)):K&&(ne(),_(K,1,1,()=>{K=null}),le());const me={};Z[0]&4&&(me.status=(Pe=U[2])==null?void 0:Pe.status),u.$set(me);const ge={};Z[0]&16384&&(ge.isRunning=U[14]),Z[0]&4096&&(ge.cancelInProgress=U[12]),Z[0]&4&&(ge.workflow=U[2]),Z[0]&8&&(ge.namespace=U[3]),w.$set(ge);const Ee={};Z[0]&4&&(Ee.content=(Se=U[2])==null?void 0:Se.id),v.$set(Ee),U[10]?I?(I.p(U,Z),Z[0]&1024&&c(I,1)):(I=En(U),I.c(),c(I,1),I.m(m,null)):I&&(ne(),_(I,1,1,()=>{I=null}),le());const he={};Z[0]&16384&&(he.isRunning=U[14]),Z[0]&4096&&(he.cancelInProgress=U[12]),Z[0]&4&&(he.workflow=U[2]),Z[0]&8&&(he.namespace=U[3]),W.$set(he),U[8]?S?(S.p(U,Z),Z[0]&256&&c(S,1)):(S=Dn(U),S.c(),c(S,1),S.m(s,j)):S&&(ne(),_(S,1,1,()=>{S=null}),le()),U[7]?O?(O.p(U,Z),Z[0]&128&&c(O,1)):(O=Pn(U),O.c(),c(O,1),O.m(s,q)):O&&(ne(),_(O,1,1,()=>{O=null}),le());const Ce={};Z[0]&4&&(Ce.workflow=U[2]),H.$set(Ce),U[12]?te?(te.p(U,Z),Z[0]&4096&&c(te,1)):(te=An(U),te.c(),c(te,1),te.m(s,se)):te&&(ne(),_(te,1,1,()=>{te=null}),le()),U[11]?V?(V.p(U,Z),Z[0]&2048&&c(V,1)):(V=Wn(U),V.c(),c(V,1),V.m(s,fe)):V&&(ne(),_(V,1,1,()=>{V=null}),le());const De={};Z[0]&107076|Z[1]&2&&(De.$$scope={dirty:Z,ctx:U}),M.$set(De)},i(U){R||(c(t.$$.fragment,U),c(K),c(u.$$.fragment,U),c(w.$$.fragment,U),c(v.$$.fragment,U),c(I),c(W.$$.fragment,U),c(S),c(O),c(H.$$.fragment,U),c(te),c(V),c(M.$$.fragment,U),R=!0)},o(U){_(t.$$.fragment,U),_(K),_(u.$$.fragment,U),_(w.$$.fragment,U),_(v.$$.fragment,U),_(I),_(W.$$.fragment,U),_(S),_(O),_(H.$$.fragment,U),_(te),_(V),_(M.$$.fragment,U),R=!1},d(U){U&&(h(e),h(r),h(s)),C(t),K&&K.d(),C(u),C(w),C(v),I&&I.d(),C(W),S&&S.d(),O&&O.d(),C(H),te&&te.d(),V&&V.d(),C(M)}}}function Sr(o,e,n){let t,l,r,s,f,i,a,u,d,b,w,k,m,p,v,N,$,g,W,P,j,q,H;re(o,Te,O=>n(4,g=O)),re(o,Sl,O=>n(29,W=O)),re(o,ye,O=>n(30,P=O)),re(o,Yn,O=>n(5,j=O)),re(o,He,O=>n(6,q=O)),re(o,Bn,O=>n(18,H=O));var X,se,fe,M,R,K,I,S;return o.$$.update=()=>{o.$$.dirty[0]&64&&n(3,{namespace:t,workflow:l,run:r,id:s}=q.params,t,(n(28,l),n(6,q)),(n(27,r),n(6,q)),(n(17,s),n(6,q))),o.$$.dirty[0]&16&&n(2,{workflow:f,workers:i}=g,f,(n(16,i),n(4,g))),o.$$.dirty[0]&402653192&&n(15,a={namespace:t,workflow:l,run:r}),o.$$.dirty[0]&524304&&n(14,u=n(19,X=g==null?void 0:g.workflow)===null||X===void 0?void 0:X.isRunning),o.$$.dirty[0]&1048592&&n(13,d=["Terminated","TimedOut","Canceled"].includes(n(20,se=g.workflow)===null||se===void 0?void 0:se.status)),o.$$.dirty[0]&1075838992&&n(12,b=ir(n(21,fe=g==null?void 0:g.workflow)===null||fe===void 0?void 0:fe.status,P)),o.$$.dirty[0]&134217760&&n(11,w=Wl(j,r)),o.$$.dirty[0]&12582916&&n(10,k=n(22,M=f==null?void 0:f.assignedBuildId)!==null&&M!==void 0?M:n(23,R=f==null?void 0:f.mostRecentWorkerVersionStamp)===null||R===void 0?void 0:R.useVersioning),o.$$.dirty[0]&1610612740&&n(9,m=Al(f,P,W)),o.$$.dirty[0]&16777232&&n(1,p=n(24,K=g==null?void 0:g.userMetadata)===null||K===void 0?void 0:K.summary),o.$$.dirty[0]&33554448&&n(0,v=n(25,I=g==null?void 0:g.userMetadata)===null||I===void 0?void 0:I.details),o.$$.dirty[0]&3&&n(8,N=p||v),o.$$.dirty[0]&67108880&&n(7,$=n(26,S=g==null?void 0:g.metadata)===null||S===void 0?void 0:S.currentDetails)},[v,p,f,t,g,j,q,$,N,m,k,w,b,d,u,a,i,s,H,X,se,fe,M,R,K,I,S,r,l,W,P]}class Ar extends ve{constructor(e){super(),Ie(this,e,Sr,Pr,be,{},null,[-1,-1])}}async function Wr({activity:o,namespace:e,settings:n,accessToken:t},{convertWithCodec:l=Rl,decodeAttributes:r=Vl}={}){const s=await l({attributes:o,namespace:e,settings:n,accessToken:t});return r(s)}const Rr=async({activity:o,namespace:e,settings:n,accessToken:t})=>await Wr({activity:o,namespace:e,settings:n,accessToken:t}),Vn=async(o,e,n,t)=>{const l=(o==null?void 0:o.pendingActivities)??[],r=[];for(const s of l){const f=await Rr({activity:s,namespace:e,settings:n,accessToken:t});r.push(f)}return r};function Vr(o){let e,n,t,l,r;const s=[Br,qr,Nr],f=[];function i(a,u){return a[1]?0:a[0].workflow?2:1}return n=i(o),t=f[n]=s[n](o),{c(){e=J("div"),t.c(),this.h()},l(a){e=Y(a,"DIV",{class:!0});var u=G(e);t.l(u),u.forEach(h),this.h()},h(){Q(e,"class",l="absolute bottom-0 left-0 right-0 "+(o[5]?"top-[540px]":"top-0")+" flex h-full flex-col")},m(a,u){A(a,e,u),f[n].m(e,null),r=!0},p(a,u){let d=n;n=i(a),n===d?f[n].p(a,u):(ne(),_(f[d],1,1,()=>{f[d]=null}),le(),t=f[n],t?t.p(a,u):(t=f[n]=s[n](a),t.c()),c(t,1),t.m(e,null)),(!r||u&32&&l!==(l="absolute bottom-0 left-0 right-0 "+(a[5]?"top-[540px]":"top-0")+" flex h-full flex-col"))&&Q(e,"class",l)},i(a){r||(c(t),r=!0)},o(a){_(t),r=!1},d(a){a&&h(e),f[n].d()}}}function Mr(o){let e,n,t,l=ut(o[2],null,2)+"",r,s;return n=new ll({props:{copyIconTitle:B("common.copy-icon-title"),copySuccessIconTitle:B("common.copy-success-icon-title"),class:"absolute right-1 top-1",copied:o[4]}}),n.$on("click",o[7]),{c(){e=J("div"),E(n.$$.fragment),t=L(),r=x(l),this.h()},l(f){e=Y(f,"DIV",{class:!0});var i=G(e);D(n.$$.fragment,i),t=z(i),r=ee(i,l),i.forEach(h),this.h()},h(){Q(e,"class","relative h-auto whitespace-break-spaces break-words bg-primary p-4")},m(f,i){A(f,e,i),T(n,e,null),F(e,t),F(e,r),s=!0},p(f,i){const a={};i&16&&(a.copied=f[4]),n.$set(a),(!s||i&4)&&l!==(l=ut(f[2],null,2)+"")&&pe(r,l)},i(f){s||(c(n.$$.fragment,f),s=!0)},o(f){_(n.$$.fragment,f),s=!1},d(f){f&&h(e),C(n)}}}function Nr(o){let e,n,t,l;n=new Ar({});const r=o[16].default,s=Me(r,o,o[15],null);return{c(){e=J("div"),E(n.$$.fragment),t=L(),s&&s.c(),this.h()},l(f){e=Y(f,"DIV",{class:!0});var i=G(e);D(n.$$.fragment,i),i.forEach(h),t=z(f),s&&s.l(f),this.h()},h(){Q(e,"class","border-b border-subtle px-4 pt-8 md:pt-20 xl:px-8")},m(f,i){A(f,e,i),T(n,e,null),A(f,t,i),s&&s.m(f,i),l=!0},p(f,i){s&&s.p&&(!l||i&32768)&&Ne(s,r,f,f[15],l?Be(r,f[15],i,null):qe(f[15]),null)},i(f){l||(c(n.$$.fragment,f),c(s,f),l=!0)},o(f){_(n.$$.fragment,f),_(s,f),l=!1},d(f){f&&(h(e),h(t)),C(n),s&&s.d(f)}}}function qr(o){let e,n;return e=new ol({props:{class:"pt-24"}}),{c(){E(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,l){T(e,t,l),n=!0},p:_e,i(t){n||(c(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function Br(o){let e,n;return e=new Ql({props:{error:o[1]}}),{c(){E(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,l){T(e,t,l),n=!0},p(t,l){const r={};l&2&&(r.error=t[1]),e.$set(r)},i(t){n||(c(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function Fr(o){let e,n,t,l;const r=[Mr,Vr],s=[];function f(i,a){return i[3]?0:1}return e=f(o),n=s[e]=r[e](o),{c(){n.c(),t=ce()},l(i){n.l(i),t=ce()},m(i,a){s[e].m(i,a),A(i,t,a),l=!0},p(i,[a]){let u=e;e=f(i),e===u?s[e].p(i,a):(ne(),_(s[u],1,1,()=>{s[u]=null}),le(),n=s[e],n?n.p(i,a):(n=s[e]=r[e](i),n.c()),c(n,1),n.m(t.parentNode,t))},i(i){l||(c(n),l=!0)},o(i){_(n),l=!1},d(i){i&&h(t),s[e].d(i)}}}function Ur(o,e,n){let t,l,r,s,f,i,a,u,d,b,w,k,m,p,v,N;re(o,Ft,S=>n(19,i=S)),re(o,He,S=>n(11,a=S)),re(o,pl,S=>n(12,u=S)),re(o,ye,S=>n(13,d=S)),re(o,Ut,S=>n(20,b=S)),re(o,ze,S=>n(14,w=S)),re(o,Te,S=>n(0,k=S)),re(o,Ht,S=>n(21,m=S)),re(o,Bl,S=>n(22,p=S)),re(o,xn,S=>n(5,N=S));let{$$slots:$={},$$scope:g}=e,W,P,j;const{copy:q,copied:H}=Ul();re(o,H,S=>n(4,v=S));const X=S=>{q(S,ut(f))},se=async S=>{const O={summary:"",details:""};try{if(S!=null&&S.summary){const te=await jt(S.summary);typeof te=="string"&&(O.summary=te)}if(S!=null&&S.details){const te=await jt(S.details);typeof te=="string"&&(O.details=te)}de(Te,k={...k,userMetadata:O},k)}catch(te){console.error("Error decoding user metadata",te)}},fe=async(S,O,te)=>{const{settings:V}=a.data,{workflow:oe,error:y}=await Rt({namespace:S,workflowId:O,runId:te});if(y){n(1,W=y);return}await se(oe);const{taskQueue:U}=oe,Z=await Dl({queue:U,namespace:S});de(Te,k={...k,workflow:oe,workers:Z},k),oe.pendingActivities=await Vn(oe,S,V,p==null?void 0:p.accessToken),P=new AbortController,ql({namespace:S,workflow:{id:O,runId:te}},V,p==null?void 0:p.accessToken,P.signal).then(we=>{de(Te,k.metadata=we,k)}),de(ye,d=await Nl({namespace:S,workflowId:O,runId:te,sort:"ascending",signal:P.signal,historySize:oe.historyEvents}),d)},M=async S=>{var O;if(S&&(!((O=k==null?void 0:k.workflow)===null||O===void 0)&&O.isRunning)){const{settings:te}=a.data,{workflow:V,error:oe}=await Rt({namespace:t,workflowId:l,runId:r});if(oe){n(1,W=oe);return}de(Te,k.workflow=V,k),V.pendingActivities=await Vn(V,t,te,p==null?void 0:p.accessToken)}},R=()=>{de(ye,d=[],d),P&&P.abort()},K=()=>{de(Ht,m=null,m),de(Te,k=wl,k),n(1,W=void 0),R(),Fl(),clearInterval(j),j=null},I=(S,O)=>{O||de(Ut,b=S,b)};return yn(()=>{const S=a.url.searchParams.get("sort");S&&de(Ft,i=S,i),j=setInterval(()=>{Ml()},1e4)}),Nn(()=>{K()}),o.$$set=S=>{"$$scope"in S&&n(15,g=S.$$scope)},o.$$.update=()=>{o.$$.dirty&2048&&n(10,{namespace:t,workflow:l,run:r}=a.params,t,(n(9,l),n(11,a)),(n(8,r),n(11,a))),o.$$.dirty&2048&&n(3,s=a.url.searchParams.has("json")),o.$$.dirty&8193&&n(2,f={...k,eventHistory:d}),o.$$.dirty&256&&K(),o.$$.dirty&1792&&fe(t,l,r),o.$$.dirty&16384&&M(w),o.$$.dirty&12288&&I(d,u)},[k,W,f,s,v,N,H,X,r,l,t,a,u,d,w,g,$]}class Hr extends ve{constructor(e){super(),Ie(this,e,Ur,Fr,be,{})}}const Zn={namespace:null,workflowId:null,runId:null,rawPayloads:null,sort:null},jr=nt(Zn),Or=()=>{jr.set(Zn)};function Qr(o){let e;const n=o[0].default,t=Me(n,o,o[1],null);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,r){t&&t.m(l,r),e=!0},p(l,r){t&&t.p&&(!e||r&2)&&Ne(t,n,l,l[1],e?Be(n,l[1],r,null):qe(l[1]),null)},i(l){e||(c(t,l),e=!0)},o(l){_(t,l),e=!1},d(l){t&&t.d(l)}}}function Lr(o){let e,n;return e=new Hr({props:{$$slots:{default:[Qr]},$$scope:{ctx:o}}}),{c(){E(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,l){T(e,t,l),n=!0},p(t,[l]){const r={};l&2&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(c(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function zr(o,e,n){let{$$slots:t={},$$scope:l}=e;return Nn(()=>{Or()}),o.$$set=r=>{"$$scope"in r&&n(1,l=r.$$scope)},[t,l]}class ys extends ve{constructor(e){super(),Ie(this,e,zr,Lr,be,{})}}export{ys as component};
