import{s as be,h as Y,b as Q,t as x,j as G,k as Z,f as h,d as L,l as ee,m as O,i as W,n as F,q as ce,c as oe,v as pe,D as xe,z as Qe,A as Vn,H as Ue,x as me,O as fe,Q as ie,R as st,w as de,y as tt,Z as Gn,a as Me,E as Pt,p as rt,F as St,u as Ne,g as qe,e as Be,M as ct,G as Zn,B as At,W as Kn,P as Mn}from"../chunks/scheduler.D6mQsyhd.js";import{S as ve,i as Ie,c as I,a as E,m as D,t as m,b as p,d as T,g as ne,e as le,h as ae,j as Wt,f as Nn}from"../chunks/index.CDeUyeTp.js";import{p as He}from"../chunks/stores.zNNP4Uza.js";import{v as Xn}from"../chunks/data-encoder-settings.-gMF_RYE.js";import{L as je}from"../chunks/link.DXdmQyov.js";import{t as B}from"../chunks/translate.BBe5dcco.js";import{c as qn,k as yn,u as xn,v as el,x as tl,y as Rt}from"../chunks/workflows.B4_fDk-f.js";import{e as et,s as Vt,v as Fe,w as Mt,x as Nt,b as We,y as Ye,z as Ge,c as Ze,A as Ke,B as Xe}from"../chunks/route-for.B43nzIbz.js";import{B as nl}from"../chunks/button.B_UTQ1b9.js";import{L as ll}from"../chunks/loading.azOfDUyA.js";import{s as qt,a as Bn}from"../chunks/index.2cpoF_sa.js";import{f as ke,r as ol,t as rl}from"../chunks/time-format.wac-bNGJ.js";import{q as sl}from"../chunks/format-time.CMwu9Qgq.js";import{C as Fn}from"../chunks/index.0u91qad6.js";import{I as Oe}from"../chunks/icon.x35qC2Gh.js";import{T as mt}from"../chunks/tooltip.I5toLvgE.js";import{e as Re}from"../chunks/each.5YhwczXz.js";import{w as nt,g as Bt}from"../chunks/entry.CVQNndTg.js";import{w as fl,a as il,b as al,C as ul,T as cl}from"../chunks/workflow-terminate-enabled.CE4IXzHW.js";import{C as ft,M as Un}from"../chunks/checkbox.BJjbr9kp.js";import{I as lt}from"../chunks/input.BcMjWXoh.js";import{M as pt}from"../chunks/modal.D-2EAIXh.js";import{S as _t,O as Le}from"../chunks/option.C-x5OpEW.js";import{r as Hn,f as ye,b as Ft,p as ml,g as Ut,t as Ht}from"../chunks/events.Bu2_Eyp9.js";import{p as pl}from"../chunks/persist-store.vm7KaLzL.js";import{t as _l}from"../chunks/versions.C1Tx-1t7.js";import{i as dt}from"../chunks/is-network-error.DxxRlstw.js";import{m as dl}from"../chunks/route-for-api.ClvLCO4m.js";import{P as gl}from"../chunks/payload-input-with-encoding.GySbGOzz.js";import{t as jn,v as it}from"../chunks/toaster.Dz9bMYqh.js";import{w as Te,r as ze,i as $l}from"../chunks/workflow-run.Bqe83NLH.js";import{P as wl}from"../chunks/payload-decoder.DZNpg3bi.js";import"../chunks/card.nkKic5l3.js";import"../chunks/radio-input.DWu50Inz.js";import{P as hl}from"../chunks/payload-input.BROUGm0U.js";import{A as Je}from"../chunks/alert.BVx8_ypX.js";import{B as On}from"../chunks/button.BCroUQHA.js";import{C as Qn}from"../chunks/code-block.C0Edn6F_.js";import{d as gt}from"../chunks/menu.DJs8EPko.js";import{S as Ln}from"../chunks/split-button.CgY-7mPH.js";import{c as kl}from"../chunks/core-user.xLYAkgi9.js";import{w as at}from"../chunks/workflow-create-disabled.BrceFFsM.js";import{W as bl}from"../chunks/workflow-status.CCkH01OU.js";import{C as vl}from"../chunks/compatibility-badge.COQj7tOB.js";import{k as Il,g as El}from"../chunks/pollers-service.DhkxUXR1.js";import{g as Dl}from"../chunks/spread.CgU5AtxT.js";import{B as ot}from"../chunks/badge.R7mYic6p.js";import{M as $t}from"../chunks/markdown.DJsF2ejZ.js";import{T as Tl,a as Cl,b as Ve}from"../chunks/tab.DpMFMJje.js";import{n as Pl}from"../chunks/namespaces.CBbaz_bT.js";import{g as Sl}from"../chunks/get-workflow-relationships.DoFib6sV.js";import{h as Al}from"../chunks/has.BnvKvYqj.js";import{e as Wl,d as Rl,a as jt}from"../chunks/decode-payload.D44h6XM_.js";import{t as Vl,f as Ml}from"../chunks/events-service.DmCHE_AM.js";import{b as Nl}from"../chunks/query-service.DNSc5ZX_.js";import{a as ql}from"../chunks/auth-user.UX456PmS.js";import{r as Bl}from"../chunks/data-encoder-config.CRBbzzBr.js";import{c as Fl}from"../chunks/copy-to-clipboard.CW0KxnUN.js";import{s as ut}from"../chunks/parse-with-big-int.Dyr6jPtv.js";function Ul(o){let e=B("workflows.back-to-workflows")+"",n;return{c(){n=x(e)},l(t){n=ee(t,e)},m(t,l){W(t,n,l)},p:pe,d(t){t&&h(n)}}}function Hl(o){var C,q;let e,n,t,l,r,s,f=(((C=o[0])==null?void 0:C.statusCode)??"500")+"",i,a,u,d,b,w,k=(((q=o[0])==null?void 0:q.statusText)??"")+"",c,_;return t=new je({props:{href:`${et({namespace:o[2]})}?${o[3]}`,"data-testid":"back-to-workflows",icon:"chevron-left",$$slots:{default:[Ul]},$$scope:{ctx:o}}}),{c(){e=Y("header"),n=Y("div"),I(t.$$.fragment),l=Q(),r=Y("div"),s=Y("h1"),i=x(f),a=Q(),u=Y("p"),d=x(o[1]),b=Q(),w=Y("p"),c=x(k),this.h()},l(g){e=G(g,"HEADER",{class:!0});var $=Z(e);n=G($,"DIV",{class:!0});var S=Z(n);E(t.$$.fragment,S),S.forEach(h),$.forEach(h),l=L(g),r=G(g,"DIV",{class:!0});var A=Z(r);s=G(A,"H1",{class:!0});var H=Z(s);i=ee(H,f),H.forEach(h),a=L(A),u=G(A,"P",{class:!0});var R=Z(u);d=ee(R,o[1]),R.forEach(h),b=L(A),w=G(A,"P",{class:!0});var z=Z(w);c=ee(z,k),z.forEach(h),A.forEach(h),this.h()},h(){O(n,"class","mb-4 block"),O(e,"class","mb-4 flex flex-col gap-1"),O(s,"class","leading-0 text-[12rem] font-semibold"),O(u,"class","-mt-12 text-lg"),O(w,"class","text-2xl font-bold text-red-700"),O(r,"class","text-center align-middle")},m(g,$){W(g,e,$),F(e,n),D(t,n,null),W(g,l,$),W(g,r,$),F(r,s),F(s,i),F(r,a),F(r,u),F(u,d),F(r,b),F(r,w),F(w,c),_=!0},p(g,[$]){var A,H;const S={};$&12&&(S.href=`${et({namespace:g[2]})}?${g[3]}`),$&32&&(S.$$scope={dirty:$,ctx:g}),t.$set(S),(!_||$&1)&&f!==(f=(((A=g[0])==null?void 0:A.statusCode)??"500")+"")&&ce(i,f),(!_||$&2)&&ce(d,g[1]),(!_||$&1)&&k!==(k=(((H=g[0])==null?void 0:H.statusText)??"")+"")&&ce(c,k)},i(g){_||(m(t.$$.fragment,g),_=!0)},o(g){p(t.$$.fragment,g),_=!1},d(g){g&&(h(e),h(l),h(r)),T(t)}}}function jl(o,e,n){let t,l,r,s;oe(o,He,i=>n(4,r=i)),oe(o,qn,i=>n(3,s=i));let{error:f}=e;return o.$$set=i=>{"error"in i&&n(0,f=i.error)},o.$$.update=()=>{o.$$.dirty&16&&n(2,{namespace:t}=r.params,t),o.$$.dirty&1&&n(1,l=f.statusCode===404?B("workflows.workflow-404-title"):B("workflows.workflow-error-title"))},[f,l,t,s,r]}class Ol extends ve{constructor(e){super(),Ie(this,e,jl,Hl,be,{error:0})}}function Ot(o){let e,n;return{c(){e=Y("span"),n=x(o[0]),this.h()},l(t){e=G(t,"SPAN",{class:!0});var l=Z(e);n=ee(l,o[0]),l.forEach(h),this.h()},h(){O(e,"class","font-mono")},m(t,l){W(t,e,l),F(e,n)},p(t,l){l&1&&ce(n,t[0])},d(t){t&&h(e)}}}function Qt(o){let e,n;return e=new Oe({props:{name:o[5]}}),{c(){I(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,l){D(e,t,l),n=!0},p(t,l){const r={};l&32&&(r.name=t[5]),e.$set(r)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Ql(o){let e,n;return e=new mt({props:{text:o[6],hide:!o[6],top:!0,$$slots:{default:[Jl]},$$scope:{ctx:o}}}),{c(){I(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,l){D(e,t,l),n=!0},p(t,l){const r={};l&64&&(r.text=t[6]),l&64&&(r.hide=!t[6]),l&642&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Ll(o){let e,n;return e=new je({props:{href:o[4],class:"value truncate rounded-sm p-1 leading-4 "+(o[7]&&"surface-subtle"),$$slots:{default:[Yl]},$$scope:{ctx:o}}}),{c(){I(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,l){D(e,t,l),n=!0},p(t,l){const r={};l&16&&(r.href=t[4]),l&128&&(r.class="value truncate rounded-sm p-1 leading-4 "+(t[7]&&"surface-subtle")),l&514&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function zl(o){let e,n;return e=new Fn({props:{copyIconTitle:B("common.copy-icon-title"),copySuccessIconTitle:B("common.copy-success-icon-title"),content:o[1],visible:!0,"container-class":"gap-1 w-full justify-end",$$slots:{default:[yl]},$$scope:{ctx:o}}}),{c(){I(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,l){D(e,t,l),n=!0},p(t,l){const r={};l&2&&(r.content=t[1]),l&730&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Jl(o){let e,n;return{c(){e=Y("span"),n=x(o[1]),this.h()},l(t){e=G(t,"SPAN",{class:!0});var l=Z(e);n=ee(l,o[1]),l.forEach(h),this.h()},h(){O(e,"class","w-fit select-all truncate rounded-sm p-1 leading-4"),Ue(e,"surface-subtle",o[7])},m(t,l){W(t,e,l),F(e,n)},p(t,l){l&2&&ce(n,t[1]),l&128&&Ue(e,"surface-subtle",t[7])},d(t){t&&h(e)}}}function Yl(o){let e;return{c(){e=x(o[1])},l(n){e=ee(n,o[1])},m(n,t){W(n,e,t)},p(n,t){t&2&&ce(e,n[1])},d(n){n&&h(e)}}}function Gl(o){let e,n;return e=new mt({props:{text:o[6],hide:!o[6],top:!0,$$slots:{default:[Kl]},$$scope:{ctx:o}}}),{c(){I(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,l){D(e,t,l),n=!0},p(t,l){const r={};l&64&&(r.text=t[6]),l&64&&(r.hide=!t[6]),l&642&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Zl(o){let e,n;return e=new je({props:{href:o[4],class:"flex w-fit flex-row items-center gap-1 truncate rounded-sm p-1 leading-4 "+(o[7]&&"surface-subtle"),$$slots:{default:[Xl]},$$scope:{ctx:o}}}),{c(){I(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,l){D(e,t,l),n=!0},p(t,l){const r={};l&16&&(r.href=t[4]),l&128&&(r.class="flex w-fit flex-row items-center gap-1 truncate rounded-sm p-1 leading-4 "+(t[7]&&"surface-subtle")),l&522&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Kl(o){let e,n;return{c(){e=Y("span"),n=x(o[1]),this.h()},l(t){e=G(t,"SPAN",{class:!0});var l=Z(e);n=ee(l,o[1]),l.forEach(h),this.h()},h(){O(e,"class","w-fit select-all truncate rounded-sm p-1 leading-4"),Ue(e,"surface-subtle",o[7])},m(t,l){W(t,e,l),F(e,n)},p(t,l){l&2&&ce(n,t[1]),l&128&&Ue(e,"surface-subtle",t[7])},d(t){t&&h(e)}}}function Lt(o){let e,n;return e=new Oe({props:{name:"filter",class:"shrink-0"}}),{c(){I(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,l){D(e,t,l),n=!0},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Xl(o){let e,n,t,l,r,s=o[3]&&Lt();return{c(){e=Y("span"),n=x(o[1]),t=Q(),s&&s.c(),l=me(),this.h()},l(f){e=G(f,"SPAN",{class:!0});var i=Z(e);n=ee(i,o[1]),i.forEach(h),t=L(f),s&&s.l(f),l=me(),this.h()},h(){O(e,"class","truncate")},m(f,i){W(f,e,i),F(e,n),W(f,t,i),s&&s.m(f,i),W(f,l,i),r=!0},p(f,i){(!r||i&2)&&ce(n,f[1]),f[3]?s?i&8&&m(s,1):(s=Lt(),s.c(),m(s,1),s.m(l.parentNode,l)):s&&(ne(),p(s,1,1,()=>{s=null}),le())},i(f){r||(m(s),r=!0)},o(f){p(s),r=!1},d(f){f&&(h(e),h(t),h(l)),s&&s.d(f)}}}function yl(o){let e,n,t,l;const r=[Zl,Gl],s=[];function f(i,a){return i[4]?0:1}return e=f(o),n=s[e]=r[e](o),{c(){n.c(),t=me()},l(i){n.l(i),t=me()},m(i,a){s[e].m(i,a),W(i,t,a),l=!0},p(i,a){let u=e;e=f(i),e===u?s[e].p(i,a):(ne(),p(s[u],1,1,()=>{s[u]=null}),le(),n=s[e],n?n.p(i,a):(n=s[e]=r[e](i),n.c()),m(n,1),n.m(t.parentNode,t))},i(i){l||(m(n),l=!0)},o(i){p(n),l=!1},d(i){i&&h(t),s[e].d(i)}}}function xl(o){let e,n,t,l,r,s,f,i=o[0]&&Ot(o),a=o[5]&&Qt(o);const u=[zl,Ll,Ql],d=[];function b(w,k){return w[2]?0:w[4]?1:2}return l=b(o),r=d[l]=u[l](o),{c(){e=Y("p"),i&&i.c(),n=Q(),a&&a.c(),t=Q(),r.c(),this.h()},l(w){e=G(w,"P",{class:!0});var k=Z(e);i&&i.l(k),n=L(k),a&&a.l(k),t=L(k),r.l(k),k.forEach(h),this.h()},h(){O(e,"class",s="flex h-4 items-center justify-between gap-16 truncate whitespace-nowrap "+o[8].class)},m(w,k){W(w,e,k),i&&i.m(e,null),F(e,n),a&&a.m(e,null),F(e,t),d[l].m(e,null),f=!0},p(w,[k]){w[0]?i?i.p(w,k):(i=Ot(w),i.c(),i.m(e,n)):i&&(i.d(1),i=null),w[5]?a?(a.p(w,k),k&32&&m(a,1)):(a=Qt(w),a.c(),m(a,1),a.m(e,t)):a&&(ne(),p(a,1,1,()=>{a=null}),le());let c=l;l=b(w),l===c?d[l].p(w,k):(ne(),p(d[c],1,1,()=>{d[c]=null}),le(),r=d[l],r?r.p(w,k):(r=d[l]=u[l](w),r.c()),m(r,1),r.m(e,null)),(!f||k&256&&s!==(s="flex h-4 items-center justify-between gap-16 truncate whitespace-nowrap "+w[8].class))&&O(e,"class",s)},i(w){f||(m(a),m(r),f=!0)},o(w){p(a),p(r),f=!1},d(w){w&&h(e),i&&i.d(),a&&a.d(),d[l].d()}}}function eo(o,e,n){const t=["title","content","copyable","filterable","href","icon","tooltip","badge"];let l=xe(e,t),{title:r=""}=e,{content:s}=e,{copyable:f=!1}=e,{filterable:i=!1}=e,{href:a=null}=e,{icon:u=void 0}=e,{tooltip:d=""}=e,{badge:b=!1}=e;return o.$$set=w=>{e=Qe(Qe({},e),Vn(w)),n(8,l=xe(e,t)),"title"in w&&n(0,r=w.title),"content"in w&&n(1,s=w.content),"copyable"in w&&n(2,f=w.copyable),"filterable"in w&&n(3,i=w.filterable),"href"in w&&n(4,a=w.href),"icon"in w&&n(5,u=w.icon),"tooltip"in w&&n(6,d=w.tooltip),"badge"in w&&n(7,b=w.badge)},[r,s,f,i,a,u,d,b,l]}class Ae extends ve{constructor(e){super(),Ie(this,e,eo,xl,be,{title:0,content:1,copyable:2,filterable:3,href:4,icon:5,tooltip:6,badge:7})}}function zt(o){var t,l,r,s,f,i;let e,n;return e=new Ae({props:{title:B("workflows.parent-workflow"),content:(l=(t=o[0])==null?void 0:t.parent)==null?void 0:l.workflowId,href:Mt({namespace:o[3],workflow:(s=(r=o[0])==null?void 0:r.parent)==null?void 0:s.workflowId,run:(i=(f=o[0])==null?void 0:f.parent)==null?void 0:i.runId})}}),{c(){I(e.$$.fragment)},l(a){E(e.$$.fragment,a)},m(a,u){D(e,a,u),n=!0},p(a,u){var b,w,k,c,_,C;const d={};u&1&&(d.content=(w=(b=a[0])==null?void 0:b.parent)==null?void 0:w.workflowId),u&9&&(d.href=Mt({namespace:a[3],workflow:(c=(k=a[0])==null?void 0:k.parent)==null?void 0:c.workflowId,run:(C=(_=a[0])==null?void 0:_.parent)==null?void 0:C.runId})),e.$set(d)},i(a){n||(m(e.$$.fragment,a),n=!0)},o(a){p(e.$$.fragment,a),n=!1},d(a){T(e,a)}}}function to(o){var S,A,H,R,z,y,se,re,N,V,X,v,P,j,te;let e,n,t,l,r,s,f,i,a,u,d,b,w,k,c,_,C,q,g;t=new Ae({props:{title:B("common.start"),tooltip:o[4]?ke((S=o[0])==null?void 0:S.startTime,o[5],{relative:!1}):ke((A=o[0])==null?void 0:A.startTime,o[5],{relative:!0}),content:ke((H=o[0])==null?void 0:H.startTime,o[5],{relative:o[4]})}}),r=new Ae({props:{title:B("common.end"),tooltip:o[4]?ke((R=o[0])==null?void 0:R.endTime,o[5],{relative:!1}):ke((z=o[0])==null?void 0:z.endTime,o[5],{relative:!0}),content:(y=o[0])!=null&&y.endTime?ke((se=o[0])==null?void 0:se.endTime,o[5],{relative:o[4]}):"-"}}),f=new Ae({props:{content:o[2],icon:"clock"}}),u=new Ae({props:{title:B("common.run-id"),content:(re=o[0])==null?void 0:re.runId,copyable:!0}}),b=new Ae({props:{title:B("common.workflow-type"),content:(N=o[0])==null?void 0:N.name,copyable:!0,filterable:!0,href:Vt({namespace:o[3],query:`WorkflowType="${(V=o[0])==null?void 0:V.name}"`})}}),k=new Ae({props:{title:B("common.task-queue"),content:(X=o[0])==null?void 0:X.taskQueue,href:Fe({namespace:o[1].params.namespace,workflow:(v=o[0])==null?void 0:v.id,run:(P=o[0])==null?void 0:P.runId})}});let $=((j=o[0])==null?void 0:j.parent)&&zt(o);return q=new Ae({props:{title:B("common.history-size-bytes"),content:(te=o[0])==null?void 0:te.historySizeBytes}}),{c(){e=Y("div"),n=Y("div"),I(t.$$.fragment),l=Q(),I(r.$$.fragment),s=Q(),I(f.$$.fragment),i=Q(),a=Y("div"),I(u.$$.fragment),d=Q(),I(b.$$.fragment),w=Q(),I(k.$$.fragment),c=Q(),_=Y("div"),$&&$.c(),C=Q(),I(q.$$.fragment),this.h()},l(M){e=G(M,"DIV",{class:!0});var J=Z(e);n=G(J,"DIV",{class:!0});var _e=Z(n);E(t.$$.fragment,_e),l=L(_e),E(r.$$.fragment,_e),s=L(_e),E(f.$$.fragment,_e),_e.forEach(h),i=L(J),a=G(J,"DIV",{class:!0});var U=Z(a);E(u.$$.fragment,U),d=L(U),E(b.$$.fragment,U),w=L(U),E(k.$$.fragment,U),U.forEach(h),c=L(J),_=G(J,"DIV",{class:!0});var K=Z(_);$&&$.l(K),C=L(K),E(q.$$.fragment,K),K.forEach(h),J.forEach(h),this.h()},h(){O(n,"class","flex w-full flex-col gap-2 xl:w-1/3"),O(a,"class","flex w-full flex-col gap-2 xl:w-1/3"),O(_,"class","flex w-full flex-col gap-2 xl:w-1/3"),O(e,"class","flex w-full flex-col gap-2 xl:flex-row xl:gap-16")},m(M,J){W(M,e,J),F(e,n),D(t,n,null),F(n,l),D(r,n,null),F(n,s),D(f,n,null),F(e,i),F(e,a),D(u,a,null),F(a,d),D(b,a,null),F(a,w),D(k,a,null),F(e,c),F(e,_),$&&$.m(_,null),F(_,C),D(q,_,null),g=!0},p(M,[J]){var he,Ce,De,Pe,Se,wt,ht,kt,bt,vt,It,Et,Dt,Tt,Ct;const _e={};J&49&&(_e.tooltip=M[4]?ke((he=M[0])==null?void 0:he.startTime,M[5],{relative:!1}):ke((Ce=M[0])==null?void 0:Ce.startTime,M[5],{relative:!0})),J&49&&(_e.content=ke((De=M[0])==null?void 0:De.startTime,M[5],{relative:M[4]})),t.$set(_e);const U={};J&49&&(U.tooltip=M[4]?ke((Pe=M[0])==null?void 0:Pe.endTime,M[5],{relative:!1}):ke((Se=M[0])==null?void 0:Se.endTime,M[5],{relative:!0})),J&49&&(U.content=(wt=M[0])!=null&&wt.endTime?ke((ht=M[0])==null?void 0:ht.endTime,M[5],{relative:M[4]}):"-"),r.$set(U);const K={};J&4&&(K.content=M[2]),f.$set(K);const we={};J&1&&(we.content=(kt=M[0])==null?void 0:kt.runId),u.$set(we);const ue={};J&1&&(ue.content=(bt=M[0])==null?void 0:bt.name),J&9&&(ue.href=Vt({namespace:M[3],query:`WorkflowType="${(vt=M[0])==null?void 0:vt.name}"`})),b.$set(ue);const ge={};J&1&&(ge.content=(It=M[0])==null?void 0:It.taskQueue),J&3&&(ge.href=Fe({namespace:M[1].params.namespace,workflow:(Et=M[0])==null?void 0:Et.id,run:(Dt=M[0])==null?void 0:Dt.runId})),k.$set(ge),(Tt=M[0])!=null&&Tt.parent?$?($.p(M,J),J&1&&m($,1)):($=zt(M),$.c(),m($,1),$.m(_,C)):$&&(ne(),p($,1,1,()=>{$=null}),le());const Ee={};J&1&&(Ee.content=(Ct=M[0])==null?void 0:Ct.historySizeBytes),q.$set(Ee)},i(M){g||(m(t.$$.fragment,M),m(r.$$.fragment,M),m(f.$$.fragment,M),m(u.$$.fragment,M),m(b.$$.fragment,M),m(k.$$.fragment,M),m($),m(q.$$.fragment,M),g=!0)},o(M){p(t.$$.fragment,M),p(r.$$.fragment,M),p(f.$$.fragment,M),p(u.$$.fragment,M),p(b.$$.fragment,M),p(k.$$.fragment,M),p($),p(q.$$.fragment,M),g=!1},d(M){M&&h(e),T(t),T(r),T(f),T(u),T(b),T(k),$&&$.d(),T(q)}}}function no(o,e,n){let t,l,r,s,f;oe(o,He,a=>n(1,r=a)),oe(o,ol,a=>n(4,s=a)),oe(o,rl,a=>n(5,f=a));let{workflow:i}=e;return o.$$set=a=>{"workflow"in a&&n(0,i=a.workflow)},o.$$.update=()=>{o.$$.dirty&2&&n(3,{namespace:t}=r.params,t),o.$$.dirty&1&&n(2,l=sl({start:i==null?void 0:i.startTime,end:(i==null?void 0:i.endTime)||Date.now(),includeMilliseconds:!0}))},[i,r,l,t,s,f]}class lo extends ve{constructor(e){super(),Ie(this,e,no,to,be,{workflow:0})}}const zn=pl("resetWorkflows",{});function Jt(o,e,n){const t=o.slice();return t[25]=e[n],t}function oo(o){let e,n=B("workflows.reset-modal-title")+"",t;return{c(){e=Y("h3"),t=x(n),this.h()},l(l){e=G(l,"H3",{slot:!0});var r=Z(e);t=ee(r,n),r.forEach(h),this.h()},h(){O(e,"slot","title")},m(l,r){W(l,e,r),F(e,t)},p:pe,d(l){l&&h(e)}}}function ro(o){let e=o[25].id+"",n,t,l=o[25].eventType+"",r;return{c(){n=x(e),t=x(" - "),r=x(l)},l(s){n=ee(s,e),t=ee(s," - "),r=ee(s,l)},m(s,f){W(s,n,f),W(s,t,f),W(s,r,f)},p(s,f){f&512&&e!==(e=s[25].id+"")&&ce(n,e),f&512&&l!==(l=s[25].eventType+"")&&ce(r,l)},d(s){s&&(h(n),h(t),h(r))}}}function Yt(o){let e,n;return e=new Le({props:{value:o[25].id,$$slots:{default:[ro]},$$scope:{ctx:o}}}),{c(){I(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,l){D(e,t,l),n=!0},p(t,l){const r={};l&512&&(r.value=t[25].id),l&268435968&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function so(o){let e,n,t=Re(o[9]),l=[];for(let s=0;s<t.length;s+=1)l[s]=Yt(Jt(o,t,s));const r=s=>p(l[s],1,1,()=>{l[s]=null});return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=me()},l(s){for(let f=0;f<l.length;f+=1)l[f].l(s);e=me()},m(s,f){for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(s,f);W(s,e,f),n=!0},p(s,f){if(f&512){t=Re(s[9]);let i;for(i=0;i<t.length;i+=1){const a=Jt(s,t,i);l[i]?(l[i].p(a,f),m(l[i],1)):(l[i]=Yt(a),l[i].c(),m(l[i],1),l[i].m(e.parentNode,e))}for(ne(),i=t.length;i<l.length;i+=1)r(i);le()}},i(s){if(!n){for(let f=0;f<t.length;f+=1)m(l[f]);n=!0}},o(s){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)p(l[f]);n=!1},d(s){s&&h(e),tt(l,s)}}}function fo(o){let e,n,t;function l(s){o[20](s)}let r={id:"reset-include-signals-checkbox","data-testid":"reset-include-signals-checkbox",label:B("workflows.reset-reapply-type-label")};return o[5]!==void 0&&(r.checked=o[5]),e=new ft({props:r}),fe.push(()=>ae(e,"checked",l)),{c(){I(e.$$.fragment)},l(s){E(e.$$.fragment,s)},m(s,f){D(e,s,f),t=!0},p(s,f){const i={};!n&&f&32&&(n=!0,i.checked=s[5],ie(()=>n=!1)),e.$set(i)},i(s){t||(m(e.$$.fragment,s),t=!0)},o(s){p(e.$$.fragment,s),t=!1},d(s){T(e,s)}}}function io(o){let e,n,t,l,r,s;function f(d){o[18](d)}let i={id:"reset-exclude-signals-checkbox","data-testid":"reset-exclude-signals-checkbox",label:B("workflows.reset-exclude-signals")};o[6]!==void 0&&(i.checked=o[6]),e=new ft({props:i}),fe.push(()=>ae(e,"checked",f));function a(d){o[19](d)}let u={id:"reset-exclude-updates-checkbox","data-testid":"reset-exclude-updates-checkbox",label:B("workflows.reset-exclude-updates")};return o[7]!==void 0&&(u.checked=o[7]),l=new ft({props:u}),fe.push(()=>ae(l,"checked",a)),{c(){I(e.$$.fragment),t=Q(),I(l.$$.fragment)},l(d){E(e.$$.fragment,d),t=L(d),E(l.$$.fragment,d)},m(d,b){D(e,d,b),W(d,t,b),D(l,d,b),s=!0},p(d,b){const w={};!n&&b&64&&(n=!0,w.checked=d[6],ie(()=>n=!1)),e.$set(w);const k={};!r&&b&128&&(r=!0,k.checked=d[7],ie(()=>r=!1)),l.$set(k)},i(d){s||(m(e.$$.fragment,d),m(l.$$.fragment,d),s=!0)},o(d){p(e.$$.fragment,d),p(l.$$.fragment,d),s=!1},d(d){d&&h(t),T(e,d),T(l,d)}}}function ao(o){let e,n,t,l,r,s,f,i,a,u,d;function b(g){o[17](g)}let w={"data-testid":"workflow-reset-event-id-select",menuClass:"max-h-[16rem]",label:B("workflows.reset-event-radio-group-description"),id:"reset-event-id",$$slots:{default:[so]},$$scope:{ctx:o}};o[8]!==void 0&&(w.value=o[8]),n=new _t({props:w}),fe.push(()=>ae(n,"value",b));const k=[io,fo],c=[];function _(g,$){return $&3072&&(r=null),r==null&&(r=!!(g[10]||dl("1.24.0",g[11]))),r?0:1}s=_(o,-1),f=c[s]=k[s](o);function C(g){o[21](g)}let q={id:"reset-reason",label:B("common.reason")};return o[4]!==void 0&&(q.value=o[4]),a=new lt({props:q}),fe.push(()=>ae(a,"value",C)),{c(){e=Y("div"),I(n.$$.fragment),l=Q(),f.c(),i=Q(),I(a.$$.fragment),this.h()},l(g){e=G(g,"DIV",{class:!0});var $=Z(e);E(n.$$.fragment,$),l=L($),f.l($),i=L($),E(a.$$.fragment,$),$.forEach(h),this.h()},h(){O(e,"class","flex w-full flex-col gap-4")},m(g,$){W(g,e,$),D(n,e,null),F(e,l),c[s].m(e,null),F(e,i),D(a,e,null),d=!0},p(g,$){const S={};$&268435968&&(S.$$scope={dirty:$,ctx:g}),!t&&$&256&&(t=!0,S.value=g[8],ie(()=>t=!1)),n.$set(S);let A=s;s=_(g,$),s===A?c[s].p(g,$):(ne(),p(c[A],1,1,()=>{c[A]=null}),le(),f=c[s],f?f.p(g,$):(f=c[s]=k[s](g),f.c()),m(f,1),f.m(e,i));const H={};!u&&$&16&&(u=!0,H.value=g[4],ie(()=>u=!1)),a.$set(H)},i(g){d||(m(n.$$.fragment,g),m(f),m(a.$$.fragment,g),d=!0)},o(g){p(n.$$.fragment,g),p(f),p(a.$$.fragment,g),d=!1},d(g){g&&h(e),T(n),c[s].d(),T(a)}}}function uo(o){let e,n,t,l;function r(i){o[22](i)}function s(i){o[23](i)}let f={id:"reset-confirmation-modal","data-testid":"reset-confirmation-modal",confirmText:B("common.confirm"),cancelText:B("common.cancel"),loading:o[3],confirmDisabled:!o[8],$$slots:{content:[ao],title:[oo]},$$scope:{ctx:o}};return o[2]!==void 0&&(f.error=o[2]),o[0]!==void 0&&(f.open=o[0]),e=new pt({props:f}),fe.push(()=>ae(e,"error",r)),fe.push(()=>ae(e,"open",s)),e.$on("confirmModal",o[14]),e.$on("cancelModal",o[13]),{c(){I(e.$$.fragment)},l(i){E(e.$$.fragment,i)},m(i,a){D(e,i,a),l=!0},p(i,[a]){const u={};a&8&&(u.loading=i[3]),a&256&&(u.confirmDisabled=!i[8]),a&268439536&&(u.$$scope={dirty:a,ctx:i}),!n&&a&4&&(n=!0,u.error=i[2],ie(()=>n=!1)),!t&&a&1&&(t=!0,u.open=i[0],ie(()=>t=!1)),e.$set(u)},i(i){l||(m(e.$$.fragment,i),l=!0)},o(i){p(e.$$.fragment,i),l=!1},d(i){T(e,i)}}}function co(o,e,n){let t,l=pe,r=()=>(l(),l=st(w,V=>n(24,t=V)),w),s,f,i,a;oe(o,Hn,V=>n(9,f=V)),oe(o,yn,V=>n(10,i=V)),oe(o,_l,V=>n(11,a=V)),o.$$.on_destroy.push(()=>l());let{open:u}=e,{workflow:d}=e,{namespace:b}=e,{refresh:w}=e;r();let k="",c=!1,_=nt("");oe(o,_,V=>n(8,s=V));let C,q=!0,g=!1,$=!1;const S=()=>{n(0,u=!1),n(5,q=!0),n(6,g=!1),n(7,$=!1),de(_,s="",s),n(4,C="")},A=async()=>{n(2,k=""),n(3,c=!0);try{const V=await xn({namespace:b,workflow:d,eventId:s,reason:C,includeSignals:q,excludeSignals:g,excludeUpdates:$});V&&V.runId&&zn.update(X=>({...X,[d.runId]:V.runId})),de(w,t=Date.now(),t),S()}catch(V){n(2,k=dt(V)?V.message:B("common.unknown-error"))}finally{n(3,c=!1)}S()};function H(V){s=V,_.set(s)}function R(V){g=V,n(6,g)}function z(V){$=V,n(7,$)}function y(V){q=V,n(5,q)}function se(V){C=V,n(4,C)}function re(V){k=V,n(2,k)}function N(V){u=V,n(0,u)}return o.$$set=V=>{"open"in V&&n(0,u=V.open),"workflow"in V&&n(15,d=V.workflow),"namespace"in V&&n(16,b=V.namespace),"refresh"in V&&r(n(1,w=V.refresh))},[u,w,k,c,C,q,g,$,s,f,i,a,_,S,A,d,b,H,R,z,y,se,re,N]}class mo extends ve{constructor(e){super(),Ie(this,e,co,uo,be,{open:0,workflow:15,namespace:16,refresh:1})}}function Gt(o,e,n){const t=o.slice();return t[25]=e[n].name,t[26]=e[n].description!==void 0?e[n].description:"",t}function po(o){let e,n=B("workflows.signal-modal-title")+"",t;return{c(){e=Y("h3"),t=x(n),this.h()},l(l){e=G(l,"H3",{slot:!0});var r=Z(e);t=ee(r,n),r.forEach(h),this.h()},h(){O(e,"slot","title")},m(l,r){W(l,e,r),F(e,t)},p:pe,d(l){l&&h(e)}}}function _o(o){let e,n,t;function l(s){o[18](s)}let r={id:"signal-name",label:B("workflows.signal-name-label"),required:!0};return o[4]!==void 0&&(r.value=o[4]),e=new lt({props:r}),fe.push(()=>ae(e,"value",l)),{c(){I(e.$$.fragment)},l(s){E(e.$$.fragment,s)},m(s,f){D(e,s,f),t=!0},p(s,f){const i={};!n&&f&16&&(n=!0,i.value=s[4],ie(()=>n=!1)),e.$set(i)},i(s){t||(m(e.$$.fragment,s),t=!0)},o(s){p(e.$$.fragment,s),t=!1},d(s){T(e,s)}}}function go(o){let e,n,t;function l(s){o[17](s)}let r={id:"signal-select",label:B("workflows.signal-name-label"),class:"min-w-fit","data-testid":"signal-select",placeholder:"Select a signal",required:!0,$$slots:{default:[ho]},$$scope:{ctx:o}};return o[4]!==void 0&&(r.value=o[4]),e=new _t({props:r}),fe.push(()=>ae(e,"value",l)),{c(){I(e.$$.fragment)},l(s){E(e.$$.fragment,s)},m(s,f){D(e,s,f),t=!0},p(s,f){const i={};f&536871168&&(i.$$scope={dirty:f,ctx:s}),!n&&f&16&&(n=!0,i.value=s[4],ie(()=>n=!1)),e.$set(i)},i(s){t||(m(e.$$.fragment,s),t=!0)},o(s){p(e.$$.fragment,s),t=!1},d(s){T(e,s)}}}function $o(o){let e=o[25]+"",n;return{c(){n=x(e)},l(t){n=ee(t,e)},m(t,l){W(t,n,l)},p(t,l){l&256&&e!==(e=t[25]+"")&&ce(n,e)},d(t){t&&h(n)}}}function Zt(o){let e,n;return e=new Le({props:{value:o[25],description:o[26],$$slots:{default:[$o]},$$scope:{ctx:o}}}),{c(){I(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,l){D(e,t,l),n=!0},p(t,l){const r={};l&256&&(r.value=t[25]),l&256&&(r.description=t[26]),l&536871168&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function wo(o){let e;return{c(){e=x("Custom")},l(n){e=ee(n,"Custom")},m(n,t){W(n,e,t)},d(n){n&&h(e)}}}function ho(o){let e,n,t,l=Re(o[8]),r=[];for(let f=0;f<l.length;f+=1)r[f]=Zt(Gt(o,l,f));const s=f=>p(r[f],1,1,()=>{r[f]=null});return n=new Le({props:{value:"custom",description:"Input Signal name",$$slots:{default:[wo]},$$scope:{ctx:o}}}),n.$on("click",o[11]),{c(){for(let f=0;f<r.length;f+=1)r[f].c();e=Q(),I(n.$$.fragment)},l(f){for(let i=0;i<r.length;i+=1)r[i].l(f);e=L(f),E(n.$$.fragment,f)},m(f,i){for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(f,i);W(f,e,i),D(n,f,i),t=!0},p(f,i){if(i&256){l=Re(f[8]);let u;for(u=0;u<l.length;u+=1){const d=Gt(f,l,u);r[u]?(r[u].p(d,i),m(r[u],1)):(r[u]=Zt(d),r[u].c(),m(r[u],1),r[u].m(e.parentNode,e))}for(ne(),u=l.length;u<r.length;u+=1)s(u);le()}const a={};i&536870912&&(a.$$scope={dirty:i,ctx:f}),n.$set(a)},i(f){if(!t){for(let i=0;i<l.length;i+=1)m(r[i]);m(n.$$.fragment,f),t=!0}},o(f){r=r.filter(Boolean);for(let i=0;i<r.length;i+=1)p(r[i]);p(n.$$.fragment,f),t=!1},d(f){f&&h(e),tt(r,f),T(n,f)}}}function ko(o){let e,n,t,l,r,s,f,i;const a=[go,_o],u=[];function d(c,_){var C;return((C=c[8])==null?void 0:C.length)>0&&!c[5]?0:1}n=d(o),t=u[n]=a[n](o);function b(c){o[19](c)}function w(c){o[20](c)}let k={};return o[7]!==void 0&&(k.input=o[7]),o[6]!==void 0&&(k.encoding=o[6]),r=new gl({props:k}),fe.push(()=>ae(r,"input",b)),fe.push(()=>ae(r,"encoding",w)),{c(){e=Y("div"),t.c(),l=Q(),I(r.$$.fragment),this.h()},l(c){e=G(c,"DIV",{slot:!0,class:!0});var _=Z(e);t.l(_),l=L(_),E(r.$$.fragment,_),_.forEach(h),this.h()},h(){O(e,"slot","content"),O(e,"class","flex flex-col gap-4")},m(c,_){W(c,e,_),u[n].m(e,null),F(e,l),D(r,e,null),i=!0},p(c,_){let C=n;n=d(c),n===C?u[n].p(c,_):(ne(),p(u[C],1,1,()=>{u[C]=null}),le(),t=u[n],t?t.p(c,_):(t=u[n]=a[n](c),t.c()),m(t,1),t.m(e,l));const q={};!s&&_&128&&(s=!0,q.input=c[7],ie(()=>s=!1)),!f&&_&64&&(f=!0,q.encoding=c[6],ie(()=>f=!1)),r.$set(q)},i(c){i||(m(t),m(r.$$.fragment,c),i=!0)},o(c){p(t),p(r.$$.fragment,c),i=!1},d(c){c&&h(e),u[n].d(),T(r)}}}function bo(o){let e,n,t,l;function r(i){o[21](i)}function s(i){o[22](i)}let f={id:"signal-confirmation-modal","data-testid":"signal-confirmation-modal",loading:o[3],confirmText:B("common.submit"),cancelText:B("common.cancel"),confirmDisabled:!o[4]||!o[6],$$slots:{content:[ko],title:[po]},$$scope:{ctx:o}};return o[2]!==void 0&&(f.error=o[2]),o[0]!==void 0&&(f.open=o[0]),e=new pt({props:f}),fe.push(()=>ae(e,"error",r)),fe.push(()=>ae(e,"open",s)),e.$on("cancelModal",o[9]),e.$on("confirmModal",o[10]),{c(){I(e.$$.fragment)},l(i){E(e.$$.fragment,i)},m(i,a){D(e,i,a),l=!0},p(i,[a]){const u={};a&8&&(u.loading=i[3]),a&80&&(u.confirmDisabled=!i[4]||!i[6]),a&536871408&&(u.$$scope={dirty:a,ctx:i}),!n&&a&4&&(n=!0,u.error=i[2],ie(()=>n=!1)),!t&&a&1&&(t=!0,u.open=i[0],ie(()=>t=!1)),e.$set(u)},i(i){l||(m(e.$$.fragment,i),l=!0)},o(i){p(e.$$.fragment,i),l=!1},d(i){T(e,i)}}}const Kt="json/plain";function vo(o,e,n){let t,l,r,s=pe,f=()=>(s(),s=st(_,v=>n(23,r=v)),_),i,a=pe,u=()=>(a(),a=st(S,v=>n(24,i=v)),S),d;oe(o,Te,v=>n(16,d=v)),o.$$.on_destroy.push(()=>s()),o.$$.on_destroy.push(()=>a());var b;let{open:w}=e,{workflow:k}=e,{namespace:c}=e,{refresh:_}=e;f();let C="",q=!1,g="",$=!1,S=nt(Kt);u();let A="";const H=()=>{n(0,w=!1),n(4,g=""),n(7,A=""),n(5,$=!1),de(S,i=Kt,i)},R=async()=>{n(2,C=""),n(3,q=!0);try{await el({namespace:c,workflow:k,input:A,encoding:i,name:g}),de(_,r=Date.now(),r),jn.push({message:B("workflows.signal-success"),id:"workflow-signal-success-toast"}),H()}catch(v){n(2,C=dt(v)?v.message:B("common.unknown-error"))}finally{n(3,q=!1)}},z=()=>{n(5,$=!0),n(4,g="")};function y(v){g=v,n(4,g)}function se(v){g=v,n(4,g)}function re(v){A=v,n(7,A)}function N(v){S=v,u(n(6,S))}function V(v){C=v,n(2,C)}function X(v){w=v,n(0,w)}return o.$$set=v=>{"open"in v&&n(0,w=v.open),"workflow"in v&&n(12,k=v.workflow),"namespace"in v&&n(13,c=v.namespace),"refresh"in v&&f(n(1,_=v.refresh))},o.$$.update=()=>{o.$$.dirty&65536&&n(15,{metadata:t}=d,t),o.$$.dirty&49152&&n(8,l=n(14,b=t==null?void 0:t.definition)===null||b===void 0?void 0:b.signalDefinitions)},[w,_,C,q,g,$,S,A,l,H,R,z,k,c,b,t,d,y,se,re,N,V,X]}class Io extends ve{constructor(e){super(),Ie(this,e,vo,bo,be,{open:0,workflow:12,namespace:13,refresh:1})}}function Xt(o,e,n){const t=o.slice();return t[30]=e[n].name,t[31]=e[n].description!==void 0?e[n].description:"",t}function Eo(o){let e,n=B("workflows.update-modal-title")+"",t;return{c(){e=Y("h3"),t=x(n),this.h()},l(l){e=G(l,"H3",{slot:!0});var r=Z(e);t=ee(r,n),r.forEach(h),this.h()},h(){O(e,"slot","title")},m(l,r){W(l,e,r),F(e,t)},p:pe,d(l){l&&h(e)}}}function Do(o){let e,n,t,l,r;function s(a){o[21](a)}let f={id:"update-name",class:"w-full",label:B("common.name"),required:!0};o[5]!==void 0&&(f.value=o[5]),n=new lt({props:f}),fe.push(()=>ae(n,"value",s));let i=o[8]&&yt(o);return{c(){e=Y("div"),I(n.$$.fragment),l=Q(),i&&i.c(),this.h()},l(a){e=G(a,"DIV",{class:!0});var u=Z(e);E(n.$$.fragment,u),l=L(u),i&&i.l(u),u.forEach(h),this.h()},h(){O(e,"class","flex w-full items-end justify-between gap-2")},m(a,u){W(a,e,u),D(n,e,null),F(e,l),i&&i.m(e,null),r=!0},p(a,u){const d={};!t&&u[0]&32&&(t=!0,d.value=a[5],ie(()=>t=!1)),n.$set(d),a[8]?i?(i.p(a,u),u[0]&256&&m(i,1)):(i=yt(a),i.c(),m(i,1),i.m(e,null)):i&&(ne(),p(i,1,1,()=>{i=null}),le())},i(a){r||(m(n.$$.fragment,a),m(i),r=!0)},o(a){p(n.$$.fragment,a),p(i),r=!1},d(a){a&&h(e),T(n),i&&i.d()}}}function To(o){let e,n,t;function l(s){o[20](s)}let r={id:"update-select",label:B("common.name"),class:"min-w-fit","data-testid":"update-select",placeholder:"Select an Update",required:!0,$$slots:{default:[So]},$$scope:{ctx:o}};return o[5]!==void 0&&(r.value=o[5]),e=new _t({props:r}),fe.push(()=>ae(e,"value",l)),{c(){I(e.$$.fragment)},l(s){E(e.$$.fragment,s)},m(s,f){D(e,s,f),t=!0},p(s,f){const i={};f[0]&512|f[1]&8&&(i.$$scope={dirty:f,ctx:s}),!n&&f[0]&32&&(n=!0,i.value=s[5],ie(()=>n=!1)),e.$set(i)},i(s){t||(m(e.$$.fragment,s),t=!0)},o(s){p(e.$$.fragment,s),t=!1},d(s){T(e,s)}}}function yt(o){let e,n;return e=new On({props:{variant:"secondary",leadingIcon:"close"}}),e.$on("click",o[22]),{c(){I(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,l){D(e,t,l),n=!0},p:pe,i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Co(o){let e=o[30]+"",n;return{c(){n=x(e)},l(t){n=ee(t,e)},m(t,l){W(t,n,l)},p(t,l){l[0]&512&&e!==(e=t[30]+"")&&ce(n,e)},d(t){t&&h(n)}}}function xt(o){let e,n;return e=new Le({props:{value:o[30],description:o[31],$$slots:{default:[Co]},$$scope:{ctx:o}}}),{c(){I(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,l){D(e,t,l),n=!0},p(t,l){const r={};l[0]&512&&(r.value=t[30]),l[0]&512&&(r.description=t[31]),l[0]&512|l[1]&8&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Po(o){let e;return{c(){e=x("Custom")},l(n){e=ee(n,"Custom")},m(n,t){W(n,e,t)},d(n){n&&h(e)}}}function So(o){let e,n,t,l=Re(o[9]),r=[];for(let f=0;f<l.length;f+=1)r[f]=xt(Xt(o,l,f));const s=f=>p(r[f],1,1,()=>{r[f]=null});return n=new Le({props:{value:"custom",$$slots:{default:[Po]},$$scope:{ctx:o}}}),n.$on("click",o[13]),{c(){for(let f=0;f<r.length;f+=1)r[f].c();e=Q(),I(n.$$.fragment)},l(f){for(let i=0;i<r.length;i+=1)r[i].l(f);e=L(f),E(n.$$.fragment,f)},m(f,i){for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(f,i);W(f,e,i),D(n,f,i),t=!0},p(f,i){if(i[0]&512){l=Re(f[9]);let u;for(u=0;u<l.length;u+=1){const d=Xt(f,l,u);r[u]?(r[u].p(d,i),m(r[u],1)):(r[u]=xt(d),r[u].c(),m(r[u],1),r[u].m(e.parentNode,e))}for(ne(),u=l.length;u<r.length;u+=1)s(u);le()}const a={};i[1]&8&&(a.$$scope={dirty:i,ctx:f}),n.$set(a)},i(f){if(!t){for(let i=0;i<l.length;i+=1)m(r[i]);m(n.$$.fragment,f),t=!0}},o(f){r=r.filter(Boolean);for(let i=0;i<r.length;i+=1)p(r[i]);p(n.$$.fragment,f),t=!1},d(f){f&&h(e),tt(r,f),T(n,f)}}}function en(o){let e,n;return e=new Je({props:{intent:"info",title:"In Progress",$$slots:{default:[Ao]},$$scope:{ctx:o}}}),{c(){I(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,l){D(e,t,l),n=!0},p(t,l){const r={};l[1]&8&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Ao(o){let e=B("workflows.update-in-progress")+"",n;return{c(){n=x(e)},l(t){n=ee(t,e)},m(t,l){W(t,n,l)},p:pe,d(t){t&&h(n)}}}function tn(o){var t;let e,n;return e=new Je({props:{intent:"error",title:((t=o[3])==null?void 0:t.message)||"Failure",$$slots:{default:[Wo]},$$scope:{ctx:o}}}),{c(){I(e.$$.fragment)},l(l){E(e.$$.fragment,l)},m(l,r){D(e,l,r),n=!0},p(l,r){var f;const s={};r[0]&8&&(s.title=((f=l[3])==null?void 0:f.message)||"Failure"),r[0]&8|r[1]&8&&(s.$$scope={dirty:r,ctx:l}),e.$set(s)},i(l){n||(m(e.$$.fragment,l),n=!0)},o(l){p(e.$$.fragment,l),n=!1},d(l){T(e,l)}}}function nn(o){let e,n;return e=new Qn({props:{class:"mt-4",content:o[3].stackTrace,language:"text"}}),{c(){I(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,l){D(e,t,l),n=!0},p(t,l){const r={};l[0]&8&&(r.content=t[3].stackTrace),e.$set(r)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Wo(o){var l;let e,n,t=((l=o[3])==null?void 0:l.stackTrace)&&nn(o);return{c(){t&&t.c(),e=me()},l(r){t&&t.l(r),e=me()},m(r,s){t&&t.m(r,s),W(r,e,s),n=!0},p(r,s){var f;(f=r[3])!=null&&f.stackTrace?t?(t.p(r,s),s[0]&8&&m(t,1)):(t=nn(r),t.c(),m(t,1),t.m(e.parentNode,e)):t&&(ne(),p(t,1,1,()=>{t=null}),le())},i(r){n||(m(t),n=!0)},o(r){p(t),n=!1},d(r){r&&h(e),t&&t.d(r)}}}function ln(o){let e,n;return e=new Je({props:{intent:"success",title:"Success",$$slots:{default:[Vo]},$$scope:{ctx:o}}}),{c(){I(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,l){D(e,t,l),n=!0},p(t,l){const r={};l[0]&16|l[1]&8&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function on(o){let e,n;return e=new wl({props:{value:o[4].payloads[0],$$slots:{default:[Ro,({decodedValue:t})=>({29:t}),({decodedValue:t})=>[t?536870912:0]]},$$scope:{ctx:o}}}),{c(){I(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,l){D(e,t,l),n=!0},p(t,l){const r={};l[0]&16&&(r.value=t[4].payloads[0]),l[0]&536870912|l[1]&8&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Ro(o){let e,n;return e=new Qn({props:{class:"mt-4",content:o[29],language:"text"}}),{c(){I(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,l){D(e,t,l),n=!0},p(t,l){const r={};l[0]&536870912&&(r.content=t[29]),e.$set(r)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Vo(o){var l,r;let e,n,t=((r=(l=o[4])==null?void 0:l.payloads)==null?void 0:r[0])&&o[4].payloads[0].data&&on(o);return{c(){t&&t.c(),e=me()},l(s){t&&t.l(s),e=me()},m(s,f){t&&t.m(s,f),W(s,e,f),n=!0},p(s,f){var i,a;(a=(i=s[4])==null?void 0:i.payloads)!=null&&a[0]&&s[4].payloads[0].data?t?(t.p(s,f),f[0]&16&&m(t,1)):(t=on(s),t.c(),m(t,1),t.m(e.parentNode,e)):t&&(ne(),p(t,1,1,()=>{t=null}),le())},i(s){n||(m(t),n=!0)},o(s){p(t),n=!1},d(s){s&&h(e),t&&t.d(s)}}}function Mo(o){let e,n,t,l,r,s,f,i,a,u,d,b,w;const k=[To,Do],c=[];function _(R,z){var y;return((y=R[9])==null?void 0:y.length)>0&&!R[8]?0:1}n=_(o),t=c[n]=k[n](o);function C(R){o[23](R)}let q={id:"update-id",label:B("workflows.update-id"),required:!0};o[6]!==void 0&&(q.value=o[6]),r=new lt({props:q}),fe.push(()=>ae(r,"value",C));function g(R){o[24](R)}let $={};o[7]!==void 0&&($.input=o[7]),i=new hl({props:$}),fe.push(()=>ae(i,"input",g));let S=o[2]&&en(o),A=o[3]&&tn(o),H=o[4]&&ln(o);return{c(){e=Y("div"),t.c(),l=Q(),I(r.$$.fragment),f=Q(),I(i.$$.fragment),u=Q(),S&&S.c(),d=Q(),A&&A.c(),b=Q(),H&&H.c(),this.h()},l(R){e=G(R,"DIV",{class:!0,slot:!0});var z=Z(e);t.l(z),l=L(z),E(r.$$.fragment,z),f=L(z),E(i.$$.fragment,z),u=L(z),S&&S.l(z),d=L(z),A&&A.l(z),b=L(z),H&&H.l(z),z.forEach(h),this.h()},h(){O(e,"class","flex flex-col gap-4"),O(e,"slot","content")},m(R,z){W(R,e,z),c[n].m(e,null),F(e,l),D(r,e,null),F(e,f),D(i,e,null),F(e,u),S&&S.m(e,null),F(e,d),A&&A.m(e,null),F(e,b),H&&H.m(e,null),w=!0},p(R,z){let y=n;n=_(R),n===y?c[n].p(R,z):(ne(),p(c[y],1,1,()=>{c[y]=null}),le(),t=c[n],t?t.p(R,z):(t=c[n]=k[n](R),t.c()),m(t,1),t.m(e,l));const se={};!s&&z[0]&64&&(s=!0,se.value=R[6],ie(()=>s=!1)),r.$set(se);const re={};!a&&z[0]&128&&(a=!0,re.input=R[7],ie(()=>a=!1)),i.$set(re),R[2]?S?(S.p(R,z),z[0]&4&&m(S,1)):(S=en(R),S.c(),m(S,1),S.m(e,d)):S&&(ne(),p(S,1,1,()=>{S=null}),le()),R[3]?A?(A.p(R,z),z[0]&8&&m(A,1)):(A=tn(R),A.c(),m(A,1),A.m(e,b)):A&&(ne(),p(A,1,1,()=>{A=null}),le()),R[4]?H?(H.p(R,z),z[0]&16&&m(H,1)):(H=ln(R),H.c(),m(H,1),H.m(e,null)):H&&(ne(),p(H,1,1,()=>{H=null}),le())},i(R){w||(m(t),m(r.$$.fragment,R),m(i.$$.fragment,R),m(S),m(A),m(H),w=!0)},o(R){p(t),p(r.$$.fragment,R),p(i.$$.fragment,R),p(S),p(A),p(H),w=!1},d(R){R&&h(e),c[n].d(),T(r),T(i),S&&S.d(),A&&A.d(),H&&H.d()}}}function No(o){let e,n,t,l;function r(i){o[25](i)}function s(i){o[26](i)}let f={id:"update-confirmation-modal","data-testid":"update-confirmation-modal",large:!0,loading:o[2],confirmText:B("common.submit"),cancelText:B("common.cancel"),confirmDisabled:!o[5]||!o[10],$$slots:{content:[Mo],title:[Eo]},$$scope:{ctx:o}};return o[1]!==void 0&&(f.error=o[1]),o[0]!==void 0&&(f.open=o[0]),e=new pt({props:f}),fe.push(()=>ae(e,"error",r)),fe.push(()=>ae(e,"open",s)),e.$on("cancelModal",o[11]),e.$on("confirmModal",o[12]),{c(){I(e.$$.fragment)},l(i){E(e.$$.fragment,i)},m(i,a){D(e,i,a),l=!0},p(i,a){const u={};a[0]&4&&(u.loading=i[2]),a[0]&32&&(u.confirmDisabled=!i[5]||!i[10]),a[0]&1020|a[1]&8&&(u.$$scope={dirty:a,ctx:i}),!n&&a[0]&2&&(n=!0,u.error=i[1],ie(()=>n=!1)),!t&&a[0]&1&&(t=!0,u.open=i[0],ie(()=>t=!1)),e.$set(u)},i(i){l||(m(e.$$.fragment,i),l=!0)},o(i){p(e.$$.fragment,i),l=!1},d(i){T(e,i)}}}const rn="json/plain";function qo(o,e,n){let t,l,r,s,f,i;oe(o,Te,v=>n(18,f=v)),oe(o,He,v=>n(19,i=v));var a;let{open:u}=e,{workflow:d}=e,{namespace:b}=e,w="",k=!1,c,_,C="",q=it(),g="",$=!1,S=nt(rn);oe(o,S,v=>n(28,s=v));const A=()=>{n(0,u=!1),n(5,C=""),n(7,g=""),n(8,$=!1),de(S,s=rn,s),n(3,c=void 0),n(4,_=void 0)},H=async()=>{var v,P;n(3,c=void 0),n(4,_=void 0),n(1,w=""),n(2,k=!0);try{const j=await tl({namespace:b,workflow:{workflowId:d.id,runId:t},input:g,updateId:q,encoding:s,name:C});n(3,c=(v=j==null?void 0:j.outcome)===null||v===void 0?void 0:v.failure),n(4,_=((P=j==null?void 0:j.outcome)===null||P===void 0?void 0:P.success)||!c),n(6,q=it()),_&&(jn.push({message:B("workflows.update-success"),variant:"success"}),A())}catch(j){n(1,w=dt(j)?j.message:B("common.unknown-error"))}finally{n(2,k=!1)}},R=()=>{n(8,$=!0),n(5,C="")};function z(v){C=v,n(5,C)}function y(v){C=v,n(5,C)}const se=()=>{n(8,$=!1),n(5,C="")};function re(v){q=v,n(6,q)}function N(v){g=v,n(7,g)}function V(v){w=v,n(1,w)}function X(v){u=v,n(0,u)}return o.$$set=v=>{"open"in v&&n(0,u=v.open),"workflow"in v&&n(14,d=v.workflow),"namespace"in v&&n(15,b=v.namespace)},o.$$.update=()=>{o.$$.dirty[0]&524288&&({run:t}=i.params),o.$$.dirty[0]&262144&&n(17,{metadata:l}=f,l),o.$$.dirty[0]&196608&&n(9,r=n(16,a=l==null?void 0:l.definition)===null||a===void 0?void 0:a.updateDefinitions)},[u,w,k,c,_,C,q,g,$,r,S,A,H,R,d,b,a,l,f,i,z,y,se,re,N,V,X]}class Bo extends ve{constructor(e){super(),Ie(this,e,qo,No,be,{open:0,workflow:14,namespace:15},null,[-1,-1])}}const Fo=(o,e,n)=>!o.disableWriteActions&&!o.workflowSignalDisabled&&!e.namespaceWriteDisabled(n),Uo=(o,e,n)=>!o.disableWriteActions&&!o.workflowUpdateDisabled&&!e.namespaceWriteDisabled(n);function sn(o,e,n){const t=o.slice();return t[34]=e[n].onClick,t[35]=e[n].destructive,t[36]=e[n].label,t[37]=e[n].enabled,t[38]=e[n].testId,t[39]=e[n].description,t}function Ho(o){let e,n;return e=new mt({props:{bottomRight:!0,width:200,text:o[4],hide:o[8],$$slots:{default:[Lo]},$$scope:{ctx:o}}}),{c(){I(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,l){D(e,t,l),n=!0},p(t,l){const r={};l[0]&16&&(r.text=t[4]),l[0]&256&&(r.hide=t[8]),l[0]&4352|l[1]&2048&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function jo(o){let e,n;return e=new Ln({props:{id:"workflow-actions",menuClass:"w-[16rem]",position:"right",primaryActionDisabled:!o[8],label:B("workflows.reset"),menuLabel:B("workflows.workflow-actions"),$$slots:{default:[Jo]},$$scope:{ctx:o}}}),e.$on("click",o[27]),{c(){I(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,l){D(e,t,l),n=!0},p(t,l){const r={};l[0]&256&&(r.primaryActionDisabled=!t[8]),l[0]&3|l[1]&2048&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Oo(o){let e,n;return e=new Ln({props:{id:"workflow-actions",menuClass:"w-[16rem] md:w-[24rem]",position:"right",disabled:o[16],primaryActionDisabled:!o[17]||o[2],label:B("workflows.request-cancellation"),menuLabel:B("workflows.workflow-actions"),$$slots:{default:[Zo]},$$scope:{ctx:o}}}),e.$on("click",o[25]),{c(){I(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,l){D(e,t,l),n=!0},p(t,l){const r={};l[0]&65536&&(r.disabled=t[16]),l[0]&131076&&(r.primaryActionDisabled=!t[17]||t[2]),l[0]&33283|l[1]&2048&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Qo(o){let e=B("workflows.reset")+"",n;return{c(){n=x(e)},l(t){n=ee(t,e)},m(t,l){W(t,n,l)},p:pe,d(t){t&&h(n)}}}function Lo(o){let e,n;return e=new On({props:{"aria-label":B("workflows.reset"),disabled:!o[8],variant:"primary","data-testid":"workflow-reset-button",$$slots:{default:[Qo]},$$scope:{ctx:o}}}),e.$on("click",o[28]),{c(){I(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,l){D(e,t,l),n=!0},p(t,l){const r={};l[0]&256&&(r.disabled=!t[8]),l[1]&2048&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function zo(o){let e=B("workflows.start-workflow-like-this-one")+"",n;return{c(){n=x(e)},l(t){n=ee(t,e)},m(t,l){W(t,n,l)},p:pe,d(t){t&&h(n)}}}function Jo(o){let e,n;return e=new gt({props:{"data-testid":"start-workflow-button",$$slots:{default:[zo]},$$scope:{ctx:o}}}),e.$on("click",o[26]),{c(){I(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,l){D(e,t,l),n=!0},p(t,l){const r={};l[1]&2048&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function fn(o){let e,n;return e=new Un({}),{c(){I(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,l){D(e,t,l),n=!0},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Yo(o){let e=o[36]+"",n;return{c(){n=x(e)},l(t){n=ee(t,e)},m(t,l){W(t,n,l)},p(t,l){l[0]&32768&&e!==(e=t[36]+"")&&ce(n,e)},d(t){t&&h(n)}}}function an(o){let e,n,t,l=o[35]&&fn();return n=new gt({props:{destructive:o[35],disabled:!o[37],"data-testid":o[38],description:o[39],$$slots:{default:[Yo]},$$scope:{ctx:o}}}),n.$on("click",function(){Gn(o[34])&&o[34].apply(this,arguments)}),{c(){l&&l.c(),e=Q(),I(n.$$.fragment)},l(r){l&&l.l(r),e=L(r),E(n.$$.fragment,r)},m(r,s){l&&l.m(r,s),W(r,e,s),D(n,r,s),t=!0},p(r,s){o=r,o[35]?l?s[0]&32768&&m(l,1):(l=fn(),l.c(),m(l,1),l.m(e.parentNode,e)):l&&(ne(),p(l,1,1,()=>{l=null}),le());const f={};s[0]&32768&&(f.destructive=o[35]),s[0]&32768&&(f.disabled=!o[37]),s[0]&32768&&(f["data-testid"]=o[38]),s[0]&32768&&(f.description=o[39]),s[0]&32768|s[1]&2048&&(f.$$scope={dirty:s,ctx:o}),n.$set(f)},i(r){t||(m(l),m(n.$$.fragment,r),t=!0)},o(r){p(l),p(n.$$.fragment,r),t=!1},d(r){r&&h(e),l&&l.d(r),T(n,r)}}}function un(o){let e,n,t,l;return e=new Un({}),t=new gt({props:{"data-testid":"start-workflow-button",$$slots:{default:[Go]},$$scope:{ctx:o}}}),t.$on("click",o[24]),{c(){I(e.$$.fragment),n=Q(),I(t.$$.fragment)},l(r){E(e.$$.fragment,r),n=L(r),E(t.$$.fragment,r)},m(r,s){D(e,r,s),W(r,n,s),D(t,r,s),l=!0},p(r,s){const f={};s[1]&2048&&(f.$$scope={dirty:s,ctx:r}),t.$set(f)},i(r){l||(m(e.$$.fragment,r),m(t.$$.fragment,r),l=!0)},o(r){p(e.$$.fragment,r),p(t.$$.fragment,r),l=!1},d(r){r&&h(n),T(e,r),T(t,r)}}}function Go(o){let e=B("workflows.start-workflow-like-this-one")+"",n;return{c(){n=x(e)},l(t){n=ee(t,e)},m(t,l){W(t,n,l)},p:pe,d(t){t&&h(n)}}}function Zo(o){let e,n=!at(o[9]),t,l,r=Re(o[15]),s=[];for(let a=0;a<r.length;a+=1)s[a]=an(sn(o,r,a));const f=a=>p(s[a],1,1,()=>{s[a]=null});let i=n&&un(o);return{c(){for(let a=0;a<s.length;a+=1)s[a].c();e=Q(),i&&i.c(),t=me()},l(a){for(let u=0;u<s.length;u+=1)s[u].l(a);e=L(a),i&&i.l(a),t=me()},m(a,u){for(let d=0;d<s.length;d+=1)s[d]&&s[d].m(a,u);W(a,e,u),i&&i.m(a,u),W(a,t,u),l=!0},p(a,u){if(u[0]&32768){r=Re(a[15]);let d;for(d=0;d<r.length;d+=1){const b=sn(a,r,d);s[d]?(s[d].p(b,u),m(s[d],1)):(s[d]=an(b),s[d].c(),m(s[d],1),s[d].m(e.parentNode,e))}for(ne(),d=r.length;d<s.length;d+=1)f(d);le()}u[0]&512&&(n=!at(a[9])),n?i?(i.p(a,u),u[0]&512&&m(i,1)):(i=un(a),i.c(),m(i,1),i.m(t.parentNode,t)):i&&(ne(),p(i,1,1,()=>{i=null}),le())},i(a){if(!l){for(let u=0;u<r.length;u+=1)m(s[u]);m(i),l=!0}},o(a){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)p(s[u]);p(i),l=!1},d(a){a&&(h(e),h(t)),tt(s,a),i&&i.d(a)}}}function cn(o){let e,n,t;function l(s){o[29](s)}let r={refresh:ze,workflow:o[0],namespace:o[1]};return o[12]!==void 0&&(r.open=o[12]),e=new mo({props:r}),fe.push(()=>ae(e,"open",l)),{c(){I(e.$$.fragment)},l(s){E(e.$$.fragment,s)},m(s,f){D(e,s,f),t=!0},p(s,f){const i={};f[0]&1&&(i.workflow=s[0]),f[0]&2&&(i.namespace=s[1]),!n&&f[0]&4096&&(n=!0,i.open=s[12],ie(()=>n=!1)),e.$set(i)},i(s){t||(m(e.$$.fragment,s),t=!0)},o(s){p(e.$$.fragment,s),t=!1},d(s){T(e,s)}}}function mn(o){let e,n,t;function l(s){o[30](s)}let r={refresh:ze,workflow:o[0],namespace:o[1]};return o[13]!==void 0&&(r.open=o[13]),e=new Io({props:r}),fe.push(()=>ae(e,"open",l)),{c(){I(e.$$.fragment)},l(s){E(e.$$.fragment,s)},m(s,f){D(e,s,f),t=!0},p(s,f){const i={};f[0]&1&&(i.workflow=s[0]),f[0]&2&&(i.namespace=s[1]),!n&&f[0]&8192&&(n=!0,i.open=s[13],ie(()=>n=!1)),e.$set(i)},i(s){t||(m(e.$$.fragment,s),t=!0)},o(s){p(e.$$.fragment,s),t=!1},d(s){T(e,s)}}}function pn(o){let e,n,t;function l(s){o[31](s)}let r={workflow:o[0],namespace:o[1]};return o[14]!==void 0&&(r.open=o[14]),e=new Bo({props:r}),fe.push(()=>ae(e,"open",l)),{c(){I(e.$$.fragment)},l(s){E(e.$$.fragment,s)},m(s,f){D(e,s,f),t=!0},p(s,f){const i={};f[0]&1&&(i.workflow=s[0]),f[0]&2&&(i.namespace=s[1]),!n&&f[0]&16384&&(n=!0,i.open=s[14],ie(()=>n=!1)),e.$set(i)},i(s){t||(m(e.$$.fragment,s),t=!0)},o(s){p(e.$$.fragment,s),t=!1},d(s){T(e,s)}}}function _n(o){let e,n,t;function l(s){o[32](s)}let r={refresh:ze,workflow:o[0],namespace:o[1]};return o[10]!==void 0&&(r.open=o[10]),e=new ul({props:r}),fe.push(()=>ae(e,"open",l)),{c(){I(e.$$.fragment)},l(s){E(e.$$.fragment,s)},m(s,f){D(e,s,f),t=!0},p(s,f){const i={};f[0]&1&&(i.workflow=s[0]),f[0]&2&&(i.namespace=s[1]),!n&&f[0]&1024&&(n=!0,i.open=s[10],ie(()=>n=!1)),e.$set(i)},i(s){t||(m(e.$$.fragment,s),t=!0)},o(s){p(e.$$.fragment,s),t=!1},d(s){T(e,s)}}}function dn(o){let e,n,t;function l(s){o[33](s)}let r={refresh:ze,workflow:o[0],namespace:o[1]};return o[11]!==void 0&&(r.open=o[11]),e=new cl({props:r}),fe.push(()=>ae(e,"open",l)),{c(){I(e.$$.fragment)},l(s){E(e.$$.fragment,s)},m(s,f){D(e,s,f),t=!0},p(s,f){const i={};f[0]&1&&(i.workflow=s[0]),f[0]&2&&(i.namespace=s[1]),!n&&f[0]&2048&&(n=!0,i.open=s[11],ie(()=>n=!1)),e.$set(i)},i(s){t||(m(e.$$.fragment,s),t=!0)},o(s){p(e.$$.fragment,s),t=!1},d(s){T(e,s)}}}function Ko(o){let e,n,t,l,r,s,f,i,a,u;const d=[Oo,jo,Ho],b=[];function w(g,$){return $[0]&512&&(e=null),g[3]?0:(e==null&&(e=!at(g[9])),e?1:2)}n=w(o,[-1,-1]),t=b[n]=d[n](o);let k=o[8]&&cn(o),c=o[7]&&mn(o),_=o[6]&&pn(o),C=o[17]&&_n(o),q=o[5]&&dn(o);return{c(){t.c(),l=Q(),k&&k.c(),r=Q(),c&&c.c(),s=Q(),_&&_.c(),f=Q(),C&&C.c(),i=Q(),q&&q.c(),a=me()},l(g){t.l(g),l=L(g),k&&k.l(g),r=L(g),c&&c.l(g),s=L(g),_&&_.l(g),f=L(g),C&&C.l(g),i=L(g),q&&q.l(g),a=me()},m(g,$){b[n].m(g,$),W(g,l,$),k&&k.m(g,$),W(g,r,$),c&&c.m(g,$),W(g,s,$),_&&_.m(g,$),W(g,f,$),C&&C.m(g,$),W(g,i,$),q&&q.m(g,$),W(g,a,$),u=!0},p(g,$){let S=n;n=w(g,$),n===S?b[n].p(g,$):(ne(),p(b[S],1,1,()=>{b[S]=null}),le(),t=b[n],t?t.p(g,$):(t=b[n]=d[n](g),t.c()),m(t,1),t.m(l.parentNode,l)),g[8]?k?(k.p(g,$),$[0]&256&&m(k,1)):(k=cn(g),k.c(),m(k,1),k.m(r.parentNode,r)):k&&(ne(),p(k,1,1,()=>{k=null}),le()),g[7]?c?(c.p(g,$),$[0]&128&&m(c,1)):(c=mn(g),c.c(),m(c,1),c.m(s.parentNode,s)):c&&(ne(),p(c,1,1,()=>{c=null}),le()),g[6]?_?(_.p(g,$),$[0]&64&&m(_,1)):(_=pn(g),_.c(),m(_,1),_.m(f.parentNode,f)):_&&(ne(),p(_,1,1,()=>{_=null}),le()),g[17]?C?(C.p(g,$),$[0]&131072&&m(C,1)):(C=_n(g),C.c(),m(C,1),C.m(i.parentNode,i)):C&&(ne(),p(C,1,1,()=>{C=null}),le()),g[5]?q?(q.p(g,$),$[0]&32&&m(q,1)):(q=dn(g),q.c(),m(q,1),q.m(a.parentNode,a)):q&&(ne(),p(q,1,1,()=>{q=null}),le())},i(g){u||(m(t),m(k),m(c),m(_),m(C),m(q),u=!0)},o(g){p(t),p(k),p(c),p(_),p(C),p(q),u=!1},d(g){g&&(h(l),h(r),h(s),h(f),h(i),h(a)),b[n].d(g),k&&k.d(g),c&&c.d(g),_&&_.d(g),C&&C.d(g),q&&q.d(g)}}}function Xo(o,e,n){let t,l,r,s,f,i,a,u,d,b;oe(o,Hn,J=>n(22,u=J)),oe(o,He,J=>n(9,b=J));var w,k;let{workflow:c}=e,{namespace:_}=e,{cancelInProgress:C}=e,{isRunning:q}=e,g=!1,$=!1,S=!1,A=!1,H=!1,R,z=kl();oe(o,z,J=>n(23,d=J));let y;const se=()=>Bt(Nt({namespace:_,workflowId:c.id,taskQueue:c.taskQueue,workflowType:c.name})),re=()=>n(10,g=!0),N=()=>Bt(Nt({namespace:_,workflowId:c.id,taskQueue:c.taskQueue,workflowType:c.name})),V=()=>n(12,S=!0),X=()=>n(12,S=!0);function v(J){S=J,n(12,S),n(8,i),n(4,R),n(7,l),n(6,r),n(5,s),n(21,f),n(0,c),n(22,u),n(19,w),n(20,k),n(9,b),n(23,d),n(1,_)}function P(J){A=J,n(13,A),n(8,i),n(4,R),n(7,l),n(6,r),n(5,s),n(21,f),n(0,c),n(22,u),n(19,w),n(20,k),n(9,b),n(23,d),n(1,_)}function j(J){H=J,n(14,H),n(8,i),n(4,R),n(7,l),n(6,r),n(5,s),n(21,f),n(0,c),n(22,u),n(19,w),n(20,k),n(9,b),n(23,d),n(1,_)}function te(J){g=J,n(10,g)}function M(J){$=J,n(11,$),n(8,i),n(4,R),n(7,l),n(6,r),n(5,s),n(21,f),n(0,c),n(22,u),n(19,w),n(20,k),n(9,b),n(23,d),n(1,_)}return o.$$set=J=>{"workflow"in J&&n(0,c=J.workflow),"namespace"in J&&n(1,_=J.namespace),"cancelInProgress"in J&&n(2,C=J.cancelInProgress),"isRunning"in J&&n(3,q=J.isRunning)},o.$$.update=()=>{o.$$.dirty[0]&8389122&&n(17,t=fl(b.data.settings,d,_)),o.$$.dirty[0]&8389122&&n(7,l=Fo(b.data.settings,d,_)),o.$$.dirty[0]&8389122&&n(6,r=Uo(b.data.settings,d,_)),o.$$.dirty[0]&8389122&&n(5,s=il(b.data.settings,d,_)),o.$$.dirty[0]&8389122&&n(21,f=al(b.data.settings,d,_)),o.$$.dirty[0]&6291457&&n(8,i=f&&c.pendingChildren.length===0&&u.length>0),o.$$.dirty[0]&416&&n(16,a=!i&&!l&&!s),o.$$.dirty[0]&7864321&&(f?f&&(n(19,w=c==null?void 0:c.pendingChildren)===null||w===void 0?void 0:w.length)>0?n(4,R=B("workflows.reset-disabled-pending-children")):f&&(n(20,k=c==null?void 0:c.pendingChildren)===null||k===void 0?void 0:k.length)===0&&u.length===0&&n(4,R=B("workflows.reset-disabled-no-events")):n(4,R=B("workflows.reset-disabled-unauthorized"))),o.$$.dirty[0]&496&&n(15,y=[{label:B("workflows.reset"),onClick:()=>n(12,S=!0),testId:"reset-button",enabled:i,description:i?"":R},{label:B("workflows.signal"),onClick:()=>n(13,A=!0),testId:"signal-button",enabled:l,description:l?"":B("workflows.signal-disabled")},{label:B("workflows.update"),onClick:()=>n(14,H=!0),testId:"update-button",enabled:r,description:r?"":B("workflows.update-disabled")},{label:B("workflows.terminate"),onClick:()=>n(11,$=!0),testId:"terminate-button",enabled:s,destructive:!0,description:s?"":B("workflows.terminate-disabled")}])},[c,_,C,q,R,s,r,l,i,b,g,$,S,A,H,y,a,t,z,w,k,f,u,d,se,re,N,V,X,v,P,j,te,M]}class gn extends ve{constructor(e){super(),Ie(this,e,Xo,Ko,be,{workflow:0,namespace:1,cancelInProgress:2,isRunning:3},null,[-1,-1])}}function yo(o){let e,n,t=B("workers.buildId")+"",l,r,s;return r=new vl({props:{active:!0,buildId:o[0]}}),{c(){e=Y("p"),n=Y("span"),l=x(t),I(r.$$.fragment),this.h()},l(f){e=G(f,"P",{class:!0});var i=Z(e);n=G(i,"SPAN",{});var a=Z(n);l=ee(a,t),a.forEach(h),E(r.$$.fragment,i),i.forEach(h),this.h()},h(){O(e,"class","flex items-center gap-1")},m(f,i){W(f,e,i),F(e,n),F(n,l),D(r,e,null),s=!0},p(f,[i]){const a={};i&1&&(a.buildId=f[0]),r.$set(a)},i(f){s||(m(r.$$.fragment,f),s=!0)},o(f){p(r.$$.fragment,f),s=!1},d(f){f&&h(e),T(r)}}}function xo(o,e,n){let t,{workflow:l}=e;return o.$$set=r=>{"workflow"in r&&n(1,l=r.workflow)},o.$$.update=()=>{o.$$.dirty&2&&n(0,t=Il(l))},[t,l]}class er extends ve{constructor(e){super(),Ie(this,e,xo,yo,be,{workflow:1})}}const tr=o=>({open:o&1}),$n=o=>({open:o[0]}),nr=o=>({}),wn=o=>({}),lr=o=>({}),hn=o=>({}),or=o=>({}),kn=o=>({});function rr(o){let e,n,t,l,r,s,f,i,a,u,d,b,w,k,c,_,C,q;const g=o[6].title,$=Me(g,o,o[5],kn),S=o[6].description,A=Me(S,o,o[5],hn),H=o[6].action,R=Me(H,o,o[5],wn);i=new Oe({props:{class:"m-2 shrink-0",name:o[0]?"arrow-down":"arrow-right"}});const z=o[6].default,y=Me(z,o,o[5],$n);let se=[{class:"w-full"},o[3]],re={};for(let N=0;N<se.length;N+=1)re=Qe(re,se[N]);return{c(){e=Y("div"),n=Y("button"),t=Y("div"),$&&$.c(),l=Q(),A&&A.c(),r=Q(),s=Y("div"),R&&R.c(),f=Q(),I(i.$$.fragment),d=Q(),b=Y("div"),y&&y.c(),this.h()},l(N){e=G(N,"DIV",{class:!0});var V=Z(e);n=G(V,"BUTTON",{id:!0,"aria-expanded":!0,"aria-controls":!0,class:!0,type:!0});var X=Z(n);t=G(X,"DIV",{class:!0});var v=Z(t);$&&$.l(v),l=L(v),A&&A.l(v),r=L(v),s=G(v,"DIV",{class:!0,role:!0});var P=Z(s);R&&R.l(P),f=L(P),E(i.$$.fragment,P),P.forEach(h),v.forEach(h),X.forEach(h),d=L(V),b=G(V,"DIV",{id:!0,"aria-labelledby":!0,role:!0,class:!0});var j=Z(b);y&&y.l(j),j.forEach(h),V.forEach(h),this.h()},h(){O(s,"class","flex flex-row items-center gap-2 pr-2"),O(s,"role","none"),O(t,"class","flex w-full flex-row items-center justify-between gap-2"),O(n,"id",a=o[1]+"-trigger"),O(n,"aria-expanded",o[0]),O(n,"aria-controls",u=o[1]+"-content"),O(n,"class","focus-visible:outline-interactive w-full cursor-pointer hover:bg-interactive-secondary-hover"),O(n,"type","button"),O(b,"id",w=o[1]+"-content"),O(b,"aria-labelledby",k=o[1]+"-trigger"),O(b,"role","textbox"),O(b,"class","block w-full bg-primary p-2"),Ue(b,"hidden",!o[0]),Pt(e,re)},m(N,V){W(N,e,V),F(e,n),F(n,t),$&&$.m(t,null),F(t,l),A&&A.m(t,null),F(t,r),F(t,s),R&&R.m(s,null),F(s,f),D(i,s,null),F(e,d),F(e,b),y&&y.m(b,null),_=!0,C||(q=[rt(s,"click",St(o[7])),rt(s,"keyup",St(o[8])),rt(n,"click",o[2])],C=!0)},p(N,[V]){$&&$.p&&(!_||V&32)&&Ne($,g,N,N[5],_?Be(g,N[5],V,or):qe(N[5]),kn),A&&A.p&&(!_||V&32)&&Ne(A,S,N,N[5],_?Be(S,N[5],V,lr):qe(N[5]),hn),R&&R.p&&(!_||V&32)&&Ne(R,H,N,N[5],_?Be(H,N[5],V,nr):qe(N[5]),wn);const X={};V&1&&(X.name=N[0]?"arrow-down":"arrow-right"),i.$set(X),(!_||V&2&&a!==(a=N[1]+"-trigger"))&&O(n,"id",a),(!_||V&1)&&O(n,"aria-expanded",N[0]),(!_||V&2&&u!==(u=N[1]+"-content"))&&O(n,"aria-controls",u),y&&y.p&&(!_||V&33)&&Ne(y,z,N,N[5],_?Be(z,N[5],V,tr):qe(N[5]),$n),(!_||V&2&&w!==(w=N[1]+"-content"))&&O(b,"id",w),(!_||V&2&&k!==(k=N[1]+"-trigger"))&&O(b,"aria-labelledby",k),(!_||V&1)&&Ue(b,"hidden",!N[0]),Pt(e,re=Dl(se,[{class:"w-full"},V&8&&N[3]]))},i(N){_||(m($,N),m(A,N),m(R,N),m(i.$$.fragment,N),m(y,N),N&&ct(()=>{_&&(c||(c=Wt(b,qt,{},!0)),c.run(1))}),_=!0)},o(N){p($,N),p(A,N),p(R,N),p(i.$$.fragment,N),p(y,N),N&&(c||(c=Wt(b,qt,{},!1)),c.run(0)),_=!1},d(N){N&&h(e),$&&$.d(N),A&&A.d(N),R&&R.d(N),T(i),y&&y.d(N),N&&c&&c.end(),C=!1,Zn(q)}}}function sr(o,e,n){const t=["id","open","onToggle"];let l=xe(e,t),{$$slots:r={},$$scope:s}=e,{id:f=it()}=e,{open:i=!1}=e,{onToggle:a=pe}=e;const u=()=>{n(0,i=!i),a()};function d(w){At.call(this,o,w)}function b(w){At.call(this,o,w)}return o.$$set=w=>{e=Qe(Qe({},e),Vn(w)),n(3,l=xe(e,t)),"id"in w&&n(1,f=w.id),"open"in w&&n(0,i=w.open),"onToggle"in w&&n(4,a=w.onToggle),"$$scope"in w&&n(5,s=w.$$scope)},[i,f,u,l,a,s,r,d,b]}class Jn extends ve{constructor(e){super(),Ie(this,e,sr,rr,be,{id:1,open:0,onToggle:4})}}const fr=(o,e)=>{const n=o==="Running",t=e==null?void 0:e.some(l=>(l==null?void 0:l.eventType)==="WorkflowExecutionCancelRequested");return n&&t},bn=o=>{const e=o==null?void 0:o.indexOf("?");return e>-1?o.slice(0,e):o},$e=(o,e,n=!1)=>{const t=bn(o).split("/"),l=bn(e).split("/");if(n&&t.length!==l.length)return!1;for(let r=0;r<t.length;r++){const s=t[r],f=l[r];if(s!==f)return!1}return!0};function ir(o){let e=(o[17]?B("common.workflows"):B("workflows.back-to-workflows"))+"",n;return{c(){n=x(e)},l(t){n=ee(t,e)},m(t,l){W(t,n,l)},p(t,l){l[0]&131072&&e!==(e=(t[17]?B("common.workflows"):B("workflows.back-to-workflows"))+"")&&ce(n,e)},d(t){t&&h(n)}}}function vn(o){let e,n;return e=new je({props:{href:We({...o[15]}),"data-testid":"back-to-workflow-execution",icon:"chevron-left",$$slots:{default:[ar]},$$scope:{ctx:o}}}),{c(){I(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,l){D(e,t,l),n=!0},p(t,l){const r={};l[0]&32768&&(r.href=We({...t[15]})),l[0]&4|l[1]&2&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function ar(o){var t;let e=((t=o[2])==null?void 0:t.runId)+"",n;return{c(){n=x(e)},l(l){n=ee(l,e)},m(l,r){W(l,n,r)},p(l,r){var s;r[0]&4&&e!==(e=((s=l[2])==null?void 0:s.runId)+"")&&ce(n,e)},d(l){l&&h(n)}}}function In(o){let e,n;return e=new er({props:{workflow:o[2]}}),{c(){I(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,l){D(e,t,l),n=!0},p(t,l){const r={};l[0]&4&&(r.workflow=t[2]),e.$set(r)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function En(o){let e,n;return e=new Jn({props:{$$slots:{title:[cr],default:[ur,({open:t})=>({31:t}),({open:t})=>[0,t?1:0]]},$$scope:{ctx:o}}}),{c(){I(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,l){D(e,t,l),n=!0},p(t,l){const r={};l[0]&3|l[1]&3&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Dn(o){let e,n=B("workflows.summary")+"",t,l,r,s;return r=new $t({props:{content:o[1]}}),{c(){e=Y("h3"),t=x(n),l=Q(),I(r.$$.fragment)},l(f){e=G(f,"H3",{});var i=Z(e);t=ee(i,n),i.forEach(h),l=L(f),E(r.$$.fragment,f)},m(f,i){W(f,e,i),F(e,t),W(f,l,i),D(r,f,i),s=!0},p(f,i){const a={};i[0]&2&&(a.content=f[1]),r.$set(a)},i(f){s||(m(r.$$.fragment,f),s=!0)},o(f){p(r.$$.fragment,f),s=!1},d(f){f&&(h(e),h(l)),T(r,f)}}}function Tn(o){let e,n=B("workflows.details")+"",t,l,r,s;return r=new $t({props:{content:o[0]}}),{c(){e=Y("h3"),t=x(n),l=Q(),I(r.$$.fragment)},l(f){e=G(f,"H3",{});var i=Z(e);t=ee(i,n),i.forEach(h),l=L(f),E(r.$$.fragment,f)},m(f,i){W(f,e,i),F(e,t),W(f,l,i),D(r,f,i),s=!0},p(f,i){const a={};i[0]&1&&(a.content=f[0]),r.$set(a)},i(f){s||(m(r.$$.fragment,f),s=!0)},o(f){p(r.$$.fragment,f),s=!1},d(f){f&&(h(e),h(l)),T(r,f)}}}function ur(o){let e,n,t,l=o[31]&&o[1]&&Dn(o),r=o[31]&&o[0]&&Tn(o);return{c(){l&&l.c(),e=Q(),r&&r.c(),n=me()},l(s){l&&l.l(s),e=L(s),r&&r.l(s),n=me()},m(s,f){l&&l.m(s,f),W(s,e,f),r&&r.m(s,f),W(s,n,f),t=!0},p(s,f){s[31]&&s[1]?l?(l.p(s,f),f[0]&2|f[1]&1&&m(l,1)):(l=Dn(s),l.c(),m(l,1),l.m(e.parentNode,e)):l&&(ne(),p(l,1,1,()=>{l=null}),le()),s[31]&&s[0]?r?(r.p(s,f),f[0]&1|f[1]&1&&m(r,1)):(r=Tn(s),r.c(),m(r,1),r.m(n.parentNode,n)):r&&(ne(),p(r,1,1,()=>{r=null}),le())},i(s){t||(m(l),m(r),t=!0)},o(s){p(l),p(r),t=!1},d(s){s&&(h(e),h(n)),l&&l.d(s),r&&r.d(s)}}}function cr(o){let e,n,t=B("workflows.summary-and-details")+"",l,r;return n=new Oe({props:{name:"info",class:"text-brand",width:32,height:32}}),{c(){e=Y("div"),I(n.$$.fragment),l=x(t),this.h()},l(s){e=G(s,"DIV",{slot:!0,class:!0});var f=Z(e);E(n.$$.fragment,f),l=ee(f,t),f.forEach(h),this.h()},h(){O(e,"slot","title"),O(e,"class","flex w-full items-center gap-2 p-2 text-xl")},m(s,f){W(s,e,f),D(n,e,null),F(e,l),r=!0},p:pe,i(s){r||(m(n.$$.fragment,s),r=!0)},o(s){p(n.$$.fragment,s),r=!1},d(s){s&&h(e),T(n)}}}function Cn(o){let e,n;return e=new Jn({props:{$$slots:{title:[pr],default:[mr,({open:t})=>({31:t}),({open:t})=>[0,t?1:0]]},$$scope:{ctx:o}}}),{c(){I(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,l){D(e,t,l),n=!0},p(t,l){const r={};l[0]&128|l[1]&3&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Pn(o){let e,n;return e=new $t({props:{content:o[7]}}),{c(){I(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,l){D(e,t,l),n=!0},p(t,l){const r={};l[0]&128&&(r.content=t[7]),e.$set(r)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function mr(o){let e,n,t=o[31]&&Pn(o);return{c(){t&&t.c(),e=me()},l(l){t&&t.l(l),e=me()},m(l,r){t&&t.m(l,r),W(l,e,r),n=!0},p(l,r){l[31]?t?(t.p(l,r),r[1]&1&&m(t,1)):(t=Pn(l),t.c(),m(t,1),t.m(e.parentNode,e)):t&&(ne(),p(t,1,1,()=>{t=null}),le())},i(l){n||(m(t),n=!0)},o(l){p(t),n=!1},d(l){l&&h(e),t&&t.d(l)}}}function pr(o){let e,n,t=B("workflows.current-details")+"",l,r;return n=new Oe({props:{name:"flag",class:"text-brand",width:32,height:32}}),{c(){e=Y("div"),I(n.$$.fragment),l=x(t),this.h()},l(s){e=G(s,"DIV",{slot:!0,class:!0});var f=Z(e);E(n.$$.fragment,f),l=ee(f,t),f.forEach(h),this.h()},h(){O(e,"slot","title"),O(e,"class","flex w-full items-center gap-2 p-2 text-xl")},m(s,f){W(s,e,f),D(n,e,null),F(e,l),r=!0},p:pe,i(s){r||(m(n.$$.fragment,s),r=!0)},o(s){p(n.$$.fragment,s),r=!1},d(s){s&&h(e),T(n)}}}function Sn(o){let e,n,t,l;return n=new Je({props:{icon:"info",intent:"info",title:B("workflows.cancel-request-sent"),$$slots:{default:[_r]},$$scope:{ctx:o}}}),{c(){e=Y("div"),I(n.$$.fragment)},l(r){e=G(r,"DIV",{});var s=Z(e);E(n.$$.fragment,s),s.forEach(h)},m(r,s){W(r,e,s),D(n,e,null),l=!0},p(r,s){const f={};s[1]&2&&(f.$$scope={dirty:s,ctx:r}),n.$set(f)},i(r){l||(m(n.$$.fragment,r),r&&(t||ct(()=>{t=Nn(e,Bn,{duration:200,delay:100}),t.start()})),l=!0)},o(r){p(n.$$.fragment,r),l=!1},d(r){r&&h(e),T(n)}}}function _r(o){let e=B("workflows.cancel-request-sent-description")+"",n;return{c(){n=x(e)},l(t){n=ee(t,e)},m(t,l){W(t,n,l)},p:pe,d(t){t&&h(n)}}}function An(o){let e,n,t,l;return n=new Je({props:{icon:"info",intent:"info","data-testid":"workflow-reset-alert",title:B("workflows.reset-success-alert-title"),$$slots:{default:[gr]},$$scope:{ctx:o}}}),{c(){e=Y("div"),I(n.$$.fragment)},l(r){e=G(r,"DIV",{});var s=Z(e);E(n.$$.fragment,s),s.forEach(h)},m(r,s){W(r,e,s),D(n,e,null),l=!0},p(r,s){const f={};s[0]&56|s[1]&2&&(f.$$scope={dirty:s,ctx:r}),n.$set(f)},i(r){l||(m(n.$$.fragment,r),r&&(t||ct(()=>{t=Nn(e,Bn,{duration:200,delay:100}),t.start()})),l=!0)},o(r){p(n.$$.fragment,r),l=!1},d(r){r&&h(e),T(n)}}}function dr(o){let e;return{c(){e=x("here")},l(n){e=ee(n,"here")},m(n,t){W(n,e,t)},d(n){n&&h(e)}}}function gr(o){var r,s,f,i;let e,n,t,l;return n=new je({props:{href:We({namespace:o[3],workflow:(s=(r=o[4])==null?void 0:r.workflow)==null?void 0:s.id,run:o[5][(i=(f=o[4])==null?void 0:f.workflow)==null?void 0:i.runId]}),$$slots:{default:[dr]},$$scope:{ctx:o}}}),{c(){e=x("You can find the resulting Workflow Execution "),I(n.$$.fragment),t=x(".")},l(a){e=ee(a,"You can find the resulting Workflow Execution "),E(n.$$.fragment,a),t=ee(a,".")},m(a,u){W(a,e,u),D(n,a,u),W(a,t,u),l=!0},p(a,u){var b,w,k,c;const d={};u[0]&56&&(d.href=We({namespace:a[3],workflow:(w=(b=a[4])==null?void 0:b.workflow)==null?void 0:w.id,run:a[5][(c=(k=a[4])==null?void 0:k.workflow)==null?void 0:c.runId]})),u[1]&2&&(d.$$scope={dirty:u,ctx:a}),n.$set(d)},i(a){l||(m(n.$$.fragment,a),l=!0)},o(a){p(n.$$.fragment,a),l=!1},d(a){a&&(h(e),h(t)),T(n,a)}}}function $r(o){var t;let e=((t=o[2])==null?void 0:t.historyEvents)+"",n;return{c(){n=x(e)},l(l){n=ee(l,e)},m(l,r){W(l,n,r)},p(l,r){var s;r[0]&4&&e!==(e=((s=l[2])==null?void 0:s.historyEvents)+"")&&ce(n,e)},d(l){l&&h(n)}}}function wr(o){let e,n;return e=new ot({props:{type:"primary",class:"px-2 py-0",$$slots:{default:[$r]},$$scope:{ctx:o}}}),{c(){I(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,l){D(e,t,l),n=!0},p(t,l){const r={};l[0]&4|l[1]&2&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function hr(o){let e=o[9].relationshipCount+"",n;return{c(){n=x(e)},l(t){n=ee(t,e)},m(t,l){W(t,n,l)},p(t,l){l[0]&512&&e!==(e=t[9].relationshipCount+"")&&ce(n,e)},d(t){t&&h(n)}}}function kr(o){let e,n;return e=new ot({props:{type:"primary",class:"px-2 py-0",$$slots:{default:[hr]},$$scope:{ctx:o}}}),{c(){I(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,l){D(e,t,l),n=!0},p(t,l){const r={};l[0]&512|l[1]&2&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function br(o){var t,l;let e=((l=(t=o[16])==null?void 0:t.pollers)==null?void 0:l.length)+"",n;return{c(){n=x(e)},l(r){n=ee(r,e)},m(r,s){W(r,n,s)},p(r,s){var f,i;s[0]&65536&&e!==(e=((i=(f=r[16])==null?void 0:f.pollers)==null?void 0:i.length)+"")&&ce(n,e)},d(r){r&&h(n)}}}function vr(o){let e,n;return e=new ot({props:{type:"primary",class:"px-2 py-0",$$slots:{default:[br]},$$scope:{ctx:o}}}),{c(){I(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,l){D(e,t,l),n=!0},p(t,l){const r={};l[0]&65536|l[1]&2&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Wn(o){let e,n;return e=new Oe({props:{name:"canceled"}}),{c(){I(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,l){D(e,t,l),n=!0},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Ir(o){var f,i;let e,n,t=((i=(f=o[2])==null?void 0:f.pendingActivities)==null?void 0:i.length)+"",l,r,s=o[13]&&Wn();return{c(){e=Y("div"),s&&s.c(),n=Q(),l=x(t),this.h()},l(a){e=G(a,"DIV",{class:!0});var u=Z(e);s&&s.l(u),n=L(u),l=ee(u,t),u.forEach(h),this.h()},h(){O(e,"class","flex items-center gap-1")},m(a,u){W(a,e,u),s&&s.m(e,null),F(e,n),F(e,l),r=!0},p(a,u){var d,b;a[13]?s?u[0]&8192&&m(s,1):(s=Wn(),s.c(),m(s,1),s.m(e,n)):s&&(ne(),p(s,1,1,()=>{s=null}),le()),(!r||u[0]&4)&&t!==(t=((b=(d=a[2])==null?void 0:d.pendingActivities)==null?void 0:b.length)+"")&&ce(l,t)},i(a){r||(m(s),r=!0)},o(a){p(s),r=!1},d(a){a&&h(e),s&&s.d()}}}function Er(o){let e,n;return e=new ot({props:{type:o[13]?"warning":"primary",class:"px-2 py-0",$$slots:{default:[Ir]},$$scope:{ctx:o}}}),{c(){I(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,l){D(e,t,l),n=!0},p(t,l){const r={};l[0]&8192&&(r.type=t[13]?"warning":"primary"),l[0]&8196|l[1]&2&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Dr(o){let e,n,t,l,r,s,f,i,a,u,d,b,w,k;return e=new Ve({props:{label:B("workflows.history-tab"),id:"history-tab",href:We({...o[15]}),active:$e(o[6].url.pathname,We({...o[15]})),$$slots:{default:[wr]},$$scope:{ctx:o}}}),t=new Ve({props:{label:B("workflows.relationships"),id:"relationships-tab",href:Ye(o[15]),active:$e(o[6].url.pathname,Ye(o[15])),$$slots:{default:[kr]},$$scope:{ctx:o}}}),r=new Ve({props:{label:B("workflows.workers-tab"),id:"workers-tab",href:Fe(o[15]),active:$e(o[6].url.pathname,Fe(o[15])),$$slots:{default:[vr]},$$scope:{ctx:o}}}),f=new Ve({props:{label:B("workflows.pending-activities-tab"),id:"pending-activities-tab",href:Ge(o[15]),active:$e(o[6].url.pathname,Ge(o[15])),$$slots:{default:[Er]},$$scope:{ctx:o}}}),a=new Ve({props:{label:B("workflows.call-stack-tab"),id:"call-stack-tab",href:Ze(o[15]),active:$e(o[6].url.pathname,Ze(o[15]))}}),d=new Ve({props:{label:B("workflows.queries-tab"),id:"queries-tab",href:Ke(o[15]),active:$e(o[6].url.pathname,Ke(o[15]))}}),w=new Ve({props:{label:B("workflows.metadata-tab"),id:"metadata-tab",href:Xe(o[15]),active:$e(o[6].url.pathname,Xe(o[15]))}}),{c(){I(e.$$.fragment),n=Q(),I(t.$$.fragment),l=Q(),I(r.$$.fragment),s=Q(),I(f.$$.fragment),i=Q(),I(a.$$.fragment),u=Q(),I(d.$$.fragment),b=Q(),I(w.$$.fragment)},l(c){E(e.$$.fragment,c),n=L(c),E(t.$$.fragment,c),l=L(c),E(r.$$.fragment,c),s=L(c),E(f.$$.fragment,c),i=L(c),E(a.$$.fragment,c),u=L(c),E(d.$$.fragment,c),b=L(c),E(w.$$.fragment,c)},m(c,_){D(e,c,_),W(c,n,_),D(t,c,_),W(c,l,_),D(r,c,_),W(c,s,_),D(f,c,_),W(c,i,_),D(a,c,_),W(c,u,_),D(d,c,_),W(c,b,_),D(w,c,_),k=!0},p(c,_){const C={};_[0]&32768&&(C.href=We({...c[15]})),_[0]&32832&&(C.active=$e(c[6].url.pathname,We({...c[15]}))),_[0]&4|_[1]&2&&(C.$$scope={dirty:_,ctx:c}),e.$set(C);const q={};_[0]&32768&&(q.href=Ye(c[15])),_[0]&32832&&(q.active=$e(c[6].url.pathname,Ye(c[15]))),_[0]&512|_[1]&2&&(q.$$scope={dirty:_,ctx:c}),t.$set(q);const g={};_[0]&32768&&(g.href=Fe(c[15])),_[0]&32832&&(g.active=$e(c[6].url.pathname,Fe(c[15]))),_[0]&65536|_[1]&2&&(g.$$scope={dirty:_,ctx:c}),r.$set(g);const $={};_[0]&32768&&($.href=Ge(c[15])),_[0]&32832&&($.active=$e(c[6].url.pathname,Ge(c[15]))),_[0]&8196|_[1]&2&&($.$$scope={dirty:_,ctx:c}),f.$set($);const S={};_[0]&32768&&(S.href=Ze(c[15])),_[0]&32832&&(S.active=$e(c[6].url.pathname,Ze(c[15]))),a.$set(S);const A={};_[0]&32768&&(A.href=Ke(c[15])),_[0]&32832&&(A.active=$e(c[6].url.pathname,Ke(c[15]))),d.$set(A);const H={};_[0]&32768&&(H.href=Xe(c[15])),_[0]&32832&&(H.active=$e(c[6].url.pathname,Xe(c[15]))),w.$set(H)},i(c){k||(m(e.$$.fragment,c),m(t.$$.fragment,c),m(r.$$.fragment,c),m(f.$$.fragment,c),m(a.$$.fragment,c),m(d.$$.fragment,c),m(w.$$.fragment,c),k=!0)},o(c){p(e.$$.fragment,c),p(t.$$.fragment,c),p(r.$$.fragment,c),p(f.$$.fragment,c),p(a.$$.fragment,c),p(d.$$.fragment,c),p(w.$$.fragment,c),k=!1},d(c){c&&(h(n),h(l),h(s),h(i),h(u),h(b)),T(e,c),T(t,c),T(r,c),T(f,c),T(a,c),T(d,c),T(w,c)}}}function Tr(o){let e,n;return e=new Cl({props:{class:"flex flex-wrap gap-6 pt-2",label:"workflow detail",$$slots:{default:[Dr]},$$scope:{ctx:o}}}),{c(){I(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,l){D(e,t,l),n=!0},p(t,l){const r={};l[0]&107076|l[1]&2&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Cr(o){var J,_e;let e,n,t,l,r,s,f,i,a,u,d,b,w,k,c,_,C,q,g,$,S,A,H,R,z,y,se,re,N,V;t=new je({props:{href:`${et({namespace:o[3]})}?${o[18]}`,"data-testid":"back-to-workflows",icon:"chevron-left",$$slots:{default:[ir]},$$scope:{ctx:o}}});let X=o[17]&&vn(o);u=new bl({props:{status:(J=o[2])==null?void 0:J.status,big:!0}}),w=new gn({props:{isRunning:o[14],cancelInProgress:o[12],workflow:o[2],namespace:o[3]}}),C=new Fn({props:{copyIconTitle:B("common.copy-icon-title"),copySuccessIconTitle:B("common.copy-success-icon-title"),content:(_e=o[2])==null?void 0:_e.id,clickAllToCopy:!0,"container-class":"w-full",class:"overflow-hidden text-ellipsis text-left"}});let v=o[10]&&In(o);S=new gn({props:{isRunning:o[14],cancelInProgress:o[12],workflow:o[2],namespace:o[3]}});let P=o[8]&&En(o),j=o[7]&&Cn(o);z=new lo({props:{workflow:o[2]}});let te=o[12]&&Sn(o),M=o[11]&&An(o);return N=new Tl({props:{$$slots:{default:[Tr]},$$scope:{ctx:o}}}),{c(){e=Y("div"),n=Y("div"),I(t.$$.fragment),l=Q(),X&&X.c(),r=Q(),s=Y("header"),f=Y("div"),i=Y("div"),a=Y("div"),I(u.$$.fragment),d=Q(),b=Y("div"),I(w.$$.fragment),k=Q(),c=Y("div"),_=Y("h1"),I(C.$$.fragment),q=Q(),v&&v.c(),g=Q(),$=Y("div"),I(S.$$.fragment),A=Q(),P&&P.c(),H=Q(),j&&j.c(),R=Q(),I(z.$$.fragment),y=Q(),te&&te.c(),se=Q(),M&&M.c(),re=Q(),I(N.$$.fragment),this.h()},l(U){e=G(U,"DIV",{class:!0});var K=Z(e);n=G(K,"DIV",{class:!0});var we=Z(n);E(t.$$.fragment,we),l=L(we),X&&X.l(we),we.forEach(h),K.forEach(h),r=L(U),s=G(U,"HEADER",{class:!0});var ue=Z(s);f=G(ue,"DIV",{class:!0});var ge=Z(f);i=G(ge,"DIV",{class:!0});var Ee=Z(i);a=G(Ee,"DIV",{class:!0});var he=Z(a);E(u.$$.fragment,he),d=L(he),b=G(he,"DIV",{class:!0});var Ce=Z(b);E(w.$$.fragment,Ce),Ce.forEach(h),he.forEach(h),k=L(Ee),c=G(Ee,"DIV",{class:!0});var De=Z(c);_=G(De,"H1",{"data-testid":!0,class:!0});var Pe=Z(_);E(C.$$.fragment,Pe),Pe.forEach(h),q=L(De),v&&v.l(De),De.forEach(h),Ee.forEach(h),g=L(ge),$=G(ge,"DIV",{class:!0});var Se=Z($);E(S.$$.fragment,Se),Se.forEach(h),ge.forEach(h),A=L(ue),P&&P.l(ue),H=L(ue),j&&j.l(ue),R=L(ue),E(z.$$.fragment,ue),y=L(ue),te&&te.l(ue),se=L(ue),M&&M.l(ue),re=L(ue),E(N.$$.fragment,ue),ue.forEach(h),this.h()},h(){O(n,"class","flex items-center gap-2"),O(e,"class","flex items-center justify-between pb-4"),O(b,"class","lg:hidden"),O(a,"class","flex flex-wrap items-center justify-between gap-4 max-lg:w-full"),O(_,"data-testid","workflow-id-heading"),O(_,"class","gap-0 overflow-hidden max-sm:text-xl sm:max-md:text-2xl"),O(c,"class","flex flex-col flex-wrap gap-0"),O(i,"class","flex w-full flex-col items-start gap-4 lg:flex-row lg:items-center"),O($,"class","max-lg:hidden"),O(f,"class","flex flex-col items-center justify-between gap-4 lg:flex-row"),O(s,"class","flex flex-col gap-2")},m(U,K){W(U,e,K),F(e,n),D(t,n,null),F(n,l),X&&X.m(n,null),W(U,r,K),W(U,s,K),F(s,f),F(f,i),F(i,a),D(u,a,null),F(a,d),F(a,b),D(w,b,null),F(i,k),F(i,c),F(c,_),D(C,_,null),F(c,q),v&&v.m(c,null),F(f,g),F(f,$),D(S,$,null),F(s,A),P&&P.m(s,null),F(s,H),j&&j.m(s,null),F(s,R),D(z,s,null),F(s,y),te&&te.m(s,null),F(s,se),M&&M.m(s,null),F(s,re),D(N,s,null),V=!0},p(U,K){var Pe,Se;const we={};K[0]&262152&&(we.href=`${et({namespace:U[3]})}?${U[18]}`),K[0]&131072|K[1]&2&&(we.$$scope={dirty:K,ctx:U}),t.$set(we),U[17]?X?(X.p(U,K),K[0]&131072&&m(X,1)):(X=vn(U),X.c(),m(X,1),X.m(n,null)):X&&(ne(),p(X,1,1,()=>{X=null}),le());const ue={};K[0]&4&&(ue.status=(Pe=U[2])==null?void 0:Pe.status),u.$set(ue);const ge={};K[0]&16384&&(ge.isRunning=U[14]),K[0]&4096&&(ge.cancelInProgress=U[12]),K[0]&4&&(ge.workflow=U[2]),K[0]&8&&(ge.namespace=U[3]),w.$set(ge);const Ee={};K[0]&4&&(Ee.content=(Se=U[2])==null?void 0:Se.id),C.$set(Ee),U[10]?v?(v.p(U,K),K[0]&1024&&m(v,1)):(v=In(U),v.c(),m(v,1),v.m(c,null)):v&&(ne(),p(v,1,1,()=>{v=null}),le());const he={};K[0]&16384&&(he.isRunning=U[14]),K[0]&4096&&(he.cancelInProgress=U[12]),K[0]&4&&(he.workflow=U[2]),K[0]&8&&(he.namespace=U[3]),S.$set(he),U[8]?P?(P.p(U,K),K[0]&256&&m(P,1)):(P=En(U),P.c(),m(P,1),P.m(s,H)):P&&(ne(),p(P,1,1,()=>{P=null}),le()),U[7]?j?(j.p(U,K),K[0]&128&&m(j,1)):(j=Cn(U),j.c(),m(j,1),j.m(s,R)):j&&(ne(),p(j,1,1,()=>{j=null}),le());const Ce={};K[0]&4&&(Ce.workflow=U[2]),z.$set(Ce),U[12]?te?(te.p(U,K),K[0]&4096&&m(te,1)):(te=Sn(U),te.c(),m(te,1),te.m(s,se)):te&&(ne(),p(te,1,1,()=>{te=null}),le()),U[11]?M?(M.p(U,K),K[0]&2048&&m(M,1)):(M=An(U),M.c(),m(M,1),M.m(s,re)):M&&(ne(),p(M,1,1,()=>{M=null}),le());const De={};K[0]&107076|K[1]&2&&(De.$$scope={dirty:K,ctx:U}),N.$set(De)},i(U){V||(m(t.$$.fragment,U),m(X),m(u.$$.fragment,U),m(w.$$.fragment,U),m(C.$$.fragment,U),m(v),m(S.$$.fragment,U),m(P),m(j),m(z.$$.fragment,U),m(te),m(M),m(N.$$.fragment,U),V=!0)},o(U){p(t.$$.fragment,U),p(X),p(u.$$.fragment,U),p(w.$$.fragment,U),p(C.$$.fragment,U),p(v),p(S.$$.fragment,U),p(P),p(j),p(z.$$.fragment,U),p(te),p(M),p(N.$$.fragment,U),V=!1},d(U){U&&(h(e),h(r),h(s)),T(t),X&&X.d(),T(u),T(w),T(C),v&&v.d(),T(S),P&&P.d(),j&&j.d(),T(z),te&&te.d(),M&&M.d(),T(N)}}}function Pr(o,e,n){let t,l,r,s,f,i,a,u,d,b,w,k,c,_,C,q,g,$,S,A,H,R,z;oe(o,Te,j=>n(4,$=j)),oe(o,Pl,j=>n(29,S=j)),oe(o,ye,j=>n(30,A=j)),oe(o,zn,j=>n(5,H=j)),oe(o,He,j=>n(6,R=j)),oe(o,qn,j=>n(18,z=j));var y,se,re,N,V,X,v,P;return o.$$.update=()=>{o.$$.dirty[0]&64&&n(3,{namespace:t,workflow:l,run:r,id:s}=R.params,t,(n(28,l),n(6,R)),(n(27,r),n(6,R)),(n(17,s),n(6,R))),o.$$.dirty[0]&16&&n(2,{workflow:f,workers:i}=$,f,(n(16,i),n(4,$))),o.$$.dirty[0]&402653192&&n(15,a={namespace:t,workflow:l,run:r}),o.$$.dirty[0]&524304&&n(14,u=n(19,y=$==null?void 0:$.workflow)===null||y===void 0?void 0:y.isRunning),o.$$.dirty[0]&1048592&&n(13,d=["Terminated","TimedOut","Canceled"].includes(n(20,se=$.workflow)===null||se===void 0?void 0:se.status)),o.$$.dirty[0]&1075838992&&n(12,b=fr(n(21,re=$==null?void 0:$.workflow)===null||re===void 0?void 0:re.status,A)),o.$$.dirty[0]&134217760&&n(11,w=Al(H,r)),o.$$.dirty[0]&12582916&&n(10,k=n(22,N=f==null?void 0:f.assignedBuildId)!==null&&N!==void 0?N:n(23,V=f==null?void 0:f.mostRecentWorkerVersionStamp)===null||V===void 0?void 0:V.useVersioning),o.$$.dirty[0]&1610612740&&n(9,c=Sl(f,A,S)),o.$$.dirty[0]&16777232&&n(1,_=n(24,X=$==null?void 0:$.userMetadata)===null||X===void 0?void 0:X.summary),o.$$.dirty[0]&33554448&&n(0,C=n(25,v=$==null?void 0:$.userMetadata)===null||v===void 0?void 0:v.details),o.$$.dirty[0]&3&&n(8,q=_||C),o.$$.dirty[0]&67108880&&n(7,g=n(26,P=$==null?void 0:$.metadata)===null||P===void 0?void 0:P.currentDetails)},[C,_,f,t,$,H,R,g,q,c,k,w,b,d,u,a,i,s,z,y,se,re,N,V,X,v,P,r,l,S,A]}class Sr extends ve{constructor(e){super(),Ie(this,e,Pr,Cr,be,{},null,[-1,-1])}}async function Ar({activity:o,namespace:e,settings:n,accessToken:t},{convertWithCodec:l=Wl,decodeAttributes:r=Rl}={}){const s=await l({attributes:o,namespace:e,settings:n,accessToken:t});return r(s)}const Wr=async({activity:o,namespace:e,settings:n,accessToken:t})=>await Ar({activity:o,namespace:e,settings:n,accessToken:t}),Rn=async(o,e,n,t)=>{const l=(o==null?void 0:o.pendingActivities)??[],r=[];for(const s of l){const f=await Wr({activity:s,namespace:e,settings:n,accessToken:t});r.push(f)}return r};function Rr(o){let e,n,t,l,r;const s=[qr,Nr,Mr],f=[];function i(a,u){return a[1]?0:a[0].workflow?2:1}return n=i(o),t=f[n]=s[n](o),{c(){e=Y("div"),t.c(),this.h()},l(a){e=G(a,"DIV",{class:!0});var u=Z(e);t.l(u),u.forEach(h),this.h()},h(){O(e,"class",l="absolute bottom-0 left-0 right-0 "+(o[5]?"top-[540px]":"top-0")+" flex h-full flex-col")},m(a,u){W(a,e,u),f[n].m(e,null),r=!0},p(a,u){let d=n;n=i(a),n===d?f[n].p(a,u):(ne(),p(f[d],1,1,()=>{f[d]=null}),le(),t=f[n],t?t.p(a,u):(t=f[n]=s[n](a),t.c()),m(t,1),t.m(e,null)),(!r||u&32&&l!==(l="absolute bottom-0 left-0 right-0 "+(a[5]?"top-[540px]":"top-0")+" flex h-full flex-col"))&&O(e,"class",l)},i(a){r||(m(t),r=!0)},o(a){p(t),r=!1},d(a){a&&h(e),f[n].d()}}}function Vr(o){let e,n,t,l=ut(o[2],null,2)+"",r,s;return n=new nl({props:{copyIconTitle:B("common.copy-icon-title"),copySuccessIconTitle:B("common.copy-success-icon-title"),class:"absolute right-1 top-1",copied:o[4]}}),n.$on("click",o[7]),{c(){e=Y("div"),I(n.$$.fragment),t=Q(),r=x(l),this.h()},l(f){e=G(f,"DIV",{class:!0});var i=Z(e);E(n.$$.fragment,i),t=L(i),r=ee(i,l),i.forEach(h),this.h()},h(){O(e,"class","relative h-auto whitespace-break-spaces break-words bg-primary p-4")},m(f,i){W(f,e,i),D(n,e,null),F(e,t),F(e,r),s=!0},p(f,i){const a={};i&16&&(a.copied=f[4]),n.$set(a),(!s||i&4)&&l!==(l=ut(f[2],null,2)+"")&&ce(r,l)},i(f){s||(m(n.$$.fragment,f),s=!0)},o(f){p(n.$$.fragment,f),s=!1},d(f){f&&h(e),T(n)}}}function Mr(o){let e,n,t,l;n=new Sr({});const r=o[16].default,s=Me(r,o,o[15],null);return{c(){e=Y("div"),I(n.$$.fragment),t=Q(),s&&s.c(),this.h()},l(f){e=G(f,"DIV",{class:!0});var i=Z(e);E(n.$$.fragment,i),i.forEach(h),t=L(f),s&&s.l(f),this.h()},h(){O(e,"class","border-b border-subtle px-4 pt-8 md:pt-20 xl:px-8")},m(f,i){W(f,e,i),D(n,e,null),W(f,t,i),s&&s.m(f,i),l=!0},p(f,i){s&&s.p&&(!l||i&32768)&&Ne(s,r,f,f[15],l?Be(r,f[15],i,null):qe(f[15]),null)},i(f){l||(m(n.$$.fragment,f),m(s,f),l=!0)},o(f){p(n.$$.fragment,f),p(s,f),l=!1},d(f){f&&(h(e),h(t)),T(n),s&&s.d(f)}}}function Nr(o){let e,n;return e=new ll({props:{class:"pt-24"}}),{c(){I(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,l){D(e,t,l),n=!0},p:pe,i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function qr(o){let e,n;return e=new Ol({props:{error:o[1]}}),{c(){I(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,l){D(e,t,l),n=!0},p(t,l){const r={};l&2&&(r.error=t[1]),e.$set(r)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Br(o){let e,n,t,l;const r=[Vr,Rr],s=[];function f(i,a){return i[3]?0:1}return e=f(o),n=s[e]=r[e](o),{c(){n.c(),t=me()},l(i){n.l(i),t=me()},m(i,a){s[e].m(i,a),W(i,t,a),l=!0},p(i,[a]){let u=e;e=f(i),e===u?s[e].p(i,a):(ne(),p(s[u],1,1,()=>{s[u]=null}),le(),n=s[e],n?n.p(i,a):(n=s[e]=r[e](i),n.c()),m(n,1),n.m(t.parentNode,t))},i(i){l||(m(n),l=!0)},o(i){p(n),l=!1},d(i){i&&h(t),s[e].d(i)}}}function Fr(o,e,n){let t,l,r,s,f,i,a,u,d,b,w,k,c,_,C,q;oe(o,Ft,P=>n(19,i=P)),oe(o,He,P=>n(11,a=P)),oe(o,ml,P=>n(12,u=P)),oe(o,ye,P=>n(13,d=P)),oe(o,Ut,P=>n(20,b=P)),oe(o,ze,P=>n(14,w=P)),oe(o,Te,P=>n(0,k=P)),oe(o,Ht,P=>n(21,c=P)),oe(o,ql,P=>n(22,_=P)),oe(o,Xn,P=>n(5,q=P));let{$$slots:g={},$$scope:$}=e,S,A,H;const{copy:R,copied:z}=Fl();oe(o,z,P=>n(4,C=P));const y=P=>{R(P,ut(f))},se=async P=>{const j={summary:"",details:""};try{if(P!=null&&P.summary){const te=await jt(P.summary);typeof te=="string"&&(j.summary=te)}if(P!=null&&P.details){const te=await jt(P.details);typeof te=="string"&&(j.details=te)}de(Te,k={...k,userMetadata:j},k)}catch(te){console.error("Error decoding user metadata",te)}},re=async(P,j,te)=>{const{settings:M}=a.data,{workflow:J,error:_e}=await Rt({namespace:P,workflowId:j,runId:te});if(_e){n(1,S=_e);return}await se(J);const{taskQueue:U}=J,K=await El({queue:U,namespace:P});de(Te,k={...k,workflow:J,workers:K},k),J.pendingActivities=await Rn(J,P,M,_==null?void 0:_.accessToken),A=new AbortController,Nl({namespace:P,workflow:{id:j,runId:te}},M,_==null?void 0:_.accessToken,A.signal).then(we=>{de(Te,k.metadata=we,k)}),de(ye,d=await Ml({namespace:P,workflowId:j,runId:te,sort:"ascending",signal:A.signal,historySize:J.historyEvents}),d)},N=async P=>{var j;if(P&&(!((j=k==null?void 0:k.workflow)===null||j===void 0)&&j.isRunning)){const{settings:te}=a.data,{workflow:M,error:J}=await Rt({namespace:t,workflowId:l,runId:r});if(J){n(1,S=J);return}de(Te,k.workflow=M,k),M.pendingActivities=await Rn(M,t,te,_==null?void 0:_.accessToken)}},V=()=>{de(ye,d=[],d),A&&A.abort()},X=()=>{de(Ht,c=null,c),de(Te,k=$l,k),n(1,S=void 0),V(),Bl(),clearInterval(H),H=null},v=(P,j)=>{j||de(Ut,b=P,b)};return Kn(()=>{const P=a.url.searchParams.get("sort");P&&de(Ft,i=P,i),H=setInterval(()=>{Vl()},1e4)}),Mn(()=>{X()}),o.$$set=P=>{"$$scope"in P&&n(15,$=P.$$scope)},o.$$.update=()=>{o.$$.dirty&2048&&n(10,{namespace:t,workflow:l,run:r}=a.params,t,(n(9,l),n(11,a)),(n(8,r),n(11,a))),o.$$.dirty&2048&&n(3,s=a.url.searchParams.has("json")),o.$$.dirty&8193&&n(2,f={...k,eventHistory:d}),o.$$.dirty&256&&X(),o.$$.dirty&1792&&re(t,l,r),o.$$.dirty&16384&&N(w),o.$$.dirty&12288&&v(d,u)},[k,S,f,s,C,q,z,y,r,l,t,a,u,d,w,$,g]}class Ur extends ve{constructor(e){super(),Ie(this,e,Fr,Br,be,{})}}const Yn={namespace:null,workflowId:null,runId:null,rawPayloads:null,sort:null},Hr=nt(Yn),jr=()=>{Hr.set(Yn)};function Or(o){let e;const n=o[0].default,t=Me(n,o,o[1],null);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,r){t&&t.m(l,r),e=!0},p(l,r){t&&t.p&&(!e||r&2)&&Ne(t,n,l,l[1],e?Be(n,l[1],r,null):qe(l[1]),null)},i(l){e||(m(t,l),e=!0)},o(l){p(t,l),e=!1},d(l){t&&t.d(l)}}}function Qr(o){let e,n;return e=new Ur({props:{$$slots:{default:[Or]},$$scope:{ctx:o}}}),{c(){I(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,l){D(e,t,l),n=!0},p(t,[l]){const r={};l&2&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Lr(o,e,n){let{$$slots:t={},$$scope:l}=e;return Mn(()=>{jr()}),o.$$set=r=>{"$$scope"in r&&n(1,l=r.$$scope)},[t,l]}class Ks extends ve{constructor(e){super(),Ie(this,e,Lr,Qr,be,{})}}export{Ks as component};
