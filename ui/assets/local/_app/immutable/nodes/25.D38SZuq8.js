import"../chunks/CWj6FrbW.js";import"../chunks/69_IOA4Y.js";import{p as de,e as l,r as a,c as i,t as g,d as s,b as ue,f as q,g as e,n as ge,l as Oe,s as c,m as M,ah as Lr,az as vt,a as Qt}from"../chunks/TEoZ9D9Z.js";import{t as x,a as u,b as ce,c as Me}from"../chunks/DI329M-6.js";import{i as ve}from"../chunks/BJuz8Fsc.js";import{s as st,a as re,b as We}from"../chunks/D2XfxJd9.js";import{p as Vt}from"../chunks/Dxw_utjF.js";import{P as zr}from"../chunks/B-eb-MOu.js";import{s as v}from"../chunks/BPileDmx.js";import{a as Gt}from"../chunks/BEKDPOX9.js";import{i as ye}from"../chunks/CnwVc_TY.js";import{e as Ee,i as rt}from"../chunks/DRNLmldh.js";import{w as Br}from"../chunks/B6cJqjof.js";import{g as Or}from"../chunks/DGuYma3T.js";import{C as qr}from"../chunks/BDRMdeA-.js";import{p as j,l as Er}from"../chunks/xPuGdUwZ.js";import{A as Jt}from"../chunks/CCgNTN1n.js";import{t as r}from"../chunks/D2OY9xdY.js";import{s as Hr}from"../chunks/Booxkezi.js";import{s as jr}from"../chunks/CVWfGARi.js";import{S as Nr}from"../chunks/CjfREx7y.js";import{I as Qr}from"../chunks/CRXRUVZa.js";import{s as Vr}from"../chunks/CTBtQUu0.js";import{E as Kt}from"../chunks/D3GaTxIA.js";import{L as qe}from"../chunks/CyinGzlW.js";import{v as Gr,j as Lt,x as Jr,r as Kr,w as Xr}from"../chunks/B6j9FsFN.js";import{f as He,r as pt,t as mt,g as zt}from"../chunks/Cz8U_GBd.js";import{d as Xt}from"../chunks/BOkQ1rrX.js";import{m as Yr,b as Zr,p as Ye,y as es}from"../chunks/CQf8QkdH.js";import{W as Yt}from"../chunks/BBKgvHaf.js";import{d as ts}from"../chunks/De0Ax8O4.js";import{p as rs,s as Ie,q as ss}from"../chunks/qEOT7B5E.js";import{W as as}from"../chunks/DES20Aq7.js";import{B as Bt}from"../chunks/DuqPjRD8.js";import{D as Ot,T as qt}from"../chunks/Dt7_n4Vn.js";import{I as os}from"../chunks/9QWw4Cvs.js";import{I as ls}from"../chunks/CrZow-_9.js";import{L as Et}from"../chunks/BwI-F7Rp.js";import{d as Ze}from"../chunks/BDiPA9L_.js";import{M as et}from"../chunks/Z_ip7kKW.js";import{R as Ht,a as jt}from"../chunks/NCai2-_I.js";import{S as ns}from"../chunks/PcUgGPDS.js";import{b as is,T as cs}from"../chunks/CrO3Nbhw.js";import{f as Be,l as tt,u as ds,p as us,t as vs,d as ps,g as ms}from"../chunks/D2SD5PJQ.js";import{c as fs}from"../chunks/CmnqI_XJ.js";var _s=x('<div><h2 class="mb-4"> </h2> <p> </p></div>');function gs(A,p){de(p,!1);let f=j(p,"notes",8,"");ve();var T=_s(),$=l(T),b=l($,!0);a($);var S=i($,2),D=l(S,!0);a(S),a(T),g(U=>{v(b,U),v(D,f())},[()=>r("common.notes")],s),u(A,T),ue()}var hs=x('<li class="svelte-s42yf"> <span class="svelte-s42yf"> </span></li>'),$s=x('<ul class="settings-list svelte-s42yf"><li class="svelte-s42yf"> <span class="svelte-s42yf"> </span></li> <li class="svelte-s42yf"> <span class="svelte-s42yf"> </span></li> <li class="svelte-s42yf"> <span class="svelte-s42yf"> </span></li> <li class="svelte-s42yf"> <span class="svelte-s42yf"> </span></li> <!> <li class="svelte-s42yf"> <span class="svelte-s42yf"> </span></li></ul>'),xs=x("<!> <!>",1);function ws(A,p){de(p,!1);let f=j(p,"spec",8),T=j(p,"state",8),$=j(p,"policies",8),b=j(p,"notes",8,"");ve();var S=xs(),D=q(S);gs(D,{get notes(){return b()}});var U=i(D,2);const N=s(()=>r("schedules.advanced-settings"));Jt(U,{get title(){return e(N)},children:(W,Q)=>{var F=$s(),h=l(F),w=l(h),V=i(w),E=l(V,!0);a(V),a(h);var G=i(h,2),J=l(G),oe=i(J),se=l(oe,!0);a(oe),a(G);var C=i(G,2),y=l(C),B=i(y),K=l(B,!0);a(B),a(C);var H=i(C,2),X=l(H),ae=i(X),he=l(ae,!0);a(ae),a(H);var $e=i(H,2);{var le=k=>{var L=hs(),me=l(L),Z=i(me),Te=l(Z,!0);a(Z),a(L),g((ie,Fe)=>{v(me,`${ie??""} `),v(Te,Fe)},[()=>r("schedules.remaining-actions"),()=>{var ie;return((ie=T())==null?void 0:ie.remainingActions)??r("common.none")}],s),u(k,L)};ye($e,k=>{var L;(L=T())!=null&&L.limitedActions&&k(le)})}var ke=i($e,2),ne=l(ke),pe=i(ne),xe=l(pe,!0);a(pe),a(ke),a(F),g((k,L,me,Z,Te,ie,Fe,at,ot,Ne)=>{v(w,`${k??""} `),v(E,L),v(J,`${me??""} `),v(se,Z),v(y,`${Te??""} `),v(K,ie),v(X,`${Fe??""} `),v(he,at),v(ne,`${ot??""} `),v(xe,Ne)},[()=>r("schedules.start-time"),()=>{var k;return((k=f())==null?void 0:k.startTime)??r("common.none")},()=>r("schedules.end-time"),()=>{var k;return((k=f())==null?void 0:k.endTime)??r("common.none")},()=>r("schedules.jitter"),()=>{var k;return((k=f())==null?void 0:k.jitter)??r("common.none")},()=>r("schedules.exclusion-calendar"),()=>{var k,L;return((L=(k=f())==null?void 0:k.excludeCalendar)==null?void 0:L[0])??r("common.none")},()=>r("schedules.overlap-policy"),()=>{var k;return((k=$())==null?void 0:k.overlapPolicy)??r("common.none")}],s),u(W,F)},$$slots:{default:!0}}),u(A,S),ue()}var bs=x("<div><!></div>");function je(A,p){const f=Er(p,["children","$$slots","$$events","$$legacy"]);de(p,!1);let T=j(p,"error",8,!1);ve();var $=bs();let b;var S=l($);Hr(S,p,"default",{},null),a($),g(D=>b=jr($,1,`panel surface-primary ${f.class??""}`,"svelte-eklrpl",b,D),[()=>({error:T()})],s),u(A,$),ue()}var ys=x('<p class="error-text svelte-130heqv"> </p> <p class="error-text svelte-130heqv"> </p>',1);function Nt(A,p){de(p,!1);let f=j(p,"error",8,"");ve(),je(A,{error:!0,children:(T,$)=>{var b=ys(),S=q(b),D=l(S,!0);a(S);var U=i(S,2),N=l(U,!0);a(U),g(W=>{v(D,W),v(N,f())},[()=>r("schedules.error-title")],s),u(T,b)},$$slots:{default:!0}}),ue()}var ks=x('<h2 class="mb-4"> </h2> <div class="pr-2"><!></div>',1);function Ts(A,p){de(p,!1);let f=j(p,"calendar",8,void 0),T=j(p,"interval",8,void 0),$=j(p,"timezoneName",8,"UTC");ve(),je(A,{children:(b,S)=>{var D=ks(),U=q(D),N=l(U,!0);a(U);var W=i(U,2),Q=l(W);Nr(Q,{get calendar(){return f()},get interval(){return T()},get timezoneName(){return $()},class:"text-base"}),a(W),g(F=>v(N,F),[()=>r("schedules.schedule-spec")],s),u(b,D)},$$slots:{default:!0}}),ue()}function Ss(A,p){de(p,!1);let f=j(p,"input",8);ve(),je(A,{children:(T,$)=>{const b=s(()=>r("schedules.schedule-input")),S=s(()=>Vr(f()));Qr(T,{get title(){return e(b)},get content(){return e(S)}})},$$slots:{default:!0}}),ue()}var Ps=x('<div class="row svelte-19syzt9"><div class="w-28"><!></div> <div class="mx-2 w-auto break-words"><!></div> <div class="ml-auto"><p> </p></div></div>'),Cs=x('<div class="row svelte-19syzt9"><div class="w-28"></div> <div class="w-96"> </div> <div class="ml-auto"><p> </p></div></div>'),As=x('<div class="flex justify-between"><h2 class="mb-4"> </h2> <!></div> <!> <!>',1);function Ds(A,p){de(p,!1);const[f,T]=st(),$=()=>re(mt,"$timeFormat",f),b=()=>re(pt,"$relativeTime",f);let S=j(p,"recentRuns",24,()=>[]),D=j(p,"namespace",8),U=j(p,"workflowQuery",8);const N=W=>{var Q,F;return(F=(Q=W==null?void 0:W.sort((h,w)=>new Date(w.actualTime).getTime()-new Date(h.actualTime).getTime()))===null||Q===void 0?void 0:Q.slice(0,5))!==null&&F!==void 0?F:[]};ve(),je(A,{class:"w-full",children:(W,Q)=>{var F=As(),h=q(F),w=l(h),V=l(w,!0);a(w);var E=i(w,2);const G=s(()=>Yr({namespace:D(),query:U()}));qe(E,{get href(){return e(G)},children:(C,y)=>{ge();var B=ce();g(K=>v(B,K),[()=>r("common.view-all-runs")],s),u(C,B)},$$slots:{default:!0}}),a(h);var J=i(h,2);Ee(J,1,()=>N(S()),C=>{var y;return(y=C==null?void 0:C.startWorkflowResult)==null?void 0:y.workflowId},(C,y)=>{var B=Me(),K=q(B);Gt(K,()=>Gr({namespace:D(),workflowId:Xt(e(y).startWorkflowResult.workflowId),runId:e(y).startWorkflowResult.runId},fetch),null,(H,X)=>{var ae=Ps(),he=l(ae),$e=l(he);Yt($e,{get status(){return e(X).status}}),a(he);var le=i(he,2),ke=l(le);const ne=s(()=>Zr({workflow:e(y).startWorkflowResult.workflowId,run:e(y).startWorkflowResult.runId,namespace:D()}));qe(ke,{get href(){return e(ne)},children:(L,me)=>{ge();var Z=ce();g(()=>v(Z,e(y).startWorkflowResult.workflowId)),u(L,Z)},$$slots:{default:!0}}),a(le);var pe=i(le,2),xe=l(pe),k=l(xe,!0);a(xe),a(pe),a(ae),g(L=>v(k,L),[()=>He(e(y).actualTime,$(),{relative:b()})],s),u(H,ae)},H=>{var X=Cs(),ae=i(l(X),2),he=l(ae,!0);a(ae);var $e=i(ae,2),le=l($e),ke=l(le,!0);a(le),a($e),a(X),g(ne=>{v(he,e(y).startWorkflowResult.workflowId),v(ke,ne)},[()=>He(e(y).actualTime,$(),{relative:b()})],s),u(H,X)}),u(C,B)});var oe=i(J,2);{var se=C=>{const y=s(()=>r("schedules.recent-runs-empty-state-title"));Kt(C,{get title(){return e(y)}})};ye(oe,C=>{S().length||C(se)})}g(C=>v(V,C),[()=>r("schedules.recent-runs")],s),u(W,F)},$$slots:{default:!0}}),ue(),T()}const Is=A=>Array.isArray(A)?A.join(", "):A;var Ms=x('<li class="flex flex-wrap items-center gap-2 border-b py-2 last-of-type:border-b-0"><span class="break-all"> </span> <span class="surface-subtle select-all rounded-sm p-1 leading-4"> </span></li>'),Rs=x('<ul class="w-full"></ul>');function Us(A,p){de(p,!1);const f=M(),T=M(),$=M();var b=M();let S=j(p,"searchAttributes",8);Oe(()=>Lr(S()),()=>{c(f,ts({searchAttributes:S()}))}),Oe(()=>(vt(b),e(f)),()=>{c(T,c(b,e(f)===null||e(f)===void 0?void 0:e(f).searchAttributes.indexedFields)!==null&&vt(b)!==void 0?vt(b):{})}),Oe(()=>e(T),()=>{c($,Object.keys(e(T)).length)}),Qt(),ve();const D=s(()=>r("events.custom-search-attributes")),U=s(()=>`${e($)} ${r("events.custom-search")} ${rs(r("events.attribute"),e($))}`),N=s(()=>e($)>0);Jt(A,{get title(){return e(D)},get subtitle(){return e(U)},get expandable(){return e(N)},children:(W,Q)=>{var F=Me(),h=q(F);{var w=V=>{var E=Rs();Ee(E,5,()=>Object.entries(e(T)),rt,(G,J)=>{let oe=()=>e(J)[0],se=()=>e(J)[1];var C=Ms();const y=s(()=>Is(se()));var B=l(C),K=l(B,!0);a(B);var H=i(B,2),X=l(H,!0);a(H),a(C),g(()=>{v(K,oe()),v(X,e(y))}),u(G,C)}),a(E),u(V,E)};ye(h,V=>{e($)&&V(w)})}u(W,F)},$$slots:{default:!0}}),ue()}var Ws=x('<div class="row svelte-dqszqh"><p> </p></div>'),Fs=x('<h2 class="mb-4"> </h2> <!>',1);function Ls(A,p){de(p,!1);const[f,T]=st(),$=()=>re(mt,"$timeFormat",f),b=()=>re(pt,"$relativeTime",f);let S=j(p,"futureRuns",24,()=>[]);ve(),je(A,{class:"w-full",children:(D,U)=>{var N=Fs(),W=q(N),Q=l(W,!0);a(W);var F=i(W,2);Ee(F,1,()=>S().slice(0,5),rt,(h,w)=>{var V=Ws(),E=l(V),G=l(E,!0);a(E),a(V),g(J=>v(G,J),[()=>He(e(w),$(),{relative:b(),relativeLabel:r("common.from-now")})],s),u(h,V)},h=>{const w=s(()=>r("schedules.upcoming-runs-empty-state-title"));Kt(h,{get title(){return e(w)}})}),g(h=>v(Q,h),[()=>r("schedules.upcoming-runs")],s),u(D,N)},$$slots:{default:!0}}),ue(),T()}var zs=x('<p class="flex items-center gap-2 text-right text-sm"> </p>'),Bs=x("<!> <!> <!> <!>",1),Os=x('<div class="w-full xl:w-1/2"><!></div>'),qs=x('<div class="flex w-full flex-col gap-2 text-lg"><div class="flex items-center gap-2"><span data-testid="workflow-count"> <!></span> <!></div> <!></div>'),Es=x('<h3 slot="title"> </h3>'),Hs=x('<div slot="content"><p> </p> <p class="my-4"> </p> <!></div>'),js=x('<h3 slot="title"> </h3>'),Ns=x('<div slot="content"><!></div>'),Qs=x('<h3 slot="title"> </h3>'),Vs=x('<div slot="content" class="p-0"><div class="flex flex-col gap-2 p-2"><!> <!> <!> <!> <div class="flex w-full flex-row items-center gap-2"><!> <span class="text-xs font-normal text-slate-500"> </span></div></div> <hr tabindex="-1" aria-hidden="true" class="my-4 w-full border-subtle"> <div class="flex max-h-52 flex-col gap-2 overflow-auto"><!> <!></div></div>'),Gs=x('<h3 slot="title"> </h3>'),Js=x('<div slot="content"><p> </p></div>'),Ks=x('<header class="flex flex-row flex-wrap justify-between gap-4"><div class="relative flex flex-col"><!> <h1 class="relative flex items-center"><span class="select-all" data-testid="schedule-name"></span></h1> <div class="flex flex-wrap items-center gap-2 text-lg"><!> <p> </p></div> <p class="flex items-center gap-2 text-right text-sm"> </p> <!></div> <!></header> <!> <div class="flex flex-col gap-4 pb-24"><!> <!> <div class="flex flex-col gap-4 xl:flex-row"><div class="flex w-full flex-col items-start gap-4 xl:w-2/3"><!> <!> <!> <!></div> <div class="flex w-full flex-col gap-4 xl:w-1/3"><!> <!></div></div></div> <!> <!> <!> <!>',1),Xs=x('<header class="mb-8"><div class="relative flex flex-col gap-1"><!> <h1 class="mt-8 select-all" data-testid="schedule-name"></h1> <p class="text-sm"></p></div></header> <!>',1),Ys=x('<header class="mb-8"><div class="relative flex flex-col gap-4"><!> <h1 class="select-all" data-testid="schedule-name"></h1></div></header> <!>',1);function Zs(A,p){de(p,!1);const[f,T]=st(),$=()=>re(Vt,"$page",f),b=()=>re(ae,"$coreUser",f),S=()=>re(tt,"$loading",f),D=()=>re(H,"$overlapPolicy",f),U=()=>re(mt,"$timeFormat",f),N=()=>re(pt,"$relativeTime",f),W=()=>re(Jr,"$groupByCountEnabled",f),Q=()=>re(Xr,"$workflowCount",f),F=M();let h=$().params.namespace,w=$().params.schedule,V=`TemporalScheduledById="${w}"`;const E={namespace:h,scheduleId:Xt(w)};let G=M(Be(E)),J=M(!1),oe=M(!1),se=M(!1),C=M(!1),y=M(""),B=M(""),K=M(!1),H=Br("Unspecified"),X=[{description:r("schedules.trigger-unspecified-description"),label:r("schedules.trigger-unspecified-title"),value:"Unspecified"},{description:r("schedules.trigger-buffer-all-description"),label:r("schedules.trigger-buffer-all-title"),value:"BufferAll"},{description:r("schedules.trigger-allow-all-description"),label:r("schedules.trigger-allow-all-title"),value:"AllowAll"},{description:r("schedules.trigger-skip-description"),label:r("schedules.trigger-skip-title"),value:"Skip"},{description:r("schedules.trigger-buffer-one-description"),label:r("schedules.trigger-buffer-one-title"),value:"BufferOne"},{description:r("schedules.trigger-cancel-other-description"),label:r("schedules.trigger-cancel-other-title"),value:"CancelOther"},{description:r("schedules.trigger-terminate-other-description"),label:r("schedules.trigger-terminate-other-title"),value:"TerminateOther"}],ae=fs();const he=async()=>{c(B,"");try{We(tt,!0),await ms({namespace:h,scheduleId:w}),c(C,!1),setTimeout(()=>{We(tt,!1),Or(Ye({namespace:h}))},2e3),c(y,"")}catch(I){c(B,r("schedules.delete-schedule-error",{error:I==null?void 0:I.message})),We(tt,!1)}},$e=async I=>{var m,ee;!((ee=(m=I==null?void 0:I.schedule)===null||m===void 0?void 0:m.state)===null||ee===void 0)&&ee.paused?await ds({namespace:h,scheduleId:w,reason:e(y)}):await us({namespace:h,scheduleId:w,reason:e(y)}),c(G,Be(E)),c(y,""),c(J,!1)},le=()=>{c(oe,!1),We(H,"Unspecified")},ke=async()=>{c(K,!0),await vs({namespace:h,scheduleId:w,overlapPolicy:D()}),setTimeout(()=>{c(G,Be(E)),le(),c(K,!1)},1e3)};let ne=M(!1),pe=M(Ie(new Date)),xe=M(Ie(new Date)),k=M(""),L=M(""),me=M(""),Z=M(""),Te=M(""),ie=M("");const Fe=I=>{c(pe,Ie(I.detail))},at=I=>{c(xe,Ie(I.detail))},ot=()=>{const I=new Date(Date.now()),m=is(I,1);c(k,I.getUTCHours().toString()),c(L,I.getUTCMinutes().toString()),c(me,I.getUTCSeconds().toString()),c(Z,m.getUTCHours().toString()),c(Te,m.getUTCMinutes().toString()),c(ie,m.getUTCSeconds().toString()),c(pe,Ie(new Date)),c(xe,e(Z)<e(k)?Ie(ss(new Date,1)):Ie(new Date))},Ne=()=>{c(se,!1),c(ne,!1),We(H,"Unspecified")},Zt=async()=>{c(K,!0);const I=zt({date:e(pe),hour:e(k),minute:e(L),second:e(me)}),m=zt({date:e(xe),hour:e(Z),minute:e(Te),second:e(ie)});await ps({namespace:h,scheduleId:w,overlapPolicy:D(),startTime:I,endTime:m}),setTimeout(()=>{c(G,Be(E)),Ne(),c(K,!1)},1e3)},ft=()=>{c(y,"")};Oe(()=>(b(),Lt),()=>{c(F,b().namespaceWriteDisabled(h)||!Lt())}),Oe(()=>e(se),()=>{e(se)&&ot()}),Qt(),ve();var _t=Me(),er=q(_t);Gt(er,()=>e(G),I=>{var m=Ys(),ee=q(m),Se=l(ee),Ce=l(Se);const Re=s(()=>Ye({namespace:h}));qe(Ce,{get href(){return e(Re)},icon:"chevron-left",children:(Ae,Ue)=>{ge();var De=ce();g(Pe=>v(De,Pe),[()=>r("schedules.back-to-schedules")],s),u(Ae,De)},$$slots:{default:!0}});var fe=i(Ce,2);fe.textContent=w,a(Se),a(ee);var we=i(ee,2);Et(we,{}),u(I,m)},(I,m)=>{var ee=Me(),Se=q(ee);{var Ce=fe=>{const we=s(()=>r("schedules.deleting"));Et(fe,{get title(){return e(we)},class:"my-2"})},Re=fe=>{var we=Ks(),Ae=q(we),Ue=l(Ae),De=l(Ue);const Pe=s(()=>Ye({namespace:h}));qe(De,{get href(){return e(Pe)},icon:"chevron-left",children:(t,n)=>{ge();var o=ce();g(d=>v(o,d),[()=>r("schedules.back-to-schedules")],s),u(t,o)},$$slots:{default:!0}});var Qe=i(De,2),Ve=l(Qe);Ve.textContent=w,a(Qe);var Le=i(Qe,2),gt=l(Le);const tr=s(()=>{var t;return(t=e(m))!=null&&t.schedule.state.paused?"Paused":"Running"});Yt(gt,{get status(){return e(tr)}});var ht=i(gt,2),rr=l(ht,!0);a(ht),a(Le);var lt=i(Le,2),sr=l(lt,!0);a(lt);var ar=i(lt,2);{var or=t=>{var n=zs(),o=l(n,!0);a(n),g(d=>v(o,d),[()=>{var d,_;return r("common.last-updated",{updated:He((_=(d=e(m))==null?void 0:d.info)==null?void 0:_.updateTime,U(),{relative:N()})})}],s),u(t,n)};ye(ar,t=>{var n,o;(o=(n=e(m))==null?void 0:n.info)!=null&&o.updateTime&&t(or)})}a(Ue);var lr=i(Ue,2);const nr=s(()=>{var t,n,o;return(o=(n=(t=e(m))==null?void 0:t.schedule)==null?void 0:n.state)!=null&&o.paused?r("schedules.unpause"):r("schedules.pause")}),ir=s(()=>r("schedules.schedule-actions"));ns(lr,{position:"right",get label(){return e(nr)},get menuLabel(){return e(ir)},id:"schedule-actions",get disabled(){return e(F)},$$events:{click:()=>c(J,!0)},children:(t,n)=>{var o=Bs(),d=q(o);Ze(d,{"data-testid":"trigger-schedule",$$events:{click:()=>c(oe,!0)},children:(O,Y)=>{ge();var P=ce();g(te=>v(P,te),[()=>r("schedules.trigger")],s),u(O,P)},$$slots:{default:!0}});var _=i(d,2);Ze(_,{"data-testid":"backfill-schedule",$$events:{click:()=>c(se,!0)},children:(O,Y)=>{ge();var P=ce();g(te=>v(P,te),[()=>r("schedules.backfill")],s),u(O,P)},$$slots:{default:!0}});var R=i(_,2);const _e=s(()=>es({namespace:h,scheduleId:w}));Ze(R,{"data-testid":"edit-schedule",get href(){return e(_e)},children:(O,Y)=>{ge();var P=ce();g(te=>v(P,te),[()=>r("common.edit")],s),u(O,P)},$$slots:{default:!0}});var be=i(R,2);Ze(be,{"data-testid":"delete-schedule",destructive:!0,$$events:{click:()=>c(C,!0)},children:(O,Y)=>{ge();var P=ce();g(te=>v(P,te),[()=>r("common.delete")],s),u(O,P)},$$slots:{default:!0}}),u(t,o)},$$slots:{default:!0}}),a(Ae);var $t=i(Ae,2);qr($t,{});var nt=i($t,2),xt=l(nt);{var cr=t=>{var n=Os(),o=l(n);const d=s(()=>{var _,R;return(R=(_=e(m))==null?void 0:_.info)==null?void 0:R.invalidScheduleError});Nt(o,{get error(){return e(d)}}),a(n),u(t,n)};ye(xt,t=>{var n,o;(o=(n=e(m))==null?void 0:n.info)!=null&&o.invalidScheduleError&&t(cr)})}var wt=i(xt,2);{var dr=t=>{var n=qs(),o=l(n),d=l(o),_=l(d),R=i(_);cs(R,{key:"common.workflows-plural",get count(){return Q().count}}),a(d);var _e=i(d,2);Bt(_e,{size:"xs",variant:"ghost",leadingIcon:"retry",$$events:{click:()=>{c(G,Be(E)),We(Kr,Date.now())}},children:(O,Y)=>{var P=Me(),te=q(P);{var ct=ze=>{var Ge=ce();g(Je=>v(Ge,`+${Je??""}`),[()=>Q().newCount.toLocaleString()],s),u(ze,Ge)};ye(te,ze=>{Q().newCount>0&&ze(ct)})}u(O,P)},$$slots:{default:!0}}),a(o);var be=i(o,2);as(be,{staticQuery:V}),a(n),g(O=>v(_,`${O??""} `),[()=>Q().count.toLocaleString()],s),u(t,n)};ye(wt,t=>{W()&&t(dr)})}var bt=i(wt,2),it=l(bt),yt=l(it);const ur=s(()=>{var t,n;return(n=(t=e(m))==null?void 0:t.info)==null?void 0:n.recentActions});Ds(yt,{namespace:h,get recentRuns(){return e(ur)},workflowQuery:V});var kt=i(yt,2);const vr=s(()=>{var t,n;return(n=(t=e(m))==null?void 0:t.info)==null?void 0:n.futureActionTimes});Ls(kt,{get futureRuns(){return e(vr)}});var Tt=i(kt,2);const pr=s(()=>{var t,n;return(n=(t=e(m))==null?void 0:t.schedule)==null?void 0:n.spec}),mr=s(()=>{var t,n;return(n=(t=e(m))==null?void 0:t.schedule)==null?void 0:n.state}),fr=s(()=>{var t,n;return(n=(t=e(m))==null?void 0:t.schedule)==null?void 0:n.policies}),_r=s(()=>{var t,n,o;return(o=(n=(t=e(m))==null?void 0:t.schedule)==null?void 0:n.state)==null?void 0:o.notes});ws(Tt,{get spec(){return e(pr)},get state(){return e(mr)},get policies(){return e(fr)},get notes(){return e(_r)}});var gr=i(Tt,2);const hr=s(()=>{var t;return((t=e(m))==null?void 0:t.searchAttributes)??{}});Us(gr,{get searchAttributes(){return e(hr)}}),a(it);var St=i(it,2),Pt=l(St);const $r=s(()=>{var t,n,o,d;return(d=(o=(n=(t=e(m))==null?void 0:t.schedule)==null?void 0:n.action)==null?void 0:o.startWorkflow)==null?void 0:d.input});Ss(Pt,{get input(){return e($r)}});var xr=i(Pt,2);const wr=s(()=>{var t,n,o,d;return(d=(o=(n=(t=e(m))==null?void 0:t.schedule)==null?void 0:n.spec)==null?void 0:o.structuredCalendar)==null?void 0:d[0]}),br=s(()=>{var t,n,o,d;return(d=(o=(n=(t=e(m))==null?void 0:t.schedule)==null?void 0:n.spec)==null?void 0:o.interval)==null?void 0:d[0]}),yr=s(()=>{var t,n,o;return(o=(n=(t=e(m))==null?void 0:t.schedule)==null?void 0:n.spec)==null?void 0:o.timezoneName});Ts(xr,{get calendar(){return e(wr)},get interval(){return e(br)},get timezoneName(){return e(yr)}}),a(St),a(bt),a(nt);var Ct=i(nt,2);const kr=s(()=>{var t;return(t=e(m))!=null&&t.schedule.state.paused?r("schedules.unpause"):r("schedules.pause")}),Tr=s(()=>r("common.cancel")),Sr=s(()=>!e(y));et(Ct,{id:"pause-schedule-modal",confirmType:"primary",get confirmText(){return e(kr)},get cancelText(){return e(Tr)},get confirmDisabled(){return e(Sr)},get open(){return e(J)},set open(t){c(J,t)},$$events:{confirmModal:()=>$e(e(m)),cancelModal:ft},$$slots:{title:(t,n)=>{var o=Es(),d=l(o,!0);a(o),g(_=>v(d,_),[()=>{var _;return(_=e(m))!=null&&_.schedule.state.paused?r("schedules.unpause-modal-title"):r("schedules.pause-modal-title")}],s),u(t,o)},content:(t,n)=>{var o=Hs(),d=l(o),_=l(d,!0);a(d);var R=i(d,2),_e=l(R,!0);a(R);var be=i(R,2);const O=s(()=>r("common.reason")),Y=s(()=>r("common.reason"));ls(be,{id:"pause-reason",get placeholder(){return e(O)},get label(){return e(Y)},labelHidden:!0,get value(){return e(y)},set value(P){c(y,P)},$$legacy:!0}),a(o),g((P,te)=>{v(_,P),v(_e,te)},[()=>{var P;return(P=e(m))!=null&&P.schedule.state.paused?r("schedules.unpause-modal-confirmation",{schedule:w}):r("schedules.pause-modal-confirmation",{schedule:w})},()=>{var P;return(P=e(m))!=null&&P.schedule.state.paused?r("schedules.unpause-reason"):r("schedules.pause-reason")}],s),u(t,o)}},$$legacy:!0});var At=i(Ct,2);const Pr=s(()=>r("schedules.trigger")),Cr=s(()=>r("common.cancel"));et(At,{id:"trigger-schedule-modal",large:!0,confirmType:"primary",get confirmText(){return e(Pr)},get cancelText(){return e(Cr)},get loading(){return e(K)},get open(){return e(oe)},set open(t){c(oe,t)},$$events:{confirmModal:()=>ke(),cancelModal:le},$$slots:{title:(t,n)=>{var o=js(),d=l(o,!0);a(o),g(_=>v(d,_),[()=>r("schedules.trigger-modal-title")],s),u(t,o)},content:(t,n)=>{var o=Ns(),d=l(o);Ht(d,{group:H,name:"trigger-event-id",class:"h-auto overflow-auto",children:(_,R)=>{var _e=Me(),be=q(_e);Ee(be,1,()=>X,rt,(O,Y)=>{jt(O,{get id(){return e(Y).value},get value(){return e(Y).value},get label(){return e(Y).label},get description(){return e(Y).description}})}),u(_,_e)},$$slots:{default:!0}}),a(o),u(t,o)}},$$legacy:!0});var Dt=i(At,2);const Ar=s(()=>r("schedules.schedule")),Dr=s(()=>r("common.cancel"));et(Dt,{id:"backfill-schedule-modal",large:!0,confirmType:"primary",get confirmText(){return e(Ar)},get cancelText(){return e(Dr)},get loading(){return e(K)},get open(){return e(se)},set open(t){c(se,t)},$$events:{confirmModal:()=>Zt(),cancelModal:Ne},$$slots:{title:(t,n)=>{var o=Qs(),d=l(o);a(o),g((_,R)=>v(d,`${_??""}
        ${R??""}`),[()=>r("schedules.schedule"),()=>r("schedules.backfill")],s),u(t,o)},content:(t,n)=>{var o=Vs(),d=l(o),_=l(d);const R=s(()=>r("common.start")),_e=s(()=>r("common.today")),be=s(()=>r("common.close")),O=s(()=>r("common.clear-input-button-label"));Ot(_,{get label(){return e(R)},get selected(){return e(pe)},get todayLabel(){return e(_e)},get closeLabel(){return e(be)},get clearLabel(){return e(O)},$$events:{datechange:Fe}});var Y=i(_,2);qt(Y,{twelveHourClock:!1,get hour(){return e(k)},set hour(z){c(k,z)},get minute(){return e(L)},set minute(z){c(L,z)},get second(){return e(me)},set second(z){c(me,z)},$$legacy:!0});var P=i(Y,2);const te=s(()=>r("common.end")),ct=s(()=>r("common.today")),ze=s(()=>r("common.close")),Ge=s(()=>r("common.clear-input-button-label"));Ot(P,{get label(){return e(te)},get selected(){return e(xe)},get todayLabel(){return e(ct)},get closeLabel(){return e(ze)},get clearLabel(){return e(Ge)},$$events:{datechange:at}});var Je=i(P,2);qt(Je,{twelveHourClock:!1,get hour(){return e(Z)},set hour(z){c(Z,z)},get minute(){return e(Te)},set minute(z){c(Te,z)},get second(){return e(ie)},set second(z){c(ie,z)},$$legacy:!0});var It=i(Je,2),Mt=l(It);os(Mt,{name:"clock","aria-hidden":"true"});var Rt=i(Mt,2),Ur=l(Rt);a(Rt),a(It),a(d);var Ut=i(d,4),Wt=l(Ut);Ht(Wt,{group:H,name:"backfill-event-id",class:"h-auto overflow-auto",children:(z,Ft)=>{var dt=Me(),Ke=q(dt);Ee(Ke,1,()=>X.slice(0,e(ne)?X.length:3),rt,(ut,Xe)=>{jt(ut,{get id(){return e(Xe).value},get value(){return e(Xe).value},get label(){return e(Xe).label},get description(){return e(Xe).description}})}),u(z,dt)},$$slots:{default:!0}});var Wr=i(Wt,2);{var Fr=z=>{Bt(z,{variant:"ghost",size:"xs",$$events:{click:()=>c(ne,!0)},children:(Ft,dt)=>{ge();var Ke=ce();g(ut=>v(Ke,ut),[()=>r("schedules.more-options")],s),u(Ft,Ke)},$$slots:{default:!0}})};ye(Wr,z=>{e(ne)||z(Fr)})}a(Ut),a(o),g(z=>v(Ur,`${z??""} Universal Standard Time
              (UTC)`),[()=>r("common.based-on-time-preface")],s),u(t,o)}},$$legacy:!0});var Ir=i(Dt,2);const Mr=s(()=>r("common.delete")),Rr=s(()=>r("common.cancel"));et(Ir,{id:"delete-schedule-modal",confirmType:"destructive",get confirmText(){return e(Mr)},get cancelText(){return e(Rr)},get open(){return e(C)},set open(t){c(C,t)},get error(){return e(B)},set error(t){c(B,t)},$$events:{confirmModal:he,cancelModal:ft},$$slots:{title:(t,n)=>{var o=Gs(),d=l(o,!0);a(o),g(_=>v(d,_),[()=>r("schedules.delete-modal-title")],s),u(t,o)},content:(t,n)=>{var o=Js(),d=l(o),_=l(d,!0);a(d),a(o),g(R=>v(_,R),[()=>r("schedules.delete-modal-confirmation",{schedule:w})],s),u(t,o)}},$$legacy:!0}),g(t=>{var n,o,d,_,R;v(rr,(R=(_=(d=(o=(n=e(m))==null?void 0:n.schedule)==null?void 0:o.action)==null?void 0:d.startWorkflow)==null?void 0:_.workflowType)==null?void 0:R.name),v(sr,t)},[()=>{var t,n;return r("common.created",{created:He((n=(t=e(m))==null?void 0:t.info)==null?void 0:n.createTime,U(),{relative:N()})})}],s),u(fe,we)};ye(Se,fe=>{S()?fe(Ce):fe(Re,!1)})}u(I,ee)},(I,m)=>{var ee=Xs(),Se=q(ee),Ce=l(Se),Re=l(Ce);const fe=s(()=>Ye({namespace:h}));qe(Re,{get href(){return e(fe)},icon:"chevron-left",children:(Pe,Qe)=>{ge();var Ve=ce();g(Le=>v(Ve,Le),[()=>r("schedules.back-to-schedules")],s),u(Pe,Ve)},$$slots:{default:!0}});var we=i(Re,2);we.textContent=w;var Ae=i(we,2);Ae.textContent=h,a(Ce),a(Se);var Ue=i(Se,2);const De=s(()=>{var Pe;return(Pe=e(m))==null?void 0:Pe.message});Nt(Ue,{get error(){return e(De)}}),u(I,ee)}),u(A,_t),ue(),T()}var ea=x("<!> <!>",1);function Qa(A,p){de(p,!1);const[f,T]=st(),$=()=>re(Vt,"$page",f),b=$().params.schedule;ve();var S=ea(),D=q(S);zr(D,{title:`Schedule | ${b}`,get url(){return $().url.href}});var U=i(D,2);Zs(U,{}),u(A,S),ue(),T()}export{Qa as component};
