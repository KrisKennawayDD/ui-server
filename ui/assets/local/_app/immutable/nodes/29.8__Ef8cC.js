import{s as te,d as _,i as h,j as b,k as w,l as E,n as v,a as fe,o as z,u as ue,g as ce,b as _e,h as C,m as B,e as R,t as S,f as N,c as ee,w as W,v as D,x as me,G as ve,q as x,a1 as pe,L as ct}from"../chunks/scheduler.gES7FyoG.js";import{S as le,i as re,t as k,a as g,g as L,e as K,d as A,m as P,c as q,b as H}from"../chunks/index.DpnGbpCk.js";import{p as ge}from"../chunks/stores.XvSy8CI8.js";import{P as _t}from"../chunks/page-title.ClCB4mI7.js";import{h as se,u as be}from"../chunks/await_block.DZqQ62ob.js";import{P as Te,W as mt}from"../chunks/worker-table.Vi1gr62-.js";import{T as dt,a as ht,b as Ee}from"../chunks/tab.Y2J93TU9.js";import{t as j}from"../chunks/translate.DzDeFYDI.js";import{a as $t,b as pt,c as gt,d as bt,e as Ie,f as ye,h as Ce,p as kt,i as wt,j as De,g as Re}from"../chunks/pollers-service.YsB-PCmU.js";import{p as vt}from"../chunks/persist-store.BfhJSNng.js";import{e as Y,u as de,o as he}from"../chunks/each.CDwUSmAp.js";import{B as Tt}from"../chunks/badge.CaNx3HvD.js";import{I as it}from"../chunks/icon.iMHg4y68.js";import{t as Ne}from"../chunks/tw-merge.QHD3kepf.js";import{E as $e}from"../chunks/empty-state.D2QxL8QK.js";import{T as oe,a as ie,b as ne}from"../chunks/table.1w7r_2Dj.js";import{t as ft,r as Et,f as ae}from"../chunks/time-format.CDwB5S6b.js";import"../chunks/auth-user.DlOc9vKH.js";import"../chunks/toaster.Bq9v-PJ1.js";import"../chunks/paths.VkXkLfvv.js";import"../chunks/entry.DTzuvTF5.js";import{S as It}from"../chunks/index.vo0DtjBy.js";const Qe=vt("taskQueueView","workers",!0),yt=o=>({}),Ae=o=>({}),Ct=o=>({}),Pe=o=>({});function Dt(o){let t,l,e,r;return l=new it({props:{name:"merge"}}),{c(){t=v("span"),H(l.$$.fragment),e=S(o[2]),this.h()},l(s){t=w(s,"SPAN",{class:!0});var a=E(t);q(l.$$.fragment,a),e=B(a,o[2]),a.forEach(_),this.h()},h(){b(t,"class","flex items-center gap-1 rounded-sm border border-subtle px-1 text-sm text-primary")},m(s,a){h(s,t,a),P(l,t,null),C(t,e),r=!0},p(s,a){(!r||a&4)&&z(e,s[2])},i(s){r||(g(l.$$.fragment,s),r=!0)},o(s){k(l.$$.fragment,s),r=!1},d(s){s&&_(t),A(l)}}}function Rt(o){let t,l,e,r,s,a,n;l=new it({props:{name:"merge"}});const i=o[4]["overall-default-worker"],f=fe(i,o,o[3],Pe),m=o[4]["default-worker"],u=fe(m,o,o[3],Ae);return{c(){t=v("span"),H(l.$$.fragment),e=S(o[2]),r=N(),f&&f.c(),s=N(),u&&u.c(),this.h()},l(c){t=w(c,"SPAN",{class:!0});var d=E(t);q(l.$$.fragment,d),e=B(d,o[2]),r=R(d),f&&f.l(d),s=R(d),u&&u.l(d),d.forEach(_),this.h()},h(){b(t,"class",a=Ne("flex items-center gap-1 rounded-sm border border-subtle px-1 text-sm text-primary",o[1]&&"border-green-200 bg-green-200 text-black"))},m(c,d){h(c,t,d),P(l,t,null),C(t,e),C(t,r),f&&f.m(t,null),C(t,s),u&&u.m(t,null),n=!0},p(c,d){(!n||d&4)&&z(e,c[2]),f&&f.p&&(!n||d&8)&&ue(f,i,c,c[3],n?_e(i,c[3],d,Ct):ce(c[3]),Pe),u&&u.p&&(!n||d&8)&&ue(u,m,c,c[3],n?_e(m,c[3],d,yt):ce(c[3]),Ae),(!n||d&2&&a!==(a=Ne("flex items-center gap-1 rounded-sm border border-subtle px-1 text-sm text-primary",c[1]&&"border-green-200 bg-green-200 text-black")))&&b(t,"class",a)},i(c){n||(g(l.$$.fragment,c),g(f,c),g(u,c),n=!0)},o(c){k(l.$$.fragment,c),k(f,c),k(u,c),n=!1},d(c){c&&_(t),A(l),f&&f.d(c),u&&u.d(c)}}}function Nt(o){let t,l,e,r;const s=[Rt,Dt],a=[];function n(i,f){return i[0]&&i[2]?0:i[2]?1:-1}return~(l=n(o))&&(e=a[l]=s[l](o)),{c(){t=v("p"),e&&e.c(),this.h()},l(i){t=w(i,"P",{class:!0});var f=E(t);e&&e.l(f),f.forEach(_),this.h()},h(){b(t,"class","flex select-all gap-2 font-mono")},m(i,f){h(i,t,f),~l&&a[l].m(t,null),r=!0},p(i,[f]){let m=l;l=n(i),l===m?~l&&a[l].p(i,f):(e&&(L(),k(a[m],1,1,()=>{a[m]=null}),K()),~l?(e=a[l],e?e.p(i,f):(e=a[l]=s[l](i),e.c()),g(e,1),e.m(t,null)):e=null)},i(i){r||(g(e),r=!0)},o(i){k(e),r=!1},d(i){i&&_(t),~l&&a[l].d()}}}function Qt(o,t,l){let{$$slots:e={},$$scope:r}=t,{defaultVersion:s=!1}=t,{active:a=!1}=t,{buildId:n}=t;return o.$$set=i=>{"defaultVersion"in i&&l(0,s=i.defaultVersion),"active"in i&&l(1,a=i.active),"buildId"in i&&l(2,n=i.buildId),"$$scope"in i&&l(3,r=i.$$scope)},[s,a,n,r,e]}class ke extends le{constructor(t){super(),re(this,t,Qt,Nt,te,{defaultVersion:0,active:1,buildId:2})}}function qe(o,t,l){const e=o.slice();e[8]=t[l];const r=gt(e[8]);e[9]=r;const s=bt(e[2],e[0],e[9]);return e[10]=s,e}function He(o,t,l){const e=o.slice();return e[13]=t[l],e[15]=l,e}function Ve(o,t,l){const e=o.slice();return e[9]=t[l],e}function Be(o){let t,l,e,r,s;return e=new $e({props:{title:j("workers.no-version-sets-found")}}),{c(){t=v("tr"),l=v("td"),H(e.$$.fragment),r=N(),this.h()},l(a){t=w(a,"TR",{class:!0});var n=E(t);l=w(n,"TD",{colspan:!0});var i=E(l);q(e.$$.fragment,i),i.forEach(_),r=R(n),n.forEach(_),this.h()},h(){b(l,"colspan","2"),b(t,"class","w-full")},m(a,n){h(a,t,n),C(t,l),P(e,l,null),C(t,r),s=!0},p:D,i(a){s||(g(e.$$.fragment,a),s=!0)},o(a){k(e.$$.fragment,a),s=!1},d(a){a&&_(t),A(e)}}}function Se(o){let t=j("workers.overall")+"",l;return{c(){l=S(t)},l(e){l=B(e,t)},m(e,r){h(e,l,r)},p:D,d(e){e&&_(l)}}}function At(o){let t,l=o[15]===0&&Se();return{c(){l&&l.c(),t=W()},l(e){l&&l.l(e),t=W()},m(e,r){l&&l.m(e,r),h(e,t,r)},p(e,r){e[15]===0?l?l.p(e,r):(l=Se(),l.c(),l.m(t.parentNode,t)):l&&(l.d(1),l=null)},d(e){e&&_(t),l&&l.d(e)}}}function Pt(o){let t=j("workers.default")+"",l;return{c(){l=S(t)},l(e){l=B(e,t)},m(e,r){h(e,l,r)},p:D,d(e){e&&_(l)}}}function qt(o){let t=j("workers.default")+"",l,e;return{c(){l=S(t),e=N()},l(r){l=B(r,t),e=R(r)},m(r,s){h(r,l,s),h(r,e,s)},p:D,d(r){r&&(_(l),_(e))}}}function We(o){let t,l;return t=new ke({props:{active:!1,buildId:o[9],$$slots:{"default-worker":[qt]},$$scope:{ctx:o}}}),{c(){H(t.$$.fragment)},l(e){q(t.$$.fragment,e)},m(e,r){P(t,e,r),l=!0},p(e,r){const s={};r&16&&(s.buildId=e[9]),r&262144&&(s.$$scope={dirty:r,ctx:e}),t.$set(s)},i(e){l||(g(t.$$.fragment,e),l=!0)},o(e){k(t.$$.fragment,e),l=!1},d(e){A(t,e)}}}function Ht(o){let t,l,e,r,s,a,n;l=new ke({props:{defaultVersion:!0,active:o[15]===0,buildId:Ie(o[13].buildIds),$$slots:{"default-worker":[Pt],"overall-default-worker":[At]},$$scope:{ctx:o}}});let i=Y(ye(o[13].buildIds)),f=[];for(let u=0;u<i.length;u+=1)f[u]=We(Ve(o,i,u));const m=u=>k(f[u],1,1,()=>{f[u]=null});return{c(){t=v("td"),H(l.$$.fragment),e=N(),r=v("td"),s=v("div");for(let u=0;u<f.length;u+=1)f[u].c();a=N(),this.h()},l(u){t=w(u,"TD",{class:!0,"data-testid":!0});var c=E(t);q(l.$$.fragment,c),c.forEach(_),e=R(u),r=w(u,"TD",{class:!0,"data-testid":!0});var d=E(r);s=w(d,"DIV",{class:!0});var $=E(s);for(let p=0;p<f.length;p+=1)f[p].l($);$.forEach(_),d.forEach(_),a=R(u),this.h()},h(){b(t,"class","text-left"),b(t,"data-testid","version-default"),b(s,"class","flex flex-wrap gap-2 font-mono"),b(r,"class","text-left"),b(r,"data-testid","version-compatible-builds")},m(u,c){h(u,t,c),P(l,t,null),h(u,e,c),h(u,r,c),C(r,s);for(let d=0;d<f.length;d+=1)f[d]&&f[d].m(s,null);h(u,a,c),n=!0},p(u,c){const d={};if(c&16&&(d.active=u[15]===0),c&16&&(d.buildId=Ie(u[13].buildIds)),c&262160&&(d.$$scope={dirty:c,ctx:u}),l.$set(d),c&16){i=Y(ye(u[13].buildIds));let $;for($=0;$<i.length;$+=1){const p=Ve(u,i,$);f[$]?(f[$].p(p,c),g(f[$],1)):(f[$]=We(p),f[$].c(),g(f[$],1),f[$].m(s,null))}for(L(),$=i.length;$<f.length;$+=1)m($);K()}},i(u){if(!n){g(l.$$.fragment,u);for(let c=0;c<i.length;c+=1)g(f[c]);n=!0}},o(u){k(l.$$.fragment,u),f=f.filter(Boolean);for(let c=0;c<f.length;c+=1)k(f[c]);n=!1},d(u){u&&(_(t),_(e),_(r),_(a)),A(l),me(f,u)}}}function Fe(o,t){let l,e,r;return e=new ne({props:{"data-testid":"version-row",$$slots:{default:[Ht]},$$scope:{ctx:t}}}),{key:o,first:null,c(){l=W(),H(e.$$.fragment),this.h()},l(s){l=W(),q(e.$$.fragment,s),this.h()},h(){this.first=l},m(s,a){h(s,l,a),P(e,s,a),r=!0},p(s,a){t=s;const n={};a&262160&&(n.$$scope={dirty:a,ctx:t}),e.$set(n)},i(s){r||(g(e.$$.fragment,s),r=!0)},o(s){k(e.$$.fragment,s),r=!1},d(s){s&&_(l),A(e,s)}}}function Vt(o){let t=[],l=new Map,e,r,s=Y(o[4]);const a=i=>i[15];for(let i=0;i<s.length;i+=1){let f=He(o,s,i),m=a(f);l.set(m,t[i]=Fe(m,f))}let n=null;return s.length||(n=Be()),{c(){for(let i=0;i<t.length;i+=1)t[i].c();e=W(),n&&n.c()},l(i){for(let f=0;f<t.length;f+=1)t[f].l(i);e=W(),n&&n.l(i)},m(i,f){for(let m=0;m<t.length;m+=1)t[m]&&t[m].m(i,f);h(i,e,f),n&&n.m(i,f),r=!0},p(i,f){f&16&&(s=Y(i[4]),L(),t=de(t,f,a,1,i,s,l,e.parentNode,he,Fe,e,He),K(),!s.length&&n?n.p(i,f):s.length?n&&(L(),k(n,1,1,()=>{n=null}),K()):(n=Be(),n.c(),g(n,1),n.m(e.parentNode,e)))},i(i){if(!r){for(let f=0;f<s.length;f+=1)g(t[f]);r=!0}},o(i){for(let f=0;f<t.length;f+=1)k(t[f]);r=!1},d(i){i&&_(e);for(let f=0;f<t.length;f+=1)t[f].d(i);n&&n.d(i)}}}function Bt(o){let t,l=j("workers.default")+"",e,r,s,a=j("workers.compatible-build-ids")+"",n;return{c(){t=v("th"),e=S(l),r=N(),s=v("th"),n=S(a),this.h()},l(i){t=w(i,"TH",{class:!0});var f=E(t);e=B(f,l),f.forEach(_),r=R(i),s=w(i,"TH",{class:!0});var m=E(s);n=B(m,a),m.forEach(_),this.h()},h(){b(t,"class","w-3/12"),b(s,"class","w-9/12")},m(i,f){h(i,t,f),C(t,e),h(i,r,f),h(i,s,f),C(s,n)},p:D,d(i){i&&(_(t),_(r),_(s))}}}function St(o){let t,l;return t=new ie({props:{slot:"headers",$$slots:{default:[Bt]},$$scope:{ctx:o}}}),{c(){H(t.$$.fragment)},l(e){q(t.$$.fragment,e)},m(e,r){P(t,e,r),l=!0},p(e,r){const s={};r&262144&&(s.$$scope={dirty:r,ctx:e}),t.$set(s)},i(e){l||(g(t.$$.fragment,e),l=!0)},o(e){k(t.$$.fragment,e),l=!1},d(e){A(t,e)}}}function Wt(o){var e,r;let t=(((r=(e=o[1])==null?void 0:e.pollers)==null?void 0:r.length)||0)+"",l;return{c(){l=S(t)},l(s){l=B(s,t)},m(s,a){h(s,l,a)},p(s,a){var n,i;a&2&&t!==(t=(((i=(n=s[1])==null?void 0:n.pollers)==null?void 0:i.length)||0)+"")&&z(l,t)},d(s){s&&_(l)}}}function Oe(o){let t,l,e,r,s,a;return e=new $e({props:{title:j("workflows.workers-empty-state")}}),{c(){t=v("tr"),l=v("td"),H(e.$$.fragment),s=N(),this.h()},l(n){t=w(n,"TR",{class:!0});var i=E(t);l=w(i,"TD",{colspan:!0});var f=E(l);q(e.$$.fragment,f),f.forEach(_),s=R(i),i.forEach(_),this.h()},h(){var n,i;b(l,"colspan",r=(i=(n=o[2])==null?void 0:n.buildIdReachability)!=null&&i.length?6:4),b(t,"class","w-full")},m(n,i){h(n,t,i),C(t,l),P(e,l,null),C(t,s),a=!0},p(n,i){var f,m;(!a||i&4&&r!==(r=(m=(f=n[2])==null?void 0:f.buildIdReachability)!=null&&m.length?6:4))&&b(l,"colspan",r)},i(n){a||(g(e.$$.fragment,n),a=!0)},o(n){k(e.$$.fragment,n),a=!1},d(n){n&&_(t),A(e)}}}function je(o){let t,l,e,r,s,a,n,i=o[10]+"",f,m;return e=new ke({props:{defaultVersion:o[9]===o[3],active:o[9]===o[3],buildId:o[9],$$slots:{"default-worker":[Ot],"overall-default-worker":[Ft]},$$scope:{ctx:o}}}),{c(){t=v("td"),l=v("p"),H(e.$$.fragment),r=N(),s=v("td"),a=v("p"),n=v("span"),f=S(i),this.h()},l(u){t=w(u,"TD",{class:!0,"data-testid":!0});var c=E(t);l=w(c,"P",{class:!0});var d=E(l);q(e.$$.fragment,d),d.forEach(_),c.forEach(_),r=R(u),s=w(u,"TD",{class:!0,"data-testid":!0});var $=E(s);a=w($,"P",{});var p=E(a);n=w(p,"SPAN",{class:!0});var T=E(n);f=B(T,i),T.forEach(_),p.forEach(_),$.forEach(_),this.h()},h(){b(l,"class","select-all"),b(t,"class","text-left"),b(t,"data-testid","worker-identity"),b(n,"class","svelte-kdqm2r"),ve(n,"reachability",!!o[10]),b(s,"class","text-left"),b(s,"data-testid","worker-last-access-time")},m(u,c){h(u,t,c),C(t,l),P(e,l,null),h(u,r,c),h(u,s,c),C(s,a),C(a,n),C(n,f),m=!0},p(u,c){const d={};c&10&&(d.defaultVersion=u[9]===u[3]),c&10&&(d.active=u[9]===u[3]),c&2&&(d.buildId=u[9]),c&262154&&(d.$$scope={dirty:c,ctx:u}),e.$set(d),(!m||c&7)&&i!==(i=u[10]+"")&&z(f,i),(!m||c&7)&&ve(n,"reachability",!!u[10])},i(u){m||(g(e.$$.fragment,u),m=!0)},o(u){k(e.$$.fragment,u),m=!1},d(u){u&&(_(t),_(r),_(s)),A(e)}}}function Me(o){let t=j("workers.overall")+"",l;return{c(){l=S(t)},l(e){l=B(e,t)},m(e,r){h(e,l,r)},p:D,d(e){e&&_(l)}}}function Ft(o){let t,l=o[9]===o[3]&&Me();return{c(){l&&l.c(),t=W()},l(e){l&&l.l(e),t=W()},m(e,r){l&&l.m(e,r),h(e,t,r)},p(e,r){e[9]===e[3]?l?l.p(e,r):(l=Me(),l.c(),l.m(t.parentNode,t)):l&&(l.d(1),l=null)},d(e){e&&_(t),l&&l.d(e)}}}function Ot(o){let t=j("workers.default")+"",l;return{c(){l=S(t)},l(e){l=B(e,t)},m(e,r){h(e,l,r)},p:D,d(e){e&&_(l)}}}function jt(o){var V,G;let t,l,e=o[8].identity+"",r,s,a,n,i,f=ae(o[8].lastAccessTime,o[5],{relative:o[6]})+"",m,u,c,d,$,p,T,F,M,y=((G=(V=o[2])==null?void 0:V.buildIdReachability)==null?void 0:G.length)&&je(o);return d=new Te({props:{includesTaskQueueType:o[8].taskQueueTypes.includes("WORKFLOW")}}),T=new Te({props:{includesTaskQueueType:o[8].taskQueueTypes.includes("ACTIVITY")}}),{c(){t=v("td"),l=v("p"),r=S(e),s=N(),y&&y.c(),a=N(),n=v("td"),i=v("p"),m=S(f),u=N(),c=v("td"),H(d.$$.fragment),$=N(),p=v("td"),H(T.$$.fragment),F=N(),this.h()},l(Q){t=w(Q,"TD",{class:!0,"data-testid":!0});var I=E(t);l=w(I,"P",{class:!0});var O=E(l);r=B(O,e),O.forEach(_),I.forEach(_),s=R(Q),y&&y.l(Q),a=R(Q),n=w(Q,"TD",{class:!0,"data-testid":!0});var U=E(n);i=w(U,"P",{class:!0});var J=E(i);m=B(J,f),J.forEach(_),U.forEach(_),u=R(Q),c=w(Q,"TD",{"data-testid":!0});var X=E(c);q(d.$$.fragment,X),X.forEach(_),$=R(Q),p=w(Q,"TD",{"data-testid":!0});var Z=E(p);q(T.$$.fragment,Z),Z.forEach(_),F=R(Q),this.h()},h(){b(l,"class","select-all"),b(t,"class","text-left"),b(t,"data-testid","worker-identity"),b(i,"class","select-all"),b(n,"class","text-left"),b(n,"data-testid","worker-last-access-time"),b(c,"data-testid","workflow-poller"),b(p,"data-testid","activity-poller")},m(Q,I){h(Q,t,I),C(t,l),C(l,r),h(Q,s,I),y&&y.m(Q,I),h(Q,a,I),h(Q,n,I),C(n,i),C(i,m),h(Q,u,I),h(Q,c,I),P(d,c,null),h(Q,$,I),h(Q,p,I),P(T,p,null),h(Q,F,I),M=!0},p(Q,I){var J,X;(!M||I&2)&&e!==(e=Q[8].identity+"")&&z(r,e),(X=(J=Q[2])==null?void 0:J.buildIdReachability)!=null&&X.length?y?(y.p(Q,I),I&4&&g(y,1)):(y=je(Q),y.c(),g(y,1),y.m(a.parentNode,a)):y&&(L(),k(y,1,1,()=>{y=null}),K()),(!M||I&98)&&f!==(f=ae(Q[8].lastAccessTime,Q[5],{relative:Q[6]})+"")&&z(m,f);const O={};I&2&&(O.includesTaskQueueType=Q[8].taskQueueTypes.includes("WORKFLOW")),d.$set(O);const U={};I&2&&(U.includesTaskQueueType=Q[8].taskQueueTypes.includes("ACTIVITY")),T.$set(U)},i(Q){M||(g(y),g(d.$$.fragment,Q),g(T.$$.fragment,Q),M=!0)},o(Q){k(y),k(d.$$.fragment,Q),k(T.$$.fragment,Q),M=!1},d(Q){Q&&(_(t),_(s),_(a),_(n),_(u),_(c),_($),_(p),_(F)),y&&y.d(Q),A(d),A(T)}}}function Le(o,t){let l,e,r;return e=new ne({props:{"data-testid":"worker-row",$$slots:{default:[jt]},$$scope:{ctx:t}}}),{key:o,first:null,c(){l=W(),H(e.$$.fragment),this.h()},l(s){l=W(),q(e.$$.fragment,s),this.h()},h(){this.first=l},m(s,a){h(s,l,a),P(e,s,a),r=!0},p(s,a){t=s;const n={};a&262255&&(n.$$scope={dirty:a,ctx:t}),e.$set(n)},i(s){r||(g(e.$$.fragment,s),r=!0)},o(s){k(e.$$.fragment,s),r=!1},d(s){s&&_(l),A(e,s)}}}function Mt(o){var i;let t=[],l=new Map,e,r,s=Y((i=o[1])==null?void 0:i.pollers);const a=f=>f[8].identity;for(let f=0;f<s.length;f+=1){let m=qe(o,s,f),u=a(m);l.set(u,t[f]=Le(u,m))}let n=null;return s.length||(n=Oe(o)),{c(){for(let f=0;f<t.length;f+=1)t[f].c();e=W(),n&&n.c()},l(f){for(let m=0;m<t.length;m+=1)t[m].l(f);e=W(),n&&n.l(f)},m(f,m){for(let u=0;u<t.length;u+=1)t[u]&&t[u].m(f,m);h(f,e,m),n&&n.m(f,m),r=!0},p(f,m){var u;m&111&&(s=Y((u=f[1])==null?void 0:u.pollers),L(),t=de(t,m,a,1,f,s,l,e.parentNode,he,Le,e,qe),K(),!s.length&&n?n.p(f,m):s.length?n&&(L(),k(n,1,1,()=>{n=null}),K()):(n=Oe(f),n.c(),g(n,1),n.m(e.parentNode,e)))},i(f){if(!r){for(let m=0;m<s.length;m+=1)g(t[m]);r=!0}},o(f){for(let m=0;m<t.length;m+=1)k(t[m]);r=!1},d(f){f&&_(e);for(let m=0;m<t.length;m+=1)t[m].d(f);n&&n.d(f)}}}function Lt(o){let t,l=j("workflows.workers-tab")+"",e;return{c(){t=v("caption"),e=S(l),this.h()},l(r){t=w(r,"CAPTION",{class:!0,slot:!0});var s=E(t);e=B(s,l),s.forEach(_),this.h()},h(){b(t,"class","sr-only"),b(t,"slot","caption")},m(r,s){h(r,t,s),C(t,e)},p:D,d(r){r&&_(t)}}}function Ke(o){let t,l=j("workers.version")+"",e,r,s,a=j("workers.retirability")+"",n;return{c(){t=v("th"),e=S(l),r=N(),s=v("th"),n=S(a),this.h()},l(i){t=w(i,"TH",{class:!0});var f=E(t);e=B(f,l),f.forEach(_),r=R(i),s=w(i,"TH",{class:!0});var m=E(s);n=B(m,a),m.forEach(_),this.h()},h(){b(t,"class","w-3/12"),b(s,"class","w-2/12")},m(i,f){h(i,t,f),C(t,e),h(i,r,f),h(i,s,f),C(s,n)},p:D,d(i){i&&(_(t),_(r),_(s))}}}function Kt(o){var G,Q;let t,l=j("common.id")+"",e,r,s,a,n,i=j("workflows.last-accessed")+"",f,m,u,c,d=j("workflows.workflow-task-handler")+"",$,p,T,F,M=j("workflows.activity-handler")+"",y,V=((Q=(G=o[2])==null?void 0:G.buildIdReachability)==null?void 0:Q.length)&&Ke();return{c(){t=v("th"),e=S(l),s=N(),V&&V.c(),a=N(),n=v("th"),f=S(i),m=N(),u=v("th"),c=v("p"),$=S(d),p=N(),T=v("th"),F=v("p"),y=S(M),this.h()},l(I){t=w(I,"TH",{class:!0});var O=E(t);e=B(O,l),O.forEach(_),s=R(I),V&&V.l(I),a=R(I),n=w(I,"TH",{class:!0});var U=E(n);f=B(U,i),U.forEach(_),m=R(I),u=w(I,"TH",{class:!0});var J=E(u);c=w(J,"P",{class:!0});var X=E(c);$=B(X,d),X.forEach(_),J.forEach(_),p=R(I),T=w(I,"TH",{class:!0});var Z=E(T);F=w(Z,"P",{class:!0});var we=E(F);y=B(we,M),we.forEach(_),Z.forEach(_),this.h()},h(){var I,O;b(t,"class",r=(O=(I=o[2])==null?void 0:I.buildIdReachability)!=null&&O.length?"w-3/12":"w-6/12"),b(n,"class","w-2/12"),b(c,"class","text-center"),b(u,"class","w-2/12"),b(F,"class","text-center"),b(T,"class","w-2/12 text-center")},m(I,O){h(I,t,O),C(t,e),h(I,s,O),V&&V.m(I,O),h(I,a,O),h(I,n,O),C(n,f),h(I,m,O),h(I,u,O),C(u,c),C(c,$),h(I,p,O),h(I,T,O),C(T,F),C(F,y)},p(I,O){var U,J,X,Z;O&4&&r!==(r=(J=(U=I[2])==null?void 0:U.buildIdReachability)!=null&&J.length?"w-3/12":"w-6/12")&&b(t,"class",r),(Z=(X=I[2])==null?void 0:X.buildIdReachability)!=null&&Z.length?V?V.p(I,O):(V=Ke(),V.c(),V.m(a.parentNode,a)):V&&(V.d(1),V=null)},d(I){I&&(_(t),_(s),_(a),_(n),_(m),_(u),_(p),_(T)),V&&V.d(I)}}}function Yt(o){let t,l;return t=new ie({props:{slot:"headers",$$slots:{default:[Kt]},$$scope:{ctx:o}}}),{c(){H(t.$$.fragment)},l(e){q(t.$$.fragment,e)},m(e,r){P(t,e,r),l=!0},p(e,r){const s={};r&262148&&(s.$$scope={dirty:r,ctx:e}),t.$set(s)},i(e){l||(g(t.$$.fragment,e),l=!0)},o(e){k(t.$$.fragment,e),l=!1},d(e){A(t,e)}}}function zt(o){let t,l=j("workers.version-sets")+"",e,r,s,a,n,i=j("workers.workers")+"",f,m,u,c,d,$;return s=new oe({props:{class:"mb-6 w-full min-w-[600px] table-fixed",$$slots:{headers:[St],default:[Vt]},$$scope:{ctx:o}}}),u=new Tt({props:{type:"count",$$slots:{default:[Wt]},$$scope:{ctx:o}}}),d=new oe({props:{class:"mb-6 w-full min-w-[600px] table-fixed",$$slots:{headers:[Yt],caption:[Lt],default:[Mt]},$$scope:{ctx:o}}}),{c(){t=v("h2"),e=S(l),r=N(),H(s.$$.fragment),a=N(),n=v("h2"),f=S(i),m=N(),H(u.$$.fragment),c=N(),H(d.$$.fragment),this.h()},l(p){t=w(p,"H2",{"data-testid":!0});var T=E(t);e=B(T,l),T.forEach(_),r=R(p),q(s.$$.fragment,p),a=R(p),n=w(p,"H2",{class:!0,"data-testid":!0});var F=E(n);f=B(F,i),m=R(F),q(u.$$.fragment,F),F.forEach(_),c=R(p),q(d.$$.fragment,p),this.h()},h(){b(t,"data-testid","version-sets"),b(n,"class","flex items-center gap-2"),b(n,"data-testid","workers")},m(p,T){h(p,t,T),C(t,e),h(p,r,T),P(s,p,T),h(p,a,T),h(p,n,T),C(n,f),C(n,m),P(u,n,null),h(p,c,T),P(d,p,T),$=!0},p(p,[T]){const F={};T&262160&&(F.$$scope={dirty:T,ctx:p}),s.$set(F);const M={};T&262146&&(M.$$scope={dirty:T,ctx:p}),u.$set(M);const y={};T&262255&&(y.$$scope={dirty:T,ctx:p}),d.$set(y)},i(p){$||(g(s.$$.fragment,p),g(u.$$.fragment,p),g(d.$$.fragment,p),$=!0)},o(p){k(s.$$.fragment,p),k(u.$$.fragment,p),k(d.$$.fragment,p),$=!1},d(p){p&&(_(t),_(r),_(a),_(n),_(c)),A(s,p),A(u),A(d,p)}}}function Gt(o,t,l){let e,r,s,a;ee(o,ft,u=>l(5,s=u)),ee(o,Et,u=>l(6,a=u));let{taskQueue:n}=t,{workers:i}=t,{reachability:f=void 0}=t,{compatibility:m=void 0}=t;return o.$$set=u=>{"taskQueue"in u&&l(0,n=u.taskQueue),"workers"in u&&l(1,i=u.workers),"reachability"in u&&l(2,f=u.reachability),"compatibility"in u&&l(7,m=u.compatibility)},o.$$.update=()=>{o.$$.dirty&128&&l(4,e=$t(m)),o.$$.dirty&128&&l(3,r=pt(m))},[n,i,f,r,e,s,a,m]}class Ut extends le{constructor(t){super(),re(this,t,Gt,zt,te,{taskQueue:0,workers:1,reachability:2,compatibility:7})}}function Ye(o,t,l){const e=o.slice();return e[12]=t[l],e[14]=l,e}function ze(o,t,l){const e=o.slice();return e[12]=t[l],e[14]=l,e}function Ge(o){let t,l,e,r;return e=new $e({props:{title:j("workers.no-assignment-rules-found")}}),{c(){t=v("tr"),l=v("td"),H(e.$$.fragment),this.h()},l(s){t=w(s,"TR",{class:!0});var a=E(t);l=w(a,"TD",{colspan:!0});var n=E(l);q(e.$$.fragment,n),n.forEach(_),a.forEach(_),this.h()},h(){b(l,"colspan","4"),b(t,"class","w-full")},m(s,a){h(s,t,a),C(t,l),P(e,l,null),r=!0},p:D,i(s){r||(g(e.$$.fragment,s),r=!0)},o(s){k(e.$$.fragment,s),r=!1},d(s){s&&_(t),A(e)}}}function Jt(o){var M;let t,l=o[14]+"",e,r,s,a=((M=o[12].rule)==null?void 0:M.targetBuildId)+"",n,i,f,m=o[5](o[12]).toFixed(0)+"",u,c,d,$,p,T=ae(o[12].createTime,o[4])+"",F;return{c(){t=v("td"),e=S(l),r=N(),s=v("td"),n=S(a),i=N(),f=v("td"),u=S(m),c=S("%"),d=N(),$=v("td"),p=v("p"),F=S(T),this.h()},l(y){t=w(y,"TD",{class:!0,"data-testid":!0});var V=E(t);e=B(V,l),V.forEach(_),r=R(y),s=w(y,"TD",{class:!0,"data-testid":!0});var G=E(s);n=B(G,a),G.forEach(_),i=R(y),f=w(y,"TD",{class:!0,"data-testid":!0});var Q=E(f);u=B(Q,m),c=B(Q,"%"),Q.forEach(_),d=R(y),$=w(y,"TD",{class:!0,"data-testid":!0});var I=E($);p=w(I,"P",{});var O=E(p);F=B(O,T),O.forEach(_),I.forEach(_),this.h()},h(){b(t,"class","text-left"),b(t,"data-testid","index"),b(s,"class","break-all text-left"),b(s,"data-testid","target-build-id"),b(f,"class","text-right"),b(f,"data-testid","target-ramp"),b($,"class","justfiy-between flex w-full items-center text-right"),b($,"data-testid","target-create-time")},m(y,V){h(y,t,V),C(t,e),h(y,r,V),h(y,s,V),C(s,n),h(y,i,V),h(y,f,V),C(f,u),C(f,c),h(y,d,V),h(y,$,V),C($,p),C(p,F)},p(y,V){var G;V&4&&l!==(l=y[14]+"")&&z(e,l),V&4&&a!==(a=((G=y[12].rule)==null?void 0:G.targetBuildId)+"")&&z(n,a),V&4&&m!==(m=y[5](y[12]).toFixed(0)+"")&&z(u,m),V&20&&T!==(T=ae(y[12].createTime,y[4])+"")&&z(F,T)},d(y){y&&(_(t),_(r),_(s),_(i),_(f),_(d),_($))}}}function Ue(o,t){let l,e,r;return e=new ne({props:{"data-testid":"version-row",$$slots:{default:[Jt]},$$scope:{ctx:t}}}),{key:o,first:null,c(){l=W(),H(e.$$.fragment),this.h()},l(s){l=W(),q(e.$$.fragment,s),this.h()},h(){this.first=l},m(s,a){h(s,l,a),P(e,s,a),r=!0},p(s,a){t=s;const n={};a&65556&&(n.$$scope={dirty:a,ctx:t}),e.$set(n)},i(s){r||(g(e.$$.fragment,s),r=!0)},o(s){k(e.$$.fragment,s),r=!1},d(s){s&&_(l),A(e,s)}}}function Je(o){let t,l;return t=new ne({props:{"data-testid":"view-all",class:"surface-subtle cursor-pointer",$$slots:{default:[Xt]},$$scope:{ctx:o}}}),t.$on("click",o[11]),{c(){H(t.$$.fragment)},l(e){q(t.$$.fragment,e)},m(e,r){P(t,e,r),l=!0},p(e,r){const s={};r&65536&&(s.$$scope={dirty:r,ctx:e}),t.$set(s)},i(e){l||(g(t.$$.fragment,e),l=!0)},o(e){k(t.$$.fragment,e),l=!1},d(e){A(t,e)}}}function Xt(o){let t,l,e,r=j("workers.show-inactive-assignment-rules")+"",s,a,n,i,f;return{c(){t=v("td"),l=N(),e=v("td"),s=S(r),a=N(),n=v("td"),i=N(),f=v("td"),this.h()},l(m){t=w(m,"TD",{}),E(t).forEach(_),l=R(m),e=w(m,"TD",{class:!0});var u=E(e);s=B(u,r),u.forEach(_),a=R(m),n=w(m,"TD",{}),E(n).forEach(_),i=R(m),f=w(m,"TD",{}),E(f).forEach(_),this.h()},h(){b(e,"class","break-all text-left text-blue-700 underline")},m(m,u){h(m,t,u),h(m,l,u),h(m,e,u),C(e,s),h(m,a,u),h(m,n,u),h(m,i,u),h(m,f,u)},p:D,d(m){m&&(_(t),_(l),_(e),_(a),_(n),_(i),_(f))}}}function Zt(o){var m;let t=[],l=new Map,e,r,s,a=Y(o[2]);const n=u=>u[14];for(let u=0;u<a.length;u+=1){let c=ze(o,a,u),d=n(c);l.set(d,t[u]=Ue(d,c))}let i=null;a.length||(i=Ge());let f=!o[0]&&((m=o[1])==null?void 0:m.length)&&Je(o);return{c(){for(let u=0;u<t.length;u+=1)t[u].c();i&&i.c(),e=N(),f&&f.c(),r=W()},l(u){for(let c=0;c<t.length;c+=1)t[c].l(u);i&&i.l(u),e=R(u),f&&f.l(u),r=W()},m(u,c){for(let d=0;d<t.length;d+=1)t[d]&&t[d].m(u,c);i&&i.m(u,c),h(u,e,c),f&&f.m(u,c),h(u,r,c),s=!0},p(u,c){var d;c&52&&(a=Y(u[2]),L(),t=de(t,c,n,1,u,a,l,e.parentNode,he,Ue,e,ze),K(),!a.length&&i?i.p(u,c):a.length?i&&(L(),k(i,1,1,()=>{i=null}),K()):(i=Ge(),i.c(),g(i,1),i.m(e.parentNode,e))),!u[0]&&((d=u[1])!=null&&d.length)?f?(f.p(u,c),c&3&&g(f,1)):(f=Je(u),f.c(),g(f,1),f.m(r.parentNode,r)):f&&(L(),k(f,1,1,()=>{f=null}),K())},i(u){if(!s){for(let c=0;c<a.length;c+=1)g(t[c]);g(f),s=!0}},o(u){for(let c=0;c<t.length;c+=1)k(t[c]);k(f),s=!1},d(u){u&&(_(e),_(r));for(let c=0;c<t.length;c+=1)t[c].d(u);i&&i.d(u),f&&f.d(u)}}}function xt(o){let t,l="Index",e,r,s="Target Build ID",a,n,i="Ramp",f,m,u="Create Time";return{c(){t=v("th"),t.textContent=l,e=N(),r=v("th"),r.textContent=s,a=N(),n=v("th"),n.textContent=i,f=N(),m=v("th"),m.textContent=u,this.h()},l(c){t=w(c,"TH",{class:!0,"data-svelte-h":!0}),x(t)!=="svelte-9c3h6b"&&(t.textContent=l),e=R(c),r=w(c,"TH",{class:!0,"data-svelte-h":!0}),x(r)!=="svelte-1y9wj7a"&&(r.textContent=s),a=R(c),n=w(c,"TH",{class:!0,"data-svelte-h":!0}),x(n)!=="svelte-v0wniv"&&(n.textContent=i),f=R(c),m=w(c,"TH",{class:!0,"data-svelte-h":!0}),x(m)!=="svelte-1bmkxw8"&&(m.textContent=u),this.h()},h(){b(t,"class","w-20"),b(r,"class","grow"),b(n,"class","w-20"),b(m,"class","text-right")},m(c,d){h(c,t,d),h(c,e,d),h(c,r,d),h(c,a,d),h(c,n,d),h(c,f,d),h(c,m,d)},p:D,d(c){c&&(_(t),_(e),_(r),_(a),_(n),_(f),_(m))}}}function el(o){let t,l;return t=new ie({props:{slot:"headers",$$slots:{default:[xt]},$$scope:{ctx:o}}}),{c(){H(t.$$.fragment)},l(e){q(t.$$.fragment,e)},m(e,r){P(t,e,r),l=!0},p(e,r){const s={};r&65536&&(s.$$scope={dirty:r,ctx:e}),t.$set(s)},i(e){l||(g(t.$$.fragment,e),l=!0)},o(e){k(t.$$.fragment,e),l=!1},d(e){A(t,e)}}}function Xe(o){let t,l,e,r,s;return e=new $e({props:{title:j("workers.no-redirect-rules-found")}}),{c(){t=v("tr"),l=v("td"),H(e.$$.fragment),r=N(),this.h()},l(a){t=w(a,"TR",{class:!0});var n=E(t);l=w(n,"TD",{colspan:!0});var i=E(l);q(e.$$.fragment,i),i.forEach(_),r=R(n),n.forEach(_),this.h()},h(){b(l,"colspan","3"),b(t,"class","w-full")},m(a,n){h(a,t,n),C(t,l),P(e,l,null),C(t,r),s=!0},p:D,i(a){s||(g(e.$$.fragment,a),s=!0)},o(a){k(e.$$.fragment,a),s=!1},d(a){a&&_(t),A(e)}}}function tl(o){let t,l=o[12].rule.sourceBuildId+"",e,r,s,a=o[12].rule.targetBuildId+"",n,i,f,m=ae(o[12].createTime,o[4])+"",u,c;return{c(){t=v("td"),e=S(l),r=N(),s=v("td"),n=S(a),i=N(),f=v("td"),u=S(m),c=N(),this.h()},l(d){t=w(d,"TD",{class:!0,"data-testid":!0});var $=E(t);e=B($,l),$.forEach(_),r=R(d),s=w(d,"TD",{class:!0,"data-testid":!0});var p=E(s);n=B(p,a),p.forEach(_),i=R(d),f=w(d,"TD",{class:!0,"data-testid":!0});var T=E(f);u=B(T,m),T.forEach(_),c=R(d),this.h()},h(){b(t,"class","text-left"),b(t,"data-testid","target-source"),b(s,"class","text-left"),b(s,"data-testid","target-source"),b(f,"class","text-left"),b(f,"data-testid","target-source")},m(d,$){h(d,t,$),C(t,e),h(d,r,$),h(d,s,$),C(s,n),h(d,i,$),h(d,f,$),C(f,u),h(d,c,$)},p(d,$){$&8&&l!==(l=d[12].rule.sourceBuildId+"")&&z(e,l),$&8&&a!==(a=d[12].rule.targetBuildId+"")&&z(n,a),$&24&&m!==(m=ae(d[12].createTime,d[4])+"")&&z(u,m)},d(d){d&&(_(t),_(r),_(s),_(i),_(f),_(c))}}}function Ze(o,t){let l,e,r;return e=new ne({props:{"data-testid":"version-row",$$slots:{default:[tl]},$$scope:{ctx:t}}}),{key:o,first:null,c(){l=W(),H(e.$$.fragment),this.h()},l(s){l=W(),q(e.$$.fragment,s),this.h()},h(){this.first=l},m(s,a){h(s,l,a),P(e,s,a),r=!0},p(s,a){t=s;const n={};a&65560&&(n.$$scope={dirty:a,ctx:t}),e.$set(n)},i(s){r||(g(e.$$.fragment,s),r=!0)},o(s){k(e.$$.fragment,s),r=!1},d(s){s&&_(l),A(e,s)}}}function ll(o){let t=[],l=new Map,e,r,s=Y(o[3]);const a=i=>i[14];for(let i=0;i<s.length;i+=1){let f=Ye(o,s,i),m=a(f);l.set(m,t[i]=Ze(m,f))}let n=null;return s.length||(n=Xe()),{c(){for(let i=0;i<t.length;i+=1)t[i].c();e=W(),n&&n.c()},l(i){for(let f=0;f<t.length;f+=1)t[f].l(i);e=W(),n&&n.l(i)},m(i,f){for(let m=0;m<t.length;m+=1)t[m]&&t[m].m(i,f);h(i,e,f),n&&n.m(i,f),r=!0},p(i,f){f&24&&(s=Y(i[3]),L(),t=de(t,f,a,1,i,s,l,e.parentNode,he,Ze,e,Ye),K(),!s.length&&n?n.p(i,f):s.length?n&&(L(),k(n,1,1,()=>{n=null}),K()):(n=Xe(),n.c(),g(n,1),n.m(e.parentNode,e)))},i(i){if(!r){for(let f=0;f<s.length;f+=1)g(t[f]);r=!0}},o(i){for(let f=0;f<t.length;f+=1)k(t[f]);r=!1},d(i){i&&_(e);for(let f=0;f<t.length;f+=1)t[f].d(i);n&&n.d(i)}}}function rl(o){let t,l="Source Build ID",e,r,s="Target Build ID",a,n,i="Create Time";return{c(){t=v("th"),t.textContent=l,e=N(),r=v("th"),r.textContent=s,a=N(),n=v("th"),n.textContent=i,this.h()},l(f){t=w(f,"TH",{class:!0,"data-svelte-h":!0}),x(t)!=="svelte-1ojbhda"&&(t.textContent=l),e=R(f),r=w(f,"TH",{class:!0,"data-svelte-h":!0}),x(r)!=="svelte-1kj4z8i"&&(r.textContent=s),a=R(f),n=w(f,"TH",{class:!0,"data-svelte-h":!0}),x(n)!=="svelte-jrosx7"&&(n.textContent=i),this.h()},h(){b(t,"class","w-1/3"),b(r,"class","w-1/3"),b(n,"class","w-1/3")},m(f,m){h(f,t,m),h(f,e,m),h(f,r,m),h(f,a,m),h(f,n,m)},p:D,d(f){f&&(_(t),_(e),_(r),_(a),_(n))}}}function sl(o){let t,l;return t=new ie({props:{slot:"headers",$$slots:{default:[rl]},$$scope:{ctx:o}}}),{c(){H(t.$$.fragment)},l(e){q(t.$$.fragment,e)},m(e,r){P(t,e,r),l=!0},p(e,r){const s={};r&65536&&(s.$$scope={dirty:r,ctx:e}),t.$set(s)},i(e){l||(g(t.$$.fragment,e),l=!0)},o(e){k(t.$$.fragment,e),l=!1},d(e){A(t,e)}}}function al(o){let t,l=j("workers.assignment-rules")+"",e,r,s,a,n,i=j("workers.redirect-rules")+"",f,m,u,c;return s=new oe({props:{class:"mb-6 w-full table-fixed",$$slots:{headers:[el],default:[Zt]},$$scope:{ctx:o}}}),u=new oe({props:{class:"mb-6 w-full table-fixed",$$slots:{headers:[sl],default:[ll]},$$scope:{ctx:o}}}),{c(){t=v("h2"),e=S(l),r=N(),H(s.$$.fragment),a=N(),n=v("h2"),f=S(i),m=N(),H(u.$$.fragment),this.h()},l(d){t=w(d,"H2",{"data-testid":!0});var $=E(t);e=B($,l),$.forEach(_),r=R(d),q(s.$$.fragment,d),a=R(d),n=w(d,"H2",{"data-testid":!0});var p=E(n);f=B(p,i),p.forEach(_),m=R(d),q(u.$$.fragment,d),this.h()},h(){b(t,"data-testid","worker-rules"),b(n,"data-testid","worker-rules")},m(d,$){h(d,t,$),C(t,e),h(d,r,$),P(s,d,$),h(d,a,$),h(d,n,$),C(n,f),h(d,m,$),P(u,d,$),c=!0},p(d,[$]){const p={};$&65559&&(p.$$scope={dirty:$,ctx:d}),s.$set(p);const T={};$&65560&&(T.$$scope={dirty:$,ctx:d}),u.$set(T)},i(d){c||(g(s.$$.fragment,d),g(u.$$.fragment,d),c=!0)},o(d){k(s.$$.fragment,d),k(u.$$.fragment,d),c=!1},d(d){d&&(_(t),_(r),_(a),_(n),_(m)),A(s,d),A(u,d)}}}function nl(o,t,l){let e,r,s,a,n,i,f,m;ee(o,ft,p=>l(4,m=p));let{rules:u}=t,c=!1;const d=p=>{var T,F,M;return!((T=p.rule)===null||T===void 0)&&T.percentageRamp?!((M=(F=p.rule)===null||F===void 0?void 0:F.percentageRamp)===null||M===void 0)&&M.rampPercentage?p.rule.percentageRamp.rampPercentage:0:100},$=()=>l(0,c=!c);return o.$$set=p=>{"rules"in p&&l(6,u=p.rules)},o.$$.update=()=>{o.$$.dirty&64&&l(9,{assignmentRules:e=[],compatibleRedirectRules:r=[]}=u,e,(l(3,r),l(6,u))),o.$$.dirty&512&&l(10,s=e.find(p=>d(p)===100)),o.$$.dirty&1536&&l(8,a=e.indexOf(s)),o.$$.dirty&768&&l(7,n=e.filter((p,T)=>T<=a)),o.$$.dirty&768&&l(1,i=e.filter((p,T)=>T>a)),o.$$.dirty&131&&l(2,f=c?[...n,...i]:n)},[c,i,f,r,m,d,u,n,a,e,s,$]}class ol extends le{constructor(t){super(),re(this,t,nl,al,te,{rules:6})}}function xe(o,t,l){const e=o.slice();return e[8]=t[l],e}function et(o,t,l){const e=o.slice();return e[5]=t[l],e}function tt(o,t,l){const e=o.slice();return e[5]=t[l],e[7]=l,e}const il=o=>({}),lt=o=>({});function rt(o){let t,l,e;return l=new It({props:{class:"h-4 w-full"}}),{c(){t=v("td"),H(l.$$.fragment),this.h()},l(r){t=w(r,"TD",{style:!0});var s=E(t);q(l.$$.fragment,s),s.forEach(_),this.h()},h(){pe(t,"padding-right","0.5rem")},m(r,s){h(r,t,s),P(l,t,null),e=!0},p:D,i(r){e||(g(l.$$.fragment,r),e=!0)},o(r){k(l.$$.fragment,r),e=!1},d(r){r&&_(t),A(l)}}}function fl(o){let t,l,e=Y(Array.from(new Array(o[1]))),r=[];for(let a=0;a<e.length;a+=1)r[a]=rt(et(o,e,a));const s=a=>k(r[a],1,1,()=>{r[a]=null});return{c(){for(let a=0;a<r.length;a+=1)r[a].c();t=N()},l(a){for(let n=0;n<r.length;n+=1)r[n].l(a);t=R(a)},m(a,n){for(let i=0;i<r.length;i+=1)r[i]&&r[i].m(a,n);h(a,t,n),l=!0},p(a,n){if(n&2){e=Y(Array.from(new Array(a[1])));let i;for(i=0;i<e.length;i+=1){const f=et(a,e,i);r[i]?(r[i].p(f,n),g(r[i],1)):(r[i]=rt(),r[i].c(),g(r[i],1),r[i].m(t.parentNode,t))}for(L(),i=e.length;i<r.length;i+=1)s(i);K()}},i(a){if(!l){for(let n=0;n<e.length;n+=1)g(r[n]);l=!0}},o(a){r=r.filter(Boolean);for(let n=0;n<r.length;n+=1)k(r[n]);l=!1},d(a){a&&_(t),me(r,a)}}}function st(o){let t,l;return t=new ne({props:{$$slots:{default:[fl]},$$scope:{ctx:o}}}),{c(){H(t.$$.fragment)},l(e){q(t.$$.fragment,e)},m(e,r){P(t,e,r),l=!0},p(e,r){const s={};r&18&&(s.$$scope={dirty:r,ctx:e}),t.$set(s)},i(e){l||(g(t.$$.fragment,e),l=!0)},o(e){k(t.$$.fragment,e),l=!1},d(e){A(t,e)}}}function ul(o){let t,l,e=Y(Array.from(Array(o[0]).keys())),r=[];for(let a=0;a<e.length;a+=1)r[a]=st(xe(o,e,a));const s=a=>k(r[a],1,1,()=>{r[a]=null});return{c(){for(let a=0;a<r.length;a+=1)r[a].c();t=W()},l(a){for(let n=0;n<r.length;n+=1)r[n].l(a);t=W()},m(a,n){for(let i=0;i<r.length;i+=1)r[i]&&r[i].m(a,n);h(a,t,n),l=!0},p(a,n){if(n&3){e=Y(Array.from(Array(a[0]).keys()));let i;for(i=0;i<e.length;i+=1){const f=xe(a,e,i);r[i]?(r[i].p(f,n),g(r[i],1)):(r[i]=st(f),r[i].c(),g(r[i],1),r[i].m(t.parentNode,t))}for(L(),i=e.length;i<r.length;i+=1)s(i);K()}},i(a){if(!l){for(let n=0;n<e.length;n+=1)g(r[n]);l=!0}},o(a){r=r.filter(Boolean);for(let n=0;n<r.length;n+=1)k(r[n]);l=!1},d(a){a&&_(t),me(r,a)}}}function at(o){let t;return{c(){t=v("th"),this.h()},l(l){t=w(l,"TH",{style:!0}),E(t).forEach(_),this.h()},h(){pe(t,"width",o[2][o[7]]+"%")},m(l,e){h(l,t,e)},p(l,e){e&4&&pe(t,"width",l[2][l[7]]+"%")},d(l){l&&_(t)}}}function cl(o){let t,l=Y(Array.from(new Array(o[1]))),e=[];for(let r=0;r<l.length;r+=1)e[r]=at(tt(o,l,r));return{c(){for(let r=0;r<e.length;r+=1)e[r].c();t=W()},l(r){for(let s=0;s<e.length;s+=1)e[s].l(r);t=W()},m(r,s){for(let a=0;a<e.length;a+=1)e[a]&&e[a].m(r,s);h(r,t,s)},p(r,s){if(s&6){l=Y(Array.from(new Array(r[1])));let a;for(a=0;a<l.length;a+=1){const n=tt(r,l,a);e[a]?e[a].p(n,s):(e[a]=at(n),e[a].c(),e[a].m(t.parentNode,t))}for(;a<e.length;a+=1)e[a].d(1);e.length=l.length}},d(r){r&&_(t),me(e,r)}}}function _l(o){let t;const l=o[3].headers,e=fe(l,o,o[4],lt),r=e||cl(o);return{c(){r&&r.c()},l(s){r&&r.l(s)},m(s,a){r&&r.m(s,a),t=!0},p(s,a){e?e.p&&(!t||a&16)&&ue(e,l,s,s[4],t?_e(l,s[4],a,il):ce(s[4]),lt):r&&r.p&&(!t||a&6)&&r.p(s,t?a:-1)},i(s){t||(g(r,s),t=!0)},o(s){k(r,s),t=!1},d(s){r&&r.d(s)}}}function ml(o){let t,l;return t=new ie({props:{slot:"headers",class:"h-8",$$slots:{default:[_l]},$$scope:{ctx:o}}}),{c(){H(t.$$.fragment)},l(e){q(t.$$.fragment,e)},m(e,r){P(t,e,r),l=!0},p(e,r){const s={};r&22&&(s.$$scope={dirty:r,ctx:e}),t.$set(s)},i(e){l||(g(t.$$.fragment,e),l=!0)},o(e){k(t.$$.fragment,e),l=!1},d(e){A(t,e)}}}function dl(o){let t,l;return t=new oe({props:{class:"w-full table-fixed",variant:"fancy",$$slots:{headers:[ml],default:[ul]},$$scope:{ctx:o}}}),{c(){H(t.$$.fragment)},l(e){q(t.$$.fragment,e)},m(e,r){P(t,e,r),l=!0},p(e,[r]){const s={};r&23&&(s.$$scope={dirty:r,ctx:e}),t.$set(s)},i(e){l||(g(t.$$.fragment,e),l=!0)},o(e){k(t.$$.fragment,e),l=!1},d(e){A(t,e)}}}function hl(o,t,l){let{$$slots:e={},$$scope:r}=t,{rows:s=10}=t,{columns:a=4}=t,{columnWidths:n=new Array(a).fill(100/a)}=t;return o.$$set=i=>{"rows"in i&&l(0,s=i.rows),"columns"in i&&l(1,a=i.columns),"columnWidths"in i&&l(2,n=i.columnWidths),"$$scope"in i&&l(4,r=i.$$scope)},[s,a,n,e,r]}class ut extends le{constructor(t){super(),re(this,t,hl,dl,te,{rows:0,columns:1,columnWidths:2})}}function nt(o){o[9]=o[12].rules,o[10]=o[12].compatibility,o[11]=o[12].versionSets}const $l=o=>({compatibility:o&33}),ot=o=>({compatibility:o[10]});function pl(o){return{c:D,l:D,m:D,p:D,i:D,o:D,d:D}}function gl(o){nt(o);let t,l,e,r,s;const a=[wl,kl,bl],n=[];function i(f,m){var u;return m&37&&(t=null),t==null&&(t=!!f[2](f[9])),t?0:f[4]&&((u=f[11])!=null&&u.length)?1:2}return l=i(o,-1),e=n[l]=a[l](o),{c(){e.c(),r=W()},l(f){e.l(f),r=W()},m(f,m){n[l].m(f,m),h(f,r,m),s=!0},p(f,m){nt(f);let u=l;l=i(f,m),l===u?n[l].p(f,m):(L(),k(n[u],1,1,()=>{n[u]=null}),K(),e=n[l],e?e.p(f,m):(e=n[l]=a[l](f),e.c()),g(e,1),e.m(r.parentNode,r))},i(f){s||(g(e),s=!0)},o(f){k(e),s=!1},d(f){f&&_(r),n[l].d(f)}}}function bl(o){let t,l="No versioning configured for task queue.";return{c(){t=v("p"),t.textContent=l},l(e){t=w(e,"P",{"data-svelte-h":!0}),x(t)!=="svelte-1l2qp7c"&&(t.textContent=l)},m(e,r){h(e,t,r)},p:D,i:D,o:D,d(e){e&&_(t)}}}function kl(o){let t,l,e,r={ctx:o,current:null,token:null,hasCatch:!1,pending:El,then:Tl,catch:vl,value:13,blocks:[,,,]};return se(l=De({namespace:o[5],buildIds:o[3],queue:o[0]}),r),{c(){t=W(),r.block.c()},l(s){t=W(),r.block.l(s)},m(s,a){h(s,t,a),r.block.m(s,r.anchor=a),r.mount=()=>t.parentNode,r.anchor=t,e=!0},p(s,a){o=s,r.ctx=o,a&41&&l!==(l=De({namespace:o[5],buildIds:o[3],queue:o[0]}))&&se(l,r)||be(r,o,a)},i(s){e||(g(r.block),e=!0)},o(s){for(let a=0;a<3;a+=1){const n=r.blocks[a];k(n)}e=!1},d(s){s&&_(t),r.block.d(s),r.token=null,r=null}}}function wl(o){let t,l;return t=new ol({props:{rules:o[9]}}),{c(){H(t.$$.fragment)},l(e){q(t.$$.fragment,e)},m(e,r){P(t,e,r),l=!0},p(e,r){const s={};r&33&&(s.rules=e[9]),t.$set(s)},i(e){l||(g(t.$$.fragment,e),l=!0)},o(e){k(t.$$.fragment,e),l=!1},d(e){A(t,e)}}}function vl(o){return{c:D,l:D,m:D,p:D,i:D,o:D,d:D}}function Tl(o){let t,l,e;const r=o[8].default,s=fe(r,o,o[7],ot);return l=new Ut({props:{taskQueue:o[0],workers:o[1],compatibility:o[10],reachability:o[13]}}),{c(){s&&s.c(),t=N(),H(l.$$.fragment)},l(a){s&&s.l(a),t=R(a),q(l.$$.fragment,a)},m(a,n){s&&s.m(a,n),h(a,t,n),P(l,a,n),e=!0},p(a,n){s&&s.p&&(!e||n&161)&&ue(s,r,a,a[7],e?_e(r,a[7],n,$l):ce(a[7]),ot);const i={};n&1&&(i.taskQueue=a[0]),n&2&&(i.workers=a[1]),n&33&&(i.compatibility=a[10]),n&41&&(i.reachability=a[13]),l.$set(i)},i(a){e||(g(s,a),g(l.$$.fragment,a),e=!0)},o(a){k(s,a),k(l.$$.fragment,a),e=!1},d(a){a&&_(t),s&&s.d(a),A(l,a)}}}function El(o){let t,l;return t=new ut({props:{rows:3}}),{c(){H(t.$$.fragment)},l(e){q(t.$$.fragment,e)},m(e,r){P(t,e,r),l=!0},p:D,i(e){l||(g(t.$$.fragment,e),l=!0)},o(e){k(t.$$.fragment,e),l=!1},d(e){A(t,e)}}}function Il(o){let t,l;return t=new ut({props:{rows:3}}),{c(){H(t.$$.fragment)},l(e){q(t.$$.fragment,e)},m(e,r){P(t,e,r),l=!0},p:D,i(e){l||(g(t.$$.fragment,e),l=!0)},o(e){k(t.$$.fragment,e),l=!1},d(e){A(t,e)}}}function yl(o){let t,l,e,r={ctx:o,current:null,token:null,hasCatch:!1,pending:Il,then:gl,catch:pl,value:12,blocks:[,,,]};return se(l=Ce({namespace:o[5],queue:o[0]}),r),{c(){t=W(),r.block.c()},l(s){t=W(),r.block.l(s)},m(s,a){h(s,t,a),r.block.m(s,r.anchor=a),r.mount=()=>t.parentNode,r.anchor=t,e=!0},p(s,[a]){o=s,r.ctx=o,a&33&&l!==(l=Ce({namespace:o[5],queue:o[0]}))&&se(l,r)||be(r,o,a)},i(s){e||(g(r.block),e=!0)},o(s){for(let a=0;a<3;a+=1){const n=r.blocks[a];k(n)}e=!1},d(s){s&&_(t),r.block.d(s),r.token=null,r=null}}}function Cl(o,t,l){let e,r,s,a,n;ee(o,ge,c=>l(6,n=c));let{$$slots:i={},$$scope:f}=t,{taskQueue:m}=t,{workers:u}=t;return o.$$set=c=>{"taskQueue"in c&&l(0,m=c.taskQueue),"workers"in c&&l(1,u=c.workers),"$$scope"in c&&l(7,f=c.$$scope)},o.$$.update=()=>{o.$$.dirty&64&&l(5,{namespace:e}=n.params,e),o.$$.dirty&2&&l(4,r=kt(u.pollers)),o.$$.dirty&2&&l(3,s=wt(u.pollers))},l(2,a=c=>(c==null?void 0:c.assignmentRules)||(c==null?void 0:c.compatibleRedirectRules)),[m,u,a,s,r,e,n,f,i]}class Dl extends le{constructor(t){super(),re(this,t,Cl,yl,te,{taskQueue:0,workers:1})}}function Rl(o){return{c:D,l:D,m:D,p:D,i:D,o:D,d:D}}function Nl(o){let t,l,e,r,s,a,n,i,f;s=new dt({props:{$$slots:{default:[Al]},$$scope:{ctx:o}}});const m=[ql,Pl],u=[];function c(d,$){return d[2]==="versioning"?0:1}return n=c(o),i=u[n]=m[n](o),{c(){t=v("section"),l=v("h2"),e=S(o[1]),r=N(),H(s.$$.fragment),a=N(),i.c(),this.h()},l(d){t=w(d,"SECTION",{class:!0});var $=E(t);l=w($,"H2",{"data-testid":!0});var p=E(l);e=B(p,o[1]),p.forEach(_),r=R($),q(s.$$.fragment,$),a=R($),i.l($),$.forEach(_),this.h()},h(){b(l,"data-testid","task-queue-name"),b(t,"class","flex flex-col gap-4")},m(d,$){h(d,t,$),C(t,l),C(l,e),C(t,r),P(s,t,null),C(t,a),u[n].m(t,null),f=!0},p(d,$){(!f||$&2)&&z(e,d[1]);const p={};$&260&&(p.$$scope={dirty:$,ctx:d}),s.$set(p);let T=n;n=c(d),n===T?u[n].p(d,$):(L(),k(u[T],1,1,()=>{u[T]=null}),K(),i=u[n],i?i.p(d,$):(i=u[n]=m[n](d),i.c()),g(i,1),i.m(t,null))},i(d){f||(g(s.$$.fragment,d),g(i),f=!0)},o(d){k(s.$$.fragment,d),k(i),f=!1},d(d){d&&_(t),A(s),u[n].d()}}}function Ql(o){let t,l,e,r;return t=new Ee({props:{label:j("workers.workers"),id:"worker-tab",onClick:o[5],active:o[2]==="workers"}}),e=new Ee({props:{label:j("workers.versioning"),id:"versioning-tab",onClick:o[6],active:o[2]==="versioning"}}),{c(){H(t.$$.fragment),l=N(),H(e.$$.fragment)},l(s){q(t.$$.fragment,s),l=R(s),q(e.$$.fragment,s)},m(s,a){P(t,s,a),h(s,l,a),P(e,s,a),r=!0},p(s,a){const n={};a&4&&(n.active=s[2]==="workers"),t.$set(n);const i={};a&4&&(i.active=s[2]==="versioning"),e.$set(i)},i(s){r||(g(t.$$.fragment,s),g(e.$$.fragment,s),r=!0)},o(s){k(t.$$.fragment,s),k(e.$$.fragment,s),r=!1},d(s){s&&_(l),A(t,s),A(e,s)}}}function Al(o){let t,l;return t=new ht({props:{class:"flex flex-wrap gap-6 p-4 pl-0",label:"task queue detail",$$slots:{default:[Ql]},$$scope:{ctx:o}}}),{c(){H(t.$$.fragment)},l(e){q(t.$$.fragment,e)},m(e,r){P(t,e,r),l=!0},p(e,r){const s={};r&260&&(s.$$scope={dirty:r,ctx:e}),t.$set(s)},i(e){l||(g(t.$$.fragment,e),l=!0)},o(e){k(t.$$.fragment,e),l=!1},d(e){A(t,e)}}}function Pl(o){let t,l;return t=new mt({props:{workers:o[7]}}),{c(){H(t.$$.fragment)},l(e){q(t.$$.fragment,e)},m(e,r){P(t,e,r),l=!0},p(e,r){const s={};r&3&&(s.workers=e[7]),t.$set(s)},i(e){l||(g(t.$$.fragment,e),l=!0)},o(e){k(t.$$.fragment,e),l=!1},d(e){A(t,e)}}}function ql(o){let t,l;return t=new Dl({props:{taskQueue:o[1],workers:o[7]}}),{c(){H(t.$$.fragment)},l(e){q(t.$$.fragment,e)},m(e,r){P(t,e,r),l=!0},p(e,r){const s={};r&2&&(s.taskQueue=e[1]),r&3&&(s.workers=e[7]),t.$set(s)},i(e){l||(g(t.$$.fragment,e),l=!0)},o(e){k(t.$$.fragment,e),l=!1},d(e){A(t,e)}}}function Hl(o){return{c:D,l:D,m:D,p:D,i:D,o:D,d:D}}function Vl(o){let t,l,e,r={ctx:o,current:null,token:null,hasCatch:!1,pending:Hl,then:Nl,catch:Rl,value:7,blocks:[,,,]};return se(l=Re({queue:o[1],namespace:o[0]}),r),{c(){t=W(),r.block.c()},l(s){t=W(),r.block.l(s)},m(s,a){h(s,t,a),r.block.m(s,r.anchor=a),r.mount=()=>t.parentNode,r.anchor=t,e=!0},p(s,[a]){o=s,r.ctx=o,a&3&&l!==(l=Re({queue:o[1],namespace:o[0]}))&&se(l,r)||be(r,o,a)},i(s){e||(g(r.block),e=!0)},o(s){for(let a=0;a<3;a+=1){const n=r.blocks[a];k(n)}e=!1},d(s){s&&_(t),r.block.d(s),r.token=null,r=null}}}function Bl(o,t,l){let e,r,s,a;ee(o,Qe,m=>l(2,s=m)),ee(o,ge,m=>l(4,a=m));const n=m=>{ct(Qe,s=m,s)},i=()=>n("workers"),f=()=>n("versioning");return o.$$.update=()=>{o.$$.dirty&16&&l(1,{queue:e,namespace:r}=a.params,e,(l(0,r),l(4,a)))},[r,e,s,n,a,i,f]}class Sl extends le{constructor(t){super(),re(this,t,Bl,Vl,te,{})}}function Wl(o){let t,l,e,r;return t=new _t({props:{title:`Task Queue | ${o[1]}`,url:o[0].url.href}}),e=new Sl({}),{c(){H(t.$$.fragment),l=N(),H(e.$$.fragment)},l(s){q(t.$$.fragment,s),l=R(s),q(e.$$.fragment,s)},m(s,a){P(t,s,a),h(s,l,a),P(e,s,a),r=!0},p(s,[a]){const n={};a&1&&(n.url=s[0].url.href),t.$set(n)},i(s){r||(g(t.$$.fragment,s),g(e.$$.fragment,s),r=!0)},o(s){k(t.$$.fragment,s),k(e.$$.fragment,s),r=!1},d(s){s&&_(l),A(t,s),A(e,s)}}}function Fl(o,t,l){let e;ee(o,ge,s=>l(0,e=s));const r=e.params.queue;return[e,r]}class fr extends le{constructor(t){super(),re(this,t,Fl,Wl,te,{})}}export{fr as component};
