import{s as ge,h as y,b as O,t as x,j as J,k as Y,f as w,d as Q,l as ee,m as L,i as C,n as B,q as pe,c as re,v as de,D as xe,z as Qe,A as Mn,H as je,x as se,a as qe,E as Wt,p as Gn,u as Be,g as Ue,e as Fe,M as ct,w as _e,O as ae,Q as ue,R as ft,y as tt,Z as Kn,W as Xn,P as An}from"../chunks/scheduler.9nPpm2FE.js";import{S as he,i as ke,c as I,a as E,m as D,t as c,b as p,d as T,g as te,e as ne,j as St,h as ce,f as Nn}from"../chunks/index.DU2w1i_i.js";import{p as Ae}from"../chunks/stores.C0u502qJ.js";import{v as xn}from"../chunks/data-encoder-settings.lFbI4TWp.js";import{L as Oe}from"../chunks/link.CeI-BHFX.js";import{t as M}from"../chunks/translate.BBe5dcco.js";import{c as qn,k as Bn,x as el,y as tl,z as nl,A as Pt}from"../chunks/workflows.Dfp5S9hk.js";import{e as et,s as Rt,w as He,x as Vt,y as Mt,b as Re,v as Je,z as Ye,c as Ze,A as Ge,B as Ke}from"../chunks/route-for.D6zXm2mv.js";import{B as ll}from"../chunks/button.CEKg-igd.js";import{L as rl}from"../chunks/loading.DGykYoBQ.js";import{s as At,a as Un}from"../chunks/index.BqEfn_Ne.js";import{f as Ie,r as ol,t as fl}from"../chunks/time-format.B1YcaRdV.js";import{q as sl}from"../chunks/format-time.-q8QuKs5.js";import{C as Fn}from"../chunks/index.CMKOh3d8.js";import{I as Ne}from"../chunks/icon.DzapTxDt.js";import{T as nt}from"../chunks/tooltip.BBkcsULA.js";import{g as il}from"../chunks/spread.CgU5AtxT.js";import{v as st,t as Hn}from"../chunks/toaster.B6V5Bvc6.js";import{B as mt}from"../chunks/button.Bg-QSXCx.js";import{M as pt}from"../chunks/markdown.BGFJ7pjs.js";import{a as jn}from"../chunks/query-service.Da6zDVvZ.js";import{a as On}from"../chunks/auth-user.CO1jhKYI.js";import{w as Ee,r as Le,i as al}from"../chunks/workflow-run.C1WoqsPb.js";import{e as Ve}from"../chunks/each.YVmQpE2s.js";import{w as lt,g as Nt}from"../chunks/entry.DOFx4R7E.js";import{w as ul,a as cl,b as ml,C as pl,T as dl}from"../chunks/workflow-terminate-enabled.CI8I2lkV.js";import{C as it}from"../chunks/checkbox.Bb90xVzD.js";import{I as rt}from"../chunks/input.B6H191Yr.js";import{M as dt}from"../chunks/modal.GzQ7cQ8C.js";import{S as _t,O as ze}from"../chunks/option.O4jDxR0M.js";import{r as Qn,f as Xe,b as qt,p as _l,c as Bt,t as Ut}from"../chunks/events.CIGgYyM7.js";import{p as gl}from"../chunks/persist-store.b1znLw0v.js";import{t as $l}from"../chunks/versions.BLkPrIJY.js";import{i as gt}from"../chunks/is-network-error.DxxRlstw.js";import{m as wl}from"../chunks/route-for-api.ChdCJBUD.js";import{P as hl}from"../chunks/payload-input-with-encoding.Xkdf2Rhv.js";import{P as kl}from"../chunks/payload-decoder.BZb00uM_.js";import"../chunks/card.L31Vb8Ak.js";import"../chunks/radio-input.Dt7rbu4E.js";import{P as bl}from"../chunks/payload-input.DAVmO4xL.js";import{A as ye}from"../chunks/alert.BcidX7Aq.js";import{C as Ln}from"../chunks/code-block.DvCtM1hz.js";import{d as $t}from"../chunks/menu.CnjjkvMN.js";import{M as zn}from"../chunks/menu-divider.qo7bP8FP.js";import{S as yn}from"../chunks/split-button.DGtmuFbq.js";import{c as vl}from"../chunks/core-user.DoFms_PR.js";import{w as at}from"../chunks/workflow-create-disabled.Bi1QeHMW.js";import{W as Il}from"../chunks/workflow-status.o588YIQ2.js";import{C as El}from"../chunks/compatibility-badge.D0-M0S9m.js";import{k as Dl,g as Tl}from"../chunks/pollers-service.DR3vRHdN.js";import{B as ot}from"../chunks/badge.DCaYjp5t.js";import{T as Cl,a as Wl,b as Me}from"../chunks/tab.DF5qw_Ur.js";import{n as Sl}from"../chunks/namespaces.Cp9W594M.js";import{g as Pl}from"../chunks/get-workflow-relationships.BAMh5SRN.js";import{h as Rl}from"../chunks/has.BnvKvYqj.js";import{t as Vl,f as Ml}from"../chunks/events-service.NOGP8jXr.js";import{r as Al}from"../chunks/data-encoder-config.CNraqSQJ.js";import{c as Nl}from"../chunks/copy-to-clipboard.Df1ONxrz.js";import{a as Ft}from"../chunks/decode-payload.CQMhVzRS.js";import{s as ut}from"../chunks/parse-with-big-int.DJQKqIvA.js";function ql(r){let t=M("workflows.back-to-workflows")+"",n;return{c(){n=x(t)},l(e){n=ee(e,t)},m(e,l){C(e,n,l)},p:de,d(e){e&&w(n)}}}function Bl(r){var v,R;let t,n,e,l,o,f,i=(((v=r[0])==null?void 0:v.statusCode)??"500")+"",s,a,u,_,b,h,k=(((R=r[0])==null?void 0:R.statusText)??"")+"",m,d;return e=new Oe({props:{href:`${et({namespace:r[2]})}?${r[3]}`,"data-testid":"back-to-workflows",icon:"chevron-left",$$slots:{default:[ql]},$$scope:{ctx:r}}}),{c(){t=y("header"),n=y("div"),I(e.$$.fragment),l=O(),o=y("div"),f=y("h1"),s=x(i),a=O(),u=y("p"),_=x(r[1]),b=O(),h=y("p"),m=x(k),this.h()},l(g){t=J(g,"HEADER",{class:!0});var $=Y(t);n=J($,"DIV",{class:!0});var S=Y(n);E(e.$$.fragment,S),S.forEach(w),$.forEach(w),l=Q(g),o=J(g,"DIV",{class:!0});var W=Y(o);f=J(W,"H1",{class:!0});var H=Y(f);s=ee(H,i),H.forEach(w),a=Q(W),u=J(W,"P",{class:!0});var q=Y(u);_=ee(q,r[1]),q.forEach(w),b=Q(W),h=J(W,"P",{class:!0});var j=Y(h);m=ee(j,k),j.forEach(w),W.forEach(w),this.h()},h(){L(n,"class","mb-4 block"),L(t,"class","mb-4 flex flex-col gap-1"),L(f,"class","leading-0 text-[12rem] font-semibold"),L(u,"class","-mt-12 text-lg"),L(h,"class","text-2xl font-bold text-red-700"),L(o,"class","text-center align-middle")},m(g,$){C(g,t,$),B(t,n),D(e,n,null),C(g,l,$),C(g,o,$),B(o,f),B(f,s),B(o,a),B(o,u),B(u,_),B(o,b),B(o,h),B(h,m),d=!0},p(g,[$]){var W,H;const S={};$&12&&(S.href=`${et({namespace:g[2]})}?${g[3]}`),$&32&&(S.$$scope={dirty:$,ctx:g}),e.$set(S),(!d||$&1)&&i!==(i=(((W=g[0])==null?void 0:W.statusCode)??"500")+"")&&pe(s,i),(!d||$&2)&&pe(_,g[1]),(!d||$&1)&&k!==(k=(((H=g[0])==null?void 0:H.statusText)??"")+"")&&pe(m,k)},i(g){d||(c(e.$$.fragment,g),d=!0)},o(g){p(e.$$.fragment,g),d=!1},d(g){g&&(w(t),w(l),w(o)),T(e)}}}function Ul(r,t,n){let e,l,o,f;re(r,Ae,s=>n(4,o=s)),re(r,qn,s=>n(3,f=s));let{error:i}=t;return r.$$set=s=>{"error"in s&&n(0,i=s.error)},r.$$.update=()=>{r.$$.dirty&16&&n(2,{namespace:e}=o.params,e),r.$$.dirty&1&&n(1,l=i.statusCode===404?M("workflows.workflow-404-title"):M("workflows.workflow-error-title"))},[i,l,e,f,o]}class Fl extends he{constructor(t){super(),ke(this,t,Ul,Bl,ge,{error:0})}}function Ht(r){let t,n;return{c(){t=y("span"),n=x(r[0]),this.h()},l(e){t=J(e,"SPAN",{class:!0});var l=Y(t);n=ee(l,r[0]),l.forEach(w),this.h()},h(){L(t,"class","font-mono")},m(e,l){C(e,t,l),B(t,n)},p(e,l){l&1&&pe(n,e[0])},d(e){e&&w(t)}}}function jt(r){let t,n;return t=new Ne({props:{name:r[5]}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l&32&&(o.name=e[5]),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function Hl(r){let t,n;return t=new nt({props:{text:r[6],hide:!r[6],top:!0,$$slots:{default:[Ql]},$$scope:{ctx:r}}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l&64&&(o.text=e[6]),l&64&&(o.hide=!e[6]),l&642&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function jl(r){let t,n;return t=new Oe({props:{href:r[4],class:"value truncate rounded-sm p-1 leading-4 "+(r[7]&&"surface-subtle"),$$slots:{default:[Ll]},$$scope:{ctx:r}}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l&16&&(o.href=e[4]),l&128&&(o.class="value truncate rounded-sm p-1 leading-4 "+(e[7]&&"surface-subtle")),l&514&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function Ol(r){let t,n;return t=new Fn({props:{copyIconTitle:M("common.copy-icon-title"),copySuccessIconTitle:M("common.copy-success-icon-title"),content:r[1],visible:!0,"container-class":"gap-1 w-full justify-end",$$slots:{default:[Zl]},$$scope:{ctx:r}}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l&2&&(o.content=e[1]),l&730&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function Ql(r){let t,n;return{c(){t=y("span"),n=x(r[1]),this.h()},l(e){t=J(e,"SPAN",{class:!0});var l=Y(t);n=ee(l,r[1]),l.forEach(w),this.h()},h(){L(t,"class","w-fit select-all truncate rounded-sm p-1 leading-4"),je(t,"surface-subtle",r[7])},m(e,l){C(e,t,l),B(t,n)},p(e,l){l&2&&pe(n,e[1]),l&128&&je(t,"surface-subtle",e[7])},d(e){e&&w(t)}}}function Ll(r){let t;return{c(){t=x(r[1])},l(n){t=ee(n,r[1])},m(n,e){C(n,t,e)},p(n,e){e&2&&pe(t,n[1])},d(n){n&&w(t)}}}function zl(r){let t,n;return t=new nt({props:{text:r[6],hide:!r[6],top:!0,$$slots:{default:[Jl]},$$scope:{ctx:r}}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l&64&&(o.text=e[6]),l&64&&(o.hide=!e[6]),l&642&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function yl(r){let t,n;return t=new Oe({props:{href:r[4],class:"flex w-fit flex-row items-center gap-1 truncate rounded-sm p-1 leading-4 "+(r[7]&&"surface-subtle"),$$slots:{default:[Yl]},$$scope:{ctx:r}}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l&16&&(o.href=e[4]),l&128&&(o.class="flex w-fit flex-row items-center gap-1 truncate rounded-sm p-1 leading-4 "+(e[7]&&"surface-subtle")),l&522&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function Jl(r){let t,n;return{c(){t=y("span"),n=x(r[1]),this.h()},l(e){t=J(e,"SPAN",{class:!0});var l=Y(t);n=ee(l,r[1]),l.forEach(w),this.h()},h(){L(t,"class","w-fit select-all truncate rounded-sm p-1 leading-4"),je(t,"surface-subtle",r[7])},m(e,l){C(e,t,l),B(t,n)},p(e,l){l&2&&pe(n,e[1]),l&128&&je(t,"surface-subtle",e[7])},d(e){e&&w(t)}}}function Ot(r){let t,n;return t=new Ne({props:{name:"filter",class:"shrink-0"}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function Yl(r){let t,n,e,l,o,f=r[3]&&Ot();return{c(){t=y("span"),n=x(r[1]),e=O(),f&&f.c(),l=se(),this.h()},l(i){t=J(i,"SPAN",{class:!0});var s=Y(t);n=ee(s,r[1]),s.forEach(w),e=Q(i),f&&f.l(i),l=se(),this.h()},h(){L(t,"class","truncate")},m(i,s){C(i,t,s),B(t,n),C(i,e,s),f&&f.m(i,s),C(i,l,s),o=!0},p(i,s){(!o||s&2)&&pe(n,i[1]),i[3]?f?s&8&&c(f,1):(f=Ot(),f.c(),c(f,1),f.m(l.parentNode,l)):f&&(te(),p(f,1,1,()=>{f=null}),ne())},i(i){o||(c(f),o=!0)},o(i){p(f),o=!1},d(i){i&&(w(t),w(e),w(l)),f&&f.d(i)}}}function Zl(r){let t,n,e,l;const o=[yl,zl],f=[];function i(s,a){return s[4]?0:1}return t=i(r),n=f[t]=o[t](r),{c(){n.c(),e=se()},l(s){n.l(s),e=se()},m(s,a){f[t].m(s,a),C(s,e,a),l=!0},p(s,a){let u=t;t=i(s),t===u?f[t].p(s,a):(te(),p(f[u],1,1,()=>{f[u]=null}),ne(),n=f[t],n?n.p(s,a):(n=f[t]=o[t](s),n.c()),c(n,1),n.m(e.parentNode,e))},i(s){l||(c(n),l=!0)},o(s){p(n),l=!1},d(s){s&&w(e),f[t].d(s)}}}function Gl(r){let t,n,e,l,o,f,i,s=r[0]&&Ht(r),a=r[5]&&jt(r);const u=[Ol,jl,Hl],_=[];function b(h,k){return h[2]?0:h[4]?1:2}return l=b(r),o=_[l]=u[l](r),{c(){t=y("p"),s&&s.c(),n=O(),a&&a.c(),e=O(),o.c(),this.h()},l(h){t=J(h,"P",{class:!0});var k=Y(t);s&&s.l(k),n=Q(k),a&&a.l(k),e=Q(k),o.l(k),k.forEach(w),this.h()},h(){L(t,"class",f="flex h-4 items-center justify-between gap-16 truncate whitespace-nowrap "+r[8].class)},m(h,k){C(h,t,k),s&&s.m(t,null),B(t,n),a&&a.m(t,null),B(t,e),_[l].m(t,null),i=!0},p(h,[k]){h[0]?s?s.p(h,k):(s=Ht(h),s.c(),s.m(t,n)):s&&(s.d(1),s=null),h[5]?a?(a.p(h,k),k&32&&c(a,1)):(a=jt(h),a.c(),c(a,1),a.m(t,e)):a&&(te(),p(a,1,1,()=>{a=null}),ne());let m=l;l=b(h),l===m?_[l].p(h,k):(te(),p(_[m],1,1,()=>{_[m]=null}),ne(),o=_[l],o?o.p(h,k):(o=_[l]=u[l](h),o.c()),c(o,1),o.m(t,null)),(!i||k&256&&f!==(f="flex h-4 items-center justify-between gap-16 truncate whitespace-nowrap "+h[8].class))&&L(t,"class",f)},i(h){i||(c(a),c(o),i=!0)},o(h){p(a),p(o),i=!1},d(h){h&&w(t),s&&s.d(),a&&a.d(),_[l].d()}}}function Kl(r,t,n){const e=["title","content","copyable","filterable","href","icon","tooltip","badge"];let l=xe(t,e),{title:o=""}=t,{content:f}=t,{copyable:i=!1}=t,{filterable:s=!1}=t,{href:a=null}=t,{icon:u=void 0}=t,{tooltip:_=""}=t,{badge:b=!1}=t;return r.$$set=h=>{t=Qe(Qe({},t),Mn(h)),n(8,l=xe(t,e)),"title"in h&&n(0,o=h.title),"content"in h&&n(1,f=h.content),"copyable"in h&&n(2,i=h.copyable),"filterable"in h&&n(3,s=h.filterable),"href"in h&&n(4,a=h.href),"icon"in h&&n(5,u=h.icon),"tooltip"in h&&n(6,_=h.tooltip),"badge"in h&&n(7,b=h.badge)},[o,f,i,s,a,u,_,b,l]}class Pe extends he{constructor(t){super(),ke(this,t,Kl,Gl,ge,{title:0,content:1,copyable:2,filterable:3,href:4,icon:5,tooltip:6,badge:7})}}function Qt(r){var e,l,o,f,i,s;let t,n;return t=new Pe({props:{title:M("workflows.parent-workflow"),content:(l=(e=r[0])==null?void 0:e.parent)==null?void 0:l.workflowId,href:Vt({namespace:r[3],workflow:(f=(o=r[0])==null?void 0:o.parent)==null?void 0:f.workflowId,run:(s=(i=r[0])==null?void 0:i.parent)==null?void 0:s.runId})}}),{c(){I(t.$$.fragment)},l(a){E(t.$$.fragment,a)},m(a,u){D(t,a,u),n=!0},p(a,u){var b,h,k,m,d,v;const _={};u&1&&(_.content=(h=(b=a[0])==null?void 0:b.parent)==null?void 0:h.workflowId),u&9&&(_.href=Vt({namespace:a[3],workflow:(m=(k=a[0])==null?void 0:k.parent)==null?void 0:m.workflowId,run:(v=(d=a[0])==null?void 0:d.parent)==null?void 0:v.runId})),t.$set(_)},i(a){n||(c(t.$$.fragment,a),n=!0)},o(a){p(t.$$.fragment,a),n=!1},d(a){T(t,a)}}}function Xl(r){var S,W,H,q,j,Z,K,ie,U,A,fe,N,P,z,le;let t,n,e,l,o,f,i,s,a,u,_,b,h,k,m,d,v,R,g;e=new Pe({props:{title:M("common.start"),tooltip:r[4]?Ie((S=r[0])==null?void 0:S.startTime,r[5],{relative:!1}):Ie((W=r[0])==null?void 0:W.startTime,r[5],{relative:!0}),content:Ie((H=r[0])==null?void 0:H.startTime,r[5],{relative:r[4]})}}),o=new Pe({props:{title:M("common.end"),tooltip:r[4]?Ie((q=r[0])==null?void 0:q.endTime,r[5],{relative:!1}):Ie((j=r[0])==null?void 0:j.endTime,r[5],{relative:!0}),content:(Z=r[0])!=null&&Z.endTime?Ie((K=r[0])==null?void 0:K.endTime,r[5],{relative:r[4]}):"-"}}),i=new Pe({props:{content:r[2],icon:"clock"}}),u=new Pe({props:{title:M("common.run-id"),content:(ie=r[0])==null?void 0:ie.runId,copyable:!0}}),b=new Pe({props:{title:M("common.workflow-type"),content:(U=r[0])==null?void 0:U.name,copyable:!0,filterable:!0,href:Rt({namespace:r[3],query:`WorkflowType="${(A=r[0])==null?void 0:A.name}"`})}}),k=new Pe({props:{title:M("common.task-queue"),content:(fe=r[0])==null?void 0:fe.taskQueue,href:He({namespace:r[1].params.namespace,workflow:(N=r[0])==null?void 0:N.id,run:(P=r[0])==null?void 0:P.runId})}});let $=((z=r[0])==null?void 0:z.parent)&&Qt(r);return R=new Pe({props:{title:M("common.history-size-bytes"),content:(le=r[0])==null?void 0:le.historySizeBytes}}),{c(){t=y("div"),n=y("div"),I(e.$$.fragment),l=O(),I(o.$$.fragment),f=O(),I(i.$$.fragment),s=O(),a=y("div"),I(u.$$.fragment),_=O(),I(b.$$.fragment),h=O(),I(k.$$.fragment),m=O(),d=y("div"),$&&$.c(),v=O(),I(R.$$.fragment),this.h()},l(V){t=J(V,"DIV",{class:!0});var oe=Y(t);n=J(oe,"DIV",{class:!0});var G=Y(n);E(e.$$.fragment,G),l=Q(G),E(o.$$.fragment,G),f=Q(G),E(i.$$.fragment,G),G.forEach(w),s=Q(oe),a=J(oe,"DIV",{class:!0});var F=Y(a);E(u.$$.fragment,F),_=Q(F),E(b.$$.fragment,F),h=Q(F),E(k.$$.fragment,F),F.forEach(w),m=Q(oe),d=J(oe,"DIV",{class:!0});var X=Y(d);$&&$.l(X),v=Q(X),E(R.$$.fragment,X),X.forEach(w),oe.forEach(w),this.h()},h(){L(n,"class","flex w-full flex-col gap-2 xl:w-1/3"),L(a,"class","flex w-full flex-col gap-2 xl:w-1/3"),L(d,"class","flex w-full flex-col gap-2 xl:w-1/3"),L(t,"class","flex w-full flex-col gap-2 xl:flex-row xl:gap-16")},m(V,oe){C(V,t,oe),B(t,n),D(e,n,null),B(n,l),D(o,n,null),B(n,f),D(i,n,null),B(t,s),B(t,a),D(u,a,null),B(a,_),D(b,a,null),B(a,h),D(k,a,null),B(t,m),B(t,d),$&&$.m(d,null),B(d,v),D(R,d,null),g=!0},p(V,[oe]){var ve,Ce,Te,We,Se,wt,ht,kt,bt,vt,It,Et,Dt,Tt,Ct;const G={};oe&49&&(G.tooltip=V[4]?Ie((ve=V[0])==null?void 0:ve.startTime,V[5],{relative:!1}):Ie((Ce=V[0])==null?void 0:Ce.startTime,V[5],{relative:!0})),oe&49&&(G.content=Ie((Te=V[0])==null?void 0:Te.startTime,V[5],{relative:V[4]})),e.$set(G);const F={};oe&49&&(F.tooltip=V[4]?Ie((We=V[0])==null?void 0:We.endTime,V[5],{relative:!1}):Ie((Se=V[0])==null?void 0:Se.endTime,V[5],{relative:!0})),oe&49&&(F.content=(wt=V[0])!=null&&wt.endTime?Ie((ht=V[0])==null?void 0:ht.endTime,V[5],{relative:V[4]}):"-"),o.$set(F);const X={};oe&4&&(X.content=V[2]),i.$set(X);const be={};oe&1&&(be.content=(kt=V[0])==null?void 0:kt.runId),u.$set(be);const me={};oe&1&&(me.content=(bt=V[0])==null?void 0:bt.name),oe&9&&(me.href=Rt({namespace:V[3],query:`WorkflowType="${(vt=V[0])==null?void 0:vt.name}"`})),b.$set(me);const $e={};oe&1&&($e.content=(It=V[0])==null?void 0:It.taskQueue),oe&3&&($e.href=He({namespace:V[1].params.namespace,workflow:(Et=V[0])==null?void 0:Et.id,run:(Dt=V[0])==null?void 0:Dt.runId})),k.$set($e),(Tt=V[0])!=null&&Tt.parent?$?($.p(V,oe),oe&1&&c($,1)):($=Qt(V),$.c(),c($,1),$.m(d,v)):$&&(te(),p($,1,1,()=>{$=null}),ne());const De={};oe&1&&(De.content=(Ct=V[0])==null?void 0:Ct.historySizeBytes),R.$set(De)},i(V){g||(c(e.$$.fragment,V),c(o.$$.fragment,V),c(i.$$.fragment,V),c(u.$$.fragment,V),c(b.$$.fragment,V),c(k.$$.fragment,V),c($),c(R.$$.fragment,V),g=!0)},o(V){p(e.$$.fragment,V),p(o.$$.fragment,V),p(i.$$.fragment,V),p(u.$$.fragment,V),p(b.$$.fragment,V),p(k.$$.fragment,V),p($),p(R.$$.fragment,V),g=!1},d(V){V&&w(t),T(e),T(o),T(i),T(u),T(b),T(k),$&&$.d(),T(R)}}}function xl(r,t,n){let e,l,o,f,i;re(r,Ae,a=>n(1,o=a)),re(r,ol,a=>n(4,f=a)),re(r,fl,a=>n(5,i=a));let{workflow:s}=t;return r.$$set=a=>{"workflow"in a&&n(0,s=a.workflow)},r.$$.update=()=>{r.$$.dirty&2&&n(3,{namespace:e}=o.params,e),r.$$.dirty&1&&n(2,l=sl({start:s==null?void 0:s.startTime,end:(s==null?void 0:s.endTime)||Date.now(),includeMilliseconds:!0}))},[s,o,l,e,f,i]}class er extends he{constructor(t){super(),ke(this,t,xl,Xl,ge,{workflow:0})}}const tr=r=>({open:r&1}),Lt=r=>({open:r[0]}),nr=r=>({}),zt=r=>({}),lr=r=>({}),yt=r=>({}),rr=r=>({}),Jt=r=>({});function or(r){let t,n,e,l,o,f,i,s,a,u,_,b,h,k,m,d,v,R;const g=r[7].title,$=qe(g,r,r[6],Jt),S=r[7].description,W=qe(S,r,r[6],yt),H=r[7].action,q=qe(H,r,r[6],zt);s=new Ne({props:{name:r[2]?r[2]:r[0]?"arrow-down":"arrow-right"}});const j=r[7].default,Z=qe(j,r,r[6],Lt);let K=[{class:"w-full"},r[4]],ie={};for(let U=0;U<K.length;U+=1)ie=Qe(ie,K[U]);return{c(){t=y("div"),n=y("button"),e=y("div"),$&&$.c(),l=O(),W&&W.c(),o=O(),f=y("div"),q&&q.c(),i=O(),I(s.$$.fragment),_=O(),b=y("div"),Z&&Z.c(),this.h()},l(U){t=J(U,"DIV",{class:!0});var A=Y(t);n=J(A,"BUTTON",{id:!0,"aria-expanded":!0,"aria-controls":!0,class:!0,type:!0});var fe=Y(n);e=J(fe,"DIV",{class:!0});var N=Y(e);$&&$.l(N),l=Q(N),W&&W.l(N),o=Q(N),f=J(N,"DIV",{class:!0});var P=Y(f);q&&q.l(P),i=Q(P),E(s.$$.fragment,P),P.forEach(w),N.forEach(w),fe.forEach(w),_=Q(A),b=J(A,"DIV",{id:!0,"aria-labelledby":!0,role:!0,class:!0});var z=Y(b);Z&&Z.l(z),z.forEach(w),A.forEach(w),this.h()},h(){L(f,"class","flex items-center gap-4"),L(e,"class","flex w-full flex-row items-center justify-between gap-2 pr-4"),L(n,"id",a=r[1]+"-trigger"),L(n,"aria-expanded",r[0]),L(n,"aria-controls",u=r[1]+"-content"),L(n,"class","focus-visible:outline-interactive w-full cursor-pointer hover:bg-interactive-secondary-hover"),L(n,"type","button"),L(b,"id",h=r[1]+"-content"),L(b,"aria-labelledby",k=r[1]+"-trigger"),L(b,"role","textbox"),L(b,"class","block w-full bg-primary p-2"),je(b,"hidden",!r[0]),Wt(t,ie)},m(U,A){C(U,t,A),B(t,n),B(n,e),$&&$.m(e,null),B(e,l),W&&W.m(e,null),B(e,o),B(e,f),q&&q.m(f,null),B(f,i),D(s,f,null),B(t,_),B(t,b),Z&&Z.m(b,null),d=!0,v||(R=Gn(n,"click",r[3]),v=!0)},p(U,[A]){$&&$.p&&(!d||A&64)&&Be($,g,U,U[6],d?Fe(g,U[6],A,rr):Ue(U[6]),Jt),W&&W.p&&(!d||A&64)&&Be(W,S,U,U[6],d?Fe(S,U[6],A,lr):Ue(U[6]),yt),q&&q.p&&(!d||A&64)&&Be(q,H,U,U[6],d?Fe(H,U[6],A,nr):Ue(U[6]),zt);const fe={};A&5&&(fe.name=U[2]?U[2]:U[0]?"arrow-down":"arrow-right"),s.$set(fe),(!d||A&2&&a!==(a=U[1]+"-trigger"))&&L(n,"id",a),(!d||A&1)&&L(n,"aria-expanded",U[0]),(!d||A&2&&u!==(u=U[1]+"-content"))&&L(n,"aria-controls",u),Z&&Z.p&&(!d||A&65)&&Be(Z,j,U,U[6],d?Fe(j,U[6],A,tr):Ue(U[6]),Lt),(!d||A&2&&h!==(h=U[1]+"-content"))&&L(b,"id",h),(!d||A&2&&k!==(k=U[1]+"-trigger"))&&L(b,"aria-labelledby",k),(!d||A&1)&&je(b,"hidden",!U[0]),Wt(t,ie=il(K,[{class:"w-full"},A&16&&U[4]]))},i(U){d||(c($,U),c(W,U),c(q,U),c(s.$$.fragment,U),c(Z,U),U&&ct(()=>{d&&(m||(m=St(b,At,{},!0)),m.run(1))}),d=!0)},o(U){p($,U),p(W,U),p(q,U),p(s.$$.fragment,U),p(Z,U),U&&(m||(m=St(b,At,{},!1)),m.run(0)),d=!1},d(U){U&&w(t),$&&$.d(U),W&&W.d(U),q&&q.d(U),T(s),Z&&Z.d(U),U&&m&&m.end(),v=!1,R()}}}function fr(r,t,n){const e=["id","open","onToggle","icon"];let l=xe(t,e),{$$slots:o={},$$scope:f}=t,{id:i=st()}=t,{open:s=!1}=t,{onToggle:a=void 0}=t,{icon:u=void 0}=t;const _=async()=>{a&&await a(),n(0,s=!s)};return r.$$set=b=>{t=Qe(Qe({},t),Mn(b)),n(4,l=xe(t,e)),"id"in b&&n(1,i=b.id),"open"in b&&n(0,s=b.open),"onToggle"in b&&n(5,a=b.onToggle),"icon"in b&&n(2,u=b.icon),"$$scope"in b&&n(6,f=b.$$scope)},[s,i,u,_,l,a,f,o]}class Jn extends he{constructor(t){super(),ke(this,t,fr,or,ge,{id:1,open:0,onToggle:5,icon:2})}}function Yt(r){let t=r[1],n,e,l=Zt(r);return{c(){l.c(),n=se()},l(o){l.l(o),n=se()},m(o,f){l.m(o,f),C(o,n,f),e=!0},p(o,f){f&2&&ge(t,t=o[1])?(te(),p(l,1,1,de),ne(),l=Zt(o),l.c(),c(l,1),l.m(n.parentNode,n)):l.p(o,f)},i(o){e||(c(l),e=!0)},o(o){p(l),e=!1},d(o){o&&w(n),l.d(o)}}}function Zt(r){let t,n;return t=new pt({props:{content:r[1]}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l&2&&(o.content=e[1]),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function sr(r){let t,n,e=r[10]&&Yt(r);return{c(){e&&e.c(),t=se()},l(l){e&&e.l(l),t=se()},m(l,o){e&&e.m(l,o),C(l,t,o),n=!0},p(l,o){l[10]?e?(e.p(l,o),o&1024&&c(e,1)):(e=Yt(l),e.c(),c(e,1),e.m(t.parentNode,t)):e&&(te(),p(e,1,1,()=>{e=null}),ne())},i(l){n||(c(e),n=!0)},o(l){p(e),n=!1},d(l){l&&w(t),e&&e.d(l)}}}function Gt(r){let t=M("common.loading")+"",n;return{c(){n=x(t)},l(e){n=ee(e,t)},m(e,l){C(e,n,l)},p:de,d(e){e&&w(n)}}}function ir(r){let t,n,e,l=M("workflows.current-details")+"",o,f,i;n=new Ne({props:{name:"flag",class:"text-brand",width:32,height:32}});let s=r[2]&&Gt();return{c(){t=y("div"),I(n.$$.fragment),e=O(),o=x(l),f=O(),s&&s.c(),this.h()},l(a){t=J(a,"DIV",{slot:!0,class:!0});var u=Y(t);E(n.$$.fragment,u),e=Q(u),o=ee(u,l),f=Q(u),s&&s.l(u),u.forEach(w),this.h()},h(){L(t,"slot","title"),L(t,"class","flex w-full items-center gap-2 p-2 text-xl")},m(a,u){C(a,t,u),D(n,t,null),B(t,e),B(t,o),B(t,f),s&&s.m(t,null),i=!0},p(a,u){a[2]?s?s.p(a,u):(s=Gt(),s.c(),s.m(t,null)):s&&(s.d(1),s=null)},i(a){i||(c(n.$$.fragment,a),i=!0)},o(a){p(n.$$.fragment,a),i=!1},d(a){a&&w(t),T(n),s&&s.d()}}}function Kt(r){let t,n;return t=new nt({props:{text:M("workflows.update-details"),left:!0,$$slots:{default:[ur]},$$scope:{ctx:r}}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l&2052&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function ar(r){let t,n;return t=new Ne({props:{name:"retry"}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p:de,i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function ur(r){let t,n;return t=new mt({props:{variant:"ghost",disabled:r[2],$$slots:{default:[ar]},$$scope:{ctx:r}}}),t.$on("click",r[4]),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l&4&&(o.disabled=e[2]),l&2048&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function cr(r){let t,n,e=r[0].isRunning&&Kt(r);return{c(){e&&e.c(),t=se()},l(l){e&&e.l(l),t=se()},m(l,o){e&&e.m(l,o),C(l,t,o),n=!0},p(l,o){l[0].isRunning?e?(e.p(l,o),o&1&&c(e,1)):(e=Kt(l),e.c(),c(e,1),e.m(t.parentNode,t)):e&&(te(),p(e,1,1,()=>{e=null}),ne())},i(l){n||(c(e),n=!0)},o(l){p(e),n=!1},d(l){l&&w(t),e&&e.d(l)}}}function mr(r){let t,n;return t=new Jn({props:{onToggle:r[3]?r[4]:void 0,icon:r[3]?"retry":void 0,$$slots:{action:[cr],title:[ir],default:[sr,({open:e})=>({10:e}),({open:e})=>e?1024:0]},$$scope:{ctx:r}}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,[l]){const o={};l&8&&(o.onToggle=e[3]?e[4]:void 0),l&8&&(o.icon=e[3]?"retry":void 0),l&3079&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function pr(r,t,n){let e,l,o,f,i,s,a;re(r,Ee,h=>n(6,i=h)),re(r,On,h=>n(9,s=h)),re(r,Ae,h=>n(7,a=h));var u;let _=!1;const b=async()=>{if(!_){n(2,_=!0);try{const{settings:h}=a.data,k=await jn({namespace:e,workflow:{id:l.id,runId:l.runId}},h,s==null?void 0:s.accessToken);_e(Ee,i.metadata=k,i)}catch(h){console.error("Error fetching current details:",h)}finally{n(2,_=!1)}}};return r.$$.update=()=>{r.$$.dirty&128&&({namespace:e}=a.params),r.$$.dirty&64&&n(0,{workflow:l}=i,l),r.$$.dirty&96&&n(1,o=(n(5,u=i==null?void 0:i.metadata)===null||u===void 0?void 0:u.currentDetails)||""),r.$$.dirty&3&&n(3,f=!l.isRunning&&!o)},[l,o,_,f,b,u,i,a]}class dr extends he{constructor(t){super(),ke(this,t,pr,mr,ge,{})}}function Xt(r){let t,n;return t=new Jn({props:{$$slots:{title:[gr],default:[_r,({open:e})=>({6:e}),({open:e})=>e?64:0]},$$scope:{ctx:r}}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l&195&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function xt(r){let t,n=M("workflows.summary")+"",e,l,o,f;return o=new pt({props:{content:r[1]}}),{c(){t=y("h3"),e=x(n),l=O(),I(o.$$.fragment)},l(i){t=J(i,"H3",{});var s=Y(t);e=ee(s,n),s.forEach(w),l=Q(i),E(o.$$.fragment,i)},m(i,s){C(i,t,s),B(t,e),C(i,l,s),D(o,i,s),f=!0},p(i,s){const a={};s&2&&(a.content=i[1]),o.$set(a)},i(i){f||(c(o.$$.fragment,i),f=!0)},o(i){p(o.$$.fragment,i),f=!1},d(i){i&&(w(t),w(l)),T(o,i)}}}function en(r){let t,n=M("workflows.details")+"",e,l,o,f;return o=new pt({props:{content:r[0]}}),{c(){t=y("h3"),e=x(n),l=O(),I(o.$$.fragment)},l(i){t=J(i,"H3",{});var s=Y(t);e=ee(s,n),s.forEach(w),l=Q(i),E(o.$$.fragment,i)},m(i,s){C(i,t,s),B(t,e),C(i,l,s),D(o,i,s),f=!0},p(i,s){const a={};s&1&&(a.content=i[0]),o.$set(a)},i(i){f||(c(o.$$.fragment,i),f=!0)},o(i){p(o.$$.fragment,i),f=!1},d(i){i&&(w(t),w(l)),T(o,i)}}}function _r(r){let t,n,e,l=r[6]&&r[1]&&xt(r),o=r[6]&&r[0]&&en(r);return{c(){l&&l.c(),t=O(),o&&o.c(),n=se()},l(f){l&&l.l(f),t=Q(f),o&&o.l(f),n=se()},m(f,i){l&&l.m(f,i),C(f,t,i),o&&o.m(f,i),C(f,n,i),e=!0},p(f,i){f[6]&&f[1]?l?(l.p(f,i),i&66&&c(l,1)):(l=xt(f),l.c(),c(l,1),l.m(t.parentNode,t)):l&&(te(),p(l,1,1,()=>{l=null}),ne()),f[6]&&f[0]?o?(o.p(f,i),i&65&&c(o,1)):(o=en(f),o.c(),c(o,1),o.m(n.parentNode,n)):o&&(te(),p(o,1,1,()=>{o=null}),ne())},i(f){e||(c(l),c(o),e=!0)},o(f){p(l),p(o),e=!1},d(f){f&&(w(t),w(n)),l&&l.d(f),o&&o.d(f)}}}function gr(r){let t,n,e=M("workflows.summary-and-details")+"",l,o;return n=new Ne({props:{name:"info",class:"text-brand",width:32,height:32}}),{c(){t=y("div"),I(n.$$.fragment),l=x(e),this.h()},l(f){t=J(f,"DIV",{slot:!0,class:!0});var i=Y(t);E(n.$$.fragment,i),l=ee(i,e),i.forEach(w),this.h()},h(){L(t,"slot","title"),L(t,"class","flex w-full items-center gap-2 p-2 text-xl")},m(f,i){C(f,t,i),D(n,t,null),B(t,l),o=!0},p:de,i(f){o||(c(n.$$.fragment,f),o=!0)},o(f){p(n.$$.fragment,f),o=!1},d(f){f&&w(t),T(n)}}}function $r(r){let t,n,e=r[2]&&Xt(r);return{c(){e&&e.c(),t=se()},l(l){e&&e.l(l),t=se()},m(l,o){e&&e.m(l,o),C(l,t,o),n=!0},p(l,[o]){l[2]?e?(e.p(l,o),o&4&&c(e,1)):(e=Xt(l),e.c(),c(e,1),e.m(t.parentNode,t)):e&&(te(),p(e,1,1,()=>{e=null}),ne())},i(l){n||(c(e),n=!0)},o(l){p(e),n=!1},d(l){l&&w(t),e&&e.d(l)}}}function wr(r,t,n){let e,l,o,f;re(r,Ee,a=>n(5,f=a));var i,s;return r.$$.update=()=>{r.$$.dirty&40&&n(1,e=n(3,i=f==null?void 0:f.userMetadata)===null||i===void 0?void 0:i.summary),r.$$.dirty&48&&n(0,l=n(4,s=f==null?void 0:f.userMetadata)===null||s===void 0?void 0:s.details),r.$$.dirty&3&&n(2,o=e||l)},[l,e,o,i,s,f]}class hr extends he{constructor(t){super(),ke(this,t,wr,$r,ge,{})}}const Yn=gl("resetWorkflows",{});function tn(r,t,n){const e=r.slice();return e[25]=t[n],e}function kr(r){let t,n=M("workflows.reset-modal-title")+"",e;return{c(){t=y("h3"),e=x(n),this.h()},l(l){t=J(l,"H3",{slot:!0});var o=Y(t);e=ee(o,n),o.forEach(w),this.h()},h(){L(t,"slot","title")},m(l,o){C(l,t,o),B(t,e)},p:de,d(l){l&&w(t)}}}function br(r){let t=r[25].id+"",n,e,l=r[25].eventType+"",o;return{c(){n=x(t),e=x(" - "),o=x(l)},l(f){n=ee(f,t),e=ee(f," - "),o=ee(f,l)},m(f,i){C(f,n,i),C(f,e,i),C(f,o,i)},p(f,i){i&512&&t!==(t=f[25].id+"")&&pe(n,t),i&512&&l!==(l=f[25].eventType+"")&&pe(o,l)},d(f){f&&(w(n),w(e),w(o))}}}function nn(r){let t,n;return t=new ze({props:{value:r[25].id,$$slots:{default:[br]},$$scope:{ctx:r}}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l&512&&(o.value=e[25].id),l&268435968&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function vr(r){let t,n,e=Ve(r[9]),l=[];for(let f=0;f<e.length;f+=1)l[f]=nn(tn(r,e,f));const o=f=>p(l[f],1,1,()=>{l[f]=null});return{c(){for(let f=0;f<l.length;f+=1)l[f].c();t=se()},l(f){for(let i=0;i<l.length;i+=1)l[i].l(f);t=se()},m(f,i){for(let s=0;s<l.length;s+=1)l[s]&&l[s].m(f,i);C(f,t,i),n=!0},p(f,i){if(i&512){e=Ve(f[9]);let s;for(s=0;s<e.length;s+=1){const a=tn(f,e,s);l[s]?(l[s].p(a,i),c(l[s],1)):(l[s]=nn(a),l[s].c(),c(l[s],1),l[s].m(t.parentNode,t))}for(te(),s=e.length;s<l.length;s+=1)o(s);ne()}},i(f){if(!n){for(let i=0;i<e.length;i+=1)c(l[i]);n=!0}},o(f){l=l.filter(Boolean);for(let i=0;i<l.length;i+=1)p(l[i]);n=!1},d(f){f&&w(t),tt(l,f)}}}function Ir(r){let t,n,e;function l(f){r[20](f)}let o={id:"reset-include-signals-checkbox","data-testid":"reset-include-signals-checkbox",label:M("workflows.reset-reapply-type-label")};return r[5]!==void 0&&(o.checked=r[5]),t=new it({props:o}),ae.push(()=>ce(t,"checked",l)),{c(){I(t.$$.fragment)},l(f){E(t.$$.fragment,f)},m(f,i){D(t,f,i),e=!0},p(f,i){const s={};!n&&i&32&&(n=!0,s.checked=f[5],ue(()=>n=!1)),t.$set(s)},i(f){e||(c(t.$$.fragment,f),e=!0)},o(f){p(t.$$.fragment,f),e=!1},d(f){T(t,f)}}}function Er(r){let t,n,e,l,o,f;function i(_){r[18](_)}let s={id:"reset-exclude-signals-checkbox","data-testid":"reset-exclude-signals-checkbox",label:M("workflows.reset-exclude-signals")};r[6]!==void 0&&(s.checked=r[6]),t=new it({props:s}),ae.push(()=>ce(t,"checked",i));function a(_){r[19](_)}let u={id:"reset-exclude-updates-checkbox","data-testid":"reset-exclude-updates-checkbox",label:M("workflows.reset-exclude-updates")};return r[7]!==void 0&&(u.checked=r[7]),l=new it({props:u}),ae.push(()=>ce(l,"checked",a)),{c(){I(t.$$.fragment),e=O(),I(l.$$.fragment)},l(_){E(t.$$.fragment,_),e=Q(_),E(l.$$.fragment,_)},m(_,b){D(t,_,b),C(_,e,b),D(l,_,b),f=!0},p(_,b){const h={};!n&&b&64&&(n=!0,h.checked=_[6],ue(()=>n=!1)),t.$set(h);const k={};!o&&b&128&&(o=!0,k.checked=_[7],ue(()=>o=!1)),l.$set(k)},i(_){f||(c(t.$$.fragment,_),c(l.$$.fragment,_),f=!0)},o(_){p(t.$$.fragment,_),p(l.$$.fragment,_),f=!1},d(_){_&&w(e),T(t,_),T(l,_)}}}function Dr(r){let t,n,e,l,o,f,i,s,a,u,_;function b(g){r[17](g)}let h={"data-testid":"workflow-reset-event-id-select",menuClass:"max-h-[16rem]",label:M("workflows.reset-event-radio-group-description"),id:"reset-event-id",$$slots:{default:[vr]},$$scope:{ctx:r}};r[8]!==void 0&&(h.value=r[8]),n=new _t({props:h}),ae.push(()=>ce(n,"value",b));const k=[Er,Ir],m=[];function d(g,$){return $&3072&&(o=null),o==null&&(o=!!(g[10]||wl("1.24.0",g[11]))),o?0:1}f=d(r,-1),i=m[f]=k[f](r);function v(g){r[21](g)}let R={id:"reset-reason",label:M("common.reason")};return r[4]!==void 0&&(R.value=r[4]),a=new rt({props:R}),ae.push(()=>ce(a,"value",v)),{c(){t=y("div"),I(n.$$.fragment),l=O(),i.c(),s=O(),I(a.$$.fragment),this.h()},l(g){t=J(g,"DIV",{class:!0});var $=Y(t);E(n.$$.fragment,$),l=Q($),i.l($),s=Q($),E(a.$$.fragment,$),$.forEach(w),this.h()},h(){L(t,"class","flex w-full flex-col gap-4")},m(g,$){C(g,t,$),D(n,t,null),B(t,l),m[f].m(t,null),B(t,s),D(a,t,null),_=!0},p(g,$){const S={};$&268435968&&(S.$$scope={dirty:$,ctx:g}),!e&&$&256&&(e=!0,S.value=g[8],ue(()=>e=!1)),n.$set(S);let W=f;f=d(g,$),f===W?m[f].p(g,$):(te(),p(m[W],1,1,()=>{m[W]=null}),ne(),i=m[f],i?i.p(g,$):(i=m[f]=k[f](g),i.c()),c(i,1),i.m(t,s));const H={};!u&&$&16&&(u=!0,H.value=g[4],ue(()=>u=!1)),a.$set(H)},i(g){_||(c(n.$$.fragment,g),c(i),c(a.$$.fragment,g),_=!0)},o(g){p(n.$$.fragment,g),p(i),p(a.$$.fragment,g),_=!1},d(g){g&&w(t),T(n),m[f].d(),T(a)}}}function Tr(r){let t,n,e,l;function o(s){r[22](s)}function f(s){r[23](s)}let i={id:"reset-confirmation-modal","data-testid":"reset-confirmation-modal",confirmText:M("common.confirm"),cancelText:M("common.cancel"),loading:r[3],confirmDisabled:!r[8],$$slots:{content:[Dr],title:[kr]},$$scope:{ctx:r}};return r[2]!==void 0&&(i.error=r[2]),r[0]!==void 0&&(i.open=r[0]),t=new dt({props:i}),ae.push(()=>ce(t,"error",o)),ae.push(()=>ce(t,"open",f)),t.$on("confirmModal",r[14]),t.$on("cancelModal",r[13]),{c(){I(t.$$.fragment)},l(s){E(t.$$.fragment,s)},m(s,a){D(t,s,a),l=!0},p(s,[a]){const u={};a&8&&(u.loading=s[3]),a&256&&(u.confirmDisabled=!s[8]),a&268439536&&(u.$$scope={dirty:a,ctx:s}),!n&&a&4&&(n=!0,u.error=s[2],ue(()=>n=!1)),!e&&a&1&&(e=!0,u.open=s[0],ue(()=>e=!1)),t.$set(u)},i(s){l||(c(t.$$.fragment,s),l=!0)},o(s){p(t.$$.fragment,s),l=!1},d(s){T(t,s)}}}function Cr(r,t,n){let e,l=de,o=()=>(l(),l=ft(h,A=>n(24,e=A)),h),f,i,s,a;re(r,Qn,A=>n(9,i=A)),re(r,Bn,A=>n(10,s=A)),re(r,$l,A=>n(11,a=A)),r.$$.on_destroy.push(()=>l());let{open:u}=t,{workflow:_}=t,{namespace:b}=t,{refresh:h}=t;o();let k="",m=!1,d=lt("");re(r,d,A=>n(8,f=A));let v,R=!0,g=!1,$=!1;const S=()=>{n(0,u=!1),n(5,R=!0),n(6,g=!1),n(7,$=!1),_e(d,f="",f),n(4,v="")},W=async()=>{n(2,k=""),n(3,m=!0);try{const A=await el({namespace:b,workflow:_,eventId:f,reason:v,includeSignals:R,excludeSignals:g,excludeUpdates:$});A&&A.runId&&Yn.update(fe=>({...fe,[_.runId]:A.runId})),_e(h,e=Date.now(),e),S()}catch(A){n(2,k=gt(A)?A.message:M("common.unknown-error"))}finally{n(3,m=!1)}S()};function H(A){f=A,d.set(f)}function q(A){g=A,n(6,g)}function j(A){$=A,n(7,$)}function Z(A){R=A,n(5,R)}function K(A){v=A,n(4,v)}function ie(A){k=A,n(2,k)}function U(A){u=A,n(0,u)}return r.$$set=A=>{"open"in A&&n(0,u=A.open),"workflow"in A&&n(15,_=A.workflow),"namespace"in A&&n(16,b=A.namespace),"refresh"in A&&o(n(1,h=A.refresh))},[u,h,k,m,v,R,g,$,f,i,s,a,d,S,W,_,b,H,q,j,Z,K,ie,U]}class Wr extends he{constructor(t){super(),ke(this,t,Cr,Tr,ge,{open:0,workflow:15,namespace:16,refresh:1})}}function ln(r,t,n){const e=r.slice();return e[25]=t[n].name,e[26]=t[n].description!==void 0?t[n].description:"",e}function Sr(r){let t,n=M("workflows.signal-modal-title")+"",e;return{c(){t=y("h3"),e=x(n),this.h()},l(l){t=J(l,"H3",{slot:!0});var o=Y(t);e=ee(o,n),o.forEach(w),this.h()},h(){L(t,"slot","title")},m(l,o){C(l,t,o),B(t,e)},p:de,d(l){l&&w(t)}}}function Pr(r){let t,n,e;function l(f){r[18](f)}let o={id:"signal-name",label:M("workflows.signal-name-label"),required:!0};return r[4]!==void 0&&(o.value=r[4]),t=new rt({props:o}),ae.push(()=>ce(t,"value",l)),{c(){I(t.$$.fragment)},l(f){E(t.$$.fragment,f)},m(f,i){D(t,f,i),e=!0},p(f,i){const s={};!n&&i&16&&(n=!0,s.value=f[4],ue(()=>n=!1)),t.$set(s)},i(f){e||(c(t.$$.fragment,f),e=!0)},o(f){p(t.$$.fragment,f),e=!1},d(f){T(t,f)}}}function Rr(r){let t,n,e;function l(f){r[17](f)}let o={id:"signal-select",label:M("workflows.signal-name-label"),class:"min-w-fit","data-testid":"signal-select",placeholder:"Select a signal",required:!0,$$slots:{default:[Ar]},$$scope:{ctx:r}};return r[4]!==void 0&&(o.value=r[4]),t=new _t({props:o}),ae.push(()=>ce(t,"value",l)),{c(){I(t.$$.fragment)},l(f){E(t.$$.fragment,f)},m(f,i){D(t,f,i),e=!0},p(f,i){const s={};i&536871168&&(s.$$scope={dirty:i,ctx:f}),!n&&i&16&&(n=!0,s.value=f[4],ue(()=>n=!1)),t.$set(s)},i(f){e||(c(t.$$.fragment,f),e=!0)},o(f){p(t.$$.fragment,f),e=!1},d(f){T(t,f)}}}function Vr(r){let t=r[25]+"",n;return{c(){n=x(t)},l(e){n=ee(e,t)},m(e,l){C(e,n,l)},p(e,l){l&256&&t!==(t=e[25]+"")&&pe(n,t)},d(e){e&&w(n)}}}function rn(r){let t,n;return t=new ze({props:{value:r[25],description:r[26],$$slots:{default:[Vr]},$$scope:{ctx:r}}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l&256&&(o.value=e[25]),l&256&&(o.description=e[26]),l&536871168&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function Mr(r){let t;return{c(){t=x("Custom")},l(n){t=ee(n,"Custom")},m(n,e){C(n,t,e)},d(n){n&&w(t)}}}function Ar(r){let t,n,e,l=Ve(r[8]),o=[];for(let i=0;i<l.length;i+=1)o[i]=rn(ln(r,l,i));const f=i=>p(o[i],1,1,()=>{o[i]=null});return n=new ze({props:{value:"custom",description:"Input Signal name",$$slots:{default:[Mr]},$$scope:{ctx:r}}}),n.$on("click",r[11]),{c(){for(let i=0;i<o.length;i+=1)o[i].c();t=O(),I(n.$$.fragment)},l(i){for(let s=0;s<o.length;s+=1)o[s].l(i);t=Q(i),E(n.$$.fragment,i)},m(i,s){for(let a=0;a<o.length;a+=1)o[a]&&o[a].m(i,s);C(i,t,s),D(n,i,s),e=!0},p(i,s){if(s&256){l=Ve(i[8]);let u;for(u=0;u<l.length;u+=1){const _=ln(i,l,u);o[u]?(o[u].p(_,s),c(o[u],1)):(o[u]=rn(_),o[u].c(),c(o[u],1),o[u].m(t.parentNode,t))}for(te(),u=l.length;u<o.length;u+=1)f(u);ne()}const a={};s&536870912&&(a.$$scope={dirty:s,ctx:i}),n.$set(a)},i(i){if(!e){for(let s=0;s<l.length;s+=1)c(o[s]);c(n.$$.fragment,i),e=!0}},o(i){o=o.filter(Boolean);for(let s=0;s<o.length;s+=1)p(o[s]);p(n.$$.fragment,i),e=!1},d(i){i&&w(t),tt(o,i),T(n,i)}}}function Nr(r){let t,n,e,l,o,f,i,s;const a=[Rr,Pr],u=[];function _(m,d){var v;return((v=m[8])==null?void 0:v.length)>0&&!m[5]?0:1}n=_(r),e=u[n]=a[n](r);function b(m){r[19](m)}function h(m){r[20](m)}let k={};return r[7]!==void 0&&(k.input=r[7]),r[6]!==void 0&&(k.encoding=r[6]),o=new hl({props:k}),ae.push(()=>ce(o,"input",b)),ae.push(()=>ce(o,"encoding",h)),{c(){t=y("div"),e.c(),l=O(),I(o.$$.fragment),this.h()},l(m){t=J(m,"DIV",{slot:!0,class:!0});var d=Y(t);e.l(d),l=Q(d),E(o.$$.fragment,d),d.forEach(w),this.h()},h(){L(t,"slot","content"),L(t,"class","flex flex-col gap-4")},m(m,d){C(m,t,d),u[n].m(t,null),B(t,l),D(o,t,null),s=!0},p(m,d){let v=n;n=_(m),n===v?u[n].p(m,d):(te(),p(u[v],1,1,()=>{u[v]=null}),ne(),e=u[n],e?e.p(m,d):(e=u[n]=a[n](m),e.c()),c(e,1),e.m(t,l));const R={};!f&&d&128&&(f=!0,R.input=m[7],ue(()=>f=!1)),!i&&d&64&&(i=!0,R.encoding=m[6],ue(()=>i=!1)),o.$set(R)},i(m){s||(c(e),c(o.$$.fragment,m),s=!0)},o(m){p(e),p(o.$$.fragment,m),s=!1},d(m){m&&w(t),u[n].d(),T(o)}}}function qr(r){let t,n,e,l;function o(s){r[21](s)}function f(s){r[22](s)}let i={id:"signal-confirmation-modal","data-testid":"signal-confirmation-modal",loading:r[3],confirmText:M("common.submit"),cancelText:M("common.cancel"),confirmDisabled:!r[4]||!r[6],$$slots:{content:[Nr],title:[Sr]},$$scope:{ctx:r}};return r[2]!==void 0&&(i.error=r[2]),r[0]!==void 0&&(i.open=r[0]),t=new dt({props:i}),ae.push(()=>ce(t,"error",o)),ae.push(()=>ce(t,"open",f)),t.$on("cancelModal",r[9]),t.$on("confirmModal",r[10]),{c(){I(t.$$.fragment)},l(s){E(t.$$.fragment,s)},m(s,a){D(t,s,a),l=!0},p(s,[a]){const u={};a&8&&(u.loading=s[3]),a&80&&(u.confirmDisabled=!s[4]||!s[6]),a&536871408&&(u.$$scope={dirty:a,ctx:s}),!n&&a&4&&(n=!0,u.error=s[2],ue(()=>n=!1)),!e&&a&1&&(e=!0,u.open=s[0],ue(()=>e=!1)),t.$set(u)},i(s){l||(c(t.$$.fragment,s),l=!0)},o(s){p(t.$$.fragment,s),l=!1},d(s){T(t,s)}}}const on="json/plain";function Br(r,t,n){let e,l,o,f=de,i=()=>(f(),f=ft(d,N=>n(23,o=N)),d),s,a=de,u=()=>(a(),a=ft(S,N=>n(24,s=N)),S),_;re(r,Ee,N=>n(16,_=N)),r.$$.on_destroy.push(()=>f()),r.$$.on_destroy.push(()=>a());var b;let{open:h}=t,{workflow:k}=t,{namespace:m}=t,{refresh:d}=t;i();let v="",R=!1,g="",$=!1,S=lt(on);u();let W="";const H=()=>{n(0,h=!1),n(4,g=""),n(7,W=""),n(5,$=!1),_e(S,s=on,s)},q=async()=>{n(2,v=""),n(3,R=!0);try{await tl({namespace:m,workflow:k,input:W,encoding:s,name:g}),_e(d,o=Date.now(),o),Hn.push({message:M("workflows.signal-success"),id:"workflow-signal-success-toast"}),H()}catch(N){n(2,v=gt(N)?N.message:M("common.unknown-error"))}finally{n(3,R=!1)}},j=()=>{n(5,$=!0),n(4,g="")};function Z(N){g=N,n(4,g)}function K(N){g=N,n(4,g)}function ie(N){W=N,n(7,W)}function U(N){S=N,u(n(6,S))}function A(N){v=N,n(2,v)}function fe(N){h=N,n(0,h)}return r.$$set=N=>{"open"in N&&n(0,h=N.open),"workflow"in N&&n(12,k=N.workflow),"namespace"in N&&n(13,m=N.namespace),"refresh"in N&&i(n(1,d=N.refresh))},r.$$.update=()=>{r.$$.dirty&65536&&n(15,{metadata:e}=_,e),r.$$.dirty&49152&&n(8,l=n(14,b=e==null?void 0:e.definition)===null||b===void 0?void 0:b.signalDefinitions)},[h,d,v,R,g,$,S,W,l,H,q,j,k,m,b,e,_,Z,K,ie,U,A,fe]}class Ur extends he{constructor(t){super(),ke(this,t,Br,qr,ge,{open:0,workflow:12,namespace:13,refresh:1})}}function fn(r,t,n){const e=r.slice();return e[30]=t[n].name,e[31]=t[n].description!==void 0?t[n].description:"",e}function Fr(r){let t,n=M("workflows.update-modal-title")+"",e;return{c(){t=y("h3"),e=x(n),this.h()},l(l){t=J(l,"H3",{slot:!0});var o=Y(t);e=ee(o,n),o.forEach(w),this.h()},h(){L(t,"slot","title")},m(l,o){C(l,t,o),B(t,e)},p:de,d(l){l&&w(t)}}}function Hr(r){let t,n,e,l,o;function f(a){r[21](a)}let i={id:"update-name",class:"w-full",label:M("common.name"),required:!0};r[5]!==void 0&&(i.value=r[5]),n=new rt({props:i}),ae.push(()=>ce(n,"value",f));let s=r[8]&&sn(r);return{c(){t=y("div"),I(n.$$.fragment),l=O(),s&&s.c(),this.h()},l(a){t=J(a,"DIV",{class:!0});var u=Y(t);E(n.$$.fragment,u),l=Q(u),s&&s.l(u),u.forEach(w),this.h()},h(){L(t,"class","flex w-full items-end justify-between gap-2")},m(a,u){C(a,t,u),D(n,t,null),B(t,l),s&&s.m(t,null),o=!0},p(a,u){const _={};!e&&u[0]&32&&(e=!0,_.value=a[5],ue(()=>e=!1)),n.$set(_),a[8]?s?(s.p(a,u),u[0]&256&&c(s,1)):(s=sn(a),s.c(),c(s,1),s.m(t,null)):s&&(te(),p(s,1,1,()=>{s=null}),ne())},i(a){o||(c(n.$$.fragment,a),c(s),o=!0)},o(a){p(n.$$.fragment,a),p(s),o=!1},d(a){a&&w(t),T(n),s&&s.d()}}}function jr(r){let t,n,e;function l(f){r[20](f)}let o={id:"update-select",label:M("common.name"),class:"min-w-fit","data-testid":"update-select",placeholder:"Select an Update",required:!0,$$slots:{default:[Lr]},$$scope:{ctx:r}};return r[5]!==void 0&&(o.value=r[5]),t=new _t({props:o}),ae.push(()=>ce(t,"value",l)),{c(){I(t.$$.fragment)},l(f){E(t.$$.fragment,f)},m(f,i){D(t,f,i),e=!0},p(f,i){const s={};i[0]&512|i[1]&8&&(s.$$scope={dirty:i,ctx:f}),!n&&i[0]&32&&(n=!0,s.value=f[5],ue(()=>n=!1)),t.$set(s)},i(f){e||(c(t.$$.fragment,f),e=!0)},o(f){p(t.$$.fragment,f),e=!1},d(f){T(t,f)}}}function sn(r){let t,n;return t=new mt({props:{variant:"secondary",leadingIcon:"close"}}),t.$on("click",r[22]),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p:de,i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function Or(r){let t=r[30]+"",n;return{c(){n=x(t)},l(e){n=ee(e,t)},m(e,l){C(e,n,l)},p(e,l){l[0]&512&&t!==(t=e[30]+"")&&pe(n,t)},d(e){e&&w(n)}}}function an(r){let t,n;return t=new ze({props:{value:r[30],description:r[31],$$slots:{default:[Or]},$$scope:{ctx:r}}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l[0]&512&&(o.value=e[30]),l[0]&512&&(o.description=e[31]),l[0]&512|l[1]&8&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function Qr(r){let t;return{c(){t=x("Custom")},l(n){t=ee(n,"Custom")},m(n,e){C(n,t,e)},d(n){n&&w(t)}}}function Lr(r){let t,n,e,l=Ve(r[9]),o=[];for(let i=0;i<l.length;i+=1)o[i]=an(fn(r,l,i));const f=i=>p(o[i],1,1,()=>{o[i]=null});return n=new ze({props:{value:"custom",$$slots:{default:[Qr]},$$scope:{ctx:r}}}),n.$on("click",r[13]),{c(){for(let i=0;i<o.length;i+=1)o[i].c();t=O(),I(n.$$.fragment)},l(i){for(let s=0;s<o.length;s+=1)o[s].l(i);t=Q(i),E(n.$$.fragment,i)},m(i,s){for(let a=0;a<o.length;a+=1)o[a]&&o[a].m(i,s);C(i,t,s),D(n,i,s),e=!0},p(i,s){if(s[0]&512){l=Ve(i[9]);let u;for(u=0;u<l.length;u+=1){const _=fn(i,l,u);o[u]?(o[u].p(_,s),c(o[u],1)):(o[u]=an(_),o[u].c(),c(o[u],1),o[u].m(t.parentNode,t))}for(te(),u=l.length;u<o.length;u+=1)f(u);ne()}const a={};s[1]&8&&(a.$$scope={dirty:s,ctx:i}),n.$set(a)},i(i){if(!e){for(let s=0;s<l.length;s+=1)c(o[s]);c(n.$$.fragment,i),e=!0}},o(i){o=o.filter(Boolean);for(let s=0;s<o.length;s+=1)p(o[s]);p(n.$$.fragment,i),e=!1},d(i){i&&w(t),tt(o,i),T(n,i)}}}function un(r){let t,n;return t=new ye({props:{intent:"info",title:"In Progress",$$slots:{default:[zr]},$$scope:{ctx:r}}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l[1]&8&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function zr(r){let t=M("workflows.update-in-progress")+"",n;return{c(){n=x(t)},l(e){n=ee(e,t)},m(e,l){C(e,n,l)},p:de,d(e){e&&w(n)}}}function cn(r){var e;let t,n;return t=new ye({props:{intent:"error",title:((e=r[3])==null?void 0:e.message)||"Failure",$$slots:{default:[yr]},$$scope:{ctx:r}}}),{c(){I(t.$$.fragment)},l(l){E(t.$$.fragment,l)},m(l,o){D(t,l,o),n=!0},p(l,o){var i;const f={};o[0]&8&&(f.title=((i=l[3])==null?void 0:i.message)||"Failure"),o[0]&8|o[1]&8&&(f.$$scope={dirty:o,ctx:l}),t.$set(f)},i(l){n||(c(t.$$.fragment,l),n=!0)},o(l){p(t.$$.fragment,l),n=!1},d(l){T(t,l)}}}function mn(r){let t,n;return t=new Ln({props:{class:"mt-4",content:r[3].stackTrace,language:"text"}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l[0]&8&&(o.content=e[3].stackTrace),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function yr(r){var l;let t,n,e=((l=r[3])==null?void 0:l.stackTrace)&&mn(r);return{c(){e&&e.c(),t=se()},l(o){e&&e.l(o),t=se()},m(o,f){e&&e.m(o,f),C(o,t,f),n=!0},p(o,f){var i;(i=o[3])!=null&&i.stackTrace?e?(e.p(o,f),f[0]&8&&c(e,1)):(e=mn(o),e.c(),c(e,1),e.m(t.parentNode,t)):e&&(te(),p(e,1,1,()=>{e=null}),ne())},i(o){n||(c(e),n=!0)},o(o){p(e),n=!1},d(o){o&&w(t),e&&e.d(o)}}}function pn(r){let t,n;return t=new ye({props:{intent:"success",title:"Success",$$slots:{default:[Yr]},$$scope:{ctx:r}}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l[0]&16|l[1]&8&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function dn(r){let t,n;return t=new kl({props:{value:r[4].payloads[0],$$slots:{default:[Jr,({decodedValue:e})=>({29:e}),({decodedValue:e})=>[e?536870912:0]]},$$scope:{ctx:r}}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l[0]&16&&(o.value=e[4].payloads[0]),l[0]&536870912|l[1]&8&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function Jr(r){let t,n;return t=new Ln({props:{class:"mt-4",content:r[29],language:"text"}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l[0]&536870912&&(o.content=e[29]),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function Yr(r){var l,o;let t,n,e=((o=(l=r[4])==null?void 0:l.payloads)==null?void 0:o[0])&&r[4].payloads[0].data&&dn(r);return{c(){e&&e.c(),t=se()},l(f){e&&e.l(f),t=se()},m(f,i){e&&e.m(f,i),C(f,t,i),n=!0},p(f,i){var s,a;(a=(s=f[4])==null?void 0:s.payloads)!=null&&a[0]&&f[4].payloads[0].data?e?(e.p(f,i),i[0]&16&&c(e,1)):(e=dn(f),e.c(),c(e,1),e.m(t.parentNode,t)):e&&(te(),p(e,1,1,()=>{e=null}),ne())},i(f){n||(c(e),n=!0)},o(f){p(e),n=!1},d(f){f&&w(t),e&&e.d(f)}}}function Zr(r){let t,n,e,l,o,f,i,s,a,u,_,b,h;const k=[jr,Hr],m=[];function d(q,j){var Z;return((Z=q[9])==null?void 0:Z.length)>0&&!q[8]?0:1}n=d(r),e=m[n]=k[n](r);function v(q){r[23](q)}let R={id:"update-id",label:M("workflows.update-id"),required:!0};r[6]!==void 0&&(R.value=r[6]),o=new rt({props:R}),ae.push(()=>ce(o,"value",v));function g(q){r[24](q)}let $={};r[7]!==void 0&&($.input=r[7]),s=new bl({props:$}),ae.push(()=>ce(s,"input",g));let S=r[2]&&un(r),W=r[3]&&cn(r),H=r[4]&&pn(r);return{c(){t=y("div"),e.c(),l=O(),I(o.$$.fragment),i=O(),I(s.$$.fragment),u=O(),S&&S.c(),_=O(),W&&W.c(),b=O(),H&&H.c(),this.h()},l(q){t=J(q,"DIV",{class:!0,slot:!0});var j=Y(t);e.l(j),l=Q(j),E(o.$$.fragment,j),i=Q(j),E(s.$$.fragment,j),u=Q(j),S&&S.l(j),_=Q(j),W&&W.l(j),b=Q(j),H&&H.l(j),j.forEach(w),this.h()},h(){L(t,"class","flex flex-col gap-4"),L(t,"slot","content")},m(q,j){C(q,t,j),m[n].m(t,null),B(t,l),D(o,t,null),B(t,i),D(s,t,null),B(t,u),S&&S.m(t,null),B(t,_),W&&W.m(t,null),B(t,b),H&&H.m(t,null),h=!0},p(q,j){let Z=n;n=d(q),n===Z?m[n].p(q,j):(te(),p(m[Z],1,1,()=>{m[Z]=null}),ne(),e=m[n],e?e.p(q,j):(e=m[n]=k[n](q),e.c()),c(e,1),e.m(t,l));const K={};!f&&j[0]&64&&(f=!0,K.value=q[6],ue(()=>f=!1)),o.$set(K);const ie={};!a&&j[0]&128&&(a=!0,ie.input=q[7],ue(()=>a=!1)),s.$set(ie),q[2]?S?(S.p(q,j),j[0]&4&&c(S,1)):(S=un(q),S.c(),c(S,1),S.m(t,_)):S&&(te(),p(S,1,1,()=>{S=null}),ne()),q[3]?W?(W.p(q,j),j[0]&8&&c(W,1)):(W=cn(q),W.c(),c(W,1),W.m(t,b)):W&&(te(),p(W,1,1,()=>{W=null}),ne()),q[4]?H?(H.p(q,j),j[0]&16&&c(H,1)):(H=pn(q),H.c(),c(H,1),H.m(t,null)):H&&(te(),p(H,1,1,()=>{H=null}),ne())},i(q){h||(c(e),c(o.$$.fragment,q),c(s.$$.fragment,q),c(S),c(W),c(H),h=!0)},o(q){p(e),p(o.$$.fragment,q),p(s.$$.fragment,q),p(S),p(W),p(H),h=!1},d(q){q&&w(t),m[n].d(),T(o),T(s),S&&S.d(),W&&W.d(),H&&H.d()}}}function Gr(r){let t,n,e,l;function o(s){r[25](s)}function f(s){r[26](s)}let i={id:"update-confirmation-modal","data-testid":"update-confirmation-modal",large:!0,loading:r[2],confirmText:M("common.submit"),cancelText:M("common.cancel"),confirmDisabled:!r[5]||!r[10],$$slots:{content:[Zr],title:[Fr]},$$scope:{ctx:r}};return r[1]!==void 0&&(i.error=r[1]),r[0]!==void 0&&(i.open=r[0]),t=new dt({props:i}),ae.push(()=>ce(t,"error",o)),ae.push(()=>ce(t,"open",f)),t.$on("cancelModal",r[11]),t.$on("confirmModal",r[12]),{c(){I(t.$$.fragment)},l(s){E(t.$$.fragment,s)},m(s,a){D(t,s,a),l=!0},p(s,a){const u={};a[0]&4&&(u.loading=s[2]),a[0]&32&&(u.confirmDisabled=!s[5]||!s[10]),a[0]&1020|a[1]&8&&(u.$$scope={dirty:a,ctx:s}),!n&&a[0]&2&&(n=!0,u.error=s[1],ue(()=>n=!1)),!e&&a[0]&1&&(e=!0,u.open=s[0],ue(()=>e=!1)),t.$set(u)},i(s){l||(c(t.$$.fragment,s),l=!0)},o(s){p(t.$$.fragment,s),l=!1},d(s){T(t,s)}}}const _n="json/plain";function Kr(r,t,n){let e,l,o,f,i,s;re(r,Ee,N=>n(18,i=N)),re(r,Ae,N=>n(19,s=N));var a;let{open:u}=t,{workflow:_}=t,{namespace:b}=t,h="",k=!1,m,d,v="",R=st(),g="",$=!1,S=lt(_n);re(r,S,N=>n(28,f=N));const W=()=>{n(0,u=!1),n(5,v=""),n(7,g=""),n(8,$=!1),_e(S,f=_n,f),n(3,m=void 0),n(4,d=void 0)},H=async()=>{var N,P;n(3,m=void 0),n(4,d=void 0),n(1,h=""),n(2,k=!0);try{const z=await nl({namespace:b,workflow:{workflowId:_.id,runId:e},input:g,updateId:R,encoding:f,name:v});n(3,m=(N=z==null?void 0:z.outcome)===null||N===void 0?void 0:N.failure),n(4,d=((P=z==null?void 0:z.outcome)===null||P===void 0?void 0:P.success)||!m),n(6,R=st()),d&&(Hn.push({message:M("workflows.update-success"),variant:"success"}),W())}catch(z){n(1,h=gt(z)?z.message:M("common.unknown-error"))}finally{n(2,k=!1)}},q=()=>{n(8,$=!0),n(5,v="")};function j(N){v=N,n(5,v)}function Z(N){v=N,n(5,v)}const K=()=>{n(8,$=!1),n(5,v="")};function ie(N){R=N,n(6,R)}function U(N){g=N,n(7,g)}function A(N){h=N,n(1,h)}function fe(N){u=N,n(0,u)}return r.$$set=N=>{"open"in N&&n(0,u=N.open),"workflow"in N&&n(14,_=N.workflow),"namespace"in N&&n(15,b=N.namespace)},r.$$.update=()=>{r.$$.dirty[0]&524288&&({run:e}=s.params),r.$$.dirty[0]&262144&&n(17,{metadata:l}=i,l),r.$$.dirty[0]&196608&&n(9,o=n(16,a=l==null?void 0:l.definition)===null||a===void 0?void 0:a.updateDefinitions)},[u,h,k,m,d,v,R,g,$,o,S,W,H,q,_,b,a,l,i,s,j,Z,K,ie,U,A,fe]}class Xr extends he{constructor(t){super(),ke(this,t,Kr,Gr,ge,{open:0,workflow:14,namespace:15},null,[-1,-1])}}const xr=(r,t,n)=>!r.disableWriteActions&&!r.workflowSignalDisabled&&!t.namespaceWriteDisabled(n),eo=(r,t,n)=>!r.disableWriteActions&&!r.workflowUpdateDisabled&&!t.namespaceWriteDisabled(n);function gn(r,t,n){const e=r.slice();return e[35]=t[n].onClick,e[36]=t[n].destructive,e[37]=t[n].label,e[38]=t[n].enabled,e[39]=t[n].testId,e[40]=t[n].description,e}function to(r){let t,n;return t=new nt({props:{bottomRight:!0,width:200,text:r[4],hide:r[8],$$slots:{default:[oo]},$$scope:{ctx:r}}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l[0]&16&&(o.text=e[4]),l[0]&256&&(o.hide=e[8]),l[0]&4352|l[1]&4096&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function no(r){let t,n;return t=new yn({props:{id:"workflow-actions",menuClass:"w-[16rem]",position:"right",primaryActionDisabled:!r[8],label:M("workflows.reset"),menuLabel:M("workflows.workflow-actions"),$$slots:{default:[so]},$$scope:{ctx:r}}}),t.$on("click",r[28]),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l[0]&256&&(o.primaryActionDisabled=!e[8]),l[0]&3|l[1]&4096&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function lo(r){let t,n;return t=new yn({props:{id:"workflow-actions",menuClass:"w-[16rem] md:w-[24rem]",position:"right",disabled:r[16],primaryActionDisabled:!r[17]||r[2],label:M("workflows.request-cancellation"),menuLabel:M("workflows.workflow-actions"),$$slots:{default:[uo]},$$scope:{ctx:r}}}),t.$on("click",r[26]),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l[0]&65536&&(o.disabled=e[16]),l[0]&131076&&(o.primaryActionDisabled=!e[17]||e[2]),l[0]&295427|l[1]&4096&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function ro(r){let t=M("workflows.reset")+"",n;return{c(){n=x(t)},l(e){n=ee(e,t)},m(e,l){C(e,n,l)},p:de,d(e){e&&w(n)}}}function oo(r){let t,n;return t=new mt({props:{"aria-label":M("workflows.reset"),disabled:!r[8],variant:"primary","data-testid":"workflow-reset-button",$$slots:{default:[ro]},$$scope:{ctx:r}}}),t.$on("click",r[29]),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l[0]&256&&(o.disabled=!e[8]),l[1]&4096&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function fo(r){let t=M("workflows.start-workflow-like-this-one")+"",n;return{c(){n=x(t)},l(e){n=ee(e,t)},m(e,l){C(e,n,l)},p:de,d(e){e&&w(n)}}}function so(r){let t,n;return t=new $t({props:{"data-testid":"start-workflow-button",$$slots:{default:[fo]},$$scope:{ctx:r}}}),t.$on("click",r[27]),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l[1]&4096&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function $n(r){let t,n,e,l=r[36]&&wn();return n=new $t({props:{destructive:r[36],disabled:!r[38],"data-testid":r[39],description:r[40],$$slots:{default:[io]},$$scope:{ctx:r}}}),n.$on("click",function(){Kn(r[35])&&r[35].apply(this,arguments)}),{c(){l&&l.c(),t=O(),I(n.$$.fragment)},l(o){l&&l.l(o),t=Q(o),E(n.$$.fragment,o)},m(o,f){l&&l.m(o,f),C(o,t,f),D(n,o,f),e=!0},p(o,f){r=o,r[36]?l?f[0]&32768&&c(l,1):(l=wn(),l.c(),c(l,1),l.m(t.parentNode,t)):l&&(te(),p(l,1,1,()=>{l=null}),ne());const i={};f[0]&32768&&(i.destructive=r[36]),f[0]&32768&&(i.disabled=!r[38]),f[0]&32768&&(i["data-testid"]=r[39]),f[0]&32768&&(i.description=r[40]),f[0]&32768|f[1]&4096&&(i.$$scope={dirty:f,ctx:r}),n.$set(i)},i(o){e||(c(l),c(n.$$.fragment,o),e=!0)},o(o){p(l),p(n.$$.fragment,o),e=!1},d(o){o&&w(t),l&&l.d(o),T(n,o)}}}function wn(r){let t,n;return t=new zn({}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function io(r){let t=r[37]+"",n;return{c(){n=x(t)},l(e){n=ee(e,t)},m(e,l){C(e,n,l)},p(e,l){l[0]&32768&&t!==(t=e[37]+"")&&pe(n,t)},d(e){e&&w(n)}}}function hn(r){let t,n,e=(!r[18]||r[18]&&r[39]!=="update-button")&&$n(r);return{c(){e&&e.c(),t=se()},l(l){e&&e.l(l),t=se()},m(l,o){e&&e.m(l,o),C(l,t,o),n=!0},p(l,o){!l[18]||l[18]&&l[39]!=="update-button"?e?(e.p(l,o),o[0]&294912&&c(e,1)):(e=$n(l),e.c(),c(e,1),e.m(t.parentNode,t)):e&&(te(),p(e,1,1,()=>{e=null}),ne())},i(l){n||(c(e),n=!0)},o(l){p(e),n=!1},d(l){l&&w(t),e&&e.d(l)}}}function kn(r){let t,n,e,l;return t=new zn({}),e=new $t({props:{"data-testid":"start-workflow-button",$$slots:{default:[ao]},$$scope:{ctx:r}}}),e.$on("click",r[25]),{c(){I(t.$$.fragment),n=O(),I(e.$$.fragment)},l(o){E(t.$$.fragment,o),n=Q(o),E(e.$$.fragment,o)},m(o,f){D(t,o,f),C(o,n,f),D(e,o,f),l=!0},p(o,f){const i={};f[1]&4096&&(i.$$scope={dirty:f,ctx:o}),e.$set(i)},i(o){l||(c(t.$$.fragment,o),c(e.$$.fragment,o),l=!0)},o(o){p(t.$$.fragment,o),p(e.$$.fragment,o),l=!1},d(o){o&&w(n),T(t,o),T(e,o)}}}function ao(r){let t=M("workflows.start-workflow-like-this-one")+"",n;return{c(){n=x(t)},l(e){n=ee(e,t)},m(e,l){C(e,n,l)},p:de,d(e){e&&w(n)}}}function uo(r){let t,n=!at(r[9]),e,l,o=Ve(r[15]),f=[];for(let a=0;a<o.length;a+=1)f[a]=hn(gn(r,o,a));const i=a=>p(f[a],1,1,()=>{f[a]=null});let s=n&&kn(r);return{c(){for(let a=0;a<f.length;a+=1)f[a].c();t=O(),s&&s.c(),e=se()},l(a){for(let u=0;u<f.length;u+=1)f[u].l(a);t=Q(a),s&&s.l(a),e=se()},m(a,u){for(let _=0;_<f.length;_+=1)f[_]&&f[_].m(a,u);C(a,t,u),s&&s.m(a,u),C(a,e,u),l=!0},p(a,u){if(u[0]&294912){o=Ve(a[15]);let _;for(_=0;_<o.length;_+=1){const b=gn(a,o,_);f[_]?(f[_].p(b,u),c(f[_],1)):(f[_]=hn(b),f[_].c(),c(f[_],1),f[_].m(t.parentNode,t))}for(te(),_=o.length;_<f.length;_+=1)i(_);ne()}u[0]&512&&(n=!at(a[9])),n?s?(s.p(a,u),u[0]&512&&c(s,1)):(s=kn(a),s.c(),c(s,1),s.m(e.parentNode,e)):s&&(te(),p(s,1,1,()=>{s=null}),ne())},i(a){if(!l){for(let u=0;u<o.length;u+=1)c(f[u]);c(s),l=!0}},o(a){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)p(f[u]);p(s),l=!1},d(a){a&&(w(t),w(e)),tt(f,a),s&&s.d(a)}}}function bn(r){let t,n,e;function l(f){r[30](f)}let o={refresh:Le,workflow:r[0],namespace:r[1]};return r[12]!==void 0&&(o.open=r[12]),t=new Wr({props:o}),ae.push(()=>ce(t,"open",l)),{c(){I(t.$$.fragment)},l(f){E(t.$$.fragment,f)},m(f,i){D(t,f,i),e=!0},p(f,i){const s={};i[0]&1&&(s.workflow=f[0]),i[0]&2&&(s.namespace=f[1]),!n&&i[0]&4096&&(n=!0,s.open=f[12],ue(()=>n=!1)),t.$set(s)},i(f){e||(c(t.$$.fragment,f),e=!0)},o(f){p(t.$$.fragment,f),e=!1},d(f){T(t,f)}}}function vn(r){let t,n,e;function l(f){r[31](f)}let o={refresh:Le,workflow:r[0],namespace:r[1]};return r[13]!==void 0&&(o.open=r[13]),t=new Ur({props:o}),ae.push(()=>ce(t,"open",l)),{c(){I(t.$$.fragment)},l(f){E(t.$$.fragment,f)},m(f,i){D(t,f,i),e=!0},p(f,i){const s={};i[0]&1&&(s.workflow=f[0]),i[0]&2&&(s.namespace=f[1]),!n&&i[0]&8192&&(n=!0,s.open=f[13],ue(()=>n=!1)),t.$set(s)},i(f){e||(c(t.$$.fragment,f),e=!0)},o(f){p(t.$$.fragment,f),e=!1},d(f){T(t,f)}}}function In(r){let t,n,e;function l(f){r[32](f)}let o={workflow:r[0],namespace:r[1]};return r[14]!==void 0&&(o.open=r[14]),t=new Xr({props:o}),ae.push(()=>ce(t,"open",l)),{c(){I(t.$$.fragment)},l(f){E(t.$$.fragment,f)},m(f,i){D(t,f,i),e=!0},p(f,i){const s={};i[0]&1&&(s.workflow=f[0]),i[0]&2&&(s.namespace=f[1]),!n&&i[0]&16384&&(n=!0,s.open=f[14],ue(()=>n=!1)),t.$set(s)},i(f){e||(c(t.$$.fragment,f),e=!0)},o(f){p(t.$$.fragment,f),e=!1},d(f){T(t,f)}}}function En(r){let t,n,e;function l(f){r[33](f)}let o={refresh:Le,workflow:r[0],namespace:r[1]};return r[10]!==void 0&&(o.open=r[10]),t=new pl({props:o}),ae.push(()=>ce(t,"open",l)),{c(){I(t.$$.fragment)},l(f){E(t.$$.fragment,f)},m(f,i){D(t,f,i),e=!0},p(f,i){const s={};i[0]&1&&(s.workflow=f[0]),i[0]&2&&(s.namespace=f[1]),!n&&i[0]&1024&&(n=!0,s.open=f[10],ue(()=>n=!1)),t.$set(s)},i(f){e||(c(t.$$.fragment,f),e=!0)},o(f){p(t.$$.fragment,f),e=!1},d(f){T(t,f)}}}function Dn(r){let t,n,e;function l(f){r[34](f)}let o={refresh:Le,workflow:r[0],namespace:r[1]};return r[11]!==void 0&&(o.open=r[11]),t=new dl({props:o}),ae.push(()=>ce(t,"open",l)),{c(){I(t.$$.fragment)},l(f){E(t.$$.fragment,f)},m(f,i){D(t,f,i),e=!0},p(f,i){const s={};i[0]&1&&(s.workflow=f[0]),i[0]&2&&(s.namespace=f[1]),!n&&i[0]&2048&&(n=!0,s.open=f[11],ue(()=>n=!1)),t.$set(s)},i(f){e||(c(t.$$.fragment,f),e=!0)},o(f){p(t.$$.fragment,f),e=!1},d(f){T(t,f)}}}function co(r){let t,n,e,l,o,f,i,s,a,u;const _=[lo,no,to],b=[];function h(g,$){return $[0]&512&&(t=null),g[3]?0:(t==null&&(t=!at(g[9])),t?1:2)}n=h(r,[-1,-1]),e=b[n]=_[n](r);let k=r[8]&&bn(r),m=r[7]&&vn(r),d=r[6]&&In(r),v=r[17]&&En(r),R=r[5]&&Dn(r);return{c(){e.c(),l=O(),k&&k.c(),o=O(),m&&m.c(),f=O(),d&&d.c(),i=O(),v&&v.c(),s=O(),R&&R.c(),a=se()},l(g){e.l(g),l=Q(g),k&&k.l(g),o=Q(g),m&&m.l(g),f=Q(g),d&&d.l(g),i=Q(g),v&&v.l(g),s=Q(g),R&&R.l(g),a=se()},m(g,$){b[n].m(g,$),C(g,l,$),k&&k.m(g,$),C(g,o,$),m&&m.m(g,$),C(g,f,$),d&&d.m(g,$),C(g,i,$),v&&v.m(g,$),C(g,s,$),R&&R.m(g,$),C(g,a,$),u=!0},p(g,$){let S=n;n=h(g,$),n===S?b[n].p(g,$):(te(),p(b[S],1,1,()=>{b[S]=null}),ne(),e=b[n],e?e.p(g,$):(e=b[n]=_[n](g),e.c()),c(e,1),e.m(l.parentNode,l)),g[8]?k?(k.p(g,$),$[0]&256&&c(k,1)):(k=bn(g),k.c(),c(k,1),k.m(o.parentNode,o)):k&&(te(),p(k,1,1,()=>{k=null}),ne()),g[7]?m?(m.p(g,$),$[0]&128&&c(m,1)):(m=vn(g),m.c(),c(m,1),m.m(f.parentNode,f)):m&&(te(),p(m,1,1,()=>{m=null}),ne()),g[6]?d?(d.p(g,$),$[0]&64&&c(d,1)):(d=In(g),d.c(),c(d,1),d.m(i.parentNode,i)):d&&(te(),p(d,1,1,()=>{d=null}),ne()),g[17]?v?(v.p(g,$),$[0]&131072&&c(v,1)):(v=En(g),v.c(),c(v,1),v.m(s.parentNode,s)):v&&(te(),p(v,1,1,()=>{v=null}),ne()),g[5]?R?(R.p(g,$),$[0]&32&&c(R,1)):(R=Dn(g),R.c(),c(R,1),R.m(a.parentNode,a)):R&&(te(),p(R,1,1,()=>{R=null}),ne())},i(g){u||(c(e),c(k),c(m),c(d),c(v),c(R),u=!0)},o(g){p(e),p(k),p(m),p(d),p(v),p(R),u=!1},d(g){g&&(w(l),w(o),w(f),w(i),w(s),w(a)),b[n].d(g),k&&k.d(g),m&&m.d(g),d&&d.d(g),v&&v.d(g),R&&R.d(g)}}}function mo(r,t,n){let e,l,o,f,i,s,a,u,_,b,h;re(r,Qn,G=>n(23,u=G)),re(r,Ae,G=>n(9,b=G)),re(r,Bn,G=>n(18,h=G));var k,m;let{workflow:d}=t,{namespace:v}=t,{cancelInProgress:R}=t,{isRunning:g}=t,$=!1,S=!1,W=!1,H=!1,q=!1,j,Z=vl();re(r,Z,G=>n(24,_=G));let K;const ie=()=>Nt(Mt({namespace:v,workflowId:d.id,taskQueue:d.taskQueue,workflowType:d.name})),U=()=>n(10,$=!0),A=()=>Nt(Mt({namespace:v,workflowId:d.id,taskQueue:d.taskQueue,workflowType:d.name})),fe=()=>n(12,W=!0),N=()=>n(12,W=!0);function P(G){W=G,n(12,W),n(8,s),n(4,j),n(7,l),n(6,o),n(5,f),n(22,i),n(0,d),n(23,u),n(20,k),n(21,m),n(9,b),n(24,_),n(1,v)}function z(G){H=G,n(13,H),n(8,s),n(4,j),n(7,l),n(6,o),n(5,f),n(22,i),n(0,d),n(23,u),n(20,k),n(21,m),n(9,b),n(24,_),n(1,v)}function le(G){q=G,n(14,q),n(8,s),n(4,j),n(7,l),n(6,o),n(5,f),n(22,i),n(0,d),n(23,u),n(20,k),n(21,m),n(9,b),n(24,_),n(1,v)}function V(G){$=G,n(10,$)}function oe(G){S=G,n(11,S),n(8,s),n(4,j),n(7,l),n(6,o),n(5,f),n(22,i),n(0,d),n(23,u),n(20,k),n(21,m),n(9,b),n(24,_),n(1,v)}return r.$$set=G=>{"workflow"in G&&n(0,d=G.workflow),"namespace"in G&&n(1,v=G.namespace),"cancelInProgress"in G&&n(2,R=G.cancelInProgress),"isRunning"in G&&n(3,g=G.isRunning)},r.$$.update=()=>{r.$$.dirty[0]&16777730&&n(17,e=ul(b.data.settings,_,v)),r.$$.dirty[0]&16777730&&n(7,l=xr(b.data.settings,_,v)),r.$$.dirty[0]&16777730&&n(6,o=eo(b.data.settings,_,v)),r.$$.dirty[0]&16777730&&n(5,f=cl(b.data.settings,_,v)),r.$$.dirty[0]&16777730&&n(22,i=ml(b.data.settings,_,v)),r.$$.dirty[0]&12582913&&n(8,s=i&&d.pendingChildren.length===0&&u.length>0),r.$$.dirty[0]&416&&n(16,a=!s&&!l&&!f),r.$$.dirty[0]&15728641&&(i?i&&(n(20,k=d==null?void 0:d.pendingChildren)===null||k===void 0?void 0:k.length)>0?n(4,j=M("workflows.reset-disabled-pending-children")):i&&(n(21,m=d==null?void 0:d.pendingChildren)===null||m===void 0?void 0:m.length)===0&&u.length===0&&n(4,j=M("workflows.reset-disabled-no-events")):n(4,j=M("workflows.reset-disabled-unauthorized"))),r.$$.dirty[0]&496&&n(15,K=[{label:M("workflows.reset"),onClick:()=>n(12,W=!0),testId:"reset-button",enabled:s,description:s?"":j},{label:M("workflows.signal"),onClick:()=>n(13,H=!0),testId:"signal-button",enabled:l,description:l?"":M("workflows.signal-disabled")},{label:M("workflows.update"),onClick:()=>n(14,q=!0),testId:"update-button",enabled:o,description:o?"":M("workflows.update-disabled")},{label:M("workflows.terminate"),onClick:()=>n(11,S=!0),testId:"terminate-button",enabled:f,destructive:!0,description:f?"":M("workflows.terminate-disabled")}])},[d,v,R,g,j,f,o,l,s,b,$,S,W,H,q,K,a,e,h,Z,k,m,i,u,_,ie,U,A,fe,N,P,z,le,V,oe]}class Tn extends he{constructor(t){super(),ke(this,t,mo,co,ge,{workflow:0,namespace:1,cancelInProgress:2,isRunning:3},null,[-1,-1])}}function po(r){let t,n,e=M("workers.buildId")+"",l,o,f;return o=new El({props:{active:!0,buildId:r[0]}}),{c(){t=y("p"),n=y("span"),l=x(e),I(o.$$.fragment),this.h()},l(i){t=J(i,"P",{class:!0});var s=Y(t);n=J(s,"SPAN",{});var a=Y(n);l=ee(a,e),a.forEach(w),E(o.$$.fragment,s),s.forEach(w),this.h()},h(){L(t,"class","flex items-center gap-1")},m(i,s){C(i,t,s),B(t,n),B(n,l),D(o,t,null),f=!0},p(i,[s]){const a={};s&1&&(a.buildId=i[0]),o.$set(a)},i(i){f||(c(o.$$.fragment,i),f=!0)},o(i){p(o.$$.fragment,i),f=!1},d(i){i&&w(t),T(o)}}}function _o(r,t,n){let e,{workflow:l}=t;return r.$$set=o=>{"workflow"in o&&n(1,l=o.workflow)},r.$$.update=()=>{r.$$.dirty&2&&n(0,e=Dl(l))},[e,l]}class go extends he{constructor(t){super(),ke(this,t,_o,po,ge,{workflow:1})}}const $o=(r,t)=>{const n=r==="Running",e=t==null?void 0:t.some(l=>(l==null?void 0:l.eventType)==="WorkflowExecutionCancelRequested");return n&&e},Cn=r=>{const t=r==null?void 0:r.indexOf("?");return t>-1?r.slice(0,t):r},we=(r,t,n=!1)=>{const e=Cn(r).split("/"),l=Cn(t).split("/");if(n&&e.length!==l.length)return!1;for(let o=0;o<e.length;o++){const f=e[o],i=l[o];if(f!==i)return!1}return!0};function wo(r){let t=(r[13]?M("common.workflows"):M("workflows.back-to-workflows"))+"",n;return{c(){n=x(t)},l(e){n=ee(e,t)},m(e,l){C(e,n,l)},p(e,l){l&8192&&t!==(t=(e[13]?M("common.workflows"):M("workflows.back-to-workflows"))+"")&&pe(n,t)},d(e){e&&w(n)}}}function Wn(r){let t,n;return t=new Oe({props:{href:Re({...r[11]}),"data-testid":"back-to-workflow-execution",icon:"chevron-left",$$slots:{default:[ho]},$$scope:{ctx:r}}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l&2048&&(o.href=Re({...e[11]})),l&16777217&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function ho(r){var e;let t=((e=r[0])==null?void 0:e.runId)+"",n;return{c(){n=x(t)},l(l){n=ee(l,t)},m(l,o){C(l,n,o)},p(l,o){var f;o&1&&t!==(t=((f=l[0])==null?void 0:f.runId)+"")&&pe(n,t)},d(l){l&&w(n)}}}function Sn(r){let t,n;return t=new go({props:{workflow:r[0]}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l&1&&(o.workflow=e[0]),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function Pn(r){let t,n,e,l;return n=new ye({props:{icon:"info",intent:"info",title:M("workflows.cancel-request-sent"),$$slots:{default:[ko]},$$scope:{ctx:r}}}),{c(){t=y("div"),I(n.$$.fragment)},l(o){t=J(o,"DIV",{});var f=Y(t);E(n.$$.fragment,f),f.forEach(w)},m(o,f){C(o,t,f),D(n,t,null),l=!0},p(o,f){const i={};f&16777216&&(i.$$scope={dirty:f,ctx:o}),n.$set(i)},i(o){l||(c(n.$$.fragment,o),o&&(e||ct(()=>{e=Nn(t,Un,{duration:200,delay:100}),e.start()})),l=!0)},o(o){p(n.$$.fragment,o),l=!1},d(o){o&&w(t),T(n)}}}function ko(r){let t=M("workflows.cancel-request-sent-description")+"",n;return{c(){n=x(t)},l(e){n=ee(e,t)},m(e,l){C(e,n,l)},p:de,d(e){e&&w(n)}}}function Rn(r){let t,n,e,l;return n=new ye({props:{icon:"info",intent:"info","data-testid":"workflow-reset-alert",title:M("workflows.reset-success-alert-title"),$$slots:{default:[vo]},$$scope:{ctx:r}}}),{c(){t=y("div"),I(n.$$.fragment)},l(o){t=J(o,"DIV",{});var f=Y(t);E(n.$$.fragment,f),f.forEach(w)},m(o,f){C(o,t,f),D(n,t,null),l=!0},p(o,f){const i={};f&16777230&&(i.$$scope={dirty:f,ctx:o}),n.$set(i)},i(o){l||(c(n.$$.fragment,o),o&&(e||ct(()=>{e=Nn(t,Un,{duration:200,delay:100}),e.start()})),l=!0)},o(o){p(n.$$.fragment,o),l=!1},d(o){o&&w(t),T(n)}}}function bo(r){let t;return{c(){t=x("here")},l(n){t=ee(n,"here")},m(n,e){C(n,t,e)},d(n){n&&w(t)}}}function vo(r){var o,f,i,s;let t,n,e,l;return n=new Oe({props:{href:Re({namespace:r[1],workflow:(f=(o=r[3])==null?void 0:o.workflow)==null?void 0:f.id,run:r[2][(s=(i=r[3])==null?void 0:i.workflow)==null?void 0:s.runId]}),$$slots:{default:[bo]},$$scope:{ctx:r}}}),{c(){t=x("You can find the resulting Workflow Execution "),I(n.$$.fragment),e=x(".")},l(a){t=ee(a,"You can find the resulting Workflow Execution "),E(n.$$.fragment,a),e=ee(a,".")},m(a,u){C(a,t,u),D(n,a,u),C(a,e,u),l=!0},p(a,u){var b,h,k,m;const _={};u&14&&(_.href=Re({namespace:a[1],workflow:(h=(b=a[3])==null?void 0:b.workflow)==null?void 0:h.id,run:a[2][(m=(k=a[3])==null?void 0:k.workflow)==null?void 0:m.runId]})),u&16777216&&(_.$$scope={dirty:u,ctx:a}),n.$set(_)},i(a){l||(c(n.$$.fragment,a),l=!0)},o(a){p(n.$$.fragment,a),l=!1},d(a){a&&(w(t),w(e)),T(n,a)}}}function Io(r){var e;let t=((e=r[0])==null?void 0:e.historyEvents)+"",n;return{c(){n=x(t)},l(l){n=ee(l,t)},m(l,o){C(l,n,o)},p(l,o){var f;o&1&&t!==(t=((f=l[0])==null?void 0:f.historyEvents)+"")&&pe(n,t)},d(l){l&&w(n)}}}function Eo(r){let t,n;return t=new ot({props:{type:"primary",class:"px-2 py-0",$$slots:{default:[Io]},$$scope:{ctx:r}}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l&16777217&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function Do(r){let t=r[5].relationshipCount+"",n;return{c(){n=x(t)},l(e){n=ee(e,t)},m(e,l){C(e,n,l)},p(e,l){l&32&&t!==(t=e[5].relationshipCount+"")&&pe(n,t)},d(e){e&&w(n)}}}function To(r){let t,n;return t=new ot({props:{type:"primary",class:"px-2 py-0",$$slots:{default:[Do]},$$scope:{ctx:r}}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l&16777248&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function Co(r){var e,l;let t=((l=(e=r[12])==null?void 0:e.pollers)==null?void 0:l.length)+"",n;return{c(){n=x(t)},l(o){n=ee(o,t)},m(o,f){C(o,n,f)},p(o,f){var i,s;f&4096&&t!==(t=((s=(i=o[12])==null?void 0:i.pollers)==null?void 0:s.length)+"")&&pe(n,t)},d(o){o&&w(n)}}}function Wo(r){let t,n;return t=new ot({props:{type:"primary",class:"px-2 py-0",$$slots:{default:[Co]},$$scope:{ctx:r}}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l&16781312&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function Vn(r){let t,n;return t=new Ne({props:{name:"canceled"}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function So(r){var i,s;let t,n,e=((s=(i=r[0])==null?void 0:i.pendingActivities)==null?void 0:s.length)+"",l,o,f=r[9]&&Vn();return{c(){t=y("div"),f&&f.c(),n=O(),l=x(e),this.h()},l(a){t=J(a,"DIV",{class:!0});var u=Y(t);f&&f.l(u),n=Q(u),l=ee(u,e),u.forEach(w),this.h()},h(){L(t,"class","flex items-center gap-1")},m(a,u){C(a,t,u),f&&f.m(t,null),B(t,n),B(t,l),o=!0},p(a,u){var _,b;a[9]?f?u&512&&c(f,1):(f=Vn(),f.c(),c(f,1),f.m(t,n)):f&&(te(),p(f,1,1,()=>{f=null}),ne()),(!o||u&1)&&e!==(e=((b=(_=a[0])==null?void 0:_.pendingActivities)==null?void 0:b.length)+"")&&pe(l,e)},i(a){o||(c(f),o=!0)},o(a){p(f),o=!1},d(a){a&&w(t),f&&f.d()}}}function Po(r){let t,n;return t=new ot({props:{type:r[9]?"warning":"primary",class:"px-2 py-0",$$slots:{default:[So]},$$scope:{ctx:r}}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l&512&&(o.type=e[9]?"warning":"primary"),l&16777729&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function Ro(r){let t,n,e,l,o,f,i,s,a,u,_,b,h,k;return t=new Me({props:{label:M("workflows.history-tab"),id:"history-tab",href:Re({...r[11]}),active:we(r[4].url.pathname,Re({...r[11]})),$$slots:{default:[Eo]},$$scope:{ctx:r}}}),e=new Me({props:{label:M("workflows.relationships"),id:"relationships-tab",href:Je(r[11]),active:we(r[4].url.pathname,Je(r[11])),$$slots:{default:[To]},$$scope:{ctx:r}}}),o=new Me({props:{label:M("workflows.workers-tab"),id:"workers-tab",href:He(r[11]),active:we(r[4].url.pathname,He(r[11])),$$slots:{default:[Wo]},$$scope:{ctx:r}}}),i=new Me({props:{label:M("workflows.pending-activities-tab"),id:"pending-activities-tab",href:Ye(r[11]),active:we(r[4].url.pathname,Ye(r[11])),$$slots:{default:[Po]},$$scope:{ctx:r}}}),a=new Me({props:{label:M("workflows.call-stack-tab"),id:"call-stack-tab",href:Ze(r[11]),active:we(r[4].url.pathname,Ze(r[11]))}}),_=new Me({props:{label:M("workflows.queries-tab"),id:"queries-tab",href:Ge(r[11]),active:we(r[4].url.pathname,Ge(r[11]))}}),h=new Me({props:{label:M("workflows.metadata-tab"),id:"metadata-tab",href:Ke(r[11]),active:we(r[4].url.pathname,Ke(r[11]))}}),{c(){I(t.$$.fragment),n=O(),I(e.$$.fragment),l=O(),I(o.$$.fragment),f=O(),I(i.$$.fragment),s=O(),I(a.$$.fragment),u=O(),I(_.$$.fragment),b=O(),I(h.$$.fragment)},l(m){E(t.$$.fragment,m),n=Q(m),E(e.$$.fragment,m),l=Q(m),E(o.$$.fragment,m),f=Q(m),E(i.$$.fragment,m),s=Q(m),E(a.$$.fragment,m),u=Q(m),E(_.$$.fragment,m),b=Q(m),E(h.$$.fragment,m)},m(m,d){D(t,m,d),C(m,n,d),D(e,m,d),C(m,l,d),D(o,m,d),C(m,f,d),D(i,m,d),C(m,s,d),D(a,m,d),C(m,u,d),D(_,m,d),C(m,b,d),D(h,m,d),k=!0},p(m,d){const v={};d&2048&&(v.href=Re({...m[11]})),d&2064&&(v.active=we(m[4].url.pathname,Re({...m[11]}))),d&16777217&&(v.$$scope={dirty:d,ctx:m}),t.$set(v);const R={};d&2048&&(R.href=Je(m[11])),d&2064&&(R.active=we(m[4].url.pathname,Je(m[11]))),d&16777248&&(R.$$scope={dirty:d,ctx:m}),e.$set(R);const g={};d&2048&&(g.href=He(m[11])),d&2064&&(g.active=we(m[4].url.pathname,He(m[11]))),d&16781312&&(g.$$scope={dirty:d,ctx:m}),o.$set(g);const $={};d&2048&&($.href=Ye(m[11])),d&2064&&($.active=we(m[4].url.pathname,Ye(m[11]))),d&16777729&&($.$$scope={dirty:d,ctx:m}),i.$set($);const S={};d&2048&&(S.href=Ze(m[11])),d&2064&&(S.active=we(m[4].url.pathname,Ze(m[11]))),a.$set(S);const W={};d&2048&&(W.href=Ge(m[11])),d&2064&&(W.active=we(m[4].url.pathname,Ge(m[11]))),_.$set(W);const H={};d&2048&&(H.href=Ke(m[11])),d&2064&&(H.active=we(m[4].url.pathname,Ke(m[11]))),h.$set(H)},i(m){k||(c(t.$$.fragment,m),c(e.$$.fragment,m),c(o.$$.fragment,m),c(i.$$.fragment,m),c(a.$$.fragment,m),c(_.$$.fragment,m),c(h.$$.fragment,m),k=!0)},o(m){p(t.$$.fragment,m),p(e.$$.fragment,m),p(o.$$.fragment,m),p(i.$$.fragment,m),p(a.$$.fragment,m),p(_.$$.fragment,m),p(h.$$.fragment,m),k=!1},d(m){m&&(w(n),w(l),w(f),w(s),w(u),w(b)),T(t,m),T(e,m),T(o,m),T(i,m),T(a,m),T(_,m),T(h,m)}}}function Vo(r){let t,n;return t=new Wl({props:{class:"flex flex-wrap gap-6 pt-2",label:"workflow detail",$$slots:{default:[Ro]},$$scope:{ctx:r}}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l&16783921&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function Mo(r){var oe,G;let t,n,e,l,o,f,i,s,a,u,_,b,h,k,m,d,v,R,g,$,S,W,H,q,j,Z,K,ie,U,A,fe,N;e=new Oe({props:{href:`${et({namespace:r[1]})}?${r[14]}`,"data-testid":"back-to-workflows",icon:"chevron-left",$$slots:{default:[wo]},$$scope:{ctx:r}}});let P=r[13]&&Wn(r);u=new Il({props:{status:(oe=r[0])==null?void 0:oe.status,big:!0}}),h=new Tn({props:{isRunning:r[10],cancelInProgress:r[8],workflow:r[0],namespace:r[1]}}),v=new Fn({props:{copyIconTitle:M("common.copy-icon-title"),copySuccessIconTitle:M("common.copy-success-icon-title"),content:(G=r[0])==null?void 0:G.id,clickAllToCopy:!0,"container-class":"w-full",class:"overflow-hidden text-ellipsis text-left"}});let z=r[6]&&Sn(r);S=new Tn({props:{isRunning:r[10],cancelInProgress:r[8],workflow:r[0],namespace:r[1]}}),H=new hr({}),j=new dr({}),K=new er({props:{workflow:r[0]}});let le=r[8]&&Pn(r),V=r[7]&&Rn(r);return fe=new Cl({props:{$$slots:{default:[Vo]},$$scope:{ctx:r}}}),{c(){t=y("div"),n=y("div"),I(e.$$.fragment),l=O(),P&&P.c(),o=O(),f=y("header"),i=y("div"),s=y("div"),a=y("div"),I(u.$$.fragment),_=O(),b=y("div"),I(h.$$.fragment),k=O(),m=y("div"),d=y("h1"),I(v.$$.fragment),R=O(),z&&z.c(),g=O(),$=y("div"),I(S.$$.fragment),W=O(),I(H.$$.fragment),q=O(),I(j.$$.fragment),Z=O(),I(K.$$.fragment),ie=O(),le&&le.c(),U=O(),V&&V.c(),A=O(),I(fe.$$.fragment),this.h()},l(F){t=J(F,"DIV",{class:!0});var X=Y(t);n=J(X,"DIV",{class:!0});var be=Y(n);E(e.$$.fragment,be),l=Q(be),P&&P.l(be),be.forEach(w),X.forEach(w),o=Q(F),f=J(F,"HEADER",{class:!0});var me=Y(f);i=J(me,"DIV",{class:!0});var $e=Y(i);s=J($e,"DIV",{class:!0});var De=Y(s);a=J(De,"DIV",{class:!0});var ve=Y(a);E(u.$$.fragment,ve),_=Q(ve),b=J(ve,"DIV",{class:!0});var Ce=Y(b);E(h.$$.fragment,Ce),Ce.forEach(w),ve.forEach(w),k=Q(De),m=J(De,"DIV",{class:!0});var Te=Y(m);d=J(Te,"H1",{"data-testid":!0,class:!0});var We=Y(d);E(v.$$.fragment,We),We.forEach(w),R=Q(Te),z&&z.l(Te),Te.forEach(w),De.forEach(w),g=Q($e),$=J($e,"DIV",{class:!0});var Se=Y($);E(S.$$.fragment,Se),Se.forEach(w),$e.forEach(w),W=Q(me),E(H.$$.fragment,me),q=Q(me),E(j.$$.fragment,me),Z=Q(me),E(K.$$.fragment,me),ie=Q(me),le&&le.l(me),U=Q(me),V&&V.l(me),A=Q(me),E(fe.$$.fragment,me),me.forEach(w),this.h()},h(){L(n,"class","flex items-center gap-2"),L(t,"class","flex items-center justify-between pb-4"),L(b,"class","lg:hidden"),L(a,"class","flex flex-wrap items-center justify-between gap-4 max-lg:w-full"),L(d,"data-testid","workflow-id-heading"),L(d,"class","gap-0 overflow-hidden max-sm:text-xl sm:max-md:text-2xl"),L(m,"class","flex flex-col flex-wrap gap-0"),L(s,"class","flex w-full flex-col items-start gap-4 lg:flex-row lg:items-center"),L($,"class","max-lg:hidden"),L(i,"class","flex flex-col items-center justify-between gap-4 lg:flex-row"),L(f,"class","flex flex-col gap-2")},m(F,X){C(F,t,X),B(t,n),D(e,n,null),B(n,l),P&&P.m(n,null),C(F,o,X),C(F,f,X),B(f,i),B(i,s),B(s,a),D(u,a,null),B(a,_),B(a,b),D(h,b,null),B(s,k),B(s,m),B(m,d),D(v,d,null),B(m,R),z&&z.m(m,null),B(i,g),B(i,$),D(S,$,null),B(f,W),D(H,f,null),B(f,q),D(j,f,null),B(f,Z),D(K,f,null),B(f,ie),le&&le.m(f,null),B(f,U),V&&V.m(f,null),B(f,A),D(fe,f,null),N=!0},p(F,[X]){var We,Se;const be={};X&16386&&(be.href=`${et({namespace:F[1]})}?${F[14]}`),X&16785408&&(be.$$scope={dirty:X,ctx:F}),e.$set(be),F[13]?P?(P.p(F,X),X&8192&&c(P,1)):(P=Wn(F),P.c(),c(P,1),P.m(n,null)):P&&(te(),p(P,1,1,()=>{P=null}),ne());const me={};X&1&&(me.status=(We=F[0])==null?void 0:We.status),u.$set(me);const $e={};X&1024&&($e.isRunning=F[10]),X&256&&($e.cancelInProgress=F[8]),X&1&&($e.workflow=F[0]),X&2&&($e.namespace=F[1]),h.$set($e);const De={};X&1&&(De.content=(Se=F[0])==null?void 0:Se.id),v.$set(De),F[6]?z?(z.p(F,X),X&64&&c(z,1)):(z=Sn(F),z.c(),c(z,1),z.m(m,null)):z&&(te(),p(z,1,1,()=>{z=null}),ne());const ve={};X&1024&&(ve.isRunning=F[10]),X&256&&(ve.cancelInProgress=F[8]),X&1&&(ve.workflow=F[0]),X&2&&(ve.namespace=F[1]),S.$set(ve);const Ce={};X&1&&(Ce.workflow=F[0]),K.$set(Ce),F[8]?le?(le.p(F,X),X&256&&c(le,1)):(le=Pn(F),le.c(),c(le,1),le.m(f,U)):le&&(te(),p(le,1,1,()=>{le=null}),ne()),F[7]?V?(V.p(F,X),X&128&&c(V,1)):(V=Rn(F),V.c(),c(V,1),V.m(f,A)):V&&(te(),p(V,1,1,()=>{V=null}),ne());const Te={};X&16783921&&(Te.$$scope={dirty:X,ctx:F}),fe.$set(Te)},i(F){N||(c(e.$$.fragment,F),c(P),c(u.$$.fragment,F),c(h.$$.fragment,F),c(v.$$.fragment,F),c(z),c(S.$$.fragment,F),c(H.$$.fragment,F),c(j.$$.fragment,F),c(K.$$.fragment,F),c(le),c(V),c(fe.$$.fragment,F),N=!0)},o(F){p(e.$$.fragment,F),p(P),p(u.$$.fragment,F),p(h.$$.fragment,F),p(v.$$.fragment,F),p(z),p(S.$$.fragment,F),p(H.$$.fragment,F),p(j.$$.fragment,F),p(K.$$.fragment,F),p(le),p(V),p(fe.$$.fragment,F),N=!1},d(F){F&&(w(t),w(o),w(f)),T(e),P&&P.d(),T(u),T(h),T(v),z&&z.d(),T(S),T(H),T(j),T(K),le&&le.d(),V&&V.d(),T(fe)}}}function Ao(r,t,n){let e,l,o,f,i,s,a,u,_,b,h,k,m,d,v,R,g,$,S;re(r,Sl,K=>n(22,d=K)),re(r,Xe,K=>n(23,v=K)),re(r,Yn,K=>n(2,R=K)),re(r,Ee,K=>n(3,g=K)),re(r,Ae,K=>n(4,$=K)),re(r,qn,K=>n(14,S=K));var W,H,q,j,Z;return r.$$.update=()=>{r.$$.dirty&16&&n(1,{namespace:e,workflow:l,run:o,id:f}=$.params,e,(n(21,l),n(4,$)),(n(20,o),n(4,$)),(n(13,f),n(4,$))),r.$$.dirty&8&&n(0,{workflow:i,workers:s}=g,i,(n(12,s),n(3,g))),r.$$.dirty&3145730&&n(11,a={namespace:e,workflow:l,run:o}),r.$$.dirty&32776&&n(10,u=n(15,W=g==null?void 0:g.workflow)===null||W===void 0?void 0:W.isRunning),r.$$.dirty&65544&&n(9,_=["Terminated","TimedOut","Canceled"].includes(n(16,H=g.workflow)===null||H===void 0?void 0:H.status)),r.$$.dirty&8519688&&n(8,b=$o(n(17,q=g==null?void 0:g.workflow)===null||q===void 0?void 0:q.status,v)),r.$$.dirty&1048580&&n(7,h=Rl(R,o)),r.$$.dirty&786433&&n(6,k=n(18,j=i==null?void 0:i.assignedBuildId)!==null&&j!==void 0?j:n(19,Z=i==null?void 0:i.mostRecentWorkerVersionStamp)===null||Z===void 0?void 0:Z.useVersioning),r.$$.dirty&12582913&&n(5,m=Pl(i,v,d))},[i,e,R,g,$,m,k,h,b,_,u,a,s,f,S,W,H,q,j,Z,o,l,d,v]}class No extends he{constructor(t){super(),ke(this,t,Ao,Mo,ge,{})}}function qo(r){let t,n,e,l,o;const f=[Ho,Fo,Uo],i=[];function s(a,u){return a[1]?0:a[0].workflow?2:1}return n=s(r),e=i[n]=f[n](r),{c(){t=y("div"),e.c(),this.h()},l(a){t=J(a,"DIV",{class:!0});var u=Y(t);e.l(u),u.forEach(w),this.h()},h(){L(t,"class",l="absolute bottom-0 left-0 right-0 "+(r[5]?"top-[540px]":"top-0")+" flex h-full flex-col")},m(a,u){C(a,t,u),i[n].m(t,null),o=!0},p(a,u){let _=n;n=s(a),n===_?i[n].p(a,u):(te(),p(i[_],1,1,()=>{i[_]=null}),ne(),e=i[n],e?e.p(a,u):(e=i[n]=f[n](a),e.c()),c(e,1),e.m(t,null)),(!o||u&32&&l!==(l="absolute bottom-0 left-0 right-0 "+(a[5]?"top-[540px]":"top-0")+" flex h-full flex-col"))&&L(t,"class",l)},i(a){o||(c(e),o=!0)},o(a){p(e),o=!1},d(a){a&&w(t),i[n].d()}}}function Bo(r){let t,n,e,l=ut(r[2],null,2)+"",o,f;return n=new ll({props:{copyIconTitle:M("common.copy-icon-title"),copySuccessIconTitle:M("common.copy-success-icon-title"),class:"absolute right-1 top-1",copied:r[4]}}),n.$on("click",r[7]),{c(){t=y("div"),I(n.$$.fragment),e=O(),o=x(l),this.h()},l(i){t=J(i,"DIV",{class:!0});var s=Y(t);E(n.$$.fragment,s),e=Q(s),o=ee(s,l),s.forEach(w),this.h()},h(){L(t,"class","relative h-auto whitespace-break-spaces break-words bg-primary p-4")},m(i,s){C(i,t,s),D(n,t,null),B(t,e),B(t,o),f=!0},p(i,s){const a={};s&16&&(a.copied=i[4]),n.$set(a),(!f||s&4)&&l!==(l=ut(i[2],null,2)+"")&&pe(o,l)},i(i){f||(c(n.$$.fragment,i),f=!0)},o(i){p(n.$$.fragment,i),f=!1},d(i){i&&w(t),T(n)}}}function Uo(r){let t,n,e,l;n=new No({});const o=r[16].default,f=qe(o,r,r[15],null);return{c(){t=y("div"),I(n.$$.fragment),e=O(),f&&f.c(),this.h()},l(i){t=J(i,"DIV",{class:!0});var s=Y(t);E(n.$$.fragment,s),s.forEach(w),e=Q(i),f&&f.l(i),this.h()},h(){L(t,"class","border-b border-subtle px-4 pt-8 md:pt-20 xl:px-8")},m(i,s){C(i,t,s),D(n,t,null),C(i,e,s),f&&f.m(i,s),l=!0},p(i,s){f&&f.p&&(!l||s&32768)&&Be(f,o,i,i[15],l?Fe(o,i[15],s,null):Ue(i[15]),null)},i(i){l||(c(n.$$.fragment,i),c(f,i),l=!0)},o(i){p(n.$$.fragment,i),p(f,i),l=!1},d(i){i&&(w(t),w(e)),T(n),f&&f.d(i)}}}function Fo(r){let t,n;return t=new rl({props:{class:"pt-24"}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p:de,i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function Ho(r){let t,n;return t=new Fl({props:{error:r[1]}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l&2&&(o.error=e[1]),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function jo(r){let t,n,e,l;const o=[Bo,qo],f=[];function i(s,a){return s[3]?0:1}return t=i(r),n=f[t]=o[t](r),{c(){n.c(),e=se()},l(s){n.l(s),e=se()},m(s,a){f[t].m(s,a),C(s,e,a),l=!0},p(s,[a]){let u=t;t=i(s),t===u?f[t].p(s,a):(te(),p(f[u],1,1,()=>{f[u]=null}),ne(),n=f[t],n?n.p(s,a):(n=f[t]=o[t](s),n.c()),c(n,1),n.m(e.parentNode,e))},i(s){l||(c(n),l=!0)},o(s){p(n),l=!1},d(s){s&&w(e),f[t].d(s)}}}function Oo(r,t,n){let e,l,o,f,i,s,a,u,_,b,h,k,m,d,v,R;re(r,qt,P=>n(19,s=P)),re(r,Ae,P=>n(11,a=P)),re(r,_l,P=>n(12,u=P)),re(r,Xe,P=>n(13,_=P)),re(r,Bt,P=>n(20,b=P)),re(r,Le,P=>n(14,h=P)),re(r,Ee,P=>n(0,k=P)),re(r,Ut,P=>n(21,m=P)),re(r,On,P=>n(22,d=P)),re(r,xn,P=>n(5,R=P));let{$$slots:g={},$$scope:$}=t,S,W,H;const{copy:q,copied:j}=Nl();re(r,j,P=>n(4,v=P));const Z=P=>{q(P,ut(i))},K=async P=>{const z={summary:"",details:""};try{if(P!=null&&P.summary){const le=await Ft(P.summary);typeof le=="string"&&(z.summary=le)}if(P!=null&&P.details){const le=await Ft(P.details);typeof le=="string"&&(z.details=le)}_e(Ee,k={...k,userMetadata:z},k)}catch(le){console.error("Error decoding user metadata",le)}},ie=async(P,z,le)=>{const{settings:V}=a.data,{workflow:oe,error:G}=await Pt({namespace:P,workflowId:z,runId:le});if(G){n(1,S=G);return}await K(oe);const{taskQueue:F}=oe,X=await Tl({queue:F,namespace:P});_e(Ee,k={...k,workflow:oe,workers:X},k),W=new AbortController,oe.isRunning&&jn({namespace:P,workflow:{id:z,runId:le}},V,d==null?void 0:d.accessToken,W.signal).then(be=>{_e(Ee,k.metadata=be,k)}),_e(Xe,_=await Ml({namespace:P,workflowId:z,runId:le,sort:"ascending",signal:W.signal,historySize:oe.historyEvents}),_)},U=async P=>{var z;if(P&&(!((z=k==null?void 0:k.workflow)===null||z===void 0)&&z.isRunning)){const{workflow:le,error:V}=await Pt({namespace:e,workflowId:l,runId:o});if(V){n(1,S=V);return}_e(Ee,k.workflow=le,k)}},A=()=>{_e(Xe,_=[],_),W&&W.abort()},fe=()=>{_e(Ut,m=null,m),_e(Ee,k=al,k),n(1,S=void 0),A(),Al(),clearInterval(H),H=null},N=(P,z)=>{z||_e(Bt,b=P,b)};return Xn(()=>{const P=a.url.searchParams.get("sort");P&&_e(qt,s=P,s),H=setInterval(()=>{Vl()},1e4)}),An(()=>{fe()}),r.$$set=P=>{"$$scope"in P&&n(15,$=P.$$scope)},r.$$.update=()=>{r.$$.dirty&2048&&n(10,{namespace:e,workflow:l,run:o}=a.params,e,(n(9,l),n(11,a)),(n(8,o),n(11,a))),r.$$.dirty&2048&&n(3,f=a.url.searchParams.has("json")),r.$$.dirty&8193&&n(2,i={...k,eventHistory:_}),r.$$.dirty&256&&fe(),r.$$.dirty&1792&&ie(e,l,o),r.$$.dirty&16384&&U(h),r.$$.dirty&12288&&N(_,u)},[k,S,i,f,v,R,j,Z,o,l,e,a,u,_,h,$,g]}class Qo extends he{constructor(t){super(),ke(this,t,Oo,jo,ge,{})}}const Zn={namespace:null,workflowId:null,runId:null,rawPayloads:null,sort:null},Lo=lt(Zn),zo=()=>{Lo.set(Zn)};function yo(r){let t;const n=r[0].default,e=qe(n,r,r[1],null);return{c(){e&&e.c()},l(l){e&&e.l(l)},m(l,o){e&&e.m(l,o),t=!0},p(l,o){e&&e.p&&(!t||o&2)&&Be(e,n,l,l[1],t?Fe(n,l[1],o,null):Ue(l[1]),null)},i(l){t||(c(e,l),t=!0)},o(l){p(e,l),t=!1},d(l){e&&e.d(l)}}}function Jo(r){let t,n;return t=new Qo({props:{$$slots:{default:[yo]},$$scope:{ctx:r}}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,[l]){const o={};l&2&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){n||(c(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function Yo(r,t,n){let{$$slots:e={},$$scope:l}=t;return An(()=>{zo()}),r.$$set=o=>{"$$scope"in o&&n(1,l=o.$$scope)},[e,l]}class ns extends he{constructor(t){super(),ke(this,t,Yo,Jo,ge,{})}}export{ns as component};
