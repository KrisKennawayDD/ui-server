import{s as ge,h as y,b as j,t as X,j as J,k as Y,f as $,d as O,l as x,m as L,i as P,n as q,q as me,c as re,v as de,D as xe,z as Qe,A as Pn,H as je,x as se,a as qe,E as Ct,p as Yn,u as Be,g as Ue,e as Fe,w as _e,O as ie,Q as ae,R as ft,y as tt,Z as Zn,M as Rn,W as Gn,P as Vn}from"../chunks/scheduler.9nPpm2FE.js";import{S as he,i as ke,c as I,a as E,m as D,t as m,b as p,d as T,g as te,e as ne,h as ue,f as Mn}from"../chunks/index.DVZbaNiR.js";import{p as Ae}from"../chunks/stores.B_IuyA49.js";import{v as Kn}from"../chunks/data-encoder-settings.BEgkwUI4.js";import{L as Oe}from"../chunks/link.UfLF_wL6.js";import{t as A}from"../chunks/translate.BBe5dcco.js";import{c as An,k as Nn,x as Xn,y as xn,z as el,A as Wt}from"../chunks/workflows.CWUFOGW8.js";import{e as et,s as St,w as He,x as Pt,y as Rt,b as Re,v as Je,z as Ye,c as Ze,A as Ge,B as Ke}from"../chunks/route-for.DINvVkEU.js";import{B as tl}from"../chunks/button.ClOZjSrj.js";import{L as nl}from"../chunks/loading.BFOiTrJR.js";import{a as qn}from"../chunks/index.BqEfn_Ne.js";import{f as Ie,r as ll,t as rl}from"../chunks/time-format.DQnWtdtD.js";import{q as ol}from"../chunks/format-time.-q8QuKs5.js";import{C as Bn}from"../chunks/index.JOyq31pO.js";import{I as Ne}from"../chunks/icon.Bc-12o2T.js";import{T as nt}from"../chunks/tooltip.CFrmjoaN.js";import{g as fl}from"../chunks/spread.CgU5AtxT.js";import{v as st,t as Un}from"../chunks/toaster.B7H_D0NK.js";import{B as ct}from"../chunks/button.BYowsjVU.js";import{M as mt}from"../chunks/markdown.CyZSoyjb.js";import{a as Fn}from"../chunks/query-service.BePAhG_j.js";import{a as Hn}from"../chunks/auth-user.DDAwbWd_.js";import{w as Ee,r as Le,i as sl}from"../chunks/workflow-run.D6zVtGI1.js";import{e as Ve}from"../chunks/each.UjK00vj3.js";import{w as lt,g as Vt}from"../chunks/entry.f446hGIj.js";import{w as il,a as al,b as ul,C as cl,T as ml}from"../chunks/workflow-terminate-enabled.BLvaCFsR.js";import{C as it}from"../chunks/checkbox.BaXazycw.js";import{I as rt}from"../chunks/input.Dnc2TYs4.js";import{M as pt}from"../chunks/modal.BHSCk--u.js";import{S as dt,O as ze}from"../chunks/option.Bfd7WAzE.js";import{r as jn,f as Xe,b as Mt,p as pl,c as At,t as Nt}from"../chunks/events.D5o8QblX.js";import{p as dl}from"../chunks/persist-store.CQhMSp3R.js";import{t as _l}from"../chunks/versions.DQ0djDb9.js";import{i as _t}from"../chunks/is-network-error.DxxRlstw.js";import{m as gl}from"../chunks/route-for-api.DEGjH3th.js";import{P as $l}from"../chunks/payload-input-with-encoding.Bfkt7CQh.js";import{P as wl}from"../chunks/payload-decoder.CCwz2qJq.js";import"../chunks/card.45FycSwz.js";import"../chunks/radio-input.ceZm26ZY.js";import{P as hl}from"../chunks/payload-input.gmSpmePG.js";import{A as ye}from"../chunks/alert.C1UCU4Wg.js";import{C as On}from"../chunks/code-block.NxXKjHer.js";import{d as gt}from"../chunks/menu.Bfw2F7lk.js";import{M as Qn}from"../chunks/menu-divider.BF30CSCg.js";import{S as Ln}from"../chunks/split-button.Dt9SHVu_.js";import{c as kl}from"../chunks/core-user.256rmq-_.js";import{w as at}from"../chunks/workflow-create-disabled.CoWJ2pzx.js";import{W as bl}from"../chunks/workflow-status.C0owAZ6-.js";import{C as vl}from"../chunks/compatibility-badge.BMBNXjLE.js";import{k as Il,g as El}from"../chunks/pollers-service.B1jvaM3c.js";import{B as ot}from"../chunks/badge.3haRQZHs.js";import{T as Dl,a as Tl,b as Me}from"../chunks/tab.DjRrfl78.js";import{n as Cl}from"../chunks/namespaces.Cdno7lXL.js";import{g as Wl}from"../chunks/get-workflow-relationships.BAMh5SRN.js";import{h as Sl}from"../chunks/has.BnvKvYqj.js";import{t as Pl,f as Rl}from"../chunks/events-service.WlRSoHGl.js";import{r as Vl}from"../chunks/data-encoder-config.DTEDhmeX.js";import{c as Ml}from"../chunks/copy-to-clipboard.Bx1I_lVz.js";import{a as qt}from"../chunks/decode-payload.B8-ng1wO.js";import{s as ut}from"../chunks/parse-with-big-int.DJQKqIvA.js";function Al(r){let t=A("workflows.back-to-workflows")+"",n;return{c(){n=X(t)},l(e){n=x(e,t)},m(e,l){P(e,n,l)},p:de,d(e){e&&$(n)}}}function Nl(r){var v,S;let t,n,e,l,o,f,i=(((v=r[0])==null?void 0:v.statusCode)??"500")+"",s,a,u,_,b,w,h=(((S=r[0])==null?void 0:S.statusText)??"")+"",c,g;return e=new Oe({props:{href:`${et({namespace:r[2]})}?${r[3]}`,"data-testid":"back-to-workflows",icon:"chevron-left",$$slots:{default:[Al]},$$scope:{ctx:r}}}),{c(){t=y("header"),n=y("div"),I(e.$$.fragment),l=j(),o=y("div"),f=y("h1"),s=X(i),a=j(),u=y("p"),_=X(r[1]),b=j(),w=y("p"),c=X(h),this.h()},l(d){t=J(d,"HEADER",{class:!0});var k=Y(t);n=J(k,"DIV",{class:!0});var W=Y(n);E(e.$$.fragment,W),W.forEach($),k.forEach($),l=O(d),o=J(d,"DIV",{class:!0});var N=Y(o);f=J(N,"H1",{class:!0});var R=Y(f);s=x(R,i),R.forEach($),a=O(N),u=J(N,"P",{class:!0});var H=Y(u);_=x(H,r[1]),H.forEach($),b=O(N),w=J(N,"P",{class:!0});var U=Y(w);c=x(U,h),U.forEach($),N.forEach($),this.h()},h(){L(n,"class","mb-4 block"),L(t,"class","mb-4 flex flex-col gap-1"),L(f,"class","leading-0 text-[12rem] font-semibold"),L(u,"class","-mt-12 text-lg"),L(w,"class","text-2xl font-bold text-red-700"),L(o,"class","text-center align-middle")},m(d,k){P(d,t,k),q(t,n),D(e,n,null),P(d,l,k),P(d,o,k),q(o,f),q(f,s),q(o,a),q(o,u),q(u,_),q(o,b),q(o,w),q(w,c),g=!0},p(d,[k]){var N,R;const W={};k&12&&(W.href=`${et({namespace:d[2]})}?${d[3]}`),k&32&&(W.$$scope={dirty:k,ctx:d}),e.$set(W),(!g||k&1)&&i!==(i=(((N=d[0])==null?void 0:N.statusCode)??"500")+"")&&me(s,i),(!g||k&2)&&me(_,d[1]),(!g||k&1)&&h!==(h=(((R=d[0])==null?void 0:R.statusText)??"")+"")&&me(c,h)},i(d){g||(m(e.$$.fragment,d),g=!0)},o(d){p(e.$$.fragment,d),g=!1},d(d){d&&($(t),$(l),$(o)),T(e)}}}function ql(r,t,n){let e,l,o,f;re(r,Ae,s=>n(4,o=s)),re(r,An,s=>n(3,f=s));let{error:i}=t;return r.$$set=s=>{"error"in s&&n(0,i=s.error)},r.$$.update=()=>{r.$$.dirty&16&&n(2,{namespace:e}=o.params,e),r.$$.dirty&1&&n(1,l=i.statusCode===404?A("workflows.workflow-404-title"):A("workflows.workflow-error-title"))},[i,l,e,f,o]}class Bl extends he{constructor(t){super(),ke(this,t,ql,Nl,ge,{error:0})}}function Bt(r){let t,n;return{c(){t=y("span"),n=X(r[0]),this.h()},l(e){t=J(e,"SPAN",{class:!0});var l=Y(t);n=x(l,r[0]),l.forEach($),this.h()},h(){L(t,"class","font-mono")},m(e,l){P(e,t,l),q(t,n)},p(e,l){l&1&&me(n,e[0])},d(e){e&&$(t)}}}function Ut(r){let t,n;return t=new Ne({props:{name:r[5]}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l&32&&(o.name=e[5]),t.$set(o)},i(e){n||(m(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function Ul(r){let t,n;return t=new nt({props:{text:r[6],hide:!r[6],top:!0,$$slots:{default:[jl]},$$scope:{ctx:r}}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l&64&&(o.text=e[6]),l&64&&(o.hide=!e[6]),l&642&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){n||(m(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function Fl(r){let t,n;return t=new Oe({props:{href:r[4],class:"value truncate rounded-sm p-1 leading-4 "+(r[7]&&"surface-subtle"),$$slots:{default:[Ol]},$$scope:{ctx:r}}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l&16&&(o.href=e[4]),l&128&&(o.class="value truncate rounded-sm p-1 leading-4 "+(e[7]&&"surface-subtle")),l&514&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){n||(m(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function Hl(r){let t,n;return t=new Bn({props:{copyIconTitle:A("common.copy-icon-title"),copySuccessIconTitle:A("common.copy-success-icon-title"),content:r[1],visible:!0,"container-class":"gap-1 w-full justify-end",$$slots:{default:[Jl]},$$scope:{ctx:r}}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l&2&&(o.content=e[1]),l&730&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){n||(m(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function jl(r){let t,n;return{c(){t=y("span"),n=X(r[1]),this.h()},l(e){t=J(e,"SPAN",{class:!0});var l=Y(t);n=x(l,r[1]),l.forEach($),this.h()},h(){L(t,"class","w-fit select-all truncate rounded-sm p-1 leading-4"),je(t,"surface-subtle",r[7])},m(e,l){P(e,t,l),q(t,n)},p(e,l){l&2&&me(n,e[1]),l&128&&je(t,"surface-subtle",e[7])},d(e){e&&$(t)}}}function Ol(r){let t;return{c(){t=X(r[1])},l(n){t=x(n,r[1])},m(n,e){P(n,t,e)},p(n,e){e&2&&me(t,n[1])},d(n){n&&$(t)}}}function Ql(r){let t,n;return t=new nt({props:{text:r[6],hide:!r[6],top:!0,$$slots:{default:[zl]},$$scope:{ctx:r}}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l&64&&(o.text=e[6]),l&64&&(o.hide=!e[6]),l&642&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){n||(m(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function Ll(r){let t,n;return t=new Oe({props:{href:r[4],class:"flex w-fit flex-row items-center gap-1 truncate rounded-sm p-1 leading-4 "+(r[7]&&"surface-subtle"),$$slots:{default:[yl]},$$scope:{ctx:r}}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l&16&&(o.href=e[4]),l&128&&(o.class="flex w-fit flex-row items-center gap-1 truncate rounded-sm p-1 leading-4 "+(e[7]&&"surface-subtle")),l&522&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){n||(m(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function zl(r){let t,n;return{c(){t=y("span"),n=X(r[1]),this.h()},l(e){t=J(e,"SPAN",{class:!0});var l=Y(t);n=x(l,r[1]),l.forEach($),this.h()},h(){L(t,"class","w-fit select-all truncate rounded-sm p-1 leading-4"),je(t,"surface-subtle",r[7])},m(e,l){P(e,t,l),q(t,n)},p(e,l){l&2&&me(n,e[1]),l&128&&je(t,"surface-subtle",e[7])},d(e){e&&$(t)}}}function Ft(r){let t,n;return t=new Ne({props:{name:"filter",class:"shrink-0"}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},i(e){n||(m(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function yl(r){let t,n,e,l,o,f=r[3]&&Ft();return{c(){t=y("span"),n=X(r[1]),e=j(),f&&f.c(),l=se(),this.h()},l(i){t=J(i,"SPAN",{class:!0});var s=Y(t);n=x(s,r[1]),s.forEach($),e=O(i),f&&f.l(i),l=se(),this.h()},h(){L(t,"class","truncate")},m(i,s){P(i,t,s),q(t,n),P(i,e,s),f&&f.m(i,s),P(i,l,s),o=!0},p(i,s){(!o||s&2)&&me(n,i[1]),i[3]?f?s&8&&m(f,1):(f=Ft(),f.c(),m(f,1),f.m(l.parentNode,l)):f&&(te(),p(f,1,1,()=>{f=null}),ne())},i(i){o||(m(f),o=!0)},o(i){p(f),o=!1},d(i){i&&($(t),$(e),$(l)),f&&f.d(i)}}}function Jl(r){let t,n,e,l;const o=[Ll,Ql],f=[];function i(s,a){return s[4]?0:1}return t=i(r),n=f[t]=o[t](r),{c(){n.c(),e=se()},l(s){n.l(s),e=se()},m(s,a){f[t].m(s,a),P(s,e,a),l=!0},p(s,a){let u=t;t=i(s),t===u?f[t].p(s,a):(te(),p(f[u],1,1,()=>{f[u]=null}),ne(),n=f[t],n?n.p(s,a):(n=f[t]=o[t](s),n.c()),m(n,1),n.m(e.parentNode,e))},i(s){l||(m(n),l=!0)},o(s){p(n),l=!1},d(s){s&&$(e),f[t].d(s)}}}function Yl(r){let t,n,e,l,o,f,i,s=r[0]&&Bt(r),a=r[5]&&Ut(r);const u=[Hl,Fl,Ul],_=[];function b(w,h){return w[2]?0:w[4]?1:2}return l=b(r),o=_[l]=u[l](r),{c(){t=y("p"),s&&s.c(),n=j(),a&&a.c(),e=j(),o.c(),this.h()},l(w){t=J(w,"P",{class:!0});var h=Y(t);s&&s.l(h),n=O(h),a&&a.l(h),e=O(h),o.l(h),h.forEach($),this.h()},h(){L(t,"class",f="flex h-4 items-center justify-between gap-16 truncate whitespace-nowrap "+r[8].class)},m(w,h){P(w,t,h),s&&s.m(t,null),q(t,n),a&&a.m(t,null),q(t,e),_[l].m(t,null),i=!0},p(w,[h]){w[0]?s?s.p(w,h):(s=Bt(w),s.c(),s.m(t,n)):s&&(s.d(1),s=null),w[5]?a?(a.p(w,h),h&32&&m(a,1)):(a=Ut(w),a.c(),m(a,1),a.m(t,e)):a&&(te(),p(a,1,1,()=>{a=null}),ne());let c=l;l=b(w),l===c?_[l].p(w,h):(te(),p(_[c],1,1,()=>{_[c]=null}),ne(),o=_[l],o?o.p(w,h):(o=_[l]=u[l](w),o.c()),m(o,1),o.m(t,null)),(!i||h&256&&f!==(f="flex h-4 items-center justify-between gap-16 truncate whitespace-nowrap "+w[8].class))&&L(t,"class",f)},i(w){i||(m(a),m(o),i=!0)},o(w){p(a),p(o),i=!1},d(w){w&&$(t),s&&s.d(),a&&a.d(),_[l].d()}}}function Zl(r,t,n){const e=["title","content","copyable","filterable","href","icon","tooltip","badge"];let l=xe(t,e),{title:o=""}=t,{content:f}=t,{copyable:i=!1}=t,{filterable:s=!1}=t,{href:a=null}=t,{icon:u=void 0}=t,{tooltip:_=""}=t,{badge:b=!1}=t;return r.$$set=w=>{t=Qe(Qe({},t),Pn(w)),n(8,l=xe(t,e)),"title"in w&&n(0,o=w.title),"content"in w&&n(1,f=w.content),"copyable"in w&&n(2,i=w.copyable),"filterable"in w&&n(3,s=w.filterable),"href"in w&&n(4,a=w.href),"icon"in w&&n(5,u=w.icon),"tooltip"in w&&n(6,_=w.tooltip),"badge"in w&&n(7,b=w.badge)},[o,f,i,s,a,u,_,b,l]}class Pe extends he{constructor(t){super(),ke(this,t,Zl,Yl,ge,{title:0,content:1,copyable:2,filterable:3,href:4,icon:5,tooltip:6,badge:7})}}function Ht(r){var e,l,o,f,i,s;let t,n;return t=new Pe({props:{title:A("workflows.parent-workflow"),content:(l=(e=r[0])==null?void 0:e.parent)==null?void 0:l.workflowId,href:Pt({namespace:r[3],workflow:(f=(o=r[0])==null?void 0:o.parent)==null?void 0:f.workflowId,run:(s=(i=r[0])==null?void 0:i.parent)==null?void 0:s.runId})}}),{c(){I(t.$$.fragment)},l(a){E(t.$$.fragment,a)},m(a,u){D(t,a,u),n=!0},p(a,u){var b,w,h,c,g,v;const _={};u&1&&(_.content=(w=(b=a[0])==null?void 0:b.parent)==null?void 0:w.workflowId),u&9&&(_.href=Pt({namespace:a[3],workflow:(c=(h=a[0])==null?void 0:h.parent)==null?void 0:c.workflowId,run:(v=(g=a[0])==null?void 0:g.parent)==null?void 0:v.runId})),t.$set(_)},i(a){n||(m(t.$$.fragment,a),n=!0)},o(a){p(t.$$.fragment,a),n=!1},d(a){T(t,a)}}}function Gl(r){var W,N,R,H,U,ee,Z,F,G,Q,fe,B,V,z,le;let t,n,e,l,o,f,i,s,a,u,_,b,w,h,c,g,v,S,d;e=new Pe({props:{title:A("common.start"),tooltip:r[4]?Ie((W=r[0])==null?void 0:W.startTime,r[5],{relative:!1}):Ie((N=r[0])==null?void 0:N.startTime,r[5],{relative:!0}),content:Ie((R=r[0])==null?void 0:R.startTime,r[5],{relative:r[4]})}}),o=new Pe({props:{title:A("common.end"),tooltip:r[4]?Ie((H=r[0])==null?void 0:H.endTime,r[5],{relative:!1}):Ie((U=r[0])==null?void 0:U.endTime,r[5],{relative:!0}),content:(ee=r[0])!=null&&ee.endTime?Ie((Z=r[0])==null?void 0:Z.endTime,r[5],{relative:r[4]}):"-"}}),i=new Pe({props:{content:r[2],icon:"clock"}}),u=new Pe({props:{title:A("common.run-id"),content:(F=r[0])==null?void 0:F.runId,copyable:!0}}),b=new Pe({props:{title:A("common.workflow-type"),content:(G=r[0])==null?void 0:G.name,copyable:!0,filterable:!0,href:St({namespace:r[3],query:`WorkflowType="${(Q=r[0])==null?void 0:Q.name}"`})}}),h=new Pe({props:{title:A("common.task-queue"),content:(fe=r[0])==null?void 0:fe.taskQueue,href:He({namespace:r[1].params.namespace,workflow:(B=r[0])==null?void 0:B.id,run:(V=r[0])==null?void 0:V.runId})}});let k=((z=r[0])==null?void 0:z.parent)&&Ht(r);return S=new Pe({props:{title:A("common.history-size-bytes"),content:(le=r[0])==null?void 0:le.historySizeBytes}}),{c(){t=y("div"),n=y("div"),I(e.$$.fragment),l=j(),I(o.$$.fragment),f=j(),I(i.$$.fragment),s=j(),a=y("div"),I(u.$$.fragment),_=j(),I(b.$$.fragment),w=j(),I(h.$$.fragment),c=j(),g=y("div"),k&&k.c(),v=j(),I(S.$$.fragment),this.h()},l(M){t=J(M,"DIV",{class:!0});var oe=Y(t);n=J(oe,"DIV",{class:!0});var pe=Y(n);E(e.$$.fragment,pe),l=O(pe),E(o.$$.fragment,pe),f=O(pe),E(i.$$.fragment,pe),pe.forEach($),s=O(oe),a=J(oe,"DIV",{class:!0});var C=Y(a);E(u.$$.fragment,C),_=O(C),E(b.$$.fragment,C),w=O(C),E(h.$$.fragment,C),C.forEach($),c=O(oe),g=J(oe,"DIV",{class:!0});var K=Y(g);k&&k.l(K),v=O(K),E(S.$$.fragment,K),K.forEach($),oe.forEach($),this.h()},h(){L(n,"class","flex w-full flex-col gap-2 xl:w-1/3"),L(a,"class","flex w-full flex-col gap-2 xl:w-1/3"),L(g,"class","flex w-full flex-col gap-2 xl:w-1/3"),L(t,"class","flex w-full flex-col gap-2 xl:flex-row xl:gap-16")},m(M,oe){P(M,t,oe),q(t,n),D(e,n,null),q(n,l),D(o,n,null),q(n,f),D(i,n,null),q(t,s),q(t,a),D(u,a,null),q(a,_),D(b,a,null),q(a,w),D(h,a,null),q(t,c),q(t,g),k&&k.m(g,null),q(g,v),D(S,g,null),d=!0},p(M,[oe]){var ve,Ce,Te,We,Se,$t,wt,ht,kt,bt,vt,It,Et,Dt,Tt;const pe={};oe&49&&(pe.tooltip=M[4]?Ie((ve=M[0])==null?void 0:ve.startTime,M[5],{relative:!1}):Ie((Ce=M[0])==null?void 0:Ce.startTime,M[5],{relative:!0})),oe&49&&(pe.content=Ie((Te=M[0])==null?void 0:Te.startTime,M[5],{relative:M[4]})),e.$set(pe);const C={};oe&49&&(C.tooltip=M[4]?Ie((We=M[0])==null?void 0:We.endTime,M[5],{relative:!1}):Ie((Se=M[0])==null?void 0:Se.endTime,M[5],{relative:!0})),oe&49&&(C.content=($t=M[0])!=null&&$t.endTime?Ie((wt=M[0])==null?void 0:wt.endTime,M[5],{relative:M[4]}):"-"),o.$set(C);const K={};oe&4&&(K.content=M[2]),i.$set(K);const be={};oe&1&&(be.content=(ht=M[0])==null?void 0:ht.runId),u.$set(be);const ce={};oe&1&&(ce.content=(kt=M[0])==null?void 0:kt.name),oe&9&&(ce.href=St({namespace:M[3],query:`WorkflowType="${(bt=M[0])==null?void 0:bt.name}"`})),b.$set(ce);const $e={};oe&1&&($e.content=(vt=M[0])==null?void 0:vt.taskQueue),oe&3&&($e.href=He({namespace:M[1].params.namespace,workflow:(It=M[0])==null?void 0:It.id,run:(Et=M[0])==null?void 0:Et.runId})),h.$set($e),(Dt=M[0])!=null&&Dt.parent?k?(k.p(M,oe),oe&1&&m(k,1)):(k=Ht(M),k.c(),m(k,1),k.m(g,v)):k&&(te(),p(k,1,1,()=>{k=null}),ne());const De={};oe&1&&(De.content=(Tt=M[0])==null?void 0:Tt.historySizeBytes),S.$set(De)},i(M){d||(m(e.$$.fragment,M),m(o.$$.fragment,M),m(i.$$.fragment,M),m(u.$$.fragment,M),m(b.$$.fragment,M),m(h.$$.fragment,M),m(k),m(S.$$.fragment,M),d=!0)},o(M){p(e.$$.fragment,M),p(o.$$.fragment,M),p(i.$$.fragment,M),p(u.$$.fragment,M),p(b.$$.fragment,M),p(h.$$.fragment,M),p(k),p(S.$$.fragment,M),d=!1},d(M){M&&$(t),T(e),T(o),T(i),T(u),T(b),T(h),k&&k.d(),T(S)}}}function Kl(r,t,n){let e,l,o,f,i;re(r,Ae,a=>n(1,o=a)),re(r,ll,a=>n(4,f=a)),re(r,rl,a=>n(5,i=a));let{workflow:s}=t;return r.$$set=a=>{"workflow"in a&&n(0,s=a.workflow)},r.$$.update=()=>{r.$$.dirty&2&&n(3,{namespace:e}=o.params,e),r.$$.dirty&1&&n(2,l=ol({start:s==null?void 0:s.startTime,end:(s==null?void 0:s.endTime)||Date.now(),includeMilliseconds:!0}))},[s,o,l,e,f,i]}class Xl extends he{constructor(t){super(),ke(this,t,Kl,Gl,ge,{workflow:0})}}const xl=r=>({open:r&1}),jt=r=>({open:r[0]}),er=r=>({}),Ot=r=>({}),tr=r=>({}),Qt=r=>({}),nr=r=>({}),Lt=r=>({});function lr(r){let t,n,e,l,o,f,i,s,a,u,_,b,w,h,c,g,v;const S=r[7].title,d=qe(S,r,r[6],Lt),k=r[7].description,W=qe(k,r,r[6],Qt),N=r[7].action,R=qe(N,r,r[6],Ot);s=new Ne({props:{name:r[2]?r[2]:r[0]?"arrow-down":"arrow-right"}});const H=r[7].default,U=qe(H,r,r[6],jt);let ee=[{class:"w-full"},r[4]],Z={};for(let F=0;F<ee.length;F+=1)Z=Qe(Z,ee[F]);return{c(){t=y("div"),n=y("button"),e=y("div"),d&&d.c(),l=j(),W&&W.c(),o=j(),f=y("div"),R&&R.c(),i=j(),I(s.$$.fragment),_=j(),b=y("div"),U&&U.c(),this.h()},l(F){t=J(F,"DIV",{class:!0});var G=Y(t);n=J(G,"BUTTON",{id:!0,"aria-expanded":!0,"aria-controls":!0,class:!0,type:!0});var Q=Y(n);e=J(Q,"DIV",{class:!0});var fe=Y(e);d&&d.l(fe),l=O(fe),W&&W.l(fe),o=O(fe),f=J(fe,"DIV",{class:!0});var B=Y(f);R&&R.l(B),i=O(B),E(s.$$.fragment,B),B.forEach($),fe.forEach($),Q.forEach($),_=O(G),b=J(G,"DIV",{id:!0,"aria-labelledby":!0,class:!0});var V=Y(b);U&&U.l(V),V.forEach($),G.forEach($),this.h()},h(){L(f,"class","flex items-center gap-4"),L(e,"class","flex w-full flex-row items-center justify-between gap-2 pr-4"),L(n,"id",a=r[1]+"-trigger"),L(n,"aria-expanded",r[0]),L(n,"aria-controls",u=r[1]+"-content"),L(n,"class","focus-visible:outline-interactive w-full cursor-pointer hover:bg-interactive-secondary-hover"),L(n,"type","button"),L(b,"id",w=r[1]+"-content"),L(b,"aria-labelledby",h=r[1]+"-trigger"),L(b,"class","block w-full bg-primary p-2"),je(b,"hidden",!r[0]),Ct(t,Z)},m(F,G){P(F,t,G),q(t,n),q(n,e),d&&d.m(e,null),q(e,l),W&&W.m(e,null),q(e,o),q(e,f),R&&R.m(f,null),q(f,i),D(s,f,null),q(t,_),q(t,b),U&&U.m(b,null),c=!0,g||(v=Yn(n,"click",r[3]),g=!0)},p(F,[G]){d&&d.p&&(!c||G&64)&&Be(d,S,F,F[6],c?Fe(S,F[6],G,nr):Ue(F[6]),Lt),W&&W.p&&(!c||G&64)&&Be(W,k,F,F[6],c?Fe(k,F[6],G,tr):Ue(F[6]),Qt),R&&R.p&&(!c||G&64)&&Be(R,N,F,F[6],c?Fe(N,F[6],G,er):Ue(F[6]),Ot);const Q={};G&5&&(Q.name=F[2]?F[2]:F[0]?"arrow-down":"arrow-right"),s.$set(Q),(!c||G&2&&a!==(a=F[1]+"-trigger"))&&L(n,"id",a),(!c||G&1)&&L(n,"aria-expanded",F[0]),(!c||G&2&&u!==(u=F[1]+"-content"))&&L(n,"aria-controls",u),U&&U.p&&(!c||G&65)&&Be(U,H,F,F[6],c?Fe(H,F[6],G,xl):Ue(F[6]),jt),(!c||G&2&&w!==(w=F[1]+"-content"))&&L(b,"id",w),(!c||G&2&&h!==(h=F[1]+"-trigger"))&&L(b,"aria-labelledby",h),(!c||G&1)&&je(b,"hidden",!F[0]),Ct(t,Z=fl(ee,[{class:"w-full"},G&16&&F[4]]))},i(F){c||(m(d,F),m(W,F),m(R,F),m(s.$$.fragment,F),m(U,F),c=!0)},o(F){p(d,F),p(W,F),p(R,F),p(s.$$.fragment,F),p(U,F),c=!1},d(F){F&&$(t),d&&d.d(F),W&&W.d(F),R&&R.d(F),T(s),U&&U.d(F),g=!1,v()}}}function rr(r,t,n){const e=["id","open","onToggle","icon"];let l=xe(t,e),{$$slots:o={},$$scope:f}=t,{id:i=st()}=t,{open:s=!1}=t,{onToggle:a=void 0}=t,{icon:u=void 0}=t;const _=async()=>{a&&await a(),n(0,s=!s)};return r.$$set=b=>{t=Qe(Qe({},t),Pn(b)),n(4,l=xe(t,e)),"id"in b&&n(1,i=b.id),"open"in b&&n(0,s=b.open),"onToggle"in b&&n(5,a=b.onToggle),"icon"in b&&n(2,u=b.icon),"$$scope"in b&&n(6,f=b.$$scope)},[s,i,u,_,l,a,f,o]}class zn extends he{constructor(t){super(),ke(this,t,rr,lr,ge,{id:1,open:0,onToggle:5,icon:2})}}function zt(r){let t=r[1],n,e,l=yt(r);return{c(){l.c(),n=se()},l(o){l.l(o),n=se()},m(o,f){l.m(o,f),P(o,n,f),e=!0},p(o,f){f&2&&ge(t,t=o[1])?(te(),p(l,1,1,de),ne(),l=yt(o),l.c(),m(l,1),l.m(n.parentNode,n)):l.p(o,f)},i(o){e||(m(l),e=!0)},o(o){p(l),e=!1},d(o){o&&$(n),l.d(o)}}}function yt(r){let t,n;return t=new mt({props:{content:r[1]}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l&2&&(o.content=e[1]),t.$set(o)},i(e){n||(m(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function or(r){let t,n,e=r[10]&&zt(r);return{c(){e&&e.c(),t=se()},l(l){e&&e.l(l),t=se()},m(l,o){e&&e.m(l,o),P(l,t,o),n=!0},p(l,o){l[10]?e?(e.p(l,o),o&1024&&m(e,1)):(e=zt(l),e.c(),m(e,1),e.m(t.parentNode,t)):e&&(te(),p(e,1,1,()=>{e=null}),ne())},i(l){n||(m(e),n=!0)},o(l){p(e),n=!1},d(l){l&&$(t),e&&e.d(l)}}}function Jt(r){let t=A("common.loading")+"",n;return{c(){n=X(t)},l(e){n=x(e,t)},m(e,l){P(e,n,l)},p:de,d(e){e&&$(n)}}}function fr(r){let t,n,e,l=A("workflows.current-details")+"",o,f,i;n=new Ne({props:{name:"flag",class:"text-brand",width:32,height:32}});let s=r[2]&&Jt();return{c(){t=y("div"),I(n.$$.fragment),e=j(),o=X(l),f=j(),s&&s.c(),this.h()},l(a){t=J(a,"DIV",{slot:!0,class:!0});var u=Y(t);E(n.$$.fragment,u),e=O(u),o=x(u,l),f=O(u),s&&s.l(u),u.forEach($),this.h()},h(){L(t,"slot","title"),L(t,"class","flex w-full items-center gap-2 p-2 text-xl")},m(a,u){P(a,t,u),D(n,t,null),q(t,e),q(t,o),q(t,f),s&&s.m(t,null),i=!0},p(a,u){a[2]?s?s.p(a,u):(s=Jt(),s.c(),s.m(t,null)):s&&(s.d(1),s=null)},i(a){i||(m(n.$$.fragment,a),i=!0)},o(a){p(n.$$.fragment,a),i=!1},d(a){a&&$(t),T(n),s&&s.d()}}}function Yt(r){let t,n;return t=new nt({props:{text:A("workflows.update-details"),left:!0,$$slots:{default:[ir]},$$scope:{ctx:r}}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l&2052&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){n||(m(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function sr(r){let t,n;return t=new Ne({props:{name:"retry"}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p:de,i(e){n||(m(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function ir(r){let t,n;return t=new ct({props:{variant:"ghost",disabled:r[2],$$slots:{default:[sr]},$$scope:{ctx:r}}}),t.$on("click",r[4]),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l&4&&(o.disabled=e[2]),l&2048&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){n||(m(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function ar(r){let t,n,e=r[0].isRunning&&Yt(r);return{c(){e&&e.c(),t=se()},l(l){e&&e.l(l),t=se()},m(l,o){e&&e.m(l,o),P(l,t,o),n=!0},p(l,o){l[0].isRunning?e?(e.p(l,o),o&1&&m(e,1)):(e=Yt(l),e.c(),m(e,1),e.m(t.parentNode,t)):e&&(te(),p(e,1,1,()=>{e=null}),ne())},i(l){n||(m(e),n=!0)},o(l){p(e),n=!1},d(l){l&&$(t),e&&e.d(l)}}}function ur(r){let t,n;return t=new zn({props:{onToggle:r[3]?r[4]:void 0,icon:r[3]?"retry":void 0,$$slots:{action:[ar],title:[fr],default:[or,({open:e})=>({10:e}),({open:e})=>e?1024:0]},$$scope:{ctx:r}}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,[l]){const o={};l&8&&(o.onToggle=e[3]?e[4]:void 0),l&8&&(o.icon=e[3]?"retry":void 0),l&3079&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){n||(m(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function cr(r,t,n){let e,l,o,f,i,s,a;re(r,Ee,w=>n(6,i=w)),re(r,Hn,w=>n(9,s=w)),re(r,Ae,w=>n(7,a=w));var u;let _=!1;const b=async()=>{if(!_){n(2,_=!0);try{const{settings:w}=a.data,h=await Fn({namespace:e,workflow:{id:l.id,runId:l.runId}},w,s==null?void 0:s.accessToken);_e(Ee,i.metadata=h,i)}catch(w){console.error("Error fetching current details:",w)}finally{n(2,_=!1)}}};return r.$$.update=()=>{r.$$.dirty&128&&({namespace:e}=a.params),r.$$.dirty&64&&n(0,{workflow:l}=i,l),r.$$.dirty&96&&n(1,o=(n(5,u=i==null?void 0:i.metadata)===null||u===void 0?void 0:u.currentDetails)||""),r.$$.dirty&3&&n(3,f=!l.isRunning&&!o)},[l,o,_,f,b,u,i,a]}class mr extends he{constructor(t){super(),ke(this,t,cr,ur,ge,{})}}function Zt(r){let t,n;return t=new zn({props:{$$slots:{title:[dr],default:[pr,({open:e})=>({6:e}),({open:e})=>e?64:0]},$$scope:{ctx:r}}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l&195&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){n||(m(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function Gt(r){let t,n=A("workflows.summary")+"",e,l,o,f;return o=new mt({props:{content:r[1]}}),{c(){t=y("h3"),e=X(n),l=j(),I(o.$$.fragment)},l(i){t=J(i,"H3",{});var s=Y(t);e=x(s,n),s.forEach($),l=O(i),E(o.$$.fragment,i)},m(i,s){P(i,t,s),q(t,e),P(i,l,s),D(o,i,s),f=!0},p(i,s){const a={};s&2&&(a.content=i[1]),o.$set(a)},i(i){f||(m(o.$$.fragment,i),f=!0)},o(i){p(o.$$.fragment,i),f=!1},d(i){i&&($(t),$(l)),T(o,i)}}}function Kt(r){let t,n=A("workflows.details")+"",e,l,o,f;return o=new mt({props:{content:r[0]}}),{c(){t=y("h3"),e=X(n),l=j(),I(o.$$.fragment)},l(i){t=J(i,"H3",{});var s=Y(t);e=x(s,n),s.forEach($),l=O(i),E(o.$$.fragment,i)},m(i,s){P(i,t,s),q(t,e),P(i,l,s),D(o,i,s),f=!0},p(i,s){const a={};s&1&&(a.content=i[0]),o.$set(a)},i(i){f||(m(o.$$.fragment,i),f=!0)},o(i){p(o.$$.fragment,i),f=!1},d(i){i&&($(t),$(l)),T(o,i)}}}function pr(r){let t,n,e,l=r[6]&&r[1]&&Gt(r),o=r[6]&&r[0]&&Kt(r);return{c(){l&&l.c(),t=j(),o&&o.c(),n=se()},l(f){l&&l.l(f),t=O(f),o&&o.l(f),n=se()},m(f,i){l&&l.m(f,i),P(f,t,i),o&&o.m(f,i),P(f,n,i),e=!0},p(f,i){f[6]&&f[1]?l?(l.p(f,i),i&66&&m(l,1)):(l=Gt(f),l.c(),m(l,1),l.m(t.parentNode,t)):l&&(te(),p(l,1,1,()=>{l=null}),ne()),f[6]&&f[0]?o?(o.p(f,i),i&65&&m(o,1)):(o=Kt(f),o.c(),m(o,1),o.m(n.parentNode,n)):o&&(te(),p(o,1,1,()=>{o=null}),ne())},i(f){e||(m(l),m(o),e=!0)},o(f){p(l),p(o),e=!1},d(f){f&&($(t),$(n)),l&&l.d(f),o&&o.d(f)}}}function dr(r){let t,n,e=A("workflows.summary-and-details")+"",l,o;return n=new Ne({props:{name:"info",class:"text-brand",width:32,height:32}}),{c(){t=y("div"),I(n.$$.fragment),l=X(e),this.h()},l(f){t=J(f,"DIV",{slot:!0,class:!0});var i=Y(t);E(n.$$.fragment,i),l=x(i,e),i.forEach($),this.h()},h(){L(t,"slot","title"),L(t,"class","flex w-full items-center gap-2 p-2 text-xl")},m(f,i){P(f,t,i),D(n,t,null),q(t,l),o=!0},p:de,i(f){o||(m(n.$$.fragment,f),o=!0)},o(f){p(n.$$.fragment,f),o=!1},d(f){f&&$(t),T(n)}}}function _r(r){let t,n,e=r[2]&&Zt(r);return{c(){e&&e.c(),t=se()},l(l){e&&e.l(l),t=se()},m(l,o){e&&e.m(l,o),P(l,t,o),n=!0},p(l,[o]){l[2]?e?(e.p(l,o),o&4&&m(e,1)):(e=Zt(l),e.c(),m(e,1),e.m(t.parentNode,t)):e&&(te(),p(e,1,1,()=>{e=null}),ne())},i(l){n||(m(e),n=!0)},o(l){p(e),n=!1},d(l){l&&$(t),e&&e.d(l)}}}function gr(r,t,n){let e,l,o,f;re(r,Ee,a=>n(5,f=a));var i,s;return r.$$.update=()=>{r.$$.dirty&40&&n(1,e=n(3,i=f==null?void 0:f.userMetadata)===null||i===void 0?void 0:i.summary),r.$$.dirty&48&&n(0,l=n(4,s=f==null?void 0:f.userMetadata)===null||s===void 0?void 0:s.details),r.$$.dirty&3&&n(2,o=e||l)},[l,e,o,i,s,f]}class $r extends he{constructor(t){super(),ke(this,t,gr,_r,ge,{})}}const yn=dl("resetWorkflows",{});function Xt(r,t,n){const e=r.slice();return e[25]=t[n],e}function wr(r){let t,n=A("workflows.reset-modal-title")+"",e;return{c(){t=y("h3"),e=X(n),this.h()},l(l){t=J(l,"H3",{slot:!0});var o=Y(t);e=x(o,n),o.forEach($),this.h()},h(){L(t,"slot","title")},m(l,o){P(l,t,o),q(t,e)},p:de,d(l){l&&$(t)}}}function hr(r){let t=r[25].id+"",n,e,l=r[25].eventType+"",o;return{c(){n=X(t),e=X(" - "),o=X(l)},l(f){n=x(f,t),e=x(f," - "),o=x(f,l)},m(f,i){P(f,n,i),P(f,e,i),P(f,o,i)},p(f,i){i&512&&t!==(t=f[25].id+"")&&me(n,t),i&512&&l!==(l=f[25].eventType+"")&&me(o,l)},d(f){f&&($(n),$(e),$(o))}}}function xt(r){let t,n;return t=new ze({props:{value:r[25].id,$$slots:{default:[hr]},$$scope:{ctx:r}}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l&512&&(o.value=e[25].id),l&268435968&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){n||(m(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function kr(r){let t,n,e=Ve(r[9]),l=[];for(let f=0;f<e.length;f+=1)l[f]=xt(Xt(r,e,f));const o=f=>p(l[f],1,1,()=>{l[f]=null});return{c(){for(let f=0;f<l.length;f+=1)l[f].c();t=se()},l(f){for(let i=0;i<l.length;i+=1)l[i].l(f);t=se()},m(f,i){for(let s=0;s<l.length;s+=1)l[s]&&l[s].m(f,i);P(f,t,i),n=!0},p(f,i){if(i&512){e=Ve(f[9]);let s;for(s=0;s<e.length;s+=1){const a=Xt(f,e,s);l[s]?(l[s].p(a,i),m(l[s],1)):(l[s]=xt(a),l[s].c(),m(l[s],1),l[s].m(t.parentNode,t))}for(te(),s=e.length;s<l.length;s+=1)o(s);ne()}},i(f){if(!n){for(let i=0;i<e.length;i+=1)m(l[i]);n=!0}},o(f){l=l.filter(Boolean);for(let i=0;i<l.length;i+=1)p(l[i]);n=!1},d(f){f&&$(t),tt(l,f)}}}function br(r){let t,n,e;function l(f){r[20](f)}let o={id:"reset-include-signals-checkbox","data-testid":"reset-include-signals-checkbox",label:A("workflows.reset-reapply-type-label")};return r[5]!==void 0&&(o.checked=r[5]),t=new it({props:o}),ie.push(()=>ue(t,"checked",l)),{c(){I(t.$$.fragment)},l(f){E(t.$$.fragment,f)},m(f,i){D(t,f,i),e=!0},p(f,i){const s={};!n&&i&32&&(n=!0,s.checked=f[5],ae(()=>n=!1)),t.$set(s)},i(f){e||(m(t.$$.fragment,f),e=!0)},o(f){p(t.$$.fragment,f),e=!1},d(f){T(t,f)}}}function vr(r){let t,n,e,l,o,f;function i(_){r[18](_)}let s={id:"reset-exclude-signals-checkbox","data-testid":"reset-exclude-signals-checkbox",label:A("workflows.reset-exclude-signals")};r[6]!==void 0&&(s.checked=r[6]),t=new it({props:s}),ie.push(()=>ue(t,"checked",i));function a(_){r[19](_)}let u={id:"reset-exclude-updates-checkbox","data-testid":"reset-exclude-updates-checkbox",label:A("workflows.reset-exclude-updates")};return r[7]!==void 0&&(u.checked=r[7]),l=new it({props:u}),ie.push(()=>ue(l,"checked",a)),{c(){I(t.$$.fragment),e=j(),I(l.$$.fragment)},l(_){E(t.$$.fragment,_),e=O(_),E(l.$$.fragment,_)},m(_,b){D(t,_,b),P(_,e,b),D(l,_,b),f=!0},p(_,b){const w={};!n&&b&64&&(n=!0,w.checked=_[6],ae(()=>n=!1)),t.$set(w);const h={};!o&&b&128&&(o=!0,h.checked=_[7],ae(()=>o=!1)),l.$set(h)},i(_){f||(m(t.$$.fragment,_),m(l.$$.fragment,_),f=!0)},o(_){p(t.$$.fragment,_),p(l.$$.fragment,_),f=!1},d(_){_&&$(e),T(t,_),T(l,_)}}}function Ir(r){let t,n,e,l,o,f,i,s,a,u,_;function b(d){r[17](d)}let w={"data-testid":"workflow-reset-event-id-select",menuClass:"max-h-[16rem]",label:A("workflows.reset-event-radio-group-description"),id:"reset-event-id",$$slots:{default:[kr]},$$scope:{ctx:r}};r[8]!==void 0&&(w.value=r[8]),n=new dt({props:w}),ie.push(()=>ue(n,"value",b));const h=[vr,br],c=[];function g(d,k){return k&3072&&(o=null),o==null&&(o=!!(d[10]||gl("1.24.0",d[11]))),o?0:1}f=g(r,-1),i=c[f]=h[f](r);function v(d){r[21](d)}let S={id:"reset-reason",label:A("common.reason")};return r[4]!==void 0&&(S.value=r[4]),a=new rt({props:S}),ie.push(()=>ue(a,"value",v)),{c(){t=y("div"),I(n.$$.fragment),l=j(),i.c(),s=j(),I(a.$$.fragment),this.h()},l(d){t=J(d,"DIV",{class:!0});var k=Y(t);E(n.$$.fragment,k),l=O(k),i.l(k),s=O(k),E(a.$$.fragment,k),k.forEach($),this.h()},h(){L(t,"class","flex w-full flex-col gap-4")},m(d,k){P(d,t,k),D(n,t,null),q(t,l),c[f].m(t,null),q(t,s),D(a,t,null),_=!0},p(d,k){const W={};k&268435968&&(W.$$scope={dirty:k,ctx:d}),!e&&k&256&&(e=!0,W.value=d[8],ae(()=>e=!1)),n.$set(W);let N=f;f=g(d,k),f===N?c[f].p(d,k):(te(),p(c[N],1,1,()=>{c[N]=null}),ne(),i=c[f],i?i.p(d,k):(i=c[f]=h[f](d),i.c()),m(i,1),i.m(t,s));const R={};!u&&k&16&&(u=!0,R.value=d[4],ae(()=>u=!1)),a.$set(R)},i(d){_||(m(n.$$.fragment,d),m(i),m(a.$$.fragment,d),_=!0)},o(d){p(n.$$.fragment,d),p(i),p(a.$$.fragment,d),_=!1},d(d){d&&$(t),T(n),c[f].d(),T(a)}}}function Er(r){let t,n,e,l;function o(s){r[22](s)}function f(s){r[23](s)}let i={id:"reset-confirmation-modal","data-testid":"reset-confirmation-modal",confirmText:A("common.confirm"),cancelText:A("common.cancel"),loading:r[3],confirmDisabled:!r[8],$$slots:{content:[Ir],title:[wr]},$$scope:{ctx:r}};return r[2]!==void 0&&(i.error=r[2]),r[0]!==void 0&&(i.open=r[0]),t=new pt({props:i}),ie.push(()=>ue(t,"error",o)),ie.push(()=>ue(t,"open",f)),t.$on("confirmModal",r[14]),t.$on("cancelModal",r[13]),{c(){I(t.$$.fragment)},l(s){E(t.$$.fragment,s)},m(s,a){D(t,s,a),l=!0},p(s,[a]){const u={};a&8&&(u.loading=s[3]),a&256&&(u.confirmDisabled=!s[8]),a&268439536&&(u.$$scope={dirty:a,ctx:s}),!n&&a&4&&(n=!0,u.error=s[2],ae(()=>n=!1)),!e&&a&1&&(e=!0,u.open=s[0],ae(()=>e=!1)),t.$set(u)},i(s){l||(m(t.$$.fragment,s),l=!0)},o(s){p(t.$$.fragment,s),l=!1},d(s){T(t,s)}}}function Dr(r,t,n){let e,l=de,o=()=>(l(),l=ft(w,Q=>n(24,e=Q)),w),f,i,s,a;re(r,jn,Q=>n(9,i=Q)),re(r,Nn,Q=>n(10,s=Q)),re(r,_l,Q=>n(11,a=Q)),r.$$.on_destroy.push(()=>l());let{open:u}=t,{workflow:_}=t,{namespace:b}=t,{refresh:w}=t;o();let h="",c=!1,g=lt("");re(r,g,Q=>n(8,f=Q));let v,S=!0,d=!1,k=!1;const W=()=>{n(0,u=!1),n(5,S=!0),n(6,d=!1),n(7,k=!1),_e(g,f="",f),n(4,v="")},N=async()=>{n(2,h=""),n(3,c=!0);try{const Q=await Xn({namespace:b,workflow:_,eventId:f,reason:v,includeSignals:S,excludeSignals:d,excludeUpdates:k});Q&&Q.runId&&yn.update(fe=>({...fe,[_.runId]:Q.runId})),_e(w,e=Date.now(),e),W()}catch(Q){n(2,h=_t(Q)?Q.message:A("common.unknown-error"))}finally{n(3,c=!1)}W()};function R(Q){f=Q,g.set(f)}function H(Q){d=Q,n(6,d)}function U(Q){k=Q,n(7,k)}function ee(Q){S=Q,n(5,S)}function Z(Q){v=Q,n(4,v)}function F(Q){h=Q,n(2,h)}function G(Q){u=Q,n(0,u)}return r.$$set=Q=>{"open"in Q&&n(0,u=Q.open),"workflow"in Q&&n(15,_=Q.workflow),"namespace"in Q&&n(16,b=Q.namespace),"refresh"in Q&&o(n(1,w=Q.refresh))},[u,w,h,c,v,S,d,k,f,i,s,a,g,W,N,_,b,R,H,U,ee,Z,F,G]}class Tr extends he{constructor(t){super(),ke(this,t,Dr,Er,ge,{open:0,workflow:15,namespace:16,refresh:1})}}function en(r,t,n){const e=r.slice();return e[25]=t[n].name,e[26]=t[n].description!==void 0?t[n].description:"",e}function Cr(r){let t,n=A("workflows.signal-modal-title")+"",e;return{c(){t=y("h3"),e=X(n),this.h()},l(l){t=J(l,"H3",{slot:!0});var o=Y(t);e=x(o,n),o.forEach($),this.h()},h(){L(t,"slot","title")},m(l,o){P(l,t,o),q(t,e)},p:de,d(l){l&&$(t)}}}function Wr(r){let t,n,e;function l(f){r[18](f)}let o={id:"signal-name",label:A("workflows.signal-name-label"),required:!0};return r[4]!==void 0&&(o.value=r[4]),t=new rt({props:o}),ie.push(()=>ue(t,"value",l)),{c(){I(t.$$.fragment)},l(f){E(t.$$.fragment,f)},m(f,i){D(t,f,i),e=!0},p(f,i){const s={};!n&&i&16&&(n=!0,s.value=f[4],ae(()=>n=!1)),t.$set(s)},i(f){e||(m(t.$$.fragment,f),e=!0)},o(f){p(t.$$.fragment,f),e=!1},d(f){T(t,f)}}}function Sr(r){let t,n,e;function l(f){r[17](f)}let o={id:"signal-select",label:A("workflows.signal-name-label"),class:"min-w-fit","data-testid":"signal-select",placeholder:"Select a signal",required:!0,$$slots:{default:[Vr]},$$scope:{ctx:r}};return r[4]!==void 0&&(o.value=r[4]),t=new dt({props:o}),ie.push(()=>ue(t,"value",l)),{c(){I(t.$$.fragment)},l(f){E(t.$$.fragment,f)},m(f,i){D(t,f,i),e=!0},p(f,i){const s={};i&536871168&&(s.$$scope={dirty:i,ctx:f}),!n&&i&16&&(n=!0,s.value=f[4],ae(()=>n=!1)),t.$set(s)},i(f){e||(m(t.$$.fragment,f),e=!0)},o(f){p(t.$$.fragment,f),e=!1},d(f){T(t,f)}}}function Pr(r){let t=r[25]+"",n;return{c(){n=X(t)},l(e){n=x(e,t)},m(e,l){P(e,n,l)},p(e,l){l&256&&t!==(t=e[25]+"")&&me(n,t)},d(e){e&&$(n)}}}function tn(r){let t,n;return t=new ze({props:{value:r[25],description:r[26],$$slots:{default:[Pr]},$$scope:{ctx:r}}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l&256&&(o.value=e[25]),l&256&&(o.description=e[26]),l&536871168&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){n||(m(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function Rr(r){let t;return{c(){t=X("Custom")},l(n){t=x(n,"Custom")},m(n,e){P(n,t,e)},d(n){n&&$(t)}}}function Vr(r){let t,n,e,l=Ve(r[8]),o=[];for(let i=0;i<l.length;i+=1)o[i]=tn(en(r,l,i));const f=i=>p(o[i],1,1,()=>{o[i]=null});return n=new ze({props:{value:"custom",description:"Input Signal name",$$slots:{default:[Rr]},$$scope:{ctx:r}}}),n.$on("click",r[11]),{c(){for(let i=0;i<o.length;i+=1)o[i].c();t=j(),I(n.$$.fragment)},l(i){for(let s=0;s<o.length;s+=1)o[s].l(i);t=O(i),E(n.$$.fragment,i)},m(i,s){for(let a=0;a<o.length;a+=1)o[a]&&o[a].m(i,s);P(i,t,s),D(n,i,s),e=!0},p(i,s){if(s&256){l=Ve(i[8]);let u;for(u=0;u<l.length;u+=1){const _=en(i,l,u);o[u]?(o[u].p(_,s),m(o[u],1)):(o[u]=tn(_),o[u].c(),m(o[u],1),o[u].m(t.parentNode,t))}for(te(),u=l.length;u<o.length;u+=1)f(u);ne()}const a={};s&536870912&&(a.$$scope={dirty:s,ctx:i}),n.$set(a)},i(i){if(!e){for(let s=0;s<l.length;s+=1)m(o[s]);m(n.$$.fragment,i),e=!0}},o(i){o=o.filter(Boolean);for(let s=0;s<o.length;s+=1)p(o[s]);p(n.$$.fragment,i),e=!1},d(i){i&&$(t),tt(o,i),T(n,i)}}}function Mr(r){let t,n,e,l,o,f,i,s;const a=[Sr,Wr],u=[];function _(c,g){var v;return((v=c[8])==null?void 0:v.length)>0&&!c[5]?0:1}n=_(r),e=u[n]=a[n](r);function b(c){r[19](c)}function w(c){r[20](c)}let h={};return r[7]!==void 0&&(h.input=r[7]),r[6]!==void 0&&(h.encoding=r[6]),o=new $l({props:h}),ie.push(()=>ue(o,"input",b)),ie.push(()=>ue(o,"encoding",w)),{c(){t=y("div"),e.c(),l=j(),I(o.$$.fragment),this.h()},l(c){t=J(c,"DIV",{slot:!0,class:!0});var g=Y(t);e.l(g),l=O(g),E(o.$$.fragment,g),g.forEach($),this.h()},h(){L(t,"slot","content"),L(t,"class","flex flex-col gap-4")},m(c,g){P(c,t,g),u[n].m(t,null),q(t,l),D(o,t,null),s=!0},p(c,g){let v=n;n=_(c),n===v?u[n].p(c,g):(te(),p(u[v],1,1,()=>{u[v]=null}),ne(),e=u[n],e?e.p(c,g):(e=u[n]=a[n](c),e.c()),m(e,1),e.m(t,l));const S={};!f&&g&128&&(f=!0,S.input=c[7],ae(()=>f=!1)),!i&&g&64&&(i=!0,S.encoding=c[6],ae(()=>i=!1)),o.$set(S)},i(c){s||(m(e),m(o.$$.fragment,c),s=!0)},o(c){p(e),p(o.$$.fragment,c),s=!1},d(c){c&&$(t),u[n].d(),T(o)}}}function Ar(r){let t,n,e,l;function o(s){r[21](s)}function f(s){r[22](s)}let i={id:"signal-confirmation-modal","data-testid":"signal-confirmation-modal",loading:r[3],confirmText:A("common.submit"),cancelText:A("common.cancel"),confirmDisabled:!r[4]||!r[6],$$slots:{content:[Mr],title:[Cr]},$$scope:{ctx:r}};return r[2]!==void 0&&(i.error=r[2]),r[0]!==void 0&&(i.open=r[0]),t=new pt({props:i}),ie.push(()=>ue(t,"error",o)),ie.push(()=>ue(t,"open",f)),t.$on("cancelModal",r[9]),t.$on("confirmModal",r[10]),{c(){I(t.$$.fragment)},l(s){E(t.$$.fragment,s)},m(s,a){D(t,s,a),l=!0},p(s,[a]){const u={};a&8&&(u.loading=s[3]),a&80&&(u.confirmDisabled=!s[4]||!s[6]),a&536871408&&(u.$$scope={dirty:a,ctx:s}),!n&&a&4&&(n=!0,u.error=s[2],ae(()=>n=!1)),!e&&a&1&&(e=!0,u.open=s[0],ae(()=>e=!1)),t.$set(u)},i(s){l||(m(t.$$.fragment,s),l=!0)},o(s){p(t.$$.fragment,s),l=!1},d(s){T(t,s)}}}const nn="json/plain";function Nr(r,t,n){let e,l,o,f=de,i=()=>(f(),f=ft(g,B=>n(23,o=B)),g),s,a=de,u=()=>(a(),a=ft(W,B=>n(24,s=B)),W),_;re(r,Ee,B=>n(16,_=B)),r.$$.on_destroy.push(()=>f()),r.$$.on_destroy.push(()=>a());var b;let{open:w}=t,{workflow:h}=t,{namespace:c}=t,{refresh:g}=t;i();let v="",S=!1,d="",k=!1,W=lt(nn);u();let N="";const R=()=>{n(0,w=!1),n(4,d=""),n(7,N=""),n(5,k=!1),_e(W,s=nn,s)},H=async()=>{n(2,v=""),n(3,S=!0);try{await xn({namespace:c,workflow:h,input:N,encoding:s,name:d}),_e(g,o=Date.now(),o),Un.push({message:A("workflows.signal-success"),id:"workflow-signal-success-toast"}),R()}catch(B){n(2,v=_t(B)?B.message:A("common.unknown-error"))}finally{n(3,S=!1)}},U=()=>{n(5,k=!0),n(4,d="")};function ee(B){d=B,n(4,d)}function Z(B){d=B,n(4,d)}function F(B){N=B,n(7,N)}function G(B){W=B,u(n(6,W))}function Q(B){v=B,n(2,v)}function fe(B){w=B,n(0,w)}return r.$$set=B=>{"open"in B&&n(0,w=B.open),"workflow"in B&&n(12,h=B.workflow),"namespace"in B&&n(13,c=B.namespace),"refresh"in B&&i(n(1,g=B.refresh))},r.$$.update=()=>{r.$$.dirty&65536&&n(15,{metadata:e}=_,e),r.$$.dirty&49152&&n(8,l=n(14,b=e==null?void 0:e.definition)===null||b===void 0?void 0:b.signalDefinitions)},[w,g,v,S,d,k,W,N,l,R,H,U,h,c,b,e,_,ee,Z,F,G,Q,fe]}class qr extends he{constructor(t){super(),ke(this,t,Nr,Ar,ge,{open:0,workflow:12,namespace:13,refresh:1})}}function ln(r,t,n){const e=r.slice();return e[30]=t[n].name,e[31]=t[n].description!==void 0?t[n].description:"",e}function Br(r){let t,n=A("workflows.update-modal-title")+"",e;return{c(){t=y("h3"),e=X(n),this.h()},l(l){t=J(l,"H3",{slot:!0});var o=Y(t);e=x(o,n),o.forEach($),this.h()},h(){L(t,"slot","title")},m(l,o){P(l,t,o),q(t,e)},p:de,d(l){l&&$(t)}}}function Ur(r){let t,n,e,l,o;function f(a){r[21](a)}let i={id:"update-name",class:"w-full",label:A("common.name"),required:!0};r[5]!==void 0&&(i.value=r[5]),n=new rt({props:i}),ie.push(()=>ue(n,"value",f));let s=r[8]&&rn(r);return{c(){t=y("div"),I(n.$$.fragment),l=j(),s&&s.c(),this.h()},l(a){t=J(a,"DIV",{class:!0});var u=Y(t);E(n.$$.fragment,u),l=O(u),s&&s.l(u),u.forEach($),this.h()},h(){L(t,"class","flex w-full items-end justify-between gap-2")},m(a,u){P(a,t,u),D(n,t,null),q(t,l),s&&s.m(t,null),o=!0},p(a,u){const _={};!e&&u[0]&32&&(e=!0,_.value=a[5],ae(()=>e=!1)),n.$set(_),a[8]?s?(s.p(a,u),u[0]&256&&m(s,1)):(s=rn(a),s.c(),m(s,1),s.m(t,null)):s&&(te(),p(s,1,1,()=>{s=null}),ne())},i(a){o||(m(n.$$.fragment,a),m(s),o=!0)},o(a){p(n.$$.fragment,a),p(s),o=!1},d(a){a&&$(t),T(n),s&&s.d()}}}function Fr(r){let t,n,e;function l(f){r[20](f)}let o={id:"update-select",label:A("common.name"),class:"min-w-fit","data-testid":"update-select",placeholder:"Select an Update",required:!0,$$slots:{default:[Or]},$$scope:{ctx:r}};return r[5]!==void 0&&(o.value=r[5]),t=new dt({props:o}),ie.push(()=>ue(t,"value",l)),{c(){I(t.$$.fragment)},l(f){E(t.$$.fragment,f)},m(f,i){D(t,f,i),e=!0},p(f,i){const s={};i[0]&512|i[1]&8&&(s.$$scope={dirty:i,ctx:f}),!n&&i[0]&32&&(n=!0,s.value=f[5],ae(()=>n=!1)),t.$set(s)},i(f){e||(m(t.$$.fragment,f),e=!0)},o(f){p(t.$$.fragment,f),e=!1},d(f){T(t,f)}}}function rn(r){let t,n;return t=new ct({props:{variant:"secondary",leadingIcon:"close"}}),t.$on("click",r[22]),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p:de,i(e){n||(m(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function Hr(r){let t=r[30]+"",n;return{c(){n=X(t)},l(e){n=x(e,t)},m(e,l){P(e,n,l)},p(e,l){l[0]&512&&t!==(t=e[30]+"")&&me(n,t)},d(e){e&&$(n)}}}function on(r){let t,n;return t=new ze({props:{value:r[30],description:r[31],$$slots:{default:[Hr]},$$scope:{ctx:r}}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l[0]&512&&(o.value=e[30]),l[0]&512&&(o.description=e[31]),l[0]&512|l[1]&8&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){n||(m(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function jr(r){let t;return{c(){t=X("Custom")},l(n){t=x(n,"Custom")},m(n,e){P(n,t,e)},d(n){n&&$(t)}}}function Or(r){let t,n,e,l=Ve(r[9]),o=[];for(let i=0;i<l.length;i+=1)o[i]=on(ln(r,l,i));const f=i=>p(o[i],1,1,()=>{o[i]=null});return n=new ze({props:{value:"custom",$$slots:{default:[jr]},$$scope:{ctx:r}}}),n.$on("click",r[13]),{c(){for(let i=0;i<o.length;i+=1)o[i].c();t=j(),I(n.$$.fragment)},l(i){for(let s=0;s<o.length;s+=1)o[s].l(i);t=O(i),E(n.$$.fragment,i)},m(i,s){for(let a=0;a<o.length;a+=1)o[a]&&o[a].m(i,s);P(i,t,s),D(n,i,s),e=!0},p(i,s){if(s[0]&512){l=Ve(i[9]);let u;for(u=0;u<l.length;u+=1){const _=ln(i,l,u);o[u]?(o[u].p(_,s),m(o[u],1)):(o[u]=on(_),o[u].c(),m(o[u],1),o[u].m(t.parentNode,t))}for(te(),u=l.length;u<o.length;u+=1)f(u);ne()}const a={};s[1]&8&&(a.$$scope={dirty:s,ctx:i}),n.$set(a)},i(i){if(!e){for(let s=0;s<l.length;s+=1)m(o[s]);m(n.$$.fragment,i),e=!0}},o(i){o=o.filter(Boolean);for(let s=0;s<o.length;s+=1)p(o[s]);p(n.$$.fragment,i),e=!1},d(i){i&&$(t),tt(o,i),T(n,i)}}}function fn(r){let t,n;return t=new ye({props:{intent:"info",title:"In Progress",$$slots:{default:[Qr]},$$scope:{ctx:r}}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l[1]&8&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){n||(m(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function Qr(r){let t=A("workflows.update-in-progress")+"",n;return{c(){n=X(t)},l(e){n=x(e,t)},m(e,l){P(e,n,l)},p:de,d(e){e&&$(n)}}}function sn(r){var e;let t,n;return t=new ye({props:{intent:"error",title:((e=r[3])==null?void 0:e.message)||"Failure",$$slots:{default:[Lr]},$$scope:{ctx:r}}}),{c(){I(t.$$.fragment)},l(l){E(t.$$.fragment,l)},m(l,o){D(t,l,o),n=!0},p(l,o){var i;const f={};o[0]&8&&(f.title=((i=l[3])==null?void 0:i.message)||"Failure"),o[0]&8|o[1]&8&&(f.$$scope={dirty:o,ctx:l}),t.$set(f)},i(l){n||(m(t.$$.fragment,l),n=!0)},o(l){p(t.$$.fragment,l),n=!1},d(l){T(t,l)}}}function an(r){let t,n;return t=new On({props:{class:"mt-4",content:r[3].stackTrace,language:"text"}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l[0]&8&&(o.content=e[3].stackTrace),t.$set(o)},i(e){n||(m(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function Lr(r){var l;let t,n,e=((l=r[3])==null?void 0:l.stackTrace)&&an(r);return{c(){e&&e.c(),t=se()},l(o){e&&e.l(o),t=se()},m(o,f){e&&e.m(o,f),P(o,t,f),n=!0},p(o,f){var i;(i=o[3])!=null&&i.stackTrace?e?(e.p(o,f),f[0]&8&&m(e,1)):(e=an(o),e.c(),m(e,1),e.m(t.parentNode,t)):e&&(te(),p(e,1,1,()=>{e=null}),ne())},i(o){n||(m(e),n=!0)},o(o){p(e),n=!1},d(o){o&&$(t),e&&e.d(o)}}}function un(r){let t,n;return t=new ye({props:{intent:"success",title:"Success",$$slots:{default:[yr]},$$scope:{ctx:r}}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l[0]&16|l[1]&8&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){n||(m(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function cn(r){let t,n;return t=new wl({props:{value:r[4].payloads[0],$$slots:{default:[zr,({decodedValue:e})=>({29:e}),({decodedValue:e})=>[e?536870912:0]]},$$scope:{ctx:r}}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l[0]&16&&(o.value=e[4].payloads[0]),l[0]&536870912|l[1]&8&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){n||(m(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function zr(r){let t,n;return t=new On({props:{class:"mt-4",content:r[29],language:"text"}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l[0]&536870912&&(o.content=e[29]),t.$set(o)},i(e){n||(m(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function yr(r){var l,o;let t,n,e=((o=(l=r[4])==null?void 0:l.payloads)==null?void 0:o[0])&&r[4].payloads[0].data&&cn(r);return{c(){e&&e.c(),t=se()},l(f){e&&e.l(f),t=se()},m(f,i){e&&e.m(f,i),P(f,t,i),n=!0},p(f,i){var s,a;(a=(s=f[4])==null?void 0:s.payloads)!=null&&a[0]&&f[4].payloads[0].data?e?(e.p(f,i),i[0]&16&&m(e,1)):(e=cn(f),e.c(),m(e,1),e.m(t.parentNode,t)):e&&(te(),p(e,1,1,()=>{e=null}),ne())},i(f){n||(m(e),n=!0)},o(f){p(e),n=!1},d(f){f&&$(t),e&&e.d(f)}}}function Jr(r){let t,n,e,l,o,f,i,s,a,u,_,b,w;const h=[Fr,Ur],c=[];function g(H,U){var ee;return((ee=H[9])==null?void 0:ee.length)>0&&!H[8]?0:1}n=g(r),e=c[n]=h[n](r);function v(H){r[23](H)}let S={id:"update-id",label:A("workflows.update-id"),required:!0};r[6]!==void 0&&(S.value=r[6]),o=new rt({props:S}),ie.push(()=>ue(o,"value",v));function d(H){r[24](H)}let k={};r[7]!==void 0&&(k.input=r[7]),s=new hl({props:k}),ie.push(()=>ue(s,"input",d));let W=r[2]&&fn(r),N=r[3]&&sn(r),R=r[4]&&un(r);return{c(){t=y("div"),e.c(),l=j(),I(o.$$.fragment),i=j(),I(s.$$.fragment),u=j(),W&&W.c(),_=j(),N&&N.c(),b=j(),R&&R.c(),this.h()},l(H){t=J(H,"DIV",{class:!0,slot:!0});var U=Y(t);e.l(U),l=O(U),E(o.$$.fragment,U),i=O(U),E(s.$$.fragment,U),u=O(U),W&&W.l(U),_=O(U),N&&N.l(U),b=O(U),R&&R.l(U),U.forEach($),this.h()},h(){L(t,"class","flex flex-col gap-4"),L(t,"slot","content")},m(H,U){P(H,t,U),c[n].m(t,null),q(t,l),D(o,t,null),q(t,i),D(s,t,null),q(t,u),W&&W.m(t,null),q(t,_),N&&N.m(t,null),q(t,b),R&&R.m(t,null),w=!0},p(H,U){let ee=n;n=g(H),n===ee?c[n].p(H,U):(te(),p(c[ee],1,1,()=>{c[ee]=null}),ne(),e=c[n],e?e.p(H,U):(e=c[n]=h[n](H),e.c()),m(e,1),e.m(t,l));const Z={};!f&&U[0]&64&&(f=!0,Z.value=H[6],ae(()=>f=!1)),o.$set(Z);const F={};!a&&U[0]&128&&(a=!0,F.input=H[7],ae(()=>a=!1)),s.$set(F),H[2]?W?(W.p(H,U),U[0]&4&&m(W,1)):(W=fn(H),W.c(),m(W,1),W.m(t,_)):W&&(te(),p(W,1,1,()=>{W=null}),ne()),H[3]?N?(N.p(H,U),U[0]&8&&m(N,1)):(N=sn(H),N.c(),m(N,1),N.m(t,b)):N&&(te(),p(N,1,1,()=>{N=null}),ne()),H[4]?R?(R.p(H,U),U[0]&16&&m(R,1)):(R=un(H),R.c(),m(R,1),R.m(t,null)):R&&(te(),p(R,1,1,()=>{R=null}),ne())},i(H){w||(m(e),m(o.$$.fragment,H),m(s.$$.fragment,H),m(W),m(N),m(R),w=!0)},o(H){p(e),p(o.$$.fragment,H),p(s.$$.fragment,H),p(W),p(N),p(R),w=!1},d(H){H&&$(t),c[n].d(),T(o),T(s),W&&W.d(),N&&N.d(),R&&R.d()}}}function Yr(r){let t,n,e,l;function o(s){r[25](s)}function f(s){r[26](s)}let i={id:"update-confirmation-modal","data-testid":"update-confirmation-modal",large:!0,loading:r[2],confirmText:A("common.submit"),cancelText:A("common.cancel"),confirmDisabled:!r[5]||!r[10],$$slots:{content:[Jr],title:[Br]},$$scope:{ctx:r}};return r[1]!==void 0&&(i.error=r[1]),r[0]!==void 0&&(i.open=r[0]),t=new pt({props:i}),ie.push(()=>ue(t,"error",o)),ie.push(()=>ue(t,"open",f)),t.$on("cancelModal",r[11]),t.$on("confirmModal",r[12]),{c(){I(t.$$.fragment)},l(s){E(t.$$.fragment,s)},m(s,a){D(t,s,a),l=!0},p(s,a){const u={};a[0]&4&&(u.loading=s[2]),a[0]&32&&(u.confirmDisabled=!s[5]||!s[10]),a[0]&1020|a[1]&8&&(u.$$scope={dirty:a,ctx:s}),!n&&a[0]&2&&(n=!0,u.error=s[1],ae(()=>n=!1)),!e&&a[0]&1&&(e=!0,u.open=s[0],ae(()=>e=!1)),t.$set(u)},i(s){l||(m(t.$$.fragment,s),l=!0)},o(s){p(t.$$.fragment,s),l=!1},d(s){T(t,s)}}}const mn="json/plain";function Zr(r,t,n){let e,l,o,f,i,s;re(r,Ee,B=>n(18,i=B)),re(r,Ae,B=>n(19,s=B));var a;let{open:u}=t,{workflow:_}=t,{namespace:b}=t,w="",h=!1,c,g,v="",S=st(),d="",k=!1,W=lt(mn);re(r,W,B=>n(28,f=B));const N=()=>{n(0,u=!1),n(5,v=""),n(7,d=""),n(8,k=!1),_e(W,f=mn,f),n(3,c=void 0),n(4,g=void 0)},R=async()=>{var B,V;n(3,c=void 0),n(4,g=void 0),n(1,w=""),n(2,h=!0);try{const z=await el({namespace:b,workflow:{workflowId:_.id,runId:e},input:d,updateId:S,encoding:f,name:v});n(3,c=(B=z==null?void 0:z.outcome)===null||B===void 0?void 0:B.failure),n(4,g=((V=z==null?void 0:z.outcome)===null||V===void 0?void 0:V.success)||!c),n(6,S=st()),g&&(Un.push({message:A("workflows.update-success"),variant:"success"}),N())}catch(z){n(1,w=_t(z)?z.message:A("common.unknown-error"))}finally{n(2,h=!1)}},H=()=>{n(8,k=!0),n(5,v="")};function U(B){v=B,n(5,v)}function ee(B){v=B,n(5,v)}const Z=()=>{n(8,k=!1),n(5,v="")};function F(B){S=B,n(6,S)}function G(B){d=B,n(7,d)}function Q(B){w=B,n(1,w)}function fe(B){u=B,n(0,u)}return r.$$set=B=>{"open"in B&&n(0,u=B.open),"workflow"in B&&n(14,_=B.workflow),"namespace"in B&&n(15,b=B.namespace)},r.$$.update=()=>{r.$$.dirty[0]&524288&&({run:e}=s.params),r.$$.dirty[0]&262144&&n(17,{metadata:l}=i,l),r.$$.dirty[0]&196608&&n(9,o=n(16,a=l==null?void 0:l.definition)===null||a===void 0?void 0:a.updateDefinitions)},[u,w,h,c,g,v,S,d,k,o,W,N,R,H,_,b,a,l,i,s,U,ee,Z,F,G,Q,fe]}class Gr extends he{constructor(t){super(),ke(this,t,Zr,Yr,ge,{open:0,workflow:14,namespace:15},null,[-1,-1])}}const Kr=(r,t,n)=>!r.disableWriteActions&&!r.workflowSignalDisabled&&!t.namespaceWriteDisabled(n),Xr=(r,t,n)=>!r.disableWriteActions&&!r.workflowUpdateDisabled&&!t.namespaceWriteDisabled(n);function pn(r,t,n){const e=r.slice();return e[36]=t[n].onClick,e[37]=t[n].destructive,e[38]=t[n].label,e[39]=t[n].enabled,e[40]=t[n].testId,e[41]=t[n].description,e}function xr(r){let t,n;return t=new nt({props:{bottomRight:!0,width:200,text:r[4],hide:r[8],$$slots:{default:[lo]},$$scope:{ctx:r}}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l[0]&16&&(o.text=e[4]),l[0]&256&&(o.hide=e[8]),l[0]&4352|l[1]&8192&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){n||(m(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function eo(r){let t,n;return t=new Ln({props:{id:"workflow-actions",menuClass:"w-[16rem]",position:"right",primaryActionDisabled:!r[8],label:A("workflows.reset"),menuLabel:A("workflows.workflow-actions"),$$slots:{default:[oo]},$$scope:{ctx:r}}}),t.$on("click",r[29]),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l[0]&256&&(o.primaryActionDisabled=!e[8]),l[0]&3|l[1]&8192&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){n||(m(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function to(r){let t,n;return t=new Ln({props:{id:"workflow-actions",menuClass:"w-[16rem] md:w-[24rem]",position:"right",disabled:r[16],primaryActionDisabled:!r[17]||r[2],label:A("workflows.request-cancellation"),menuLabel:A("workflows.workflow-actions"),$$slots:{default:[io]},$$scope:{ctx:r}}}),t.$on("click",r[27]),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l[0]&65536&&(o.disabled=e[16]),l[0]&131076&&(o.primaryActionDisabled=!e[17]||e[2]),l[0]&295427|l[1]&8192&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){n||(m(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function no(r){let t=A("workflows.reset")+"",n;return{c(){n=X(t)},l(e){n=x(e,t)},m(e,l){P(e,n,l)},p:de,d(e){e&&$(n)}}}function lo(r){let t,n;return t=new ct({props:{"aria-label":A("workflows.reset"),disabled:!r[8],variant:"primary","data-testid":"workflow-reset-button",$$slots:{default:[no]},$$scope:{ctx:r}}}),t.$on("click",r[30]),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l[0]&256&&(o.disabled=!e[8]),l[1]&8192&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){n||(m(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function ro(r){let t=A("workflows.start-workflow-like-this-one")+"",n;return{c(){n=X(t)},l(e){n=x(e,t)},m(e,l){P(e,n,l)},p:de,d(e){e&&$(n)}}}function oo(r){let t,n;return t=new gt({props:{"data-testid":"start-workflow-button",$$slots:{default:[ro]},$$scope:{ctx:r}}}),t.$on("click",r[28]),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l[1]&8192&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){n||(m(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function dn(r){let t,n,e,l=r[37]&&_n();return n=new gt({props:{destructive:r[37],disabled:!r[39],"data-testid":r[40],description:r[41],$$slots:{default:[fo]},$$scope:{ctx:r}}}),n.$on("click",function(){Zn(r[36])&&r[36].apply(this,arguments)}),{c(){l&&l.c(),t=j(),I(n.$$.fragment)},l(o){l&&l.l(o),t=O(o),E(n.$$.fragment,o)},m(o,f){l&&l.m(o,f),P(o,t,f),D(n,o,f),e=!0},p(o,f){r=o,r[37]?l?f[0]&32768&&m(l,1):(l=_n(),l.c(),m(l,1),l.m(t.parentNode,t)):l&&(te(),p(l,1,1,()=>{l=null}),ne());const i={};f[0]&32768&&(i.destructive=r[37]),f[0]&32768&&(i.disabled=!r[39]),f[0]&32768&&(i["data-testid"]=r[40]),f[0]&32768&&(i.description=r[41]),f[0]&32768|f[1]&8192&&(i.$$scope={dirty:f,ctx:r}),n.$set(i)},i(o){e||(m(l),m(n.$$.fragment,o),e=!0)},o(o){p(l),p(n.$$.fragment,o),e=!1},d(o){o&&$(t),l&&l.d(o),T(n,o)}}}function _n(r){let t,n;return t=new Qn({}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},i(e){n||(m(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function fo(r){let t=r[38]+"",n;return{c(){n=X(t)},l(e){n=x(e,t)},m(e,l){P(e,n,l)},p(e,l){l[0]&32768&&t!==(t=e[38]+"")&&me(n,t)},d(e){e&&$(n)}}}function gn(r){let t,n,e=(!r[18]||r[18]&&r[40]!=="update-button")&&dn(r);return{c(){e&&e.c(),t=se()},l(l){e&&e.l(l),t=se()},m(l,o){e&&e.m(l,o),P(l,t,o),n=!0},p(l,o){!l[18]||l[18]&&l[40]!=="update-button"?e?(e.p(l,o),o[0]&294912&&m(e,1)):(e=dn(l),e.c(),m(e,1),e.m(t.parentNode,t)):e&&(te(),p(e,1,1,()=>{e=null}),ne())},i(l){n||(m(e),n=!0)},o(l){p(e),n=!1},d(l){l&&$(t),e&&e.d(l)}}}function $n(r){let t,n,e,l;return t=new Qn({}),e=new gt({props:{"data-testid":"start-workflow-button",$$slots:{default:[so]},$$scope:{ctx:r}}}),e.$on("click",r[26]),{c(){I(t.$$.fragment),n=j(),I(e.$$.fragment)},l(o){E(t.$$.fragment,o),n=O(o),E(e.$$.fragment,o)},m(o,f){D(t,o,f),P(o,n,f),D(e,o,f),l=!0},p(o,f){const i={};f[1]&8192&&(i.$$scope={dirty:f,ctx:o}),e.$set(i)},i(o){l||(m(t.$$.fragment,o),m(e.$$.fragment,o),l=!0)},o(o){p(t.$$.fragment,o),p(e.$$.fragment,o),l=!1},d(o){o&&$(n),T(t,o),T(e,o)}}}function so(r){let t=A("workflows.start-workflow-like-this-one")+"",n;return{c(){n=X(t)},l(e){n=x(e,t)},m(e,l){P(e,n,l)},p:de,d(e){e&&$(n)}}}function io(r){let t,n=!at(r[9]),e,l,o=Ve(r[15]),f=[];for(let a=0;a<o.length;a+=1)f[a]=gn(pn(r,o,a));const i=a=>p(f[a],1,1,()=>{f[a]=null});let s=n&&$n(r);return{c(){for(let a=0;a<f.length;a+=1)f[a].c();t=j(),s&&s.c(),e=se()},l(a){for(let u=0;u<f.length;u+=1)f[u].l(a);t=O(a),s&&s.l(a),e=se()},m(a,u){for(let _=0;_<f.length;_+=1)f[_]&&f[_].m(a,u);P(a,t,u),s&&s.m(a,u),P(a,e,u),l=!0},p(a,u){if(u[0]&294912){o=Ve(a[15]);let _;for(_=0;_<o.length;_+=1){const b=pn(a,o,_);f[_]?(f[_].p(b,u),m(f[_],1)):(f[_]=gn(b),f[_].c(),m(f[_],1),f[_].m(t.parentNode,t))}for(te(),_=o.length;_<f.length;_+=1)i(_);ne()}u[0]&512&&(n=!at(a[9])),n?s?(s.p(a,u),u[0]&512&&m(s,1)):(s=$n(a),s.c(),m(s,1),s.m(e.parentNode,e)):s&&(te(),p(s,1,1,()=>{s=null}),ne())},i(a){if(!l){for(let u=0;u<o.length;u+=1)m(f[u]);m(s),l=!0}},o(a){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)p(f[u]);p(s),l=!1},d(a){a&&($(t),$(e)),tt(f,a),s&&s.d(a)}}}function wn(r){let t,n,e;function l(f){r[31](f)}let o={refresh:Le,workflow:r[0],namespace:r[1]};return r[12]!==void 0&&(o.open=r[12]),t=new Tr({props:o}),ie.push(()=>ue(t,"open",l)),{c(){I(t.$$.fragment)},l(f){E(t.$$.fragment,f)},m(f,i){D(t,f,i),e=!0},p(f,i){const s={};i[0]&1&&(s.workflow=f[0]),i[0]&2&&(s.namespace=f[1]),!n&&i[0]&4096&&(n=!0,s.open=f[12],ae(()=>n=!1)),t.$set(s)},i(f){e||(m(t.$$.fragment,f),e=!0)},o(f){p(t.$$.fragment,f),e=!1},d(f){T(t,f)}}}function hn(r){let t,n,e;function l(f){r[32](f)}let o={refresh:Le,workflow:r[0],namespace:r[1]};return r[13]!==void 0&&(o.open=r[13]),t=new qr({props:o}),ie.push(()=>ue(t,"open",l)),{c(){I(t.$$.fragment)},l(f){E(t.$$.fragment,f)},m(f,i){D(t,f,i),e=!0},p(f,i){const s={};i[0]&1&&(s.workflow=f[0]),i[0]&2&&(s.namespace=f[1]),!n&&i[0]&8192&&(n=!0,s.open=f[13],ae(()=>n=!1)),t.$set(s)},i(f){e||(m(t.$$.fragment,f),e=!0)},o(f){p(t.$$.fragment,f),e=!1},d(f){T(t,f)}}}function kn(r){let t,n,e;function l(f){r[33](f)}let o={workflow:r[0],namespace:r[1]};return r[14]!==void 0&&(o.open=r[14]),t=new Gr({props:o}),ie.push(()=>ue(t,"open",l)),{c(){I(t.$$.fragment)},l(f){E(t.$$.fragment,f)},m(f,i){D(t,f,i),e=!0},p(f,i){const s={};i[0]&1&&(s.workflow=f[0]),i[0]&2&&(s.namespace=f[1]),!n&&i[0]&16384&&(n=!0,s.open=f[14],ae(()=>n=!1)),t.$set(s)},i(f){e||(m(t.$$.fragment,f),e=!0)},o(f){p(t.$$.fragment,f),e=!1},d(f){T(t,f)}}}function bn(r){let t,n,e;function l(f){r[34](f)}let o={refresh:Le,workflow:r[0],namespace:r[1]};return r[10]!==void 0&&(o.open=r[10]),t=new cl({props:o}),ie.push(()=>ue(t,"open",l)),{c(){I(t.$$.fragment)},l(f){E(t.$$.fragment,f)},m(f,i){D(t,f,i),e=!0},p(f,i){const s={};i[0]&1&&(s.workflow=f[0]),i[0]&2&&(s.namespace=f[1]),!n&&i[0]&1024&&(n=!0,s.open=f[10],ae(()=>n=!1)),t.$set(s)},i(f){e||(m(t.$$.fragment,f),e=!0)},o(f){p(t.$$.fragment,f),e=!1},d(f){T(t,f)}}}function vn(r){let t,n,e;function l(f){r[35](f)}let o={refresh:Le,workflow:r[0],namespace:r[1]};return r[11]!==void 0&&(o.open=r[11]),t=new ml({props:o}),ie.push(()=>ue(t,"open",l)),{c(){I(t.$$.fragment)},l(f){E(t.$$.fragment,f)},m(f,i){D(t,f,i),e=!0},p(f,i){const s={};i[0]&1&&(s.workflow=f[0]),i[0]&2&&(s.namespace=f[1]),!n&&i[0]&2048&&(n=!0,s.open=f[11],ae(()=>n=!1)),t.$set(s)},i(f){e||(m(t.$$.fragment,f),e=!0)},o(f){p(t.$$.fragment,f),e=!1},d(f){T(t,f)}}}function ao(r){let t,n,e,l,o,f,i,s,a,u;const _=[to,eo,xr],b=[];function w(d,k){return k[0]&512&&(t=null),d[3]?0:(t==null&&(t=!at(d[9])),t?1:2)}n=w(r,[-1,-1]),e=b[n]=_[n](r);let h=r[8]&&wn(r),c=r[7]&&hn(r),g=r[6]&&kn(r),v=r[17]&&bn(r),S=r[5]&&vn(r);return{c(){e.c(),l=j(),h&&h.c(),o=j(),c&&c.c(),f=j(),g&&g.c(),i=j(),v&&v.c(),s=j(),S&&S.c(),a=se()},l(d){e.l(d),l=O(d),h&&h.l(d),o=O(d),c&&c.l(d),f=O(d),g&&g.l(d),i=O(d),v&&v.l(d),s=O(d),S&&S.l(d),a=se()},m(d,k){b[n].m(d,k),P(d,l,k),h&&h.m(d,k),P(d,o,k),c&&c.m(d,k),P(d,f,k),g&&g.m(d,k),P(d,i,k),v&&v.m(d,k),P(d,s,k),S&&S.m(d,k),P(d,a,k),u=!0},p(d,k){let W=n;n=w(d,k),n===W?b[n].p(d,k):(te(),p(b[W],1,1,()=>{b[W]=null}),ne(),e=b[n],e?e.p(d,k):(e=b[n]=_[n](d),e.c()),m(e,1),e.m(l.parentNode,l)),d[8]?h?(h.p(d,k),k[0]&256&&m(h,1)):(h=wn(d),h.c(),m(h,1),h.m(o.parentNode,o)):h&&(te(),p(h,1,1,()=>{h=null}),ne()),d[7]?c?(c.p(d,k),k[0]&128&&m(c,1)):(c=hn(d),c.c(),m(c,1),c.m(f.parentNode,f)):c&&(te(),p(c,1,1,()=>{c=null}),ne()),d[6]?g?(g.p(d,k),k[0]&64&&m(g,1)):(g=kn(d),g.c(),m(g,1),g.m(i.parentNode,i)):g&&(te(),p(g,1,1,()=>{g=null}),ne()),d[17]?v?(v.p(d,k),k[0]&131072&&m(v,1)):(v=bn(d),v.c(),m(v,1),v.m(s.parentNode,s)):v&&(te(),p(v,1,1,()=>{v=null}),ne()),d[5]?S?(S.p(d,k),k[0]&32&&m(S,1)):(S=vn(d),S.c(),m(S,1),S.m(a.parentNode,a)):S&&(te(),p(S,1,1,()=>{S=null}),ne())},i(d){u||(m(e),m(h),m(c),m(g),m(v),m(S),u=!0)},o(d){p(e),p(h),p(c),p(g),p(v),p(S),u=!1},d(d){d&&($(l),$(o),$(f),$(i),$(s),$(a)),b[n].d(d),h&&h.d(d),c&&c.d(d),g&&g.d(d),v&&v.d(d),S&&S.d(d)}}}function uo(r,t,n){let e,l,o,f,i,s,a,u,_,b,w;re(r,jn,C=>n(24,u=C)),re(r,Ae,C=>n(9,b=C)),re(r,Nn,C=>n(18,w=C));var h,c,g;let{workflow:v}=t,{namespace:S}=t,{cancelInProgress:d}=t,{isRunning:k}=t,W=!1,N=!1,R=!1,H=!1,U=!1,ee,Z=kl();re(r,Z,C=>n(25,_=C));let F;const G=()=>Vt(Rt({namespace:S,workflowId:v.id,taskQueue:v.taskQueue,workflowType:v.name})),Q=()=>n(10,W=!0),fe=()=>Vt(Rt({namespace:S,workflowId:v.id,taskQueue:v.taskQueue,workflowType:v.name})),B=()=>n(12,R=!0),V=()=>n(12,R=!0);function z(C){R=C,n(12,R),n(8,s),n(4,ee),n(7,l),n(6,o),n(5,f),n(23,i),n(0,v),n(20,h),n(24,u),n(21,c),n(22,g),n(9,b),n(25,_),n(1,S)}function le(C){H=C,n(13,H),n(8,s),n(4,ee),n(7,l),n(6,o),n(5,f),n(23,i),n(0,v),n(20,h),n(24,u),n(21,c),n(22,g),n(9,b),n(25,_),n(1,S)}function M(C){U=C,n(14,U),n(8,s),n(4,ee),n(7,l),n(6,o),n(5,f),n(23,i),n(0,v),n(20,h),n(24,u),n(21,c),n(22,g),n(9,b),n(25,_),n(1,S)}function oe(C){W=C,n(10,W)}function pe(C){N=C,n(11,N),n(8,s),n(4,ee),n(7,l),n(6,o),n(5,f),n(23,i),n(0,v),n(20,h),n(24,u),n(21,c),n(22,g),n(9,b),n(25,_),n(1,S)}return r.$$set=C=>{"workflow"in C&&n(0,v=C.workflow),"namespace"in C&&n(1,S=C.namespace),"cancelInProgress"in C&&n(2,d=C.cancelInProgress),"isRunning"in C&&n(3,k=C.isRunning)},r.$$.update=()=>{r.$$.dirty[0]&33554946&&n(17,e=il(b.data.settings,_,S)),r.$$.dirty[0]&33554946&&n(7,l=Kr(b.data.settings,_,S)),r.$$.dirty[0]&33554946&&n(6,o=Xr(b.data.settings,_,S)),r.$$.dirty[0]&33554946&&n(5,f=al(b.data.settings,_,S)),r.$$.dirty[0]&33554946&&n(23,i=ul(b.data.settings,_,S)),r.$$.dirty[0]&26214401&&n(8,s=i&&(n(20,h=v==null?void 0:v.pendingChildren)===null||h===void 0?void 0:h.length)===0&&u.length>0),r.$$.dirty[0]&416&&n(16,a=!s&&!l&&!f),r.$$.dirty[0]&31457281&&(i?i&&(n(21,c=v==null?void 0:v.pendingChildren)===null||c===void 0?void 0:c.length)>0?n(4,ee=A("workflows.reset-disabled-pending-children")):i&&(n(22,g=v==null?void 0:v.pendingChildren)===null||g===void 0?void 0:g.length)===0&&u.length===0&&n(4,ee=A("workflows.reset-disabled-no-events")):n(4,ee=A("workflows.reset-disabled-unauthorized"))),r.$$.dirty[0]&496&&n(15,F=[{label:A("workflows.reset"),onClick:()=>n(12,R=!0),testId:"reset-button",enabled:s,description:s?"":ee},{label:A("workflows.signal"),onClick:()=>n(13,H=!0),testId:"signal-button",enabled:l,description:l?"":A("workflows.signal-disabled")},{label:A("workflows.update"),onClick:()=>n(14,U=!0),testId:"update-button",enabled:o,description:o?"":A("workflows.update-disabled")},{label:A("workflows.terminate"),onClick:()=>n(11,N=!0),testId:"terminate-button",enabled:f,destructive:!0,description:f?"":A("workflows.terminate-disabled")}])},[v,S,d,k,ee,f,o,l,s,b,W,N,R,H,U,F,a,e,w,Z,h,c,g,i,u,_,G,Q,fe,B,V,z,le,M,oe,pe]}class In extends he{constructor(t){super(),ke(this,t,uo,ao,ge,{workflow:0,namespace:1,cancelInProgress:2,isRunning:3},null,[-1,-1])}}function co(r){let t,n,e=A("workers.buildId")+"",l,o,f;return o=new vl({props:{active:!0,buildId:r[0]}}),{c(){t=y("p"),n=y("span"),l=X(e),I(o.$$.fragment),this.h()},l(i){t=J(i,"P",{class:!0});var s=Y(t);n=J(s,"SPAN",{});var a=Y(n);l=x(a,e),a.forEach($),E(o.$$.fragment,s),s.forEach($),this.h()},h(){L(t,"class","flex items-center gap-1")},m(i,s){P(i,t,s),q(t,n),q(n,l),D(o,t,null),f=!0},p(i,[s]){const a={};s&1&&(a.buildId=i[0]),o.$set(a)},i(i){f||(m(o.$$.fragment,i),f=!0)},o(i){p(o.$$.fragment,i),f=!1},d(i){i&&$(t),T(o)}}}function mo(r,t,n){let e,{workflow:l}=t;return r.$$set=o=>{"workflow"in o&&n(1,l=o.workflow)},r.$$.update=()=>{r.$$.dirty&2&&n(0,e=Il(l))},[e,l]}class po extends he{constructor(t){super(),ke(this,t,mo,co,ge,{workflow:1})}}const _o=(r,t)=>{const n=r==="Running",e=t==null?void 0:t.some(l=>(l==null?void 0:l.eventType)==="WorkflowExecutionCancelRequested");return n&&e},En=r=>{const t=r==null?void 0:r.indexOf("?");return t>-1?r.slice(0,t):r},we=(r,t,n=!1)=>{const e=En(r).split("/"),l=En(t).split("/");if(n&&e.length!==l.length)return!1;for(let o=0;o<e.length;o++){const f=e[o],i=l[o];if(f!==i)return!1}return!0};function go(r){let t=(r[13]?A("common.workflows"):A("workflows.back-to-workflows"))+"",n;return{c(){n=X(t)},l(e){n=x(e,t)},m(e,l){P(e,n,l)},p(e,l){l&8192&&t!==(t=(e[13]?A("common.workflows"):A("workflows.back-to-workflows"))+"")&&me(n,t)},d(e){e&&$(n)}}}function Dn(r){let t,n;return t=new Oe({props:{href:Re({...r[11]}),"data-testid":"back-to-workflow-execution",icon:"chevron-left",$$slots:{default:[$o]},$$scope:{ctx:r}}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l&2048&&(o.href=Re({...e[11]})),l&16777217&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){n||(m(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function $o(r){var e;let t=((e=r[0])==null?void 0:e.runId)+"",n;return{c(){n=X(t)},l(l){n=x(l,t)},m(l,o){P(l,n,o)},p(l,o){var f;o&1&&t!==(t=((f=l[0])==null?void 0:f.runId)+"")&&me(n,t)},d(l){l&&$(n)}}}function Tn(r){let t,n;return t=new po({props:{workflow:r[0]}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l&1&&(o.workflow=e[0]),t.$set(o)},i(e){n||(m(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function Cn(r){let t,n,e,l;return n=new ye({props:{icon:"info",intent:"info",title:A("workflows.cancel-request-sent"),$$slots:{default:[wo]},$$scope:{ctx:r}}}),{c(){t=y("div"),I(n.$$.fragment)},l(o){t=J(o,"DIV",{});var f=Y(t);E(n.$$.fragment,f),f.forEach($)},m(o,f){P(o,t,f),D(n,t,null),l=!0},p(o,f){const i={};f&16777216&&(i.$$scope={dirty:f,ctx:o}),n.$set(i)},i(o){l||(m(n.$$.fragment,o),o&&(e||Rn(()=>{e=Mn(t,qn,{duration:200,delay:100}),e.start()})),l=!0)},o(o){p(n.$$.fragment,o),l=!1},d(o){o&&$(t),T(n)}}}function wo(r){let t=A("workflows.cancel-request-sent-description")+"",n;return{c(){n=X(t)},l(e){n=x(e,t)},m(e,l){P(e,n,l)},p:de,d(e){e&&$(n)}}}function Wn(r){let t,n,e,l;return n=new ye({props:{icon:"info",intent:"info","data-testid":"workflow-reset-alert",title:A("workflows.reset-success-alert-title"),$$slots:{default:[ko]},$$scope:{ctx:r}}}),{c(){t=y("div"),I(n.$$.fragment)},l(o){t=J(o,"DIV",{});var f=Y(t);E(n.$$.fragment,f),f.forEach($)},m(o,f){P(o,t,f),D(n,t,null),l=!0},p(o,f){const i={};f&16777230&&(i.$$scope={dirty:f,ctx:o}),n.$set(i)},i(o){l||(m(n.$$.fragment,o),o&&(e||Rn(()=>{e=Mn(t,qn,{duration:200,delay:100}),e.start()})),l=!0)},o(o){p(n.$$.fragment,o),l=!1},d(o){o&&$(t),T(n)}}}function ho(r){let t;return{c(){t=X("here")},l(n){t=x(n,"here")},m(n,e){P(n,t,e)},d(n){n&&$(t)}}}function ko(r){var o,f,i,s;let t,n,e,l;return n=new Oe({props:{href:Re({namespace:r[1],workflow:(f=(o=r[3])==null?void 0:o.workflow)==null?void 0:f.id,run:r[2][(s=(i=r[3])==null?void 0:i.workflow)==null?void 0:s.runId]}),$$slots:{default:[ho]},$$scope:{ctx:r}}}),{c(){t=X("You can find the resulting Workflow Execution "),I(n.$$.fragment),e=X(".")},l(a){t=x(a,"You can find the resulting Workflow Execution "),E(n.$$.fragment,a),e=x(a,".")},m(a,u){P(a,t,u),D(n,a,u),P(a,e,u),l=!0},p(a,u){var b,w,h,c;const _={};u&14&&(_.href=Re({namespace:a[1],workflow:(w=(b=a[3])==null?void 0:b.workflow)==null?void 0:w.id,run:a[2][(c=(h=a[3])==null?void 0:h.workflow)==null?void 0:c.runId]})),u&16777216&&(_.$$scope={dirty:u,ctx:a}),n.$set(_)},i(a){l||(m(n.$$.fragment,a),l=!0)},o(a){p(n.$$.fragment,a),l=!1},d(a){a&&($(t),$(e)),T(n,a)}}}function bo(r){var e;let t=((e=r[0])==null?void 0:e.historyEvents)+"",n;return{c(){n=X(t)},l(l){n=x(l,t)},m(l,o){P(l,n,o)},p(l,o){var f;o&1&&t!==(t=((f=l[0])==null?void 0:f.historyEvents)+"")&&me(n,t)},d(l){l&&$(n)}}}function vo(r){let t,n;return t=new ot({props:{type:"primary",class:"px-2 py-0",$$slots:{default:[bo]},$$scope:{ctx:r}}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l&16777217&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){n||(m(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function Io(r){let t=r[5].relationshipCount+"",n;return{c(){n=X(t)},l(e){n=x(e,t)},m(e,l){P(e,n,l)},p(e,l){l&32&&t!==(t=e[5].relationshipCount+"")&&me(n,t)},d(e){e&&$(n)}}}function Eo(r){let t,n;return t=new ot({props:{type:"primary",class:"px-2 py-0",$$slots:{default:[Io]},$$scope:{ctx:r}}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l&16777248&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){n||(m(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function Do(r){var e,l;let t=((l=(e=r[12])==null?void 0:e.pollers)==null?void 0:l.length)+"",n;return{c(){n=X(t)},l(o){n=x(o,t)},m(o,f){P(o,n,f)},p(o,f){var i,s;f&4096&&t!==(t=((s=(i=o[12])==null?void 0:i.pollers)==null?void 0:s.length)+"")&&me(n,t)},d(o){o&&$(n)}}}function To(r){let t,n;return t=new ot({props:{type:"primary",class:"px-2 py-0",$$slots:{default:[Do]},$$scope:{ctx:r}}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l&16781312&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){n||(m(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function Sn(r){let t,n;return t=new Ne({props:{name:"canceled"}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},i(e){n||(m(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function Co(r){var i,s;let t,n,e=((s=(i=r[0])==null?void 0:i.pendingActivities)==null?void 0:s.length)+"",l,o,f=r[9]&&Sn();return{c(){t=y("div"),f&&f.c(),n=j(),l=X(e),this.h()},l(a){t=J(a,"DIV",{class:!0});var u=Y(t);f&&f.l(u),n=O(u),l=x(u,e),u.forEach($),this.h()},h(){L(t,"class","flex items-center gap-1")},m(a,u){P(a,t,u),f&&f.m(t,null),q(t,n),q(t,l),o=!0},p(a,u){var _,b;a[9]?f?u&512&&m(f,1):(f=Sn(),f.c(),m(f,1),f.m(t,n)):f&&(te(),p(f,1,1,()=>{f=null}),ne()),(!o||u&1)&&e!==(e=((b=(_=a[0])==null?void 0:_.pendingActivities)==null?void 0:b.length)+"")&&me(l,e)},i(a){o||(m(f),o=!0)},o(a){p(f),o=!1},d(a){a&&$(t),f&&f.d()}}}function Wo(r){let t,n;return t=new ot({props:{type:r[9]?"warning":"primary",class:"px-2 py-0",$$slots:{default:[Co]},$$scope:{ctx:r}}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l&512&&(o.type=e[9]?"warning":"primary"),l&16777729&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){n||(m(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function So(r){let t,n,e,l,o,f,i,s,a,u,_,b,w,h;return t=new Me({props:{label:A("workflows.history-tab"),id:"history-tab",href:Re({...r[11]}),active:we(r[4].url.pathname,Re({...r[11]})),$$slots:{default:[vo]},$$scope:{ctx:r}}}),e=new Me({props:{label:A("workflows.relationships"),id:"relationships-tab",href:Je(r[11]),active:we(r[4].url.pathname,Je(r[11])),$$slots:{default:[Eo]},$$scope:{ctx:r}}}),o=new Me({props:{label:A("workflows.workers-tab"),id:"workers-tab",href:He(r[11]),active:we(r[4].url.pathname,He(r[11])),$$slots:{default:[To]},$$scope:{ctx:r}}}),i=new Me({props:{label:A("workflows.pending-activities-tab"),id:"pending-activities-tab",href:Ye(r[11]),active:we(r[4].url.pathname,Ye(r[11])),$$slots:{default:[Wo]},$$scope:{ctx:r}}}),a=new Me({props:{label:A("workflows.call-stack-tab"),id:"call-stack-tab",href:Ze(r[11]),active:we(r[4].url.pathname,Ze(r[11]))}}),_=new Me({props:{label:A("workflows.queries-tab"),id:"queries-tab",href:Ge(r[11]),active:we(r[4].url.pathname,Ge(r[11]))}}),w=new Me({props:{label:A("workflows.metadata-tab"),id:"metadata-tab",href:Ke(r[11]),active:we(r[4].url.pathname,Ke(r[11]))}}),{c(){I(t.$$.fragment),n=j(),I(e.$$.fragment),l=j(),I(o.$$.fragment),f=j(),I(i.$$.fragment),s=j(),I(a.$$.fragment),u=j(),I(_.$$.fragment),b=j(),I(w.$$.fragment)},l(c){E(t.$$.fragment,c),n=O(c),E(e.$$.fragment,c),l=O(c),E(o.$$.fragment,c),f=O(c),E(i.$$.fragment,c),s=O(c),E(a.$$.fragment,c),u=O(c),E(_.$$.fragment,c),b=O(c),E(w.$$.fragment,c)},m(c,g){D(t,c,g),P(c,n,g),D(e,c,g),P(c,l,g),D(o,c,g),P(c,f,g),D(i,c,g),P(c,s,g),D(a,c,g),P(c,u,g),D(_,c,g),P(c,b,g),D(w,c,g),h=!0},p(c,g){const v={};g&2048&&(v.href=Re({...c[11]})),g&2064&&(v.active=we(c[4].url.pathname,Re({...c[11]}))),g&16777217&&(v.$$scope={dirty:g,ctx:c}),t.$set(v);const S={};g&2048&&(S.href=Je(c[11])),g&2064&&(S.active=we(c[4].url.pathname,Je(c[11]))),g&16777248&&(S.$$scope={dirty:g,ctx:c}),e.$set(S);const d={};g&2048&&(d.href=He(c[11])),g&2064&&(d.active=we(c[4].url.pathname,He(c[11]))),g&16781312&&(d.$$scope={dirty:g,ctx:c}),o.$set(d);const k={};g&2048&&(k.href=Ye(c[11])),g&2064&&(k.active=we(c[4].url.pathname,Ye(c[11]))),g&16777729&&(k.$$scope={dirty:g,ctx:c}),i.$set(k);const W={};g&2048&&(W.href=Ze(c[11])),g&2064&&(W.active=we(c[4].url.pathname,Ze(c[11]))),a.$set(W);const N={};g&2048&&(N.href=Ge(c[11])),g&2064&&(N.active=we(c[4].url.pathname,Ge(c[11]))),_.$set(N);const R={};g&2048&&(R.href=Ke(c[11])),g&2064&&(R.active=we(c[4].url.pathname,Ke(c[11]))),w.$set(R)},i(c){h||(m(t.$$.fragment,c),m(e.$$.fragment,c),m(o.$$.fragment,c),m(i.$$.fragment,c),m(a.$$.fragment,c),m(_.$$.fragment,c),m(w.$$.fragment,c),h=!0)},o(c){p(t.$$.fragment,c),p(e.$$.fragment,c),p(o.$$.fragment,c),p(i.$$.fragment,c),p(a.$$.fragment,c),p(_.$$.fragment,c),p(w.$$.fragment,c),h=!1},d(c){c&&($(n),$(l),$(f),$(s),$(u),$(b)),T(t,c),T(e,c),T(o,c),T(i,c),T(a,c),T(_,c),T(w,c)}}}function Po(r){let t,n;return t=new Tl({props:{class:"flex flex-wrap gap-6 pt-2",label:"workflow detail",$$slots:{default:[So]},$$scope:{ctx:r}}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l&16783921&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){n||(m(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function Ro(r){var oe,pe;let t,n,e,l,o,f,i,s,a,u,_,b,w,h,c,g,v,S,d,k,W,N,R,H,U,ee,Z,F,G,Q,fe,B;e=new Oe({props:{href:`${et({namespace:r[1]})}?${r[14]}`,"data-testid":"back-to-workflows",icon:"chevron-left",$$slots:{default:[go]},$$scope:{ctx:r}}});let V=r[13]&&Dn(r);u=new bl({props:{status:(oe=r[0])==null?void 0:oe.status,big:!0}}),w=new In({props:{isRunning:r[10],cancelInProgress:r[8],workflow:r[0],namespace:r[1]}}),v=new Bn({props:{copyIconTitle:A("common.copy-icon-title"),copySuccessIconTitle:A("common.copy-success-icon-title"),content:(pe=r[0])==null?void 0:pe.id,clickAllToCopy:!0,"container-class":"w-full",class:"overflow-hidden text-ellipsis text-left"}});let z=r[6]&&Tn(r);W=new In({props:{isRunning:r[10],cancelInProgress:r[8],workflow:r[0],namespace:r[1]}}),R=new $r({}),U=new mr({}),Z=new Xl({props:{workflow:r[0]}});let le=r[8]&&Cn(r),M=r[7]&&Wn(r);return fe=new Dl({props:{$$slots:{default:[Po]},$$scope:{ctx:r}}}),{c(){t=y("div"),n=y("div"),I(e.$$.fragment),l=j(),V&&V.c(),o=j(),f=y("header"),i=y("div"),s=y("div"),a=y("div"),I(u.$$.fragment),_=j(),b=y("div"),I(w.$$.fragment),h=j(),c=y("div"),g=y("h1"),I(v.$$.fragment),S=j(),z&&z.c(),d=j(),k=y("div"),I(W.$$.fragment),N=j(),I(R.$$.fragment),H=j(),I(U.$$.fragment),ee=j(),I(Z.$$.fragment),F=j(),le&&le.c(),G=j(),M&&M.c(),Q=j(),I(fe.$$.fragment),this.h()},l(C){t=J(C,"DIV",{class:!0});var K=Y(t);n=J(K,"DIV",{class:!0});var be=Y(n);E(e.$$.fragment,be),l=O(be),V&&V.l(be),be.forEach($),K.forEach($),o=O(C),f=J(C,"HEADER",{class:!0});var ce=Y(f);i=J(ce,"DIV",{class:!0});var $e=Y(i);s=J($e,"DIV",{class:!0});var De=Y(s);a=J(De,"DIV",{class:!0});var ve=Y(a);E(u.$$.fragment,ve),_=O(ve),b=J(ve,"DIV",{class:!0});var Ce=Y(b);E(w.$$.fragment,Ce),Ce.forEach($),ve.forEach($),h=O(De),c=J(De,"DIV",{class:!0});var Te=Y(c);g=J(Te,"H1",{"data-testid":!0,class:!0});var We=Y(g);E(v.$$.fragment,We),We.forEach($),S=O(Te),z&&z.l(Te),Te.forEach($),De.forEach($),d=O($e),k=J($e,"DIV",{class:!0});var Se=Y(k);E(W.$$.fragment,Se),Se.forEach($),$e.forEach($),N=O(ce),E(R.$$.fragment,ce),H=O(ce),E(U.$$.fragment,ce),ee=O(ce),E(Z.$$.fragment,ce),F=O(ce),le&&le.l(ce),G=O(ce),M&&M.l(ce),Q=O(ce),E(fe.$$.fragment,ce),ce.forEach($),this.h()},h(){L(n,"class","flex items-center gap-2"),L(t,"class","flex items-center justify-between pb-4"),L(b,"class","lg:hidden"),L(a,"class","flex flex-wrap items-center justify-between gap-4 max-lg:w-full"),L(g,"data-testid","workflow-id-heading"),L(g,"class","gap-0 overflow-hidden max-sm:text-xl sm:max-md:text-2xl"),L(c,"class","flex flex-col flex-wrap gap-0"),L(s,"class","flex w-full flex-col items-start gap-4 lg:flex-row lg:items-center"),L(k,"class","max-lg:hidden"),L(i,"class","flex flex-col items-center justify-between gap-4 lg:flex-row"),L(f,"class","flex flex-col gap-2")},m(C,K){P(C,t,K),q(t,n),D(e,n,null),q(n,l),V&&V.m(n,null),P(C,o,K),P(C,f,K),q(f,i),q(i,s),q(s,a),D(u,a,null),q(a,_),q(a,b),D(w,b,null),q(s,h),q(s,c),q(c,g),D(v,g,null),q(c,S),z&&z.m(c,null),q(i,d),q(i,k),D(W,k,null),q(f,N),D(R,f,null),q(f,H),D(U,f,null),q(f,ee),D(Z,f,null),q(f,F),le&&le.m(f,null),q(f,G),M&&M.m(f,null),q(f,Q),D(fe,f,null),B=!0},p(C,[K]){var We,Se;const be={};K&16386&&(be.href=`${et({namespace:C[1]})}?${C[14]}`),K&16785408&&(be.$$scope={dirty:K,ctx:C}),e.$set(be),C[13]?V?(V.p(C,K),K&8192&&m(V,1)):(V=Dn(C),V.c(),m(V,1),V.m(n,null)):V&&(te(),p(V,1,1,()=>{V=null}),ne());const ce={};K&1&&(ce.status=(We=C[0])==null?void 0:We.status),u.$set(ce);const $e={};K&1024&&($e.isRunning=C[10]),K&256&&($e.cancelInProgress=C[8]),K&1&&($e.workflow=C[0]),K&2&&($e.namespace=C[1]),w.$set($e);const De={};K&1&&(De.content=(Se=C[0])==null?void 0:Se.id),v.$set(De),C[6]?z?(z.p(C,K),K&64&&m(z,1)):(z=Tn(C),z.c(),m(z,1),z.m(c,null)):z&&(te(),p(z,1,1,()=>{z=null}),ne());const ve={};K&1024&&(ve.isRunning=C[10]),K&256&&(ve.cancelInProgress=C[8]),K&1&&(ve.workflow=C[0]),K&2&&(ve.namespace=C[1]),W.$set(ve);const Ce={};K&1&&(Ce.workflow=C[0]),Z.$set(Ce),C[8]?le?(le.p(C,K),K&256&&m(le,1)):(le=Cn(C),le.c(),m(le,1),le.m(f,G)):le&&(te(),p(le,1,1,()=>{le=null}),ne()),C[7]?M?(M.p(C,K),K&128&&m(M,1)):(M=Wn(C),M.c(),m(M,1),M.m(f,Q)):M&&(te(),p(M,1,1,()=>{M=null}),ne());const Te={};K&16783921&&(Te.$$scope={dirty:K,ctx:C}),fe.$set(Te)},i(C){B||(m(e.$$.fragment,C),m(V),m(u.$$.fragment,C),m(w.$$.fragment,C),m(v.$$.fragment,C),m(z),m(W.$$.fragment,C),m(R.$$.fragment,C),m(U.$$.fragment,C),m(Z.$$.fragment,C),m(le),m(M),m(fe.$$.fragment,C),B=!0)},o(C){p(e.$$.fragment,C),p(V),p(u.$$.fragment,C),p(w.$$.fragment,C),p(v.$$.fragment,C),p(z),p(W.$$.fragment,C),p(R.$$.fragment,C),p(U.$$.fragment,C),p(Z.$$.fragment,C),p(le),p(M),p(fe.$$.fragment,C),B=!1},d(C){C&&($(t),$(o),$(f)),T(e),V&&V.d(),T(u),T(w),T(v),z&&z.d(),T(W),T(R),T(U),T(Z),le&&le.d(),M&&M.d(),T(fe)}}}function Vo(r,t,n){let e,l,o,f,i,s,a,u,_,b,w,h,c,g,v,S,d,k,W;re(r,Cl,Z=>n(22,g=Z)),re(r,Xe,Z=>n(23,v=Z)),re(r,yn,Z=>n(2,S=Z)),re(r,Ee,Z=>n(3,d=Z)),re(r,Ae,Z=>n(4,k=Z)),re(r,An,Z=>n(14,W=Z));var N,R,H,U,ee;return r.$$.update=()=>{r.$$.dirty&16&&n(1,{namespace:e,workflow:l,run:o,id:f}=k.params,e,(n(21,l),n(4,k)),(n(20,o),n(4,k)),(n(13,f),n(4,k))),r.$$.dirty&8&&n(0,{workflow:i,workers:s}=d,i,(n(12,s),n(3,d))),r.$$.dirty&3145730&&n(11,a={namespace:e,workflow:l,run:o}),r.$$.dirty&32776&&n(10,u=n(15,N=d==null?void 0:d.workflow)===null||N===void 0?void 0:N.isRunning),r.$$.dirty&65544&&n(9,_=["Terminated","TimedOut","Canceled"].includes(n(16,R=d.workflow)===null||R===void 0?void 0:R.status)),r.$$.dirty&8519688&&n(8,b=_o(n(17,H=d==null?void 0:d.workflow)===null||H===void 0?void 0:H.status,v)),r.$$.dirty&1048580&&n(7,w=Sl(S,o)),r.$$.dirty&786433&&n(6,h=n(18,U=i==null?void 0:i.assignedBuildId)!==null&&U!==void 0?U:n(19,ee=i==null?void 0:i.mostRecentWorkerVersionStamp)===null||ee===void 0?void 0:ee.useVersioning),r.$$.dirty&12582913&&n(5,c=Wl(i,v,g))},[i,e,S,d,k,c,h,w,b,_,u,a,s,f,W,N,R,H,U,ee,o,l,g,v]}class Mo extends he{constructor(t){super(),ke(this,t,Vo,Ro,ge,{})}}function Ao(r){let t,n,e,l,o;const f=[Uo,Bo,qo],i=[];function s(a,u){return a[1]?0:a[0].workflow?2:1}return n=s(r),e=i[n]=f[n](r),{c(){t=y("div"),e.c(),this.h()},l(a){t=J(a,"DIV",{class:!0});var u=Y(t);e.l(u),u.forEach($),this.h()},h(){L(t,"class",l="absolute bottom-0 left-0 right-0 "+(r[5]?"top-[540px]":"top-0")+" flex h-full flex-col")},m(a,u){P(a,t,u),i[n].m(t,null),o=!0},p(a,u){let _=n;n=s(a),n===_?i[n].p(a,u):(te(),p(i[_],1,1,()=>{i[_]=null}),ne(),e=i[n],e?e.p(a,u):(e=i[n]=f[n](a),e.c()),m(e,1),e.m(t,null)),(!o||u&32&&l!==(l="absolute bottom-0 left-0 right-0 "+(a[5]?"top-[540px]":"top-0")+" flex h-full flex-col"))&&L(t,"class",l)},i(a){o||(m(e),o=!0)},o(a){p(e),o=!1},d(a){a&&$(t),i[n].d()}}}function No(r){let t,n,e,l=ut(r[2],null,2)+"",o,f;return n=new tl({props:{copyIconTitle:A("common.copy-icon-title"),copySuccessIconTitle:A("common.copy-success-icon-title"),class:"absolute right-1 top-1",copied:r[4]}}),n.$on("click",r[7]),{c(){t=y("div"),I(n.$$.fragment),e=j(),o=X(l),this.h()},l(i){t=J(i,"DIV",{class:!0});var s=Y(t);E(n.$$.fragment,s),e=O(s),o=x(s,l),s.forEach($),this.h()},h(){L(t,"class","relative h-auto whitespace-break-spaces break-words bg-primary p-4")},m(i,s){P(i,t,s),D(n,t,null),q(t,e),q(t,o),f=!0},p(i,s){const a={};s&16&&(a.copied=i[4]),n.$set(a),(!f||s&4)&&l!==(l=ut(i[2],null,2)+"")&&me(o,l)},i(i){f||(m(n.$$.fragment,i),f=!0)},o(i){p(n.$$.fragment,i),f=!1},d(i){i&&$(t),T(n)}}}function qo(r){let t,n,e,l;n=new Mo({});const o=r[16].default,f=qe(o,r,r[15],null);return{c(){t=y("div"),I(n.$$.fragment),e=j(),f&&f.c(),this.h()},l(i){t=J(i,"DIV",{class:!0});var s=Y(t);E(n.$$.fragment,s),s.forEach($),e=O(i),f&&f.l(i),this.h()},h(){L(t,"class","border-b border-subtle px-4 pt-8 md:pt-20 xl:px-8")},m(i,s){P(i,t,s),D(n,t,null),P(i,e,s),f&&f.m(i,s),l=!0},p(i,s){f&&f.p&&(!l||s&32768)&&Be(f,o,i,i[15],l?Fe(o,i[15],s,null):Ue(i[15]),null)},i(i){l||(m(n.$$.fragment,i),m(f,i),l=!0)},o(i){p(n.$$.fragment,i),p(f,i),l=!1},d(i){i&&($(t),$(e)),T(n),f&&f.d(i)}}}function Bo(r){let t,n;return t=new nl({props:{class:"pt-24"}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p:de,i(e){n||(m(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function Uo(r){let t,n;return t=new Bl({props:{error:r[1]}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,l){const o={};l&2&&(o.error=e[1]),t.$set(o)},i(e){n||(m(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function Fo(r){let t,n,e,l;const o=[No,Ao],f=[];function i(s,a){return s[3]?0:1}return t=i(r),n=f[t]=o[t](r),{c(){n.c(),e=se()},l(s){n.l(s),e=se()},m(s,a){f[t].m(s,a),P(s,e,a),l=!0},p(s,[a]){let u=t;t=i(s),t===u?f[t].p(s,a):(te(),p(f[u],1,1,()=>{f[u]=null}),ne(),n=f[t],n?n.p(s,a):(n=f[t]=o[t](s),n.c()),m(n,1),n.m(e.parentNode,e))},i(s){l||(m(n),l=!0)},o(s){p(n),l=!1},d(s){s&&$(e),f[t].d(s)}}}function Ho(r,t,n){let e,l,o,f,i,s,a,u,_,b,w,h,c,g,v,S;re(r,Mt,V=>n(19,s=V)),re(r,Ae,V=>n(11,a=V)),re(r,pl,V=>n(12,u=V)),re(r,Xe,V=>n(13,_=V)),re(r,At,V=>n(20,b=V)),re(r,Le,V=>n(14,w=V)),re(r,Ee,V=>n(0,h=V)),re(r,Nt,V=>n(21,c=V)),re(r,Hn,V=>n(22,g=V)),re(r,Kn,V=>n(5,S=V));let{$$slots:d={},$$scope:k}=t,W,N,R;const{copy:H,copied:U}=Ml();re(r,U,V=>n(4,v=V));const ee=V=>{H(V,ut(i))},Z=async V=>{const z={summary:"",details:""};try{if(V!=null&&V.summary){const le=await qt(V.summary);typeof le=="string"&&(z.summary=le)}if(V!=null&&V.details){const le=await qt(V.details);typeof le=="string"&&(z.details=le)}_e(Ee,h={...h,userMetadata:z},h)}catch(le){console.error("Error decoding user metadata",le)}},F=async(V,z,le)=>{const{settings:M}=a.data,{workflow:oe,error:pe}=await Wt({namespace:V,workflowId:z,runId:le});if(pe){n(1,W=pe);return}await Z(oe);const{taskQueue:C}=oe,K=await El({queue:C,namespace:V});_e(Ee,h={...h,workflow:oe,workers:K},h),N=new AbortController,oe.isRunning&&Fn({namespace:V,workflow:{id:z,runId:le}},M,g==null?void 0:g.accessToken,N.signal).then(be=>{_e(Ee,h.metadata=be,h)}),_e(Xe,_=await Rl({namespace:V,workflowId:z,runId:le,sort:"ascending",signal:N.signal,historySize:oe.historyEvents}),_)},G=async V=>{var z;if(V&&(!((z=h==null?void 0:h.workflow)===null||z===void 0)&&z.isRunning)){const{workflow:le,error:M}=await Wt({namespace:e,workflowId:l,runId:o});if(M){n(1,W=M);return}_e(Ee,h.workflow=le,h)}},Q=()=>{_e(Xe,_=[],_),N&&N.abort()},fe=()=>{_e(Nt,c=null,c),_e(Ee,h=sl,h),n(1,W=void 0),Q(),Vl(),clearInterval(R),R=null},B=(V,z)=>{z||_e(At,b=V,b)};return Gn(()=>{const V=a.url.searchParams.get("sort");V&&_e(Mt,s=V,s),R=setInterval(()=>{Pl()},1e4)}),Vn(()=>{fe()}),r.$$set=V=>{"$$scope"in V&&n(15,k=V.$$scope)},r.$$.update=()=>{r.$$.dirty&2048&&n(10,{namespace:e,workflow:l,run:o}=a.params,e,(n(9,l),n(11,a)),(n(8,o),n(11,a))),r.$$.dirty&2048&&n(3,f=a.url.searchParams.has("json")),r.$$.dirty&8193&&n(2,i={...h,eventHistory:_}),r.$$.dirty&256&&fe(),r.$$.dirty&1792&&F(e,l,o),r.$$.dirty&16384&&G(w),r.$$.dirty&12288&&B(_,u)},[h,W,i,f,v,S,U,ee,o,l,e,a,u,_,w,k,d]}class jo extends he{constructor(t){super(),ke(this,t,Ho,Fo,ge,{})}}const Jn={namespace:null,workflowId:null,runId:null,rawPayloads:null,sort:null},Oo=lt(Jn),Qo=()=>{Oo.set(Jn)};function Lo(r){let t;const n=r[0].default,e=qe(n,r,r[1],null);return{c(){e&&e.c()},l(l){e&&e.l(l)},m(l,o){e&&e.m(l,o),t=!0},p(l,o){e&&e.p&&(!t||o&2)&&Be(e,n,l,l[1],t?Fe(n,l[1],o,null):Ue(l[1]),null)},i(l){t||(m(e,l),t=!0)},o(l){p(e,l),t=!1},d(l){e&&e.d(l)}}}function zo(r){let t,n;return t=new jo({props:{$$slots:{default:[Lo]},$$scope:{ctx:r}}}),{c(){I(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,l){D(t,e,l),n=!0},p(e,[l]){const o={};l&2&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){n||(m(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function yo(r,t,n){let{$$slots:e={},$$scope:l}=t;return Vn(()=>{Qo()}),r.$$set=o=>{"$$scope"in o&&n(1,l=o.$$scope)},[e,l]}class es extends he{constructor(t){super(),ke(this,t,yo,zo,ge,{})}}export{es as component};
