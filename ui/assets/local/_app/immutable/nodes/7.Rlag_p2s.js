import{s as be,h as L,b as j,t as K,j as z,k as y,f as $,d as O,l as X,m as H,i as R,n as q,q as ie,c as te,v as we,D as Ke,z as Oe,A as wn,H as Be,x as pe,O as ae,Q as ue,R as tt,w as ge,y as ot,Z as Mn,a as Re,E as vt,p as et,F as It,u as Ve,g as Me,e as Ne,M as st,G as Nn,B as Et,W as qn,P as $n}from"../chunks/scheduler.D6mQsyhd.js";import{S as ve,i as Ie,c as T,a as D,m as C,t as m,b as g,d as A,g as re,e as le,h as ce,j as Tt,f as hn}from"../chunks/index.CDeUyeTp.js";import{p as Qe}from"../chunks/stores.C1dFKPzG.js";import{v as Bn}from"../chunks/data-encoder-settings.DzOkUcjD.js";import{L as He}from"../chunks/link.DiXm7RoM.js";import{t as B}from"../chunks/translate.BBe5dcco.js";import{c as kn,l as Fn,p as Hn,u as Un,v as Dt}from"../chunks/workflows.DOlEX0kj.js";import{e as Xe,s as Ct,u as qe,v as At,w as Pt,b as Se,x as ze,y as ye,c as Je,z as Ye,A as Ge}from"../chunks/route-for.CdpMPy67.js";import{B as jn}from"../chunks/button.CMCauGF-.js";import{L as On}from"../chunks/loading.azOfDUyA.js";import{s as St,a as bn}from"../chunks/index.2cpoF_sa.js";import{f as ke,r as Qn,t as Ln}from"../chunks/time-format.BtXG71hL.js";import{w as De,r as Le,i as zn}from"../chunks/workflow-run.D66rzwqz.js";import{o as yn}from"../chunks/format-time.Dn4a2B__.js";import{C as vn}from"../chunks/index.D_8EhN1j.js";import{I as Ue}from"../chunks/icon.CtaBeVFP.js";import{T as ft}from"../chunks/tooltip.DUbZaUub.js";import{e as Fe}from"../chunks/each.5YhwczXz.js";import{w as it,g as Wt}from"../chunks/entry.BsSG9Ybs.js";import{w as Jn,a as Yn,b as Gn,C as Zn,T as Kn}from"../chunks/workflow-terminate-enabled.CXDw9u8Y.js";import{C as nt,M as In}from"../chunks/checkbox.Wg4sn3-U.js";import{I as En}from"../chunks/input.DQyuW9s1.js";import{M as Tn}from"../chunks/modal.mn4DjezQ.js";import{S as Dn,O as at}from"../chunks/option.GFLbXUvI.js";import{r as Cn,f as Ze,b as Rt,p as Xn,g as Vt,t as Mt}from"../chunks/events.DEULPzUW.js";import{p as xn}from"../chunks/persist-store.e7EVeTzr.js";import{t as er}from"../chunks/versions.DMP6hOk6.js";import{i as An}from"../chunks/is-network-error.DxxRlstw.js";import{m as tr}from"../chunks/route-for-api.DuC3xLE0.js";import{P as nr}from"../chunks/payload-input-with-encoding.DIU-Y-dE.js";import{t as rr,v as lr}from"../chunks/toaster.DJO58Fae.js";import{B as or}from"../chunks/button.DmHITWM1.js";import{d as ut}from"../chunks/menu.fhFVFw8W.js";import{S as Pn}from"../chunks/split-button.DiF-5Gmp.js";import{c as sr}from"../chunks/core-user.zxe5Ia_-.js";import{w as rt}from"../chunks/workflow-create-disabled.DK_mbl5r.js";import{W as fr}from"../chunks/workflow-status.Dm_OL6MI.js";import{C as ir}from"../chunks/compatibility-badge.gegmaqgP.js";import{k as ar,g as ur}from"../chunks/pollers-service._51iK2pz.js";import{g as cr}from"../chunks/spread.CgU5AtxT.js";import{A as Sn}from"../chunks/alert.Bf_ts7FD.js";import{B as xe}from"../chunks/badge.BRSKsVh1.js";import{M as ct}from"../chunks/markdown.BgvX6hHk.js";import{T as mr,a as pr,b as We}from"../chunks/tab.CxuVgGXE.js";import{n as _r}from"../chunks/namespaces.Hhre411L.js";import{g as dr}from"../chunks/get-workflow-relationships.iud_1sqx.js";import{h as gr}from"../chunks/has.BnvKvYqj.js";import{e as wr,d as $r,a as Nt}from"../chunks/decode-payload.Bc4LqTzy.js";import{t as hr,f as kr}from"../chunks/events-service.C7kgngRf.js";import{b as br}from"../chunks/query-service.DPniAjNL.js";import{a as vr}from"../chunks/auth-user.B5-ZL2My.js";import{r as Ir}from"../chunks/data-encoder-config.DhzKi0lQ.js";import{c as Er}from"../chunks/copy-to-clipboard.OWtGqshy.js";import{s as lt}from"../chunks/parse-with-big-int.Dyr6jPtv.js";function Tr(l){let e=B("workflows.back-to-workflows")+"",n;return{c(){n=K(e)},l(t){n=X(t,e)},m(t,r){R(t,n,r)},p:we,d(t){t&&$(n)}}}function Dr(l){var k,W;let e,n,t,r,s,o,f=(((k=l[0])==null?void 0:k.statusCode)??"500")+"",i,a,c,_,b,d,w=(((W=l[0])==null?void 0:W.statusText)??"")+"",u,p;return t=new He({props:{href:`${Xe({namespace:l[2]})}?${l[3]}`,"data-testid":"back-to-workflows",icon:"chevron-left",$$slots:{default:[Tr]},$$scope:{ctx:l}}}),{c(){e=L("header"),n=L("div"),T(t.$$.fragment),r=j(),s=L("div"),o=L("h1"),i=K(f),a=j(),c=L("p"),_=K(l[1]),b=j(),d=L("p"),u=K(w),this.h()},l(v){e=z(v,"HEADER",{class:!0});var h=y(e);n=z(h,"DIV",{class:!0});var U=y(n);D(t.$$.fragment,U),U.forEach($),h.forEach($),r=O(v),s=z(v,"DIV",{class:!0});var F=y(s);o=z(F,"H1",{class:!0});var Y=y(o);i=X(Y,f),Y.forEach($),a=O(F),c=z(F,"P",{class:!0});var G=y(c);_=X(G,l[1]),G.forEach($),b=O(F),d=z(F,"P",{class:!0});var ne=y(d);u=X(ne,w),ne.forEach($),F.forEach($),this.h()},h(){H(n,"class","mb-4 block"),H(e,"class","mb-4 flex flex-col gap-1"),H(o,"class","leading-0 text-[12rem] font-semibold"),H(c,"class","-mt-12 text-lg"),H(d,"class","text-2xl font-bold text-red-700"),H(s,"class","text-center align-middle")},m(v,h){R(v,e,h),q(e,n),C(t,n,null),R(v,r,h),R(v,s,h),q(s,o),q(o,i),q(s,a),q(s,c),q(c,_),q(s,b),q(s,d),q(d,u),p=!0},p(v,[h]){var F,Y;const U={};h&12&&(U.href=`${Xe({namespace:v[2]})}?${v[3]}`),h&32&&(U.$$scope={dirty:h,ctx:v}),t.$set(U),(!p||h&1)&&f!==(f=(((F=v[0])==null?void 0:F.statusCode)??"500")+"")&&ie(i,f),(!p||h&2)&&ie(_,v[1]),(!p||h&1)&&w!==(w=(((Y=v[0])==null?void 0:Y.statusText)??"")+"")&&ie(u,w)},i(v){p||(m(t.$$.fragment,v),p=!0)},o(v){g(t.$$.fragment,v),p=!1},d(v){v&&($(e),$(r),$(s)),A(t)}}}function Cr(l,e,n){let t,r,s,o;te(l,Qe,i=>n(4,s=i)),te(l,kn,i=>n(3,o=i));let{error:f}=e;return l.$$set=i=>{"error"in i&&n(0,f=i.error)},l.$$.update=()=>{l.$$.dirty&16&&n(2,{namespace:t}=s.params,t),l.$$.dirty&1&&n(1,r=f.statusCode===404?B("workflows.workflow-404-title"):B("workflows.workflow-error-title"))},[f,r,t,o,s]}class Ar extends ve{constructor(e){super(),Ie(this,e,Cr,Dr,be,{error:0})}}function qt(l){let e,n;return{c(){e=L("span"),n=K(l[0]),this.h()},l(t){e=z(t,"SPAN",{class:!0});var r=y(e);n=X(r,l[0]),r.forEach($),this.h()},h(){H(e,"class","font-mono")},m(t,r){R(t,e,r),q(e,n)},p(t,r){r&1&&ie(n,t[0])},d(t){t&&$(e)}}}function Bt(l){let e,n;return e=new Ue({props:{name:l[5]}}),{c(){T(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,r){C(e,t,r),n=!0},p(t,r){const s={};r&32&&(s.name=t[5]),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){A(e,t)}}}function Pr(l){let e,n;return e=new ft({props:{text:l[6],hide:!l[6],top:!0,$$slots:{default:[Rr]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,r){C(e,t,r),n=!0},p(t,r){const s={};r&64&&(s.text=t[6]),r&64&&(s.hide=!t[6]),r&642&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){A(e,t)}}}function Sr(l){let e,n;return e=new He({props:{href:l[4],class:"value truncate rounded-sm p-1 leading-4 "+(l[7]&&"surface-subtle"),$$slots:{default:[Vr]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,r){C(e,t,r),n=!0},p(t,r){const s={};r&16&&(s.href=t[4]),r&128&&(s.class="value truncate rounded-sm p-1 leading-4 "+(t[7]&&"surface-subtle")),r&514&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){A(e,t)}}}function Wr(l){let e,n;return e=new vn({props:{copyIconTitle:B("common.copy-icon-title"),copySuccessIconTitle:B("common.copy-success-icon-title"),content:l[1],visible:!0,"container-class":"gap-1 w-full justify-end",$$slots:{default:[Fr]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,r){C(e,t,r),n=!0},p(t,r){const s={};r&2&&(s.content=t[1]),r&730&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){A(e,t)}}}function Rr(l){let e,n;return{c(){e=L("span"),n=K(l[1]),this.h()},l(t){e=z(t,"SPAN",{class:!0});var r=y(e);n=X(r,l[1]),r.forEach($),this.h()},h(){H(e,"class","w-fit select-all truncate rounded-sm p-1 leading-4"),Be(e,"surface-subtle",l[7])},m(t,r){R(t,e,r),q(e,n)},p(t,r){r&2&&ie(n,t[1]),r&128&&Be(e,"surface-subtle",t[7])},d(t){t&&$(e)}}}function Vr(l){let e;return{c(){e=K(l[1])},l(n){e=X(n,l[1])},m(n,t){R(n,e,t)},p(n,t){t&2&&ie(e,n[1])},d(n){n&&$(e)}}}function Mr(l){let e,n;return e=new ft({props:{text:l[6],hide:!l[6],top:!0,$$slots:{default:[qr]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,r){C(e,t,r),n=!0},p(t,r){const s={};r&64&&(s.text=t[6]),r&64&&(s.hide=!t[6]),r&642&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){A(e,t)}}}function Nr(l){let e,n;return e=new He({props:{href:l[4],class:"flex w-fit flex-row items-center gap-1 truncate rounded-sm p-1 leading-4 "+(l[7]&&"surface-subtle"),$$slots:{default:[Br]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,r){C(e,t,r),n=!0},p(t,r){const s={};r&16&&(s.href=t[4]),r&128&&(s.class="flex w-fit flex-row items-center gap-1 truncate rounded-sm p-1 leading-4 "+(t[7]&&"surface-subtle")),r&522&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){A(e,t)}}}function qr(l){let e,n;return{c(){e=L("span"),n=K(l[1]),this.h()},l(t){e=z(t,"SPAN",{class:!0});var r=y(e);n=X(r,l[1]),r.forEach($),this.h()},h(){H(e,"class","w-fit select-all truncate rounded-sm p-1 leading-4"),Be(e,"surface-subtle",l[7])},m(t,r){R(t,e,r),q(e,n)},p(t,r){r&2&&ie(n,t[1]),r&128&&Be(e,"surface-subtle",t[7])},d(t){t&&$(e)}}}function Ft(l){let e,n;return e=new Ue({props:{name:"filter",class:"shrink-0"}}),{c(){T(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,r){C(e,t,r),n=!0},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){A(e,t)}}}function Br(l){let e,n,t,r,s,o=l[3]&&Ft();return{c(){e=L("span"),n=K(l[1]),t=j(),o&&o.c(),r=pe(),this.h()},l(f){e=z(f,"SPAN",{class:!0});var i=y(e);n=X(i,l[1]),i.forEach($),t=O(f),o&&o.l(f),r=pe(),this.h()},h(){H(e,"class","truncate")},m(f,i){R(f,e,i),q(e,n),R(f,t,i),o&&o.m(f,i),R(f,r,i),s=!0},p(f,i){(!s||i&2)&&ie(n,f[1]),f[3]?o?i&8&&m(o,1):(o=Ft(),o.c(),m(o,1),o.m(r.parentNode,r)):o&&(re(),g(o,1,1,()=>{o=null}),le())},i(f){s||(m(o),s=!0)},o(f){g(o),s=!1},d(f){f&&($(e),$(t),$(r)),o&&o.d(f)}}}function Fr(l){let e,n,t,r;const s=[Nr,Mr],o=[];function f(i,a){return i[4]?0:1}return e=f(l),n=o[e]=s[e](l),{c(){n.c(),t=pe()},l(i){n.l(i),t=pe()},m(i,a){o[e].m(i,a),R(i,t,a),r=!0},p(i,a){let c=e;e=f(i),e===c?o[e].p(i,a):(re(),g(o[c],1,1,()=>{o[c]=null}),le(),n=o[e],n?n.p(i,a):(n=o[e]=s[e](i),n.c()),m(n,1),n.m(t.parentNode,t))},i(i){r||(m(n),r=!0)},o(i){g(n),r=!1},d(i){i&&$(t),o[e].d(i)}}}function Hr(l){let e,n,t,r,s,o,f,i=l[0]&&qt(l),a=l[5]&&Bt(l);const c=[Wr,Sr,Pr],_=[];function b(d,w){return d[2]?0:d[4]?1:2}return r=b(l),s=_[r]=c[r](l),{c(){e=L("p"),i&&i.c(),n=j(),a&&a.c(),t=j(),s.c(),this.h()},l(d){e=z(d,"P",{class:!0});var w=y(e);i&&i.l(w),n=O(w),a&&a.l(w),t=O(w),s.l(w),w.forEach($),this.h()},h(){H(e,"class",o="flex h-4 items-center justify-between gap-16 truncate whitespace-nowrap "+l[8].class)},m(d,w){R(d,e,w),i&&i.m(e,null),q(e,n),a&&a.m(e,null),q(e,t),_[r].m(e,null),f=!0},p(d,[w]){d[0]?i?i.p(d,w):(i=qt(d),i.c(),i.m(e,n)):i&&(i.d(1),i=null),d[5]?a?(a.p(d,w),w&32&&m(a,1)):(a=Bt(d),a.c(),m(a,1),a.m(e,t)):a&&(re(),g(a,1,1,()=>{a=null}),le());let u=r;r=b(d),r===u?_[r].p(d,w):(re(),g(_[u],1,1,()=>{_[u]=null}),le(),s=_[r],s?s.p(d,w):(s=_[r]=c[r](d),s.c()),m(s,1),s.m(e,null)),(!f||w&256&&o!==(o="flex h-4 items-center justify-between gap-16 truncate whitespace-nowrap "+d[8].class))&&H(e,"class",o)},i(d){f||(m(a),m(s),f=!0)},o(d){g(a),g(s),f=!1},d(d){d&&$(e),i&&i.d(),a&&a.d(),_[r].d()}}}function Ur(l,e,n){const t=["title","content","copyable","filterable","href","icon","tooltip","badge"];let r=Ke(e,t),{title:s=""}=e,{content:o}=e,{copyable:f=!1}=e,{filterable:i=!1}=e,{href:a=null}=e,{icon:c=void 0}=e,{tooltip:_=""}=e,{badge:b=!1}=e;return l.$$set=d=>{e=Oe(Oe({},e),wn(d)),n(8,r=Ke(e,t)),"title"in d&&n(0,s=d.title),"content"in d&&n(1,o=d.content),"copyable"in d&&n(2,f=d.copyable),"filterable"in d&&n(3,i=d.filterable),"href"in d&&n(4,a=d.href),"icon"in d&&n(5,c=d.icon),"tooltip"in d&&n(6,_=d.tooltip),"badge"in d&&n(7,b=d.badge)},[s,o,f,i,a,c,_,b,r]}class Pe extends ve{constructor(e){super(),Ie(this,e,Ur,Hr,be,{title:0,content:1,copyable:2,filterable:3,href:4,icon:5,tooltip:6,badge:7})}}function Ht(l){var t,r,s,o,f,i;let e,n;return e=new Pe({props:{title:B("workflows.parent-workflow"),content:(r=(t=l[0])==null?void 0:t.parent)==null?void 0:r.workflowId,href:At({namespace:l[3],workflow:(o=(s=l[0])==null?void 0:s.parent)==null?void 0:o.workflowId,run:(i=(f=l[0])==null?void 0:f.parent)==null?void 0:i.runId})}}),{c(){T(e.$$.fragment)},l(a){D(e.$$.fragment,a)},m(a,c){C(e,a,c),n=!0},p(a,c){var b,d,w,u,p,k;const _={};c&1&&(_.content=(d=(b=a[0])==null?void 0:b.parent)==null?void 0:d.workflowId),c&9&&(_.href=At({namespace:a[3],workflow:(u=(w=a[0])==null?void 0:w.parent)==null?void 0:u.workflowId,run:(k=(p=a[0])==null?void 0:p.parent)==null?void 0:k.runId})),e.$set(_)},i(a){n||(m(e.$$.fragment,a),n=!0)},o(a){g(e.$$.fragment,a),n=!1},d(a){A(e,a)}}}function jr(l){var U,F,Y,G,ne,ee,se,oe,S,E,J,N,I,V,Z;let e,n,t,r,s,o,f,i,a,c,_,b,d,w,u,p,k,W,v;t=new Pe({props:{title:B("common.start"),tooltip:l[4]?ke((U=l[0])==null?void 0:U.startTime,l[5],{relative:!1}):ke((F=l[0])==null?void 0:F.startTime,l[5],{relative:!0}),content:ke((Y=l[0])==null?void 0:Y.startTime,l[5],{relative:l[4]})}}),s=new Pe({props:{title:B("common.end"),tooltip:l[4]?ke((G=l[0])==null?void 0:G.endTime,l[5],{relative:!1}):ke((ne=l[0])==null?void 0:ne.endTime,l[5],{relative:!0}),content:(ee=l[0])!=null&&ee.endTime?ke((se=l[0])==null?void 0:se.endTime,l[5],{relative:l[4]}):"-"}}),f=new Pe({props:{content:l[2],icon:"clock"}}),c=new Pe({props:{title:B("common.run-id"),content:(oe=l[0])==null?void 0:oe.runId,copyable:!0}}),b=new Pe({props:{title:B("common.workflow-type"),content:(S=l[0])==null?void 0:S.name,copyable:!0,filterable:!0,href:Ct({namespace:l[3],query:`WorkflowType="${(E=l[0])==null?void 0:E.name}"`})}}),w=new Pe({props:{title:B("common.task-queue"),content:(J=l[0])==null?void 0:J.taskQueue,href:qe({namespace:l[1].params.namespace,workflow:(N=l[0])==null?void 0:N.id,run:(I=l[0])==null?void 0:I.runId})}});let h=((V=l[0])==null?void 0:V.parent)&&Ht(l);return W=new Pe({props:{title:B("common.history-size-bytes"),content:(Z=l[0])==null?void 0:Z.historySizeBytes}}),{c(){e=L("div"),n=L("div"),T(t.$$.fragment),r=j(),T(s.$$.fragment),o=j(),T(f.$$.fragment),i=j(),a=L("div"),T(c.$$.fragment),_=j(),T(b.$$.fragment),d=j(),T(w.$$.fragment),u=j(),p=L("div"),h&&h.c(),k=j(),T(W.$$.fragment),this.h()},l(P){e=z(P,"DIV",{class:!0});var x=y(e);n=z(x,"DIV",{class:!0});var me=y(n);D(t.$$.fragment,me),r=O(me),D(s.$$.fragment,me),o=O(me),D(f.$$.fragment,me),me.forEach($),i=O(x),a=z(x,"DIV",{class:!0});var M=y(a);D(c.$$.fragment,M),_=O(M),D(b.$$.fragment,M),d=O(M),D(w.$$.fragment,M),M.forEach($),u=O(x),p=z(x,"DIV",{class:!0});var Q=y(p);h&&h.l(Q),k=O(Q),D(W.$$.fragment,Q),Q.forEach($),x.forEach($),this.h()},h(){H(n,"class","flex w-full flex-col gap-2 xl:w-1/3"),H(a,"class","flex w-full flex-col gap-2 xl:w-1/3"),H(p,"class","flex w-full flex-col gap-2 xl:w-1/3"),H(e,"class","flex w-full flex-col gap-2 xl:flex-row xl:gap-16")},m(P,x){R(P,e,x),q(e,n),C(t,n,null),q(n,r),C(s,n,null),q(n,o),C(f,n,null),q(e,i),q(e,a),C(c,a,null),q(a,_),C(b,a,null),q(a,d),C(w,a,null),q(e,u),q(e,p),h&&h.m(p,null),q(p,k),C(W,p,null),v=!0},p(P,[x]){var he,Ce,Te,Ae,je,mt,pt,_t,dt,gt,wt,$t,ht,kt,bt;const me={};x&49&&(me.tooltip=P[4]?ke((he=P[0])==null?void 0:he.startTime,P[5],{relative:!1}):ke((Ce=P[0])==null?void 0:Ce.startTime,P[5],{relative:!0})),x&49&&(me.content=ke((Te=P[0])==null?void 0:Te.startTime,P[5],{relative:P[4]})),t.$set(me);const M={};x&49&&(M.tooltip=P[4]?ke((Ae=P[0])==null?void 0:Ae.endTime,P[5],{relative:!1}):ke((je=P[0])==null?void 0:je.endTime,P[5],{relative:!0})),x&49&&(M.content=(mt=P[0])!=null&&mt.endTime?ke((pt=P[0])==null?void 0:pt.endTime,P[5],{relative:P[4]}):"-"),s.$set(M);const Q={};x&4&&(Q.content=P[2]),f.$set(Q);const $e={};x&1&&($e.content=(_t=P[0])==null?void 0:_t.runId),c.$set($e);const fe={};x&1&&(fe.content=(dt=P[0])==null?void 0:dt.name),x&9&&(fe.href=Ct({namespace:P[3],query:`WorkflowType="${(gt=P[0])==null?void 0:gt.name}"`})),b.$set(fe);const _e={};x&1&&(_e.content=(wt=P[0])==null?void 0:wt.taskQueue),x&3&&(_e.href=qe({namespace:P[1].params.namespace,workflow:($t=P[0])==null?void 0:$t.id,run:(ht=P[0])==null?void 0:ht.runId})),w.$set(_e),(kt=P[0])!=null&&kt.parent?h?(h.p(P,x),x&1&&m(h,1)):(h=Ht(P),h.c(),m(h,1),h.m(p,k)):h&&(re(),g(h,1,1,()=>{h=null}),le());const Ee={};x&1&&(Ee.content=(bt=P[0])==null?void 0:bt.historySizeBytes),W.$set(Ee)},i(P){v||(m(t.$$.fragment,P),m(s.$$.fragment,P),m(f.$$.fragment,P),m(c.$$.fragment,P),m(b.$$.fragment,P),m(w.$$.fragment,P),m(h),m(W.$$.fragment,P),v=!0)},o(P){g(t.$$.fragment,P),g(s.$$.fragment,P),g(f.$$.fragment,P),g(c.$$.fragment,P),g(b.$$.fragment,P),g(w.$$.fragment,P),g(h),g(W.$$.fragment,P),v=!1},d(P){P&&$(e),A(t),A(s),A(f),A(c),A(b),A(w),h&&h.d(),A(W)}}}function Or(l,e,n){let t,r,s,o,f,i,a;return te(l,De,c=>n(6,o=c)),te(l,Qe,c=>n(1,f=c)),te(l,Qn,c=>n(4,i=c)),te(l,Ln,c=>n(5,a=c)),l.$$.update=()=>{l.$$.dirty&2&&n(3,{namespace:t}=f.params,t),l.$$.dirty&64&&n(0,{workflow:r}=o,r),l.$$.dirty&1&&n(2,s=yn({start:r==null?void 0:r.startTime,end:(r==null?void 0:r.endTime)||Date.now(),includeMilliseconds:!0}))},[r,f,s,t,i,a,o]}class Qr extends ve{constructor(e){super(),Ie(this,e,Or,jr,be,{})}}const Wn=xn("resetWorkflows",{});function Ut(l,e,n){const t=l.slice();return t[25]=e[n],t}function Lr(l){let e,n=B("workflows.reset-modal-title")+"",t;return{c(){e=L("h3"),t=K(n),this.h()},l(r){e=z(r,"H3",{slot:!0});var s=y(e);t=X(s,n),s.forEach($),this.h()},h(){H(e,"slot","title")},m(r,s){R(r,e,s),q(e,t)},p:we,d(r){r&&$(e)}}}function zr(l){let e=l[25].id+"",n,t,r=l[25].eventType+"",s;return{c(){n=K(e),t=K(" - "),s=K(r)},l(o){n=X(o,e),t=X(o," - "),s=X(o,r)},m(o,f){R(o,n,f),R(o,t,f),R(o,s,f)},p(o,f){f&512&&e!==(e=o[25].id+"")&&ie(n,e),f&512&&r!==(r=o[25].eventType+"")&&ie(s,r)},d(o){o&&($(n),$(t),$(s))}}}function jt(l){let e,n;return e=new at({props:{value:l[25].id,$$slots:{default:[zr]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,r){C(e,t,r),n=!0},p(t,r){const s={};r&512&&(s.value=t[25].id),r&268435968&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){A(e,t)}}}function yr(l){let e,n,t=Fe(l[9]),r=[];for(let o=0;o<t.length;o+=1)r[o]=jt(Ut(l,t,o));const s=o=>g(r[o],1,1,()=>{r[o]=null});return{c(){for(let o=0;o<r.length;o+=1)r[o].c();e=pe()},l(o){for(let f=0;f<r.length;f+=1)r[f].l(o);e=pe()},m(o,f){for(let i=0;i<r.length;i+=1)r[i]&&r[i].m(o,f);R(o,e,f),n=!0},p(o,f){if(f&512){t=Fe(o[9]);let i;for(i=0;i<t.length;i+=1){const a=Ut(o,t,i);r[i]?(r[i].p(a,f),m(r[i],1)):(r[i]=jt(a),r[i].c(),m(r[i],1),r[i].m(e.parentNode,e))}for(re(),i=t.length;i<r.length;i+=1)s(i);le()}},i(o){if(!n){for(let f=0;f<t.length;f+=1)m(r[f]);n=!0}},o(o){r=r.filter(Boolean);for(let f=0;f<r.length;f+=1)g(r[f]);n=!1},d(o){o&&$(e),ot(r,o)}}}function Jr(l){let e,n,t;function r(o){l[20](o)}let s={id:"reset-include-signals-checkbox","data-testid":"reset-include-signals-checkbox",label:B("workflows.reset-reapply-type-label")};return l[5]!==void 0&&(s.checked=l[5]),e=new nt({props:s}),ae.push(()=>ce(e,"checked",r)),{c(){T(e.$$.fragment)},l(o){D(e.$$.fragment,o)},m(o,f){C(e,o,f),t=!0},p(o,f){const i={};!n&&f&32&&(n=!0,i.checked=o[5],ue(()=>n=!1)),e.$set(i)},i(o){t||(m(e.$$.fragment,o),t=!0)},o(o){g(e.$$.fragment,o),t=!1},d(o){A(e,o)}}}function Yr(l){let e,n,t,r,s,o;function f(_){l[18](_)}let i={id:"reset-exclude-signals-checkbox","data-testid":"reset-exclude-signals-checkbox",label:B("workflows.reset-exclude-signals")};l[6]!==void 0&&(i.checked=l[6]),e=new nt({props:i}),ae.push(()=>ce(e,"checked",f));function a(_){l[19](_)}let c={id:"reset-exclude-updates-checkbox","data-testid":"reset-exclude-updates-checkbox",label:B("workflows.reset-exclude-updates")};return l[7]!==void 0&&(c.checked=l[7]),r=new nt({props:c}),ae.push(()=>ce(r,"checked",a)),{c(){T(e.$$.fragment),t=j(),T(r.$$.fragment)},l(_){D(e.$$.fragment,_),t=O(_),D(r.$$.fragment,_)},m(_,b){C(e,_,b),R(_,t,b),C(r,_,b),o=!0},p(_,b){const d={};!n&&b&64&&(n=!0,d.checked=_[6],ue(()=>n=!1)),e.$set(d);const w={};!s&&b&128&&(s=!0,w.checked=_[7],ue(()=>s=!1)),r.$set(w)},i(_){o||(m(e.$$.fragment,_),m(r.$$.fragment,_),o=!0)},o(_){g(e.$$.fragment,_),g(r.$$.fragment,_),o=!1},d(_){_&&$(t),A(e,_),A(r,_)}}}function Gr(l){let e,n,t,r,s,o,f,i,a,c,_;function b(v){l[17](v)}let d={"data-testid":"workflow-reset-event-id-select",menuClass:"max-h-[16rem]",label:B("workflows.reset-event-radio-group-description"),id:"reset-event-id",$$slots:{default:[yr]},$$scope:{ctx:l}};l[8]!==void 0&&(d.value=l[8]),n=new Dn({props:d}),ae.push(()=>ce(n,"value",b));const w=[Yr,Jr],u=[];function p(v,h){return h&3072&&(s=null),s==null&&(s=!!(v[10]||tr("1.24.0",v[11]))),s?0:1}o=p(l,-1),f=u[o]=w[o](l);function k(v){l[21](v)}let W={id:"reset-reason",label:B("common.reason")};return l[4]!==void 0&&(W.value=l[4]),a=new En({props:W}),ae.push(()=>ce(a,"value",k)),{c(){e=L("div"),T(n.$$.fragment),r=j(),f.c(),i=j(),T(a.$$.fragment),this.h()},l(v){e=z(v,"DIV",{class:!0});var h=y(e);D(n.$$.fragment,h),r=O(h),f.l(h),i=O(h),D(a.$$.fragment,h),h.forEach($),this.h()},h(){H(e,"class","flex w-full flex-col gap-4")},m(v,h){R(v,e,h),C(n,e,null),q(e,r),u[o].m(e,null),q(e,i),C(a,e,null),_=!0},p(v,h){const U={};h&268435968&&(U.$$scope={dirty:h,ctx:v}),!t&&h&256&&(t=!0,U.value=v[8],ue(()=>t=!1)),n.$set(U);let F=o;o=p(v,h),o===F?u[o].p(v,h):(re(),g(u[F],1,1,()=>{u[F]=null}),le(),f=u[o],f?f.p(v,h):(f=u[o]=w[o](v),f.c()),m(f,1),f.m(e,i));const Y={};!c&&h&16&&(c=!0,Y.value=v[4],ue(()=>c=!1)),a.$set(Y)},i(v){_||(m(n.$$.fragment,v),m(f),m(a.$$.fragment,v),_=!0)},o(v){g(n.$$.fragment,v),g(f),g(a.$$.fragment,v),_=!1},d(v){v&&$(e),A(n),u[o].d(),A(a)}}}function Zr(l){let e,n,t,r;function s(i){l[22](i)}function o(i){l[23](i)}let f={id:"reset-confirmation-modal","data-testid":"reset-confirmation-modal",confirmText:B("common.confirm"),cancelText:B("common.cancel"),loading:l[3],confirmDisabled:!l[8],$$slots:{content:[Gr],title:[Lr]},$$scope:{ctx:l}};return l[2]!==void 0&&(f.error=l[2]),l[0]!==void 0&&(f.open=l[0]),e=new Tn({props:f}),ae.push(()=>ce(e,"error",s)),ae.push(()=>ce(e,"open",o)),e.$on("confirmModal",l[14]),e.$on("cancelModal",l[13]),{c(){T(e.$$.fragment)},l(i){D(e.$$.fragment,i)},m(i,a){C(e,i,a),r=!0},p(i,[a]){const c={};a&8&&(c.loading=i[3]),a&256&&(c.confirmDisabled=!i[8]),a&268439536&&(c.$$scope={dirty:a,ctx:i}),!n&&a&4&&(n=!0,c.error=i[2],ue(()=>n=!1)),!t&&a&1&&(t=!0,c.open=i[0],ue(()=>t=!1)),e.$set(c)},i(i){r||(m(e.$$.fragment,i),r=!0)},o(i){g(e.$$.fragment,i),r=!1},d(i){A(e,i)}}}function Kr(l,e,n){let t,r=we,s=()=>(r(),r=tt(d,E=>n(24,t=E)),d),o,f,i,a;te(l,Cn,E=>n(9,f=E)),te(l,Fn,E=>n(10,i=E)),te(l,er,E=>n(11,a=E)),l.$$.on_destroy.push(()=>r());let{open:c}=e,{workflow:_}=e,{namespace:b}=e,{refresh:d}=e;s();let w="",u=!1,p=it("");te(l,p,E=>n(8,o=E));let k,W=!0,v=!1,h=!1;const U=()=>{n(0,c=!1),n(5,W=!0),n(6,v=!1),n(7,h=!1),ge(p,o="",o),n(4,k="")},F=async()=>{n(2,w=""),n(3,u=!0);try{const E=await Hn({namespace:b,workflow:_,eventId:o,reason:k,includeSignals:W,excludeSignals:v,excludeUpdates:h});E&&E.runId&&Wn.update(J=>({...J,[_.runId]:E.runId})),ge(d,t=Date.now(),t),U()}catch(E){n(2,w=An(E)?E.message:B("common.unknown-error"))}finally{n(3,u=!1)}U()};function Y(E){o=E,p.set(o)}function G(E){v=E,n(6,v)}function ne(E){h=E,n(7,h)}function ee(E){W=E,n(5,W)}function se(E){k=E,n(4,k)}function oe(E){w=E,n(2,w)}function S(E){c=E,n(0,c)}return l.$$set=E=>{"open"in E&&n(0,c=E.open),"workflow"in E&&n(15,_=E.workflow),"namespace"in E&&n(16,b=E.namespace),"refresh"in E&&s(n(1,d=E.refresh))},[c,d,w,u,k,W,v,h,o,f,i,a,p,U,F,_,b,Y,G,ne,ee,se,oe,S]}class Xr extends ve{constructor(e){super(),Ie(this,e,Kr,Zr,be,{open:0,workflow:15,namespace:16,refresh:1})}}function Ot(l,e,n){const t=l.slice();return t[25]=e[n].name,t[26]=e[n].description!==void 0?e[n].description:"",t}function xr(l){let e,n=B("workflows.signal-modal-title")+"",t;return{c(){e=L("h3"),t=K(n),this.h()},l(r){e=z(r,"H3",{slot:!0});var s=y(e);t=X(s,n),s.forEach($),this.h()},h(){H(e,"slot","title")},m(r,s){R(r,e,s),q(e,t)},p:we,d(r){r&&$(e)}}}function el(l){let e,n,t;function r(o){l[18](o)}let s={id:"signal-name",label:B("workflows.signal-name-label"),required:!0};return l[4]!==void 0&&(s.value=l[4]),e=new En({props:s}),ae.push(()=>ce(e,"value",r)),{c(){T(e.$$.fragment)},l(o){D(e.$$.fragment,o)},m(o,f){C(e,o,f),t=!0},p(o,f){const i={};!n&&f&16&&(n=!0,i.value=o[4],ue(()=>n=!1)),e.$set(i)},i(o){t||(m(e.$$.fragment,o),t=!0)},o(o){g(e.$$.fragment,o),t=!1},d(o){A(e,o)}}}function tl(l){let e,n,t;function r(o){l[17](o)}let s={id:"signal-select",label:B("workflows.signal-name-label"),class:"min-w-fit","data-testid":"signal-select",placeholder:"Select a signal",required:!0,$$slots:{default:[ll]},$$scope:{ctx:l}};return l[4]!==void 0&&(s.value=l[4]),e=new Dn({props:s}),ae.push(()=>ce(e,"value",r)),{c(){T(e.$$.fragment)},l(o){D(e.$$.fragment,o)},m(o,f){C(e,o,f),t=!0},p(o,f){const i={};f&536871168&&(i.$$scope={dirty:f,ctx:o}),!n&&f&16&&(n=!0,i.value=o[4],ue(()=>n=!1)),e.$set(i)},i(o){t||(m(e.$$.fragment,o),t=!0)},o(o){g(e.$$.fragment,o),t=!1},d(o){A(e,o)}}}function nl(l){let e=l[25]+"",n;return{c(){n=K(e)},l(t){n=X(t,e)},m(t,r){R(t,n,r)},p(t,r){r&256&&e!==(e=t[25]+"")&&ie(n,e)},d(t){t&&$(n)}}}function Qt(l){let e,n;return e=new at({props:{value:l[25],description:l[26],$$slots:{default:[nl]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,r){C(e,t,r),n=!0},p(t,r){const s={};r&256&&(s.value=t[25]),r&256&&(s.description=t[26]),r&536871168&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){A(e,t)}}}function rl(l){let e;return{c(){e=K("Custom")},l(n){e=X(n,"Custom")},m(n,t){R(n,e,t)},d(n){n&&$(e)}}}function ll(l){let e,n,t,r=Fe(l[8]),s=[];for(let f=0;f<r.length;f+=1)s[f]=Qt(Ot(l,r,f));const o=f=>g(s[f],1,1,()=>{s[f]=null});return n=new at({props:{value:"custom",description:"Input Signal name",$$slots:{default:[rl]},$$scope:{ctx:l}}}),n.$on("click",l[11]),{c(){for(let f=0;f<s.length;f+=1)s[f].c();e=j(),T(n.$$.fragment)},l(f){for(let i=0;i<s.length;i+=1)s[i].l(f);e=O(f),D(n.$$.fragment,f)},m(f,i){for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(f,i);R(f,e,i),C(n,f,i),t=!0},p(f,i){if(i&256){r=Fe(f[8]);let c;for(c=0;c<r.length;c+=1){const _=Ot(f,r,c);s[c]?(s[c].p(_,i),m(s[c],1)):(s[c]=Qt(_),s[c].c(),m(s[c],1),s[c].m(e.parentNode,e))}for(re(),c=r.length;c<s.length;c+=1)o(c);le()}const a={};i&536870912&&(a.$$scope={dirty:i,ctx:f}),n.$set(a)},i(f){if(!t){for(let i=0;i<r.length;i+=1)m(s[i]);m(n.$$.fragment,f),t=!0}},o(f){s=s.filter(Boolean);for(let i=0;i<s.length;i+=1)g(s[i]);g(n.$$.fragment,f),t=!1},d(f){f&&$(e),ot(s,f),A(n,f)}}}function ol(l){let e,n,t,r,s,o,f,i;const a=[tl,el],c=[];function _(u,p){var k;return((k=u[8])==null?void 0:k.length)>0&&!u[5]?0:1}n=_(l),t=c[n]=a[n](l);function b(u){l[19](u)}function d(u){l[20](u)}let w={};return l[7]!==void 0&&(w.input=l[7]),l[6]!==void 0&&(w.encoding=l[6]),s=new nr({props:w}),ae.push(()=>ce(s,"input",b)),ae.push(()=>ce(s,"encoding",d)),{c(){e=L("div"),t.c(),r=j(),T(s.$$.fragment),this.h()},l(u){e=z(u,"DIV",{slot:!0,class:!0});var p=y(e);t.l(p),r=O(p),D(s.$$.fragment,p),p.forEach($),this.h()},h(){H(e,"slot","content"),H(e,"class","flex flex-col gap-4")},m(u,p){R(u,e,p),c[n].m(e,null),q(e,r),C(s,e,null),i=!0},p(u,p){let k=n;n=_(u),n===k?c[n].p(u,p):(re(),g(c[k],1,1,()=>{c[k]=null}),le(),t=c[n],t?t.p(u,p):(t=c[n]=a[n](u),t.c()),m(t,1),t.m(e,r));const W={};!o&&p&128&&(o=!0,W.input=u[7],ue(()=>o=!1)),!f&&p&64&&(f=!0,W.encoding=u[6],ue(()=>f=!1)),s.$set(W)},i(u){i||(m(t),m(s.$$.fragment,u),i=!0)},o(u){g(t),g(s.$$.fragment,u),i=!1},d(u){u&&$(e),c[n].d(),A(s)}}}function sl(l){let e,n,t,r;function s(i){l[21](i)}function o(i){l[22](i)}let f={id:"signal-confirmation-modal","data-testid":"signal-confirmation-modal",loading:l[3],confirmText:B("common.submit"),cancelText:B("common.cancel"),confirmDisabled:!l[4]||!l[6],$$slots:{content:[ol],title:[xr]},$$scope:{ctx:l}};return l[2]!==void 0&&(f.error=l[2]),l[0]!==void 0&&(f.open=l[0]),e=new Tn({props:f}),ae.push(()=>ce(e,"error",s)),ae.push(()=>ce(e,"open",o)),e.$on("cancelModal",l[9]),e.$on("confirmModal",l[10]),{c(){T(e.$$.fragment)},l(i){D(e.$$.fragment,i)},m(i,a){C(e,i,a),r=!0},p(i,[a]){const c={};a&8&&(c.loading=i[3]),a&80&&(c.confirmDisabled=!i[4]||!i[6]),a&536871408&&(c.$$scope={dirty:a,ctx:i}),!n&&a&4&&(n=!0,c.error=i[2],ue(()=>n=!1)),!t&&a&1&&(t=!0,c.open=i[0],ue(()=>t=!1)),e.$set(c)},i(i){r||(m(e.$$.fragment,i),r=!0)},o(i){g(e.$$.fragment,i),r=!1},d(i){A(e,i)}}}const Lt="json/plain";function fl(l,e,n){let t,r,s,o=we,f=()=>(o(),o=tt(p,N=>n(23,s=N)),p),i,a=we,c=()=>(a(),a=tt(U,N=>n(24,i=N)),U),_;te(l,De,N=>n(16,_=N)),l.$$.on_destroy.push(()=>o()),l.$$.on_destroy.push(()=>a());var b;let{open:d}=e,{workflow:w}=e,{namespace:u}=e,{refresh:p}=e;f();let k="",W=!1,v="",h=!1,U=it(Lt);c();let F="";const Y=()=>{n(0,d=!1),n(4,v=""),n(7,F=""),n(5,h=!1),ge(U,i=Lt,i)},G=async()=>{n(2,k=""),n(3,W=!0);try{await Un({namespace:u,workflow:w,input:F,encoding:i,name:v}),ge(p,s=Date.now(),s),rr.push({message:B("workflows.signal-success"),id:"workflow-signal-success-toast"}),Y()}catch(N){n(2,k=An(N)?N.message:B("common.unknown-error"))}finally{n(3,W=!1)}},ne=()=>{n(5,h=!0),n(4,v="")};function ee(N){v=N,n(4,v)}function se(N){v=N,n(4,v)}function oe(N){F=N,n(7,F)}function S(N){U=N,c(n(6,U))}function E(N){k=N,n(2,k)}function J(N){d=N,n(0,d)}return l.$$set=N=>{"open"in N&&n(0,d=N.open),"workflow"in N&&n(12,w=N.workflow),"namespace"in N&&n(13,u=N.namespace),"refresh"in N&&f(n(1,p=N.refresh))},l.$$.update=()=>{l.$$.dirty&65536&&n(15,{metadata:t}=_,t),l.$$.dirty&49152&&n(8,r=n(14,b=t==null?void 0:t.definition)===null||b===void 0?void 0:b.signalDefinitions)},[d,p,k,W,v,h,U,F,r,Y,G,ne,w,u,b,t,_,ee,se,oe,S,E,J]}class il extends ve{constructor(e){super(),Ie(this,e,fl,sl,be,{open:0,workflow:12,namespace:13,refresh:1})}}const al=(l,e,n)=>!l.disableWriteActions&&!l.workflowSignalDisabled&&!e.namespaceWriteDisabled(n);function zt(l,e,n){const t=l.slice();return t[31]=e[n].onClick,t[32]=e[n].destructive,t[33]=e[n].label,t[34]=e[n].enabled,t[35]=e[n].testId,t[36]=e[n].description,t}function ul(l){let e,n;return e=new ft({props:{bottomRight:!0,width:200,text:l[4],hide:l[7],$$slots:{default:[_l]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,r){C(e,t,r),n=!0},p(t,r){const s={};r[0]&16&&(s.text=t[4]),r[0]&128&&(s.hide=t[7]),r[0]&2176|r[1]&256&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){A(e,t)}}}function cl(l){let e,n;return e=new Pn({props:{id:"workflow-actions",menuClass:"w-[16rem]",position:"right",primaryActionDisabled:!l[7],label:B("workflows.reset"),menuLabel:B("workflows.workflow-actions"),$$slots:{default:[gl]},$$scope:{ctx:l}}}),e.$on("click",l[25]),{c(){T(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,r){C(e,t,r),n=!0},p(t,r){const s={};r[0]&128&&(s.primaryActionDisabled=!t[7]),r[0]&3|r[1]&256&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){A(e,t)}}}function ml(l){let e,n;return e=new Pn({props:{id:"workflow-actions",menuClass:"w-[16rem] md:w-[24rem]",position:"right",disabled:l[14],primaryActionDisabled:!l[15]||l[2],label:B("workflows.request-cancellation"),menuLabel:B("workflows.workflow-actions"),$$slots:{default:[hl]},$$scope:{ctx:l}}}),e.$on("click",l[23]),{c(){T(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,r){C(e,t,r),n=!0},p(t,r){const s={};r[0]&16384&&(s.disabled=t[14]),r[0]&32772&&(s.primaryActionDisabled=!t[15]||t[2]),r[0]&8451|r[1]&256&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){A(e,t)}}}function pl(l){let e=B("workflows.reset")+"",n;return{c(){n=K(e)},l(t){n=X(t,e)},m(t,r){R(t,n,r)},p:we,d(t){t&&$(n)}}}function _l(l){let e,n;return e=new or({props:{"aria-label":B("workflows.reset"),disabled:!l[7],variant:"primary","data-testid":"workflow-reset-button",$$slots:{default:[pl]},$$scope:{ctx:l}}}),e.$on("click",l[26]),{c(){T(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,r){C(e,t,r),n=!0},p(t,r){const s={};r[0]&128&&(s.disabled=!t[7]),r[1]&256&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){A(e,t)}}}function dl(l){let e=B("workflows.start-workflow-like-this-one")+"",n;return{c(){n=K(e)},l(t){n=X(t,e)},m(t,r){R(t,n,r)},p:we,d(t){t&&$(n)}}}function gl(l){let e,n;return e=new ut({props:{"data-testid":"start-workflow-button",$$slots:{default:[dl]},$$scope:{ctx:l}}}),e.$on("click",l[24]),{c(){T(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,r){C(e,t,r),n=!0},p(t,r){const s={};r[1]&256&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){A(e,t)}}}function yt(l){let e,n;return e=new In({}),{c(){T(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,r){C(e,t,r),n=!0},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){A(e,t)}}}function wl(l){let e=l[33]+"",n;return{c(){n=K(e)},l(t){n=X(t,e)},m(t,r){R(t,n,r)},p(t,r){r[0]&8192&&e!==(e=t[33]+"")&&ie(n,e)},d(t){t&&$(n)}}}function Jt(l){let e,n,t,r=l[32]&&yt();return n=new ut({props:{destructive:l[32],disabled:!l[34],"data-testid":l[35],description:l[36],$$slots:{default:[wl]},$$scope:{ctx:l}}}),n.$on("click",function(){Mn(l[31])&&l[31].apply(this,arguments)}),{c(){r&&r.c(),e=j(),T(n.$$.fragment)},l(s){r&&r.l(s),e=O(s),D(n.$$.fragment,s)},m(s,o){r&&r.m(s,o),R(s,e,o),C(n,s,o),t=!0},p(s,o){l=s,l[32]?r?o[0]&8192&&m(r,1):(r=yt(),r.c(),m(r,1),r.m(e.parentNode,e)):r&&(re(),g(r,1,1,()=>{r=null}),le());const f={};o[0]&8192&&(f.destructive=l[32]),o[0]&8192&&(f.disabled=!l[34]),o[0]&8192&&(f["data-testid"]=l[35]),o[0]&8192&&(f.description=l[36]),o[0]&8192|o[1]&256&&(f.$$scope={dirty:o,ctx:l}),n.$set(f)},i(s){t||(m(r),m(n.$$.fragment,s),t=!0)},o(s){g(r),g(n.$$.fragment,s),t=!1},d(s){s&&$(e),r&&r.d(s),A(n,s)}}}function Yt(l){let e,n,t,r;return e=new In({}),t=new ut({props:{"data-testid":"start-workflow-button",$$slots:{default:[$l]},$$scope:{ctx:l}}}),t.$on("click",l[22]),{c(){T(e.$$.fragment),n=j(),T(t.$$.fragment)},l(s){D(e.$$.fragment,s),n=O(s),D(t.$$.fragment,s)},m(s,o){C(e,s,o),R(s,n,o),C(t,s,o),r=!0},p(s,o){const f={};o[1]&256&&(f.$$scope={dirty:o,ctx:s}),t.$set(f)},i(s){r||(m(e.$$.fragment,s),m(t.$$.fragment,s),r=!0)},o(s){g(e.$$.fragment,s),g(t.$$.fragment,s),r=!1},d(s){s&&$(n),A(e,s),A(t,s)}}}function $l(l){let e=B("workflows.start-workflow-like-this-one")+"",n;return{c(){n=K(e)},l(t){n=X(t,e)},m(t,r){R(t,n,r)},p:we,d(t){t&&$(n)}}}function hl(l){let e,n=!rt(l[8]),t,r,s=Fe(l[13]),o=[];for(let a=0;a<s.length;a+=1)o[a]=Jt(zt(l,s,a));const f=a=>g(o[a],1,1,()=>{o[a]=null});let i=n&&Yt(l);return{c(){for(let a=0;a<o.length;a+=1)o[a].c();e=j(),i&&i.c(),t=pe()},l(a){for(let c=0;c<o.length;c+=1)o[c].l(a);e=O(a),i&&i.l(a),t=pe()},m(a,c){for(let _=0;_<o.length;_+=1)o[_]&&o[_].m(a,c);R(a,e,c),i&&i.m(a,c),R(a,t,c),r=!0},p(a,c){if(c[0]&8192){s=Fe(a[13]);let _;for(_=0;_<s.length;_+=1){const b=zt(a,s,_);o[_]?(o[_].p(b,c),m(o[_],1)):(o[_]=Jt(b),o[_].c(),m(o[_],1),o[_].m(e.parentNode,e))}for(re(),_=s.length;_<o.length;_+=1)f(_);le()}c[0]&256&&(n=!rt(a[8])),n?i?(i.p(a,c),c[0]&256&&m(i,1)):(i=Yt(a),i.c(),m(i,1),i.m(t.parentNode,t)):i&&(re(),g(i,1,1,()=>{i=null}),le())},i(a){if(!r){for(let c=0;c<s.length;c+=1)m(o[c]);m(i),r=!0}},o(a){o=o.filter(Boolean);for(let c=0;c<o.length;c+=1)g(o[c]);g(i),r=!1},d(a){a&&($(e),$(t)),ot(o,a),i&&i.d(a)}}}function Gt(l){let e,n,t;function r(o){l[27](o)}let s={refresh:Le,workflow:l[0],namespace:l[1]};return l[11]!==void 0&&(s.open=l[11]),e=new Xr({props:s}),ae.push(()=>ce(e,"open",r)),{c(){T(e.$$.fragment)},l(o){D(e.$$.fragment,o)},m(o,f){C(e,o,f),t=!0},p(o,f){const i={};f[0]&1&&(i.workflow=o[0]),f[0]&2&&(i.namespace=o[1]),!n&&f[0]&2048&&(n=!0,i.open=o[11],ue(()=>n=!1)),e.$set(i)},i(o){t||(m(e.$$.fragment,o),t=!0)},o(o){g(e.$$.fragment,o),t=!1},d(o){A(e,o)}}}function Zt(l){let e,n,t;function r(o){l[28](o)}let s={refresh:Le,workflow:l[0],namespace:l[1]};return l[12]!==void 0&&(s.open=l[12]),e=new il({props:s}),ae.push(()=>ce(e,"open",r)),{c(){T(e.$$.fragment)},l(o){D(e.$$.fragment,o)},m(o,f){C(e,o,f),t=!0},p(o,f){const i={};f[0]&1&&(i.workflow=o[0]),f[0]&2&&(i.namespace=o[1]),!n&&f[0]&4096&&(n=!0,i.open=o[12],ue(()=>n=!1)),e.$set(i)},i(o){t||(m(e.$$.fragment,o),t=!0)},o(o){g(e.$$.fragment,o),t=!1},d(o){A(e,o)}}}function Kt(l){let e,n,t;function r(o){l[29](o)}let s={refresh:Le,workflow:l[0],namespace:l[1]};return l[9]!==void 0&&(s.open=l[9]),e=new Zn({props:s}),ae.push(()=>ce(e,"open",r)),{c(){T(e.$$.fragment)},l(o){D(e.$$.fragment,o)},m(o,f){C(e,o,f),t=!0},p(o,f){const i={};f[0]&1&&(i.workflow=o[0]),f[0]&2&&(i.namespace=o[1]),!n&&f[0]&512&&(n=!0,i.open=o[9],ue(()=>n=!1)),e.$set(i)},i(o){t||(m(e.$$.fragment,o),t=!0)},o(o){g(e.$$.fragment,o),t=!1},d(o){A(e,o)}}}function Xt(l){let e,n,t;function r(o){l[30](o)}let s={refresh:Le,workflow:l[0],namespace:l[1]};return l[10]!==void 0&&(s.open=l[10]),e=new Kn({props:s}),ae.push(()=>ce(e,"open",r)),{c(){T(e.$$.fragment)},l(o){D(e.$$.fragment,o)},m(o,f){C(e,o,f),t=!0},p(o,f){const i={};f[0]&1&&(i.workflow=o[0]),f[0]&2&&(i.namespace=o[1]),!n&&f[0]&1024&&(n=!0,i.open=o[10],ue(()=>n=!1)),e.$set(i)},i(o){t||(m(e.$$.fragment,o),t=!0)},o(o){g(e.$$.fragment,o),t=!1},d(o){A(e,o)}}}function kl(l){let e,n,t,r,s,o,f,i,a;const c=[ml,cl,ul],_=[];function b(k,W){return W[0]&256&&(e=null),k[3]?0:(e==null&&(e=!rt(k[8])),e?1:2)}n=b(l,[-1,-1]),t=_[n]=c[n](l);let d=l[7]&&Gt(l),w=l[6]&&Zt(l),u=l[15]&&Kt(l),p=l[5]&&Xt(l);return{c(){t.c(),r=j(),d&&d.c(),s=j(),w&&w.c(),o=j(),u&&u.c(),f=j(),p&&p.c(),i=pe()},l(k){t.l(k),r=O(k),d&&d.l(k),s=O(k),w&&w.l(k),o=O(k),u&&u.l(k),f=O(k),p&&p.l(k),i=pe()},m(k,W){_[n].m(k,W),R(k,r,W),d&&d.m(k,W),R(k,s,W),w&&w.m(k,W),R(k,o,W),u&&u.m(k,W),R(k,f,W),p&&p.m(k,W),R(k,i,W),a=!0},p(k,W){let v=n;n=b(k,W),n===v?_[n].p(k,W):(re(),g(_[v],1,1,()=>{_[v]=null}),le(),t=_[n],t?t.p(k,W):(t=_[n]=c[n](k),t.c()),m(t,1),t.m(r.parentNode,r)),k[7]?d?(d.p(k,W),W[0]&128&&m(d,1)):(d=Gt(k),d.c(),m(d,1),d.m(s.parentNode,s)):d&&(re(),g(d,1,1,()=>{d=null}),le()),k[6]?w?(w.p(k,W),W[0]&64&&m(w,1)):(w=Zt(k),w.c(),m(w,1),w.m(o.parentNode,o)):w&&(re(),g(w,1,1,()=>{w=null}),le()),k[15]?u?(u.p(k,W),W[0]&32768&&m(u,1)):(u=Kt(k),u.c(),m(u,1),u.m(f.parentNode,f)):u&&(re(),g(u,1,1,()=>{u=null}),le()),k[5]?p?(p.p(k,W),W[0]&32&&m(p,1)):(p=Xt(k),p.c(),m(p,1),p.m(i.parentNode,i)):p&&(re(),g(p,1,1,()=>{p=null}),le())},i(k){a||(m(t),m(d),m(w),m(u),m(p),a=!0)},o(k){g(t),g(d),g(w),g(u),g(p),a=!1},d(k){k&&($(r),$(s),$(o),$(f),$(i)),_[n].d(k),d&&d.d(k),w&&w.d(k),u&&u.d(k),p&&p.d(k)}}}function bl(l,e,n){let t,r,s,o,f,i,a,c,_;te(l,Cn,V=>n(20,a=V)),te(l,Qe,V=>n(8,_=V));var b,d;let{workflow:w}=e,{namespace:u}=e,{cancelInProgress:p}=e,{isRunning:k}=e,W=!1,v=!1,h=!1,U=!1,F,Y=sr();te(l,Y,V=>n(21,c=V));let G;const ne=()=>Wt(Pt({namespace:u,workflowId:w.id,taskQueue:w.taskQueue,workflowType:w.name})),ee=()=>n(9,W=!0),se=()=>Wt(Pt({namespace:u,workflowId:w.id,taskQueue:w.taskQueue,workflowType:w.name})),oe=()=>n(11,h=!0),S=()=>n(11,h=!0);function E(V){h=V,n(11,h),n(7,f),n(4,F),n(6,r),n(5,s),n(19,o),n(0,w),n(20,a),n(17,b),n(18,d),n(8,_),n(21,c),n(1,u)}function J(V){U=V,n(12,U),n(7,f),n(4,F),n(6,r),n(5,s),n(19,o),n(0,w),n(20,a),n(17,b),n(18,d),n(8,_),n(21,c),n(1,u)}function N(V){W=V,n(9,W)}function I(V){v=V,n(10,v),n(7,f),n(4,F),n(6,r),n(5,s),n(19,o),n(0,w),n(20,a),n(17,b),n(18,d),n(8,_),n(21,c),n(1,u)}return l.$$set=V=>{"workflow"in V&&n(0,w=V.workflow),"namespace"in V&&n(1,u=V.namespace),"cancelInProgress"in V&&n(2,p=V.cancelInProgress),"isRunning"in V&&n(3,k=V.isRunning)},l.$$.update=()=>{l.$$.dirty[0]&2097410&&n(15,t=Jn(_.data.settings,c,u)),l.$$.dirty[0]&2097410&&n(6,r=al(_.data.settings,c,u)),l.$$.dirty[0]&2097410&&n(5,s=Yn(_.data.settings,c,u)),l.$$.dirty[0]&2097410&&n(19,o=Gn(_.data.settings,c,u)),l.$$.dirty[0]&1572865&&n(7,f=o&&w.pendingChildren.length===0&&a.length>0),l.$$.dirty[0]&224&&n(14,i=!f&&!r&&!s),l.$$.dirty[0]&1966081&&(o?o&&(n(17,b=w==null?void 0:w.pendingChildren)===null||b===void 0?void 0:b.length)>0?n(4,F=B("workflows.reset-disabled-pending-children")):o&&(n(18,d=w==null?void 0:w.pendingChildren)===null||d===void 0?void 0:d.length)===0&&a.length===0&&n(4,F=B("workflows.reset-disabled-no-events")):n(4,F=B("workflows.reset-disabled-unauthorized"))),l.$$.dirty[0]&240&&n(13,G=[{label:B("workflows.reset"),onClick:()=>n(11,h=!0),testId:"reset-button",enabled:f,description:f?"":F},{label:B("workflows.signal"),onClick:()=>n(12,U=!0),testId:"signal-button",enabled:r,description:r?"":B("workflows.signal-disabled")},{label:B("workflows.terminate"),onClick:()=>n(10,v=!0),testId:"terminate-button",enabled:s,destructive:!0,description:s?"":B("workflows.terminate-disabled")}])},[w,u,p,k,F,s,r,f,_,W,v,h,U,G,i,t,Y,b,d,o,a,c,ne,ee,se,oe,S,E,J,N,I]}class xt extends ve{constructor(e){super(),Ie(this,e,bl,kl,be,{workflow:0,namespace:1,cancelInProgress:2,isRunning:3},null,[-1,-1])}}function vl(l){let e,n,t=B("workers.buildId")+"",r,s,o;return s=new ir({props:{active:!0,buildId:l[0]}}),{c(){e=L("p"),n=L("span"),r=K(t),T(s.$$.fragment),this.h()},l(f){e=z(f,"P",{class:!0});var i=y(e);n=z(i,"SPAN",{});var a=y(n);r=X(a,t),a.forEach($),D(s.$$.fragment,i),i.forEach($),this.h()},h(){H(e,"class","flex items-center gap-1")},m(f,i){R(f,e,i),q(e,n),q(n,r),C(s,e,null),o=!0},p(f,[i]){const a={};i&1&&(a.buildId=f[0]),s.$set(a)},i(f){o||(m(s.$$.fragment,f),o=!0)},o(f){g(s.$$.fragment,f),o=!1},d(f){f&&$(e),A(s)}}}function Il(l,e,n){let t,{workflow:r}=e;return l.$$set=s=>{"workflow"in s&&n(1,r=s.workflow)},l.$$.update=()=>{l.$$.dirty&2&&n(0,t=ar(r))},[t,r]}class El extends ve{constructor(e){super(),Ie(this,e,Il,vl,be,{workflow:1})}}const Tl=l=>({open:l&1}),en=l=>({open:l[0]}),Dl=l=>({}),tn=l=>({}),Cl=l=>({}),nn=l=>({}),Al=l=>({}),rn=l=>({});function Pl(l){let e,n,t,r,s,o,f,i,a,c,_,b,d,w,u,p,k,W;const v=l[6].title,h=Re(v,l,l[5],rn),U=l[6].description,F=Re(U,l,l[5],nn),Y=l[6].action,G=Re(Y,l,l[5],tn);i=new Ue({props:{class:"m-2 shrink-0",name:l[0]?"arrow-down":"arrow-right"}});const ne=l[6].default,ee=Re(ne,l,l[5],en);let se=[{class:"w-full"},l[3]],oe={};for(let S=0;S<se.length;S+=1)oe=Oe(oe,se[S]);return{c(){e=L("div"),n=L("button"),t=L("div"),h&&h.c(),r=j(),F&&F.c(),s=j(),o=L("div"),G&&G.c(),f=j(),T(i.$$.fragment),_=j(),b=L("div"),ee&&ee.c(),this.h()},l(S){e=z(S,"DIV",{class:!0});var E=y(e);n=z(E,"BUTTON",{id:!0,"aria-expanded":!0,"aria-controls":!0,class:!0,type:!0});var J=y(n);t=z(J,"DIV",{class:!0});var N=y(t);h&&h.l(N),r=O(N),F&&F.l(N),s=O(N),o=z(N,"DIV",{class:!0,role:!0});var I=y(o);G&&G.l(I),f=O(I),D(i.$$.fragment,I),I.forEach($),N.forEach($),J.forEach($),_=O(E),b=z(E,"DIV",{id:!0,"aria-labelledby":!0,role:!0,class:!0});var V=y(b);ee&&ee.l(V),V.forEach($),E.forEach($),this.h()},h(){H(o,"class","flex flex-row items-center gap-2 pr-2"),H(o,"role","none"),H(t,"class","flex w-full flex-row items-center justify-between gap-2"),H(n,"id",a=l[1]+"-trigger"),H(n,"aria-expanded",l[0]),H(n,"aria-controls",c=l[1]+"-content"),H(n,"class","focus-visible:outline-interactive w-full cursor-pointer hover:bg-interactive-secondary-hover"),H(n,"type","button"),H(b,"id",d=l[1]+"-content"),H(b,"aria-labelledby",w=l[1]+"-trigger"),H(b,"role","textbox"),H(b,"class","block w-full bg-primary p-2"),Be(b,"hidden",!l[0]),vt(e,oe)},m(S,E){R(S,e,E),q(e,n),q(n,t),h&&h.m(t,null),q(t,r),F&&F.m(t,null),q(t,s),q(t,o),G&&G.m(o,null),q(o,f),C(i,o,null),q(e,_),q(e,b),ee&&ee.m(b,null),p=!0,k||(W=[et(o,"click",It(l[7])),et(o,"keyup",It(l[8])),et(n,"click",l[2])],k=!0)},p(S,[E]){h&&h.p&&(!p||E&32)&&Ve(h,v,S,S[5],p?Ne(v,S[5],E,Al):Me(S[5]),rn),F&&F.p&&(!p||E&32)&&Ve(F,U,S,S[5],p?Ne(U,S[5],E,Cl):Me(S[5]),nn),G&&G.p&&(!p||E&32)&&Ve(G,Y,S,S[5],p?Ne(Y,S[5],E,Dl):Me(S[5]),tn);const J={};E&1&&(J.name=S[0]?"arrow-down":"arrow-right"),i.$set(J),(!p||E&2&&a!==(a=S[1]+"-trigger"))&&H(n,"id",a),(!p||E&1)&&H(n,"aria-expanded",S[0]),(!p||E&2&&c!==(c=S[1]+"-content"))&&H(n,"aria-controls",c),ee&&ee.p&&(!p||E&33)&&Ve(ee,ne,S,S[5],p?Ne(ne,S[5],E,Tl):Me(S[5]),en),(!p||E&2&&d!==(d=S[1]+"-content"))&&H(b,"id",d),(!p||E&2&&w!==(w=S[1]+"-trigger"))&&H(b,"aria-labelledby",w),(!p||E&1)&&Be(b,"hidden",!S[0]),vt(e,oe=cr(se,[{class:"w-full"},E&8&&S[3]]))},i(S){p||(m(h,S),m(F,S),m(G,S),m(i.$$.fragment,S),m(ee,S),S&&st(()=>{p&&(u||(u=Tt(b,St,{},!0)),u.run(1))}),p=!0)},o(S){g(h,S),g(F,S),g(G,S),g(i.$$.fragment,S),g(ee,S),S&&(u||(u=Tt(b,St,{},!1)),u.run(0)),p=!1},d(S){S&&$(e),h&&h.d(S),F&&F.d(S),G&&G.d(S),A(i),ee&&ee.d(S),S&&u&&u.end(),k=!1,Nn(W)}}}function Sl(l,e,n){const t=["id","open","onToggle"];let r=Ke(e,t),{$$slots:s={},$$scope:o}=e,{id:f=lr()}=e,{open:i=!1}=e,{onToggle:a=we}=e;const c=()=>{n(0,i=!i),a()};function _(d){Et.call(this,l,d)}function b(d){Et.call(this,l,d)}return l.$$set=d=>{e=Oe(Oe({},e),wn(d)),n(3,r=Ke(e,t)),"id"in d&&n(1,f=d.id),"open"in d&&n(0,i=d.open),"onToggle"in d&&n(4,a=d.onToggle),"$$scope"in d&&n(5,o=d.$$scope)},[i,f,c,r,a,o,s,_,b]}class Rn extends ve{constructor(e){super(),Ie(this,e,Sl,Pl,be,{id:1,open:0,onToggle:4})}}const Wl=(l,e)=>{const n=l==="Running",t=e==null?void 0:e.some(r=>(r==null?void 0:r.eventType)==="WorkflowExecutionCancelRequested");return n&&t},ln=l=>{const e=l==null?void 0:l.indexOf("?");return e>-1?l.slice(0,e):l},de=(l,e,n=!1)=>{const t=ln(l).split("/"),r=ln(e).split("/");if(n&&t.length!==r.length)return!1;for(let s=0;s<t.length;s++){const o=t[s],f=r[s];if(o!==f)return!1}return!0};function Rl(l){let e=(l[17]?B("common.workflows"):B("workflows.back-to-workflows"))+"",n;return{c(){n=K(e)},l(t){n=X(t,e)},m(t,r){R(t,n,r)},p(t,r){r[0]&131072&&e!==(e=(t[17]?B("common.workflows"):B("workflows.back-to-workflows"))+"")&&ie(n,e)},d(t){t&&$(n)}}}function on(l){let e,n;return e=new He({props:{href:Se({...l[15]}),"data-testid":"back-to-workflow-execution",icon:"chevron-left",$$slots:{default:[Vl]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,r){C(e,t,r),n=!0},p(t,r){const s={};r[0]&32768&&(s.href=Se({...t[15]})),r[0]&4|r[1]&2&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){A(e,t)}}}function Vl(l){var t;let e=((t=l[2])==null?void 0:t.runId)+"",n;return{c(){n=K(e)},l(r){n=X(r,e)},m(r,s){R(r,n,s)},p(r,s){var o;s[0]&4&&e!==(e=((o=r[2])==null?void 0:o.runId)+"")&&ie(n,e)},d(r){r&&$(n)}}}function sn(l){let e,n;return e=new El({props:{workflow:l[2]}}),{c(){T(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,r){C(e,t,r),n=!0},p(t,r){const s={};r[0]&4&&(s.workflow=t[2]),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){A(e,t)}}}function fn(l){let e,n;return e=new Rn({props:{$$slots:{title:[Nl],default:[Ml,({open:t})=>({31:t}),({open:t})=>[0,t?1:0]]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,r){C(e,t,r),n=!0},p(t,r){const s={};r[0]&3|r[1]&3&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){A(e,t)}}}function an(l){let e,n=B("workflows.summary")+"",t,r,s,o;return s=new ct({props:{content:l[1]}}),{c(){e=L("h3"),t=K(n),r=j(),T(s.$$.fragment)},l(f){e=z(f,"H3",{});var i=y(e);t=X(i,n),i.forEach($),r=O(f),D(s.$$.fragment,f)},m(f,i){R(f,e,i),q(e,t),R(f,r,i),C(s,f,i),o=!0},p(f,i){const a={};i[0]&2&&(a.content=f[1]),s.$set(a)},i(f){o||(m(s.$$.fragment,f),o=!0)},o(f){g(s.$$.fragment,f),o=!1},d(f){f&&($(e),$(r)),A(s,f)}}}function un(l){let e,n=B("workflows.details")+"",t,r,s,o;return s=new ct({props:{content:l[0]}}),{c(){e=L("h3"),t=K(n),r=j(),T(s.$$.fragment)},l(f){e=z(f,"H3",{});var i=y(e);t=X(i,n),i.forEach($),r=O(f),D(s.$$.fragment,f)},m(f,i){R(f,e,i),q(e,t),R(f,r,i),C(s,f,i),o=!0},p(f,i){const a={};i[0]&1&&(a.content=f[0]),s.$set(a)},i(f){o||(m(s.$$.fragment,f),o=!0)},o(f){g(s.$$.fragment,f),o=!1},d(f){f&&($(e),$(r)),A(s,f)}}}function Ml(l){let e,n,t,r=l[31]&&l[1]&&an(l),s=l[31]&&l[0]&&un(l);return{c(){r&&r.c(),e=j(),s&&s.c(),n=pe()},l(o){r&&r.l(o),e=O(o),s&&s.l(o),n=pe()},m(o,f){r&&r.m(o,f),R(o,e,f),s&&s.m(o,f),R(o,n,f),t=!0},p(o,f){o[31]&&o[1]?r?(r.p(o,f),f[0]&2|f[1]&1&&m(r,1)):(r=an(o),r.c(),m(r,1),r.m(e.parentNode,e)):r&&(re(),g(r,1,1,()=>{r=null}),le()),o[31]&&o[0]?s?(s.p(o,f),f[0]&1|f[1]&1&&m(s,1)):(s=un(o),s.c(),m(s,1),s.m(n.parentNode,n)):s&&(re(),g(s,1,1,()=>{s=null}),le())},i(o){t||(m(r),m(s),t=!0)},o(o){g(r),g(s),t=!1},d(o){o&&($(e),$(n)),r&&r.d(o),s&&s.d(o)}}}function Nl(l){let e,n,t=B("workflows.summary-and-details")+"",r,s;return n=new Ue({props:{name:"info",class:"text-brand",width:32,height:32}}),{c(){e=L("div"),T(n.$$.fragment),r=K(t),this.h()},l(o){e=z(o,"DIV",{slot:!0,class:!0});var f=y(e);D(n.$$.fragment,f),r=X(f,t),f.forEach($),this.h()},h(){H(e,"slot","title"),H(e,"class","flex w-full items-center gap-2 p-2 text-xl")},m(o,f){R(o,e,f),C(n,e,null),q(e,r),s=!0},p:we,i(o){s||(m(n.$$.fragment,o),s=!0)},o(o){g(n.$$.fragment,o),s=!1},d(o){o&&$(e),A(n)}}}function cn(l){let e,n;return e=new Rn({props:{$$slots:{title:[Bl],default:[ql,({open:t})=>({31:t}),({open:t})=>[0,t?1:0]]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,r){C(e,t,r),n=!0},p(t,r){const s={};r[0]&128|r[1]&3&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){A(e,t)}}}function mn(l){let e,n;return e=new ct({props:{content:l[7]}}),{c(){T(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,r){C(e,t,r),n=!0},p(t,r){const s={};r[0]&128&&(s.content=t[7]),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){A(e,t)}}}function ql(l){let e,n,t=l[31]&&mn(l);return{c(){t&&t.c(),e=pe()},l(r){t&&t.l(r),e=pe()},m(r,s){t&&t.m(r,s),R(r,e,s),n=!0},p(r,s){r[31]?t?(t.p(r,s),s[1]&1&&m(t,1)):(t=mn(r),t.c(),m(t,1),t.m(e.parentNode,e)):t&&(re(),g(t,1,1,()=>{t=null}),le())},i(r){n||(m(t),n=!0)},o(r){g(t),n=!1},d(r){r&&$(e),t&&t.d(r)}}}function Bl(l){let e,n,t=B("workflows.current-details")+"",r,s;return n=new Ue({props:{name:"flag",class:"text-brand",width:32,height:32}}),{c(){e=L("div"),T(n.$$.fragment),r=K(t),this.h()},l(o){e=z(o,"DIV",{slot:!0,class:!0});var f=y(e);D(n.$$.fragment,f),r=X(f,t),f.forEach($),this.h()},h(){H(e,"slot","title"),H(e,"class","flex w-full items-center gap-2 p-2 text-xl")},m(o,f){R(o,e,f),C(n,e,null),q(e,r),s=!0},p:we,i(o){s||(m(n.$$.fragment,o),s=!0)},o(o){g(n.$$.fragment,o),s=!1},d(o){o&&$(e),A(n)}}}function pn(l){let e,n,t,r;return n=new Sn({props:{icon:"info",intent:"info",title:B("workflows.cancel-request-sent"),$$slots:{default:[Fl]},$$scope:{ctx:l}}}),{c(){e=L("div"),T(n.$$.fragment)},l(s){e=z(s,"DIV",{});var o=y(e);D(n.$$.fragment,o),o.forEach($)},m(s,o){R(s,e,o),C(n,e,null),r=!0},p(s,o){const f={};o[1]&2&&(f.$$scope={dirty:o,ctx:s}),n.$set(f)},i(s){r||(m(n.$$.fragment,s),s&&(t||st(()=>{t=hn(e,bn,{duration:200,delay:100}),t.start()})),r=!0)},o(s){g(n.$$.fragment,s),r=!1},d(s){s&&$(e),A(n)}}}function Fl(l){let e=B("workflows.cancel-request-sent-description")+"",n;return{c(){n=K(e)},l(t){n=X(t,e)},m(t,r){R(t,n,r)},p:we,d(t){t&&$(n)}}}function _n(l){let e,n,t,r;return n=new Sn({props:{icon:"info",intent:"info","data-testid":"workflow-reset-alert",title:B("workflows.reset-success-alert-title"),$$slots:{default:[Ul]},$$scope:{ctx:l}}}),{c(){e=L("div"),T(n.$$.fragment)},l(s){e=z(s,"DIV",{});var o=y(e);D(n.$$.fragment,o),o.forEach($)},m(s,o){R(s,e,o),C(n,e,null),r=!0},p(s,o){const f={};o[0]&56|o[1]&2&&(f.$$scope={dirty:o,ctx:s}),n.$set(f)},i(s){r||(m(n.$$.fragment,s),s&&(t||st(()=>{t=hn(e,bn,{duration:200,delay:100}),t.start()})),r=!0)},o(s){g(n.$$.fragment,s),r=!1},d(s){s&&$(e),A(n)}}}function Hl(l){let e;return{c(){e=K("here")},l(n){e=X(n,"here")},m(n,t){R(n,e,t)},d(n){n&&$(e)}}}function Ul(l){var s,o,f,i;let e,n,t,r;return n=new He({props:{href:Se({namespace:l[3],workflow:(o=(s=l[4])==null?void 0:s.workflow)==null?void 0:o.id,run:l[5][(i=(f=l[4])==null?void 0:f.workflow)==null?void 0:i.runId]}),$$slots:{default:[Hl]},$$scope:{ctx:l}}}),{c(){e=K("You can find the resulting Workflow Execution "),T(n.$$.fragment),t=K(".")},l(a){e=X(a,"You can find the resulting Workflow Execution "),D(n.$$.fragment,a),t=X(a,".")},m(a,c){R(a,e,c),C(n,a,c),R(a,t,c),r=!0},p(a,c){var b,d,w,u;const _={};c[0]&56&&(_.href=Se({namespace:a[3],workflow:(d=(b=a[4])==null?void 0:b.workflow)==null?void 0:d.id,run:a[5][(u=(w=a[4])==null?void 0:w.workflow)==null?void 0:u.runId]})),c[1]&2&&(_.$$scope={dirty:c,ctx:a}),n.$set(_)},i(a){r||(m(n.$$.fragment,a),r=!0)},o(a){g(n.$$.fragment,a),r=!1},d(a){a&&($(e),$(t)),A(n,a)}}}function jl(l){var t;let e=((t=l[2])==null?void 0:t.historyEvents)+"",n;return{c(){n=K(e)},l(r){n=X(r,e)},m(r,s){R(r,n,s)},p(r,s){var o;s[0]&4&&e!==(e=((o=r[2])==null?void 0:o.historyEvents)+"")&&ie(n,e)},d(r){r&&$(n)}}}function Ol(l){let e,n;return e=new xe({props:{type:"primary",class:"px-2 py-0",$$slots:{default:[jl]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,r){C(e,t,r),n=!0},p(t,r){const s={};r[0]&4|r[1]&2&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){A(e,t)}}}function Ql(l){var t,r;let e=((r=(t=l[16])==null?void 0:t.pollers)==null?void 0:r.length)+"",n;return{c(){n=K(e)},l(s){n=X(s,e)},m(s,o){R(s,n,o)},p(s,o){var f,i;o[0]&65536&&e!==(e=((i=(f=s[16])==null?void 0:f.pollers)==null?void 0:i.length)+"")&&ie(n,e)},d(s){s&&$(n)}}}function Ll(l){let e,n;return e=new xe({props:{type:"primary",class:"px-2 py-0",$$slots:{default:[Ql]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,r){C(e,t,r),n=!0},p(t,r){const s={};r[0]&65536|r[1]&2&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){A(e,t)}}}function zl(l){let e=l[9].relationshipCount+"",n;return{c(){n=K(e)},l(t){n=X(t,e)},m(t,r){R(t,n,r)},p(t,r){r[0]&512&&e!==(e=t[9].relationshipCount+"")&&ie(n,e)},d(t){t&&$(n)}}}function yl(l){let e,n;return e=new xe({props:{type:"primary",class:"px-2 py-0",$$slots:{default:[zl]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,r){C(e,t,r),n=!0},p(t,r){const s={};r[0]&512|r[1]&2&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){A(e,t)}}}function dn(l){let e,n;return e=new Ue({props:{name:"canceled"}}),{c(){T(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,r){C(e,t,r),n=!0},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){A(e,t)}}}function Jl(l){var f,i;let e,n,t=((i=(f=l[2])==null?void 0:f.pendingActivities)==null?void 0:i.length)+"",r,s,o=l[13]&&dn();return{c(){e=L("div"),o&&o.c(),n=j(),r=K(t),this.h()},l(a){e=z(a,"DIV",{class:!0});var c=y(e);o&&o.l(c),n=O(c),r=X(c,t),c.forEach($),this.h()},h(){H(e,"class","flex items-center gap-1")},m(a,c){R(a,e,c),o&&o.m(e,null),q(e,n),q(e,r),s=!0},p(a,c){var _,b;a[13]?o?c[0]&8192&&m(o,1):(o=dn(),o.c(),m(o,1),o.m(e,n)):o&&(re(),g(o,1,1,()=>{o=null}),le()),(!s||c[0]&4)&&t!==(t=((b=(_=a[2])==null?void 0:_.pendingActivities)==null?void 0:b.length)+"")&&ie(r,t)},i(a){s||(m(o),s=!0)},o(a){g(o),s=!1},d(a){a&&$(e),o&&o.d()}}}function Yl(l){let e,n;return e=new xe({props:{type:l[13]?"warning":"primary",class:"px-2 py-0",$$slots:{default:[Jl]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,r){C(e,t,r),n=!0},p(t,r){const s={};r[0]&8192&&(s.type=t[13]?"warning":"primary"),r[0]&8196|r[1]&2&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){A(e,t)}}}function Gl(l){let e,n,t,r,s,o,f,i,a,c,_,b,d,w;return e=new We({props:{label:B("workflows.history-tab"),id:"history-tab",href:Se({...l[15]}),active:de(l[6].url.pathname,Se({...l[15]})),$$slots:{default:[Ol]},$$scope:{ctx:l}}}),t=new We({props:{label:B("workflows.workers-tab"),id:"workers-tab",href:qe(l[15]),active:de(l[6].url.pathname,qe(l[15])),$$slots:{default:[Ll]},$$scope:{ctx:l}}}),s=new We({props:{label:B("workflows.relationships"),id:"relationships-tab",href:ze(l[15]),active:de(l[6].url.pathname,ze(l[15])),$$slots:{default:[yl]},$$scope:{ctx:l}}}),f=new We({props:{label:B("workflows.pending-activities-tab"),id:"pending-activities-tab",href:ye(l[15]),active:de(l[6].url.pathname,ye(l[15])),$$slots:{default:[Yl]},$$scope:{ctx:l}}}),a=new We({props:{label:B("workflows.call-stack-tab"),id:"call-stack-tab",href:Je(l[15]),active:de(l[6].url.pathname,Je(l[15]))}}),_=new We({props:{label:B("workflows.queries-tab"),id:"queries-tab",href:Ye(l[15]),active:de(l[6].url.pathname,Ye(l[15]))}}),d=new We({props:{label:B("workflows.metadata-tab"),id:"metadata-tab",href:Ge(l[15]),active:de(l[6].url.pathname,Ge(l[15]))}}),{c(){T(e.$$.fragment),n=j(),T(t.$$.fragment),r=j(),T(s.$$.fragment),o=j(),T(f.$$.fragment),i=j(),T(a.$$.fragment),c=j(),T(_.$$.fragment),b=j(),T(d.$$.fragment)},l(u){D(e.$$.fragment,u),n=O(u),D(t.$$.fragment,u),r=O(u),D(s.$$.fragment,u),o=O(u),D(f.$$.fragment,u),i=O(u),D(a.$$.fragment,u),c=O(u),D(_.$$.fragment,u),b=O(u),D(d.$$.fragment,u)},m(u,p){C(e,u,p),R(u,n,p),C(t,u,p),R(u,r,p),C(s,u,p),R(u,o,p),C(f,u,p),R(u,i,p),C(a,u,p),R(u,c,p),C(_,u,p),R(u,b,p),C(d,u,p),w=!0},p(u,p){const k={};p[0]&32768&&(k.href=Se({...u[15]})),p[0]&32832&&(k.active=de(u[6].url.pathname,Se({...u[15]}))),p[0]&4|p[1]&2&&(k.$$scope={dirty:p,ctx:u}),e.$set(k);const W={};p[0]&32768&&(W.href=qe(u[15])),p[0]&32832&&(W.active=de(u[6].url.pathname,qe(u[15]))),p[0]&65536|p[1]&2&&(W.$$scope={dirty:p,ctx:u}),t.$set(W);const v={};p[0]&32768&&(v.href=ze(u[15])),p[0]&32832&&(v.active=de(u[6].url.pathname,ze(u[15]))),p[0]&512|p[1]&2&&(v.$$scope={dirty:p,ctx:u}),s.$set(v);const h={};p[0]&32768&&(h.href=ye(u[15])),p[0]&32832&&(h.active=de(u[6].url.pathname,ye(u[15]))),p[0]&8196|p[1]&2&&(h.$$scope={dirty:p,ctx:u}),f.$set(h);const U={};p[0]&32768&&(U.href=Je(u[15])),p[0]&32832&&(U.active=de(u[6].url.pathname,Je(u[15]))),a.$set(U);const F={};p[0]&32768&&(F.href=Ye(u[15])),p[0]&32832&&(F.active=de(u[6].url.pathname,Ye(u[15]))),_.$set(F);const Y={};p[0]&32768&&(Y.href=Ge(u[15])),p[0]&32832&&(Y.active=de(u[6].url.pathname,Ge(u[15]))),d.$set(Y)},i(u){w||(m(e.$$.fragment,u),m(t.$$.fragment,u),m(s.$$.fragment,u),m(f.$$.fragment,u),m(a.$$.fragment,u),m(_.$$.fragment,u),m(d.$$.fragment,u),w=!0)},o(u){g(e.$$.fragment,u),g(t.$$.fragment,u),g(s.$$.fragment,u),g(f.$$.fragment,u),g(a.$$.fragment,u),g(_.$$.fragment,u),g(d.$$.fragment,u),w=!1},d(u){u&&($(n),$(r),$(o),$(i),$(c),$(b)),A(e,u),A(t,u),A(s,u),A(f,u),A(a,u),A(_,u),A(d,u)}}}function Zl(l){let e,n;return e=new pr({props:{class:"flex flex-wrap gap-6 pt-2",label:"workflow detail",$$slots:{default:[Gl]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,r){C(e,t,r),n=!0},p(t,r){const s={};r[0]&107076|r[1]&2&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){A(e,t)}}}function Kl(l){var x,me;let e,n,t,r,s,o,f,i,a,c,_,b,d,w,u,p,k,W,v,h,U,F,Y,G,ne,ee,se,oe,S,E;t=new He({props:{href:`${Xe({namespace:l[3]})}?${l[18]}`,"data-testid":"back-to-workflows",icon:"chevron-left",$$slots:{default:[Rl]},$$scope:{ctx:l}}});let J=l[17]&&on(l);c=new fr({props:{status:(x=l[2])==null?void 0:x.status,big:!0}}),d=new xt({props:{isRunning:l[14],cancelInProgress:l[12],workflow:l[2],namespace:l[3]}}),k=new vn({props:{copyIconTitle:B("common.copy-icon-title"),copySuccessIconTitle:B("common.copy-success-icon-title"),content:(me=l[2])==null?void 0:me.id,clickAllToCopy:!0,"container-class":"w-full",class:"overflow-hidden text-ellipsis text-left"}});let N=l[10]&&sn(l);U=new xt({props:{isRunning:l[14],cancelInProgress:l[12],workflow:l[2],namespace:l[3]}});let I=l[8]&&fn(l),V=l[7]&&cn(l);ne=new Qr({});let Z=l[12]&&pn(l),P=l[11]&&_n(l);return S=new mr({props:{$$slots:{default:[Zl]},$$scope:{ctx:l}}}),{c(){e=L("div"),n=L("div"),T(t.$$.fragment),r=j(),J&&J.c(),s=j(),o=L("header"),f=L("div"),i=L("div"),a=L("div"),T(c.$$.fragment),_=j(),b=L("div"),T(d.$$.fragment),w=j(),u=L("div"),p=L("h1"),T(k.$$.fragment),W=j(),N&&N.c(),v=j(),h=L("div"),T(U.$$.fragment),F=j(),I&&I.c(),Y=j(),V&&V.c(),G=j(),T(ne.$$.fragment),ee=j(),Z&&Z.c(),se=j(),P&&P.c(),oe=j(),T(S.$$.fragment),this.h()},l(M){e=z(M,"DIV",{class:!0});var Q=y(e);n=z(Q,"DIV",{class:!0});var $e=y(n);D(t.$$.fragment,$e),r=O($e),J&&J.l($e),$e.forEach($),Q.forEach($),s=O(M),o=z(M,"HEADER",{class:!0});var fe=y(o);f=z(fe,"DIV",{class:!0});var _e=y(f);i=z(_e,"DIV",{class:!0});var Ee=y(i);a=z(Ee,"DIV",{class:!0});var he=y(a);D(c.$$.fragment,he),_=O(he),b=z(he,"DIV",{class:!0});var Ce=y(b);D(d.$$.fragment,Ce),Ce.forEach($),he.forEach($),w=O(Ee),u=z(Ee,"DIV",{class:!0});var Te=y(u);p=z(Te,"H1",{"data-testid":!0,class:!0});var Ae=y(p);D(k.$$.fragment,Ae),Ae.forEach($),W=O(Te),N&&N.l(Te),Te.forEach($),Ee.forEach($),v=O(_e),h=z(_e,"DIV",{class:!0});var je=y(h);D(U.$$.fragment,je),je.forEach($),_e.forEach($),F=O(fe),I&&I.l(fe),Y=O(fe),V&&V.l(fe),G=O(fe),D(ne.$$.fragment,fe),ee=O(fe),Z&&Z.l(fe),se=O(fe),P&&P.l(fe),oe=O(fe),D(S.$$.fragment,fe),fe.forEach($),this.h()},h(){H(n,"class","flex items-center gap-2"),H(e,"class","flex items-center justify-between pb-4"),H(b,"class","lg:hidden"),H(a,"class","flex flex-wrap items-center justify-between gap-4 max-lg:w-full"),H(p,"data-testid","workflow-id-heading"),H(p,"class","gap-0 overflow-hidden max-sm:text-xl sm:max-md:text-2xl"),H(u,"class","flex flex-col flex-wrap gap-0"),H(i,"class","flex w-full flex-col items-start gap-4 lg:flex-row lg:items-center"),H(h,"class","max-lg:hidden"),H(f,"class","flex flex-col items-center justify-between gap-4 lg:flex-row"),H(o,"class","flex flex-col gap-2")},m(M,Q){R(M,e,Q),q(e,n),C(t,n,null),q(n,r),J&&J.m(n,null),R(M,s,Q),R(M,o,Q),q(o,f),q(f,i),q(i,a),C(c,a,null),q(a,_),q(a,b),C(d,b,null),q(i,w),q(i,u),q(u,p),C(k,p,null),q(u,W),N&&N.m(u,null),q(f,v),q(f,h),C(U,h,null),q(o,F),I&&I.m(o,null),q(o,Y),V&&V.m(o,null),q(o,G),C(ne,o,null),q(o,ee),Z&&Z.m(o,null),q(o,se),P&&P.m(o,null),q(o,oe),C(S,o,null),E=!0},p(M,Q){var Te,Ae;const $e={};Q[0]&262152&&($e.href=`${Xe({namespace:M[3]})}?${M[18]}`),Q[0]&131072|Q[1]&2&&($e.$$scope={dirty:Q,ctx:M}),t.$set($e),M[17]?J?(J.p(M,Q),Q[0]&131072&&m(J,1)):(J=on(M),J.c(),m(J,1),J.m(n,null)):J&&(re(),g(J,1,1,()=>{J=null}),le());const fe={};Q[0]&4&&(fe.status=(Te=M[2])==null?void 0:Te.status),c.$set(fe);const _e={};Q[0]&16384&&(_e.isRunning=M[14]),Q[0]&4096&&(_e.cancelInProgress=M[12]),Q[0]&4&&(_e.workflow=M[2]),Q[0]&8&&(_e.namespace=M[3]),d.$set(_e);const Ee={};Q[0]&4&&(Ee.content=(Ae=M[2])==null?void 0:Ae.id),k.$set(Ee),M[10]?N?(N.p(M,Q),Q[0]&1024&&m(N,1)):(N=sn(M),N.c(),m(N,1),N.m(u,null)):N&&(re(),g(N,1,1,()=>{N=null}),le());const he={};Q[0]&16384&&(he.isRunning=M[14]),Q[0]&4096&&(he.cancelInProgress=M[12]),Q[0]&4&&(he.workflow=M[2]),Q[0]&8&&(he.namespace=M[3]),U.$set(he),M[8]?I?(I.p(M,Q),Q[0]&256&&m(I,1)):(I=fn(M),I.c(),m(I,1),I.m(o,Y)):I&&(re(),g(I,1,1,()=>{I=null}),le()),M[7]?V?(V.p(M,Q),Q[0]&128&&m(V,1)):(V=cn(M),V.c(),m(V,1),V.m(o,G)):V&&(re(),g(V,1,1,()=>{V=null}),le()),M[12]?Z?(Z.p(M,Q),Q[0]&4096&&m(Z,1)):(Z=pn(M),Z.c(),m(Z,1),Z.m(o,se)):Z&&(re(),g(Z,1,1,()=>{Z=null}),le()),M[11]?P?(P.p(M,Q),Q[0]&2048&&m(P,1)):(P=_n(M),P.c(),m(P,1),P.m(o,oe)):P&&(re(),g(P,1,1,()=>{P=null}),le());const Ce={};Q[0]&107076|Q[1]&2&&(Ce.$$scope={dirty:Q,ctx:M}),S.$set(Ce)},i(M){E||(m(t.$$.fragment,M),m(J),m(c.$$.fragment,M),m(d.$$.fragment,M),m(k.$$.fragment,M),m(N),m(U.$$.fragment,M),m(I),m(V),m(ne.$$.fragment,M),m(Z),m(P),m(S.$$.fragment,M),E=!0)},o(M){g(t.$$.fragment,M),g(J),g(c.$$.fragment,M),g(d.$$.fragment,M),g(k.$$.fragment,M),g(N),g(U.$$.fragment,M),g(I),g(V),g(ne.$$.fragment,M),g(Z),g(P),g(S.$$.fragment,M),E=!1},d(M){M&&($(e),$(s),$(o)),A(t),J&&J.d(),A(c),A(d),A(k),N&&N.d(),A(U),I&&I.d(),V&&V.d(),A(ne),Z&&Z.d(),P&&P.d(),A(S)}}}function Xl(l,e,n){let t,r,s,o,f,i,a,c,_,b,d,w,u,p,k,W,v,h,U,F,Y,G,ne;te(l,De,V=>n(4,h=V)),te(l,_r,V=>n(29,U=V)),te(l,Ze,V=>n(30,F=V)),te(l,Wn,V=>n(5,Y=V)),te(l,Qe,V=>n(6,G=V)),te(l,kn,V=>n(18,ne=V));var ee,se,oe,S,E,J,N,I;return l.$$.update=()=>{l.$$.dirty[0]&64&&n(3,{namespace:t,workflow:r,run:s,id:o}=G.params,t,(n(28,r),n(6,G)),(n(27,s),n(6,G)),(n(17,o),n(6,G))),l.$$.dirty[0]&16&&n(2,{workflow:f,workers:i}=h,f,(n(16,i),n(4,h))),l.$$.dirty[0]&402653192&&n(15,a={namespace:t,workflow:r,run:s}),l.$$.dirty[0]&524304&&n(14,c=n(19,ee=h==null?void 0:h.workflow)===null||ee===void 0?void 0:ee.isRunning),l.$$.dirty[0]&1048592&&n(13,_=["Terminated","TimedOut","Canceled"].includes(n(20,se=h.workflow)===null||se===void 0?void 0:se.status)),l.$$.dirty[0]&1075838992&&n(12,b=Wl(n(21,oe=h==null?void 0:h.workflow)===null||oe===void 0?void 0:oe.status,F)),l.$$.dirty[0]&134217760&&n(11,d=gr(Y,s)),l.$$.dirty[0]&12582916&&n(10,w=n(22,S=f==null?void 0:f.assignedBuildId)!==null&&S!==void 0?S:n(23,E=f==null?void 0:f.mostRecentWorkerVersionStamp)===null||E===void 0?void 0:E.useVersioning),l.$$.dirty[0]&1610612740&&n(9,u=dr(f,F,U)),l.$$.dirty[0]&16777232&&n(1,p=n(24,J=h==null?void 0:h.userMetadata)===null||J===void 0?void 0:J.summary),l.$$.dirty[0]&33554448&&n(0,k=n(25,N=h==null?void 0:h.userMetadata)===null||N===void 0?void 0:N.details),l.$$.dirty[0]&3&&n(8,W=p||k),l.$$.dirty[0]&67108880&&n(7,v=n(26,I=h==null?void 0:h.metadata)===null||I===void 0?void 0:I.currentDetails)},[k,p,f,t,h,Y,G,v,W,u,w,d,b,_,c,a,i,o,ne,ee,se,oe,S,E,J,N,I,s,r,U,F]}class xl extends ve{constructor(e){super(),Ie(this,e,Xl,Kl,be,{},null,[-1,-1])}}async function eo({activity:l,namespace:e,settings:n,accessToken:t},{convertWithCodec:r=wr,decodeAttributes:s=$r}={}){const o=await r({attributes:l,namespace:e,settings:n,accessToken:t});return s(o)}const to=async({activity:l,namespace:e,settings:n,accessToken:t})=>await eo({activity:l,namespace:e,settings:n,accessToken:t}),gn=async(l,e,n,t)=>{const r=(l==null?void 0:l.pendingActivities)??[],s=[];for(const o of r){const f=await to({activity:o,namespace:e,settings:n,accessToken:t});s.push(f)}return s};function no(l){let e,n,t,r,s;const o=[so,oo,lo],f=[];function i(a,c){return a[1]?0:a[0].workflow?2:1}return n=i(l),t=f[n]=o[n](l),{c(){e=L("div"),t.c(),this.h()},l(a){e=z(a,"DIV",{class:!0});var c=y(e);t.l(c),c.forEach($),this.h()},h(){H(e,"class",r="absolute bottom-0 left-0 right-0 "+(l[5]?"top-[540px]":"top-0")+" } flex h-full flex-col gap-4")},m(a,c){R(a,e,c),f[n].m(e,null),s=!0},p(a,c){let _=n;n=i(a),n===_?f[n].p(a,c):(re(),g(f[_],1,1,()=>{f[_]=null}),le(),t=f[n],t?t.p(a,c):(t=f[n]=o[n](a),t.c()),m(t,1),t.m(e,null)),(!s||c&32&&r!==(r="absolute bottom-0 left-0 right-0 "+(a[5]?"top-[540px]":"top-0")+" } flex h-full flex-col gap-4"))&&H(e,"class",r)},i(a){s||(m(t),s=!0)},o(a){g(t),s=!1},d(a){a&&$(e),f[n].d()}}}function ro(l){let e,n,t,r=lt(l[2],null,2)+"",s,o;return n=new jn({props:{copyIconTitle:B("common.copy-icon-title"),copySuccessIconTitle:B("common.copy-success-icon-title"),class:"absolute right-1 top-1",copied:l[4]}}),n.$on("click",l[7]),{c(){e=L("div"),T(n.$$.fragment),t=j(),s=K(r),this.h()},l(f){e=z(f,"DIV",{class:!0});var i=y(e);D(n.$$.fragment,i),t=O(i),s=X(i,r),i.forEach($),this.h()},h(){H(e,"class","relative h-auto whitespace-break-spaces break-words bg-primary p-4")},m(f,i){R(f,e,i),C(n,e,null),q(e,t),q(e,s),o=!0},p(f,i){const a={};i&16&&(a.copied=f[4]),n.$set(a),(!o||i&4)&&r!==(r=lt(f[2],null,2)+"")&&ie(s,r)},i(f){o||(m(n.$$.fragment,f),o=!0)},o(f){g(n.$$.fragment,f),o=!1},d(f){f&&$(e),A(n)}}}function lo(l){let e,n,t,r;n=new xl({});const s=l[16].default,o=Re(s,l,l[15],null);return{c(){e=L("div"),T(n.$$.fragment),t=j(),o&&o.c(),this.h()},l(f){e=z(f,"DIV",{class:!0});var i=y(e);D(n.$$.fragment,i),i.forEach($),t=O(f),o&&o.l(f),this.h()},h(){H(e,"class","border-b border-subtle px-4 pt-8 md:pt-20 xl:px-8")},m(f,i){R(f,e,i),C(n,e,null),R(f,t,i),o&&o.m(f,i),r=!0},p(f,i){o&&o.p&&(!r||i&32768)&&Ve(o,s,f,f[15],r?Ne(s,f[15],i,null):Me(f[15]),null)},i(f){r||(m(n.$$.fragment,f),m(o,f),r=!0)},o(f){g(n.$$.fragment,f),g(o,f),r=!1},d(f){f&&($(e),$(t)),A(n),o&&o.d(f)}}}function oo(l){let e,n;return e=new On({props:{class:"pt-24"}}),{c(){T(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,r){C(e,t,r),n=!0},p:we,i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){A(e,t)}}}function so(l){let e,n;return e=new Ar({props:{error:l[1]}}),{c(){T(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,r){C(e,t,r),n=!0},p(t,r){const s={};r&2&&(s.error=t[1]),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){A(e,t)}}}function fo(l){let e,n,t,r;const s=[ro,no],o=[];function f(i,a){return i[3]?0:1}return e=f(l),n=o[e]=s[e](l),{c(){n.c(),t=pe()},l(i){n.l(i),t=pe()},m(i,a){o[e].m(i,a),R(i,t,a),r=!0},p(i,[a]){let c=e;e=f(i),e===c?o[e].p(i,a):(re(),g(o[c],1,1,()=>{o[c]=null}),le(),n=o[e],n?n.p(i,a):(n=o[e]=s[e](i),n.c()),m(n,1),n.m(t.parentNode,t))},i(i){r||(m(n),r=!0)},o(i){g(n),r=!1},d(i){i&&$(t),o[e].d(i)}}}function io(l,e,n){let t,r,s,o,f,i,a,c,_,b,d,w,u,p,k,W;te(l,Rt,I=>n(19,i=I)),te(l,Qe,I=>n(11,a=I)),te(l,Xn,I=>n(12,c=I)),te(l,Ze,I=>n(13,_=I)),te(l,Vt,I=>n(20,b=I)),te(l,Le,I=>n(14,d=I)),te(l,De,I=>n(0,w=I)),te(l,Mt,I=>n(21,u=I)),te(l,vr,I=>n(22,p=I)),te(l,Bn,I=>n(5,W=I));let{$$slots:v={},$$scope:h}=e,U,F,Y;const{copy:G,copied:ne}=Er();te(l,ne,I=>n(4,k=I));const ee=I=>{G(I,lt(f))},se=async I=>{const V={summary:"",details:""};try{if(I!=null&&I.summary){const Z=await Nt(I.summary);typeof Z=="string"&&(V.summary=Z)}if(I!=null&&I.details){const Z=await Nt(I.details);typeof Z=="string"&&(V.details=Z)}ge(De,w={...w,userMetadata:V},w)}catch(Z){console.error("Error decoding user metadata",Z)}},oe=async(I,V,Z)=>{const{settings:P}=a.data,{workflow:x,error:me}=await Dt({namespace:I,workflowId:V,runId:Z});if(me){n(1,U=me);return}await se(x);const{taskQueue:M}=x,Q=await ur({queue:M,namespace:I});ge(De,w={...w,workflow:x,workers:Q},w),x.pendingActivities=await gn(x,I,P,p==null?void 0:p.accessToken),F=new AbortController,br({namespace:I,workflow:{id:V,runId:Z}},P,p==null?void 0:p.accessToken,F.signal).then($e=>{ge(De,w.metadata=$e,w)}),ge(Ze,_=await kr({namespace:I,workflowId:V,runId:Z,sort:"ascending",signal:F.signal,historySize:x.historyEvents}),_)},S=async I=>{var V;if(I&&(!((V=w==null?void 0:w.workflow)===null||V===void 0)&&V.isRunning)){const{settings:Z}=a.data,{workflow:P,error:x}=await Dt({namespace:t,workflowId:r,runId:s});if(x){n(1,U=x);return}ge(De,w.workflow=P,w),P.pendingActivities=await gn(P,t,Z,p==null?void 0:p.accessToken)}},E=()=>{ge(Ze,_=[],_),F&&F.abort()},J=()=>{ge(Mt,u=null,u),ge(De,w=zn,w),n(1,U=void 0),E(),Ir(),clearInterval(Y),Y=null},N=(I,V)=>{V||ge(Vt,b=I,b)};return qn(()=>{const I=a.url.searchParams.get("sort");I&&ge(Rt,i=I,i),Y=setInterval(()=>{hr()},1e4)}),$n(()=>{J()}),l.$$set=I=>{"$$scope"in I&&n(15,h=I.$$scope)},l.$$.update=()=>{l.$$.dirty&2048&&n(10,{namespace:t,workflow:r,run:s}=a.params,t,(n(9,r),n(11,a)),(n(8,s),n(11,a))),l.$$.dirty&2048&&n(3,o=a.url.searchParams.has("json")),l.$$.dirty&8193&&n(2,f={...w,eventHistory:_}),l.$$.dirty&256&&J(),l.$$.dirty&1792&&oe(t,r,s),l.$$.dirty&16384&&S(d),l.$$.dirty&12288&&N(_,c)},[w,U,f,o,k,W,ne,ee,s,r,t,a,c,_,d,h,v]}class ao extends ve{constructor(e){super(),Ie(this,e,io,fo,be,{})}}const Vn={namespace:null,workflowId:null,runId:null,rawPayloads:null,sort:null},uo=it(Vn),co=()=>{uo.set(Vn)};function mo(l){let e;const n=l[0].default,t=Re(n,l,l[1],null);return{c(){t&&t.c()},l(r){t&&t.l(r)},m(r,s){t&&t.m(r,s),e=!0},p(r,s){t&&t.p&&(!e||s&2)&&Ve(t,n,r,r[1],e?Ne(n,r[1],s,null):Me(r[1]),null)},i(r){e||(m(t,r),e=!0)},o(r){g(t,r),e=!1},d(r){t&&t.d(r)}}}function po(l){let e,n;return e=new ao({props:{$$slots:{default:[mo]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,r){C(e,t,r),n=!0},p(t,[r]){const s={};r&2&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){A(e,t)}}}function _o(l,e,n){let{$$slots:t={},$$scope:r}=e;return $n(()=>{co()}),l.$$set=s=>{"$$scope"in s&&n(1,r=s.$$scope)},[t,r]}class gs extends ve{constructor(e){super(),Ie(this,e,_o,po,be,{})}}export{gs as component};
