import{f as mt}from"../chunks/namespaces-service.CN2FDAL5.js";import{m as pt,n as Qe}from"../chunks/workflows.BR2t3ZnB.js";import{s as fe,c as oe,h as N,b as W,t as L,j as D,k as O,f as p,d as H,l as B,m as E,i as w,n as T,p as K,F as _t,Y as nt,q as ne,G as $t,a as ht,u as dt,g as gt,e as wt,o as ae,v as V,z as ze,A as Ue,B as Ge,O as ot,Q as st,x as j,y as it}from"../chunks/scheduler.9nPpm2FE.js";import{S as ue,i as ce,c as S,a as I,m as P,t as b,b as v,d as F,h as ft,g as Z,e as J}from"../chunks/index.DVZbaNiR.js";import{e as ie,u as bt,o as kt}from"../chunks/each.UjK00vj3.js";import{p as Ie}from"../chunks/stores.C0AskZpp.js";import{P as vt}from"../chunks/page-title.CmALMX4-.js";import{W as yt}from"../chunks/workflow-status.C0owAZ6-.js";import{F as Me}from"../chunks/filter-or-copy-buttons.D2g1t9Qv.js";import{L as Ne}from"../chunks/link.Bmoxv_9w.js";import{b as Tt,T as Et,a as Ct}from"../chunks/table.DiwxmOVE.js";import{t as k}from"../chunks/translate.BBe5dcco.js";import{t as Ae,r as St,f as ee}from"../chunks/time-format.DvF3Mj7U.js";import{j as It,k as Pt,l as Ft,m as Ke,n as Ve}from"../chunks/format-time.-q8QuKs5.js";import{t as At}from"../chunks/tokenize.4Yn0ayNB.js";import{s as qt}from"../chunks/has.BnvKvYqj.js";import{b as Nt}from"../chunks/route-for.DgyQYme5.js";import{u as ut}from"../chunks/update-query-parameters.BUZOXtVA.js";import{C as De}from"../chunks/code-block.DQlS2W8b.js";import{E as Dt}from"../chunks/empty-state.XvcIFJxF.js";import{P as Wt}from"../chunks/pagination.C_sdscHa.js";import{g as Ht}from"../chunks/entry.D4ccIo8-.js";import{g as Lt}from"../chunks/parse-with-big-int.DJQKqIvA.js";import{B as Bt}from"../chunks/button.Bg4QPaf1.js";import{I as ct}from"../chunks/input.xDU01GUV.js";import{F as Xe,S as Ot,a as ke}from"../chunks/filter-select.CPVnPipT.js";import{d as Rt}from"../chunks/index.DCL_qX-C.js";const jt=async function({params:n,url:t}){var f,m,C,y,A,U,R,X;const{searchParams:r}=t;r.has("time-range")||r.set("time-range","1 day");const e=r.get("workflow-id"),l=r.get("workflow-type"),i=r.get("time-range"),o=r.get("status"),a=await mt(n.namespace),s=(C=(m=(f=a.config)==null?void 0:f.historyArchivalUri)==null?void 0:m.toLowerCase())==null?void 0:C.startsWith("s3://"),c=(U=(A=(y=a.config)==null?void 0:y.historyArchivalUri)==null?void 0:A.toLowerCase())==null?void 0:U.startsWith("gs://"),u=s||c,_=u?{}:{workflowId:e,workflowType:l,closeTime:i,executionStatus:o},$=((R=a==null?void 0:a.config)==null?void 0:R.historyArchivalState)==="Enabled",d=((X=a==null?void 0:a.config)==null?void 0:X.visibilityArchivalState)==="Enabled",h=$&&d?await pt(n.namespace,_,fetch):null;return{workflows:h?h.workflows:[],namespace:a,archivalEnabled:$,visibilityArchivalEnabled:d,archivalQueryingNotSupported:u}},hr=Object.freeze(Object.defineProperty({__proto__:null,load:jt},Symbol.toStringTag,{value:"Module"})),Pe=n=>t=>t.toLowerCase()===n.toLowerCase(),Se=(n,t)=>n[t+2],Qt=n=>{if(n){for(const t of Ft)if(n[t])return{[t]:n[t]}}},zt=Pe("WorkflowType"),Ut=Pe("WorkflowId"),Gt=Pe("StartTime"),Mt=Pe("ExecutionStatus"),Kt=n=>{const t=At(n),r={workflowId:"",workflowType:"",executionStatus:null,timeRange:null};return t.forEach((e,l)=>{if(Ut(e)&&(r.workflowId=Se(t,l)),zt(e)&&(r.workflowType=Se(t,l)),Mt(e)){const i=Se(t,l);qt(i)&&(r.executionStatus=i)}if(Gt(e)){const i=Se(t,l);try{const o=It(i),a=Qt(o);r.timeRange=Pt(a)}catch(o){console.error("Error parsing StartTime from query",o)}}}),r};function Vt(n){let t=n[0].id+"",r;return{c(){r=L(t)},l(e){r=B(e,t)},m(e,l){w(e,r,l)},p(e,l){l&1&&t!==(t=e[0].id+"")&&ne(r,t)},d(e){e&&p(r)}}}function Xt(n){var He,Le,Be;let t,r,e,l,i,o,a,s,c,u=ee(n[0].startTime,n[4],{relative:n[5]})+"",_,$,d,h,f=k("workflows.workflow-name")+"",m,C,y,A,U=n[0].name+"",R,X,te,Q,me,x,pe=ee(n[0].endTime,n[4],{relative:n[5]})+"",ve,ye,le,_e,$e=ee(n[0].startTime,n[4],{relative:n[5]})+"",Te,Ee,re,he,de=ee(n[0].endTime,n[4],{relative:n[5]})+"",Ce,G,Fe,We;return r=new yt({props:{status:n[0].status,delay:Ke(n[0].startTime)}}),i=new Ne({props:{href:n[2],$$slots:{default:[Vt]},$$scope:{ctx:n}}}),a=new Me({props:{copyIconTitle:k("common.copy-icon-title"),copySuccessIconTitle:k("common.copy-success-icon-title"),filterIconTitle:k("common.filter-workflows"),show:n[1],content:n[0].id,filterable:!1}}),Q=new Me({props:{copyIconTitle:k("common.copy-icon-title"),copySuccessIconTitle:k("common.copy-success-icon-title"),filterIconTitle:k("common.filter-workflows"),show:n[1],content:n[0].name,onFilter:n[13],filtered:(Be=(Le=(He=n[3].url)==null?void 0:He.searchParams)==null?void 0:Le.get("query"))==null?void 0:Be.includes(n[0].name)}}),{c(){t=N("td"),S(r.$$.fragment),e=W(),l=N("td"),S(i.$$.fragment),o=W(),S(a.$$.fragment),s=W(),c=N("p"),_=L(u),$=W(),d=N("td"),h=N("h3"),m=L(f),C=L(":"),y=W(),A=N("button"),R=L(U),te=W(),S(Q.$$.fragment),me=W(),x=N("p"),ve=L(pe),ye=W(),le=N("td"),_e=N("p"),Te=L($e),Ee=W(),re=N("td"),he=N("p"),Ce=L(de),this.h()},l(g){t=D(g,"TD",{});var q=O(t);I(r.$$.fragment,q),q.forEach(p),e=H(g),l=D(g,"TD",{class:!0});var M=O(l);I(i.$$.fragment,M),o=H(M),I(a.$$.fragment,M),s=H(M),c=D(M,"P",{class:!0});var se=O(c);_=B(se,u),se.forEach(p),M.forEach(p),$=H(g),d=D(g,"TD",{class:!0});var z=O(d);h=D(z,"H3",{class:!0});var Y=O(h);m=B(Y,f),C=B(Y,":"),Y.forEach(p),y=H(z),A=D(z,"BUTTON",{class:!0,"aria-label":!0});var ge=O(A);R=B(ge,U),ge.forEach(p),te=H(z),I(Q.$$.fragment,z),me=H(z),x=D(z,"P",{class:!0});var we=O(x);ve=B(we,pe),we.forEach(p),z.forEach(p),ye=H(g),le=D(g,"TD",{class:!0});var be=O(le);_e=D(be,"P",{});var Oe=O(_e);Te=B(Oe,$e),Oe.forEach(p),be.forEach(p),Ee=H(g),re=D(g,"TD",{class:!0});var Re=O(re);he=D(Re,"P",{});var je=O(he);Ce=B(je,de),je.forEach(p),Re.forEach(p),this.h()},h(){E(c,"class","inline-time-cell svelte-1haww6m"),E(l,"class","relative break-words pr-4"),E(h,"class","md:hidden"),E(A,"class","table-link"),E(A,"aria-label",X=k("workflows.filter-by",{workflowName:n[0].name})),E(x,"class","inline-time-cell svelte-1haww6m"),E(d,"class","relative truncate"),E(le,"class","time-cell svelte-1haww6m"),E(re,"class","time-cell svelte-1haww6m")},m(g,q){w(g,t,q),P(r,t,null),w(g,e,q),w(g,l,q),P(i,l,null),T(l,o),P(a,l,null),T(l,s),T(l,c),T(c,_),w(g,$,q),w(g,d,q),T(d,h),T(h,m),T(h,C),T(d,y),T(d,A),T(A,R),T(d,te),P(Q,d,null),T(d,me),T(d,x),T(x,ve),w(g,ye,q),w(g,le,q),T(le,_e),T(_e,Te),w(g,Ee,q),w(g,re,q),T(re,he),T(he,Ce),G=!0,Fe||(We=[K(l,"mouseover",n[8]),K(l,"focus",n[9]),K(l,"mouseleave",n[10]),K(l,"blur",n[11]),K(A,"click",_t(nt(n[12]))),K(d,"mouseover",n[14]),K(d,"focus",n[15]),K(d,"mouseleave",n[16]),K(d,"blur",n[17])],Fe=!0)},p(g,q){var ge,we,be;const M={};q&1&&(M.status=g[0].status),q&1&&(M.delay=Ke(g[0].startTime)),r.$set(M);const se={};q&4&&(se.href=g[2]),q&262145&&(se.$$scope={dirty:q,ctx:g}),i.$set(se);const z={};q&2&&(z.show=g[1]),q&1&&(z.content=g[0].id),a.$set(z),(!G||q&49)&&u!==(u=ee(g[0].startTime,g[4],{relative:g[5]})+"")&&ne(_,u),(!G||q&1)&&U!==(U=g[0].name+"")&&ne(R,U),(!G||q&1&&X!==(X=k("workflows.filter-by",{workflowName:g[0].name})))&&E(A,"aria-label",X);const Y={};q&2&&(Y.show=g[1]),q&1&&(Y.content=g[0].name),q&1&&(Y.onFilter=g[13]),q&9&&(Y.filtered=(be=(we=(ge=g[3].url)==null?void 0:ge.searchParams)==null?void 0:we.get("query"))==null?void 0:be.includes(g[0].name)),Q.$set(Y),(!G||q&49)&&pe!==(pe=ee(g[0].endTime,g[4],{relative:g[5]})+"")&&ne(ve,pe),(!G||q&49)&&$e!==($e=ee(g[0].startTime,g[4],{relative:g[5]})+"")&&ne(Te,$e),(!G||q&49)&&de!==(de=ee(g[0].endTime,g[4],{relative:g[5]})+"")&&ne(Ce,de)},i(g){G||(b(r.$$.fragment,g),b(i.$$.fragment,g),b(a.$$.fragment,g),b(Q.$$.fragment,g),G=!0)},o(g){v(r.$$.fragment,g),v(i.$$.fragment,g),v(a.$$.fragment,g),v(Q.$$.fragment,g),G=!1},d(g){g&&(p(t),p(e),p(l),p($),p(d),p(ye),p(le),p(Ee),p(re)),F(r),F(i),F(a),F(Q),Fe=!1,$t(We)}}}function Yt(n){let t,r;return t=new Tt({props:{class:"hover:bg-interactive-table-hover",$$slots:{default:[Xt]},$$scope:{ctx:n}}}),{c(){S(t.$$.fragment)},l(e){I(t.$$.fragment,e)},m(e,l){P(t,e,l),r=!0},p(e,[l]){const i={};l&262207&&(i.$$scope={dirty:l,ctx:e}),t.$set(i)},i(e){r||(b(t.$$.fragment,e),r=!0)},o(e){v(t.$$.fragment,e),r=!1},d(e){F(t,e)}}}function Zt(n,t,r){let e,l,i,o;oe(n,Ie,R=>r(3,l=R)),oe(n,Ae,R=>r(4,i=R)),oe(n,St,R=>r(5,o=R));let{namespace:a}=t,{workflow:s}=t,c=!1;const u=R=>{const X=Qe({timeRange:"All"}),te=l.url.searchParams.get("query"),Q=Kt(te??X),me=(Q==null?void 0:Q.workflowType)===R?"":R,x=Qe({...Q,workflowType:me});ut({url:l.url,parameter:"query",value:x,allowEmpty:!0})},_=()=>r(1,c=!0),$=()=>r(1,c=!0),d=()=>r(1,c=!1),h=()=>r(1,c=!1),f=()=>u(s.name),m=()=>u(s.name),C=()=>r(1,c=!0),y=()=>r(1,c=!0),A=()=>r(1,c=!1),U=()=>r(1,c=!1);return n.$$set=R=>{"namespace"in R&&r(7,a=R.namespace),"workflow"in R&&r(0,s=R.workflow)},n.$$.update=()=>{n.$$.dirty&129&&r(2,e=Nt({namespace:a,workflow:s.id,run:s.runId}))},[s,c,e,l,i,o,u,a,_,$,d,h,f,m,C,y,A,U]}class Jt extends ue{constructor(t){super(),ce(this,t,Zt,Yt,fe,{namespace:7,workflow:0})}}function xt(n){let t;const r=n[1].default,e=ht(r,n,n[2],null);return{c(){e&&e.c()},l(l){e&&e.l(l)},m(l,i){e&&e.m(l,i),t=!0},p(l,i){e&&e.p&&(!t||i&4)&&dt(e,r,l,l[2],t?wt(r,l[2],i,null):gt(l[2]),null)},i(l){t||(b(e,l),t=!0)},o(l){v(e,l),t=!1},d(l){e&&e.d(l)}}}function el(n){let t,r="Workflows";return{c(){t=N("caption"),t.textContent=r,this.h()},l(e){t=D(e,"CAPTION",{class:!0,slot:!0,"data-svelte-h":!0}),ae(t)!=="svelte-qflexs"&&(t.textContent=r),this.h()},h(){E(t,"class","sr-only"),E(t,"slot","caption")},m(e,l){w(e,t,l)},p:V,d(e){e&&p(t)}}}function tl(n){let t,r="Status",e,l,i="Workflow ID",o,a,s="Type",c,u,_="Start",$,d,h="End",f,m,C="Summary";return{c(){t=N("th"),t.textContent=r,e=W(),l=N("th"),l.textContent=i,o=W(),a=N("th"),a.textContent=s,c=W(),u=N("th"),u.textContent=_,$=W(),d=N("th"),d.textContent=h,f=W(),m=N("th"),m.textContent=C,this.h()},l(y){t=D(y,"TH",{class:!0,"data-svelte-h":!0}),ae(t)!=="svelte-16bnp2i"&&(t.textContent=r),e=H(y),l=D(y,"TH",{class:!0,"data-svelte-h":!0}),ae(l)!=="svelte-115zk6j"&&(l.textContent=i),o=H(y),a=D(y,"TH",{class:!0,"data-svelte-h":!0}),ae(a)!=="svelte-lhnwb5"&&(a.textContent=s),c=H(y),u=D(y,"TH",{class:!0,"data-svelte-h":!0}),ae(u)!=="svelte-1xn3gxk"&&(u.textContent=_),$=H(y),d=D(y,"TH",{class:!0,"data-svelte-h":!0}),ae(d)!=="svelte-10ns7z5"&&(d.textContent=h),f=H(y),m=D(y,"TH",{class:!0,colspan:!0,"data-svelte-h":!0}),ae(m)!=="svelte-39g6qc"&&(m.textContent=C),this.h()},h(){E(t,"class","w-32 max-md:hidden"),E(l,"class","max-md:hidden md:w-auto"),E(a,"class","w-60 max-md:hidden"),E(u,"class","w-60 max-xl:hidden"),E(d,"class","w-60 max-xl:hidden"),E(m,"class","md:hidden"),E(m,"colspan","3")},m(y,A){w(y,t,A),w(y,e,A),w(y,l,A),w(y,o,A),w(y,a,A),w(y,c,A),w(y,u,A),w(y,$,A),w(y,d,A),w(y,f,A),w(y,m,A)},p:V,d(y){y&&(p(t),p(e),p(l),p(o),p(a),p(c),p(u),p($),p(d),p(f),p(m))}}}function ll(n){let t,r;return t=new Ct({props:{slot:"headers",$$slots:{default:[tl]},$$scope:{ctx:n}}}),{c(){S(t.$$.fragment)},l(e){I(t.$$.fragment,e)},m(e,l){P(t,e,l),r=!0},p(e,l){const i={};l&4&&(i.$$scope={dirty:l,ctx:e}),t.$set(i)},i(e){r||(b(t.$$.fragment,e),r=!0)},o(e){v(t.$$.fragment,e),r=!1},d(e){F(t,e)}}}function rl(n){let t,r;return t=new Et({props:{class:"w-full md:table-fixed",updating:n[0],"data-testid":"workflows-table",$$slots:{headers:[ll],caption:[el],default:[xt]},$$scope:{ctx:n}}}),{c(){S(t.$$.fragment)},l(e){I(t.$$.fragment,e)},m(e,l){P(t,e,l),r=!0},p(e,[l]){const i={};l&1&&(i.updating=e[0]),l&4&&(i.$$scope={dirty:l,ctx:e}),t.$set(i)},i(e){r||(b(t.$$.fragment,e),r=!0)},o(e){v(t.$$.fragment,e),r=!1},d(e){F(t,e)}}}function al(n,t,r){let{$$slots:e={},$$scope:l}=t,{updating:i=!1}=t;return n.$$set=o=>{"updating"in o&&r(0,i=o.updating),"$$scope"in o&&r(2,l=o.$$scope)},[i,e,l]}class nl extends ue{constructor(t){super(),ce(this,t,al,rl,fe,{updating:0})}}var qe={exports:{}};(function(n,t){var r=/[A-Z\u00C0-\u00D6\u00D8-\u00DE]/g,e=/-[a-z\u00E0-\u00F6\u00F8-\u00FE]/g;n.exports=t=function(i){return i.replace(r,function(o){return"-"+o.toLowerCase()})},t.reverse=function(l){return l.replace(e,function(i){return i.slice(1).toUpperCase()})}})(qe,qe.exports);var ol=qe.exports;const sl=Lt(ol);function il(n){let t;return{c(){t=L(n[1])},l(r){t=B(r,n[1])},m(r,e){w(r,t,e)},p(r,e){e&2&&ne(t,r[1])},d(r){r&&p(t)}}}function fl(n){let t,r;return t=new Bt({props:{slot:"after-input",type:"submit","data-testid":`${n[6]}-button`,$$slots:{default:[il]},$$scope:{ctx:n}}}),{c(){S(t.$$.fragment)},l(e){I(t.$$.fragment,e)},m(e,l){P(t,e,l),r=!0},p(e,l){const i={};l&1026&&(i.$$scope={dirty:l,ctx:e}),t.$set(i)},i(e){r||(b(t.$$.fragment,e),r=!0)},o(e){v(t.$$.fragment,e),r=!1},d(e){F(t,e)}}}function ul(n){let t,r,e,l,i;return r=new ct({props:{class:"w-full",label:n[1],id:n[5],labelHidden:!0,icon:n[4]?"search":null,type:"search",name:n[3],value:n[2],placeholder:n[0],"data-testid":`${n[6]}-input`,$$slots:{"after-input":[fl]},$$scope:{ctx:n}}}),r.$on("input",n[8]),{c(){t=N("form"),S(r.$$.fragment),this.h()},l(o){t=D(o,"FORM",{role:!0,class:!0,"data-testid":!0});var a=O(t);I(r.$$.fragment,a),a.forEach(p),this.h()},h(){E(t,"role","search"),E(t,"class","flex items-center"),E(t,"data-testid",`${n[6]}-form`)},m(o,a){w(o,t,a),P(r,t,null),e=!0,l||(i=K(t,"submit",nt(n[7])),l=!0)},p(o,[a]){const s={};a&2&&(s.label=o[1]),a&32&&(s.id=o[5]),a&16&&(s.icon=o[4]?"search":null),a&8&&(s.name=o[3]),a&4&&(s.value=o[2]),a&1&&(s.placeholder=o[0]),a&1026&&(s.$$scope={dirty:a,ctx:o}),r.$set(s)},i(o){e||(b(r.$$.fragment,o),e=!0)},o(o){v(r.$$.fragment,o),e=!1},d(o){o&&p(t),F(r),l=!1,i()}}}function cl(n,t,r){let{placeholder:e=`${k("common.search")}…`}=t,{label:l=k("common.search")}=t,{value:i=""}=t,{name:o="query"}=t,{icon:a=!1}=t,{id:s=sl(`${l}-${o}`)}=t,c=t["data-testid"]||s;function u($){Ge.call(this,n,$)}function _($){Ge.call(this,n,$)}return n.$$set=$=>{r(9,t=ze(ze({},t),Ue($))),"placeholder"in $&&r(0,e=$.placeholder),"label"in $&&r(1,l=$.label),"value"in $&&r(2,i=$.value),"name"in $&&r(3,o=$.name),"icon"in $&&r(4,a=$.icon),"id"in $&&r(5,s=$.id)},t=Ue(t),[e,l,i,o,a,s,c,u,_]}class ml extends ue{constructor(t){super(),ce(this,t,cl,ul,fe,{placeholder:0,label:1,value:2,name:3,icon:4,id:5})}}function pl(n){let t,r,e;function l(o){n[6](o)}let i={type:"search",icon:"search",label:n[0],labelHidden:!0,placeholder:n[0],id:n[2]};return n[1]!==void 0&&(i.value=n[1]),t=new ct({props:i}),ot.push(()=>ft(t,"value",l)),{c(){S(t.$$.fragment)},l(o){I(t.$$.fragment,o)},m(o,a){P(t,o,a),e=!0},p(o,[a]){const s={};a&1&&(s.label=o[0]),a&1&&(s.placeholder=o[0]),!r&&a&2&&(r=!0,s.value=o[1],st(()=>r=!1)),t.$set(s)},i(o){e||(b(t.$$.fragment,o),e=!0)},o(o){v(t.$$.fragment,o),e=!1},d(o){F(t,o)}}}function _l(n,t,r){let e;oe(n,Ie,_=>r(5,e=_));let{parameter:l}=t,{name:i}=t,{value:o}=t,a=l&&e.url.searchParams.get(l)||o;const s=`${l||i}-filter`,c=Rt(ut,300);function u(_){a=_,r(1,a)}return n.$$set=_=>{"parameter"in _&&r(3,l=_.parameter),"name"in _&&r(0,i=_.name),"value"in _&&r(4,o=_.value)},n.$$.update=()=>{n.$$.dirty&42&&c({parameter:l,value:a,url:e.url})},[i,a,s,l,o,e,u]}class Ye extends ue{constructor(t){super(),ce(this,t,_l,pl,fe,{parameter:3,name:0,value:4})}}function Ze(n,t,r){const e=n.slice();return e[6]=t[r].value,e[7]=t[r].label,e}function Je(n,t,r){const e=n.slice();return e[6]=t[r],e}function $l(n){let t,r;return t=new Ne({props:{href:`${n[0].url.pathname}?query=`,$$slots:{default:[dl]},$$scope:{ctx:n}}}),{c(){S(t.$$.fragment)},l(e){I(t.$$.fragment,e)},m(e,l){P(t,e,l),r=!0},p(e,l){const i={};l&1&&(i.href=`${e[0].url.pathname}?query=`),l&4096&&(i.$$scope={dirty:l,ctx:e}),t.$set(i)},i(e){r||(b(t.$$.fragment,e),r=!0)},o(e){v(t.$$.fragment,e),r=!1},d(e){F(t,e)}}}function hl(n){let t,r;return t=new Ne({props:{href:n[0].url.pathname,$$slots:{default:[gl]},$$scope:{ctx:n}}}),{c(){S(t.$$.fragment)},l(e){I(t.$$.fragment,e)},m(e,l){P(t,e,l),r=!0},p(e,l){const i={};l&1&&(i.href=e[0].url.pathname),l&4096&&(i.$$scope={dirty:l,ctx:e}),t.$set(i)},i(e){r||(b(t.$$.fragment,e),r=!0)},o(e){v(t.$$.fragment,e),r=!1},d(e){F(t,e)}}}function dl(n){let t=k("workflows.advanced-search")+"",r;return{c(){r=L(t)},l(e){r=B(e,t)},m(e,l){w(e,r,l)},p:V,d(e){e&&p(r)}}}function gl(n){let t=k("workflows.basic-search")+"",r;return{c(){r=L(t)},l(e){r=B(e,t)},m(e,l){w(e,r,l)},p:V,d(e){e&&p(r)}}}function wl(n){let t,r,e,l,i,o,a,s,c,u,_,$;r=new Ye({props:{parameter:"workflow-id",name:k("common.workflow-id"),value:Fl}}),l=new Ye({props:{parameter:"workflow-type",name:k("common.workflow-type"),value:Al}}),o=new Xe({props:{label:k("workflows.time-range"),parameter:"time-range",value:"24 hours",$$slots:{default:[vl]},$$scope:{ctx:n}}}),s=new Xe({props:{label:k("common.status"),parameter:"status",value:null,$$slots:{default:[Tl]},$$scope:{ctx:n}}});function d(f){n[5](f)}let h={id:"filter-by-relative-time",label:k("common.time"),$$slots:{default:[Il]},$$scope:{ctx:n}};return n[2]!==void 0&&(h.value=n[2]),u=new Ot({props:h}),ot.push(()=>ft(u,"value",d)),{c(){t=N("div"),S(r.$$.fragment),e=W(),S(l.$$.fragment),i=W(),S(o.$$.fragment),a=W(),S(s.$$.fragment),c=W(),S(u.$$.fragment),this.h()},l(f){t=D(f,"DIV",{class:!0,role:!0});var m=O(t);I(r.$$.fragment,m),e=H(m),I(l.$$.fragment,m),i=H(m),I(o.$$.fragment,m),a=H(m),I(s.$$.fragment,m),c=H(m),I(u.$$.fragment,m),m.forEach(p),this.h()},h(){E(t,"class","grid grid-cols-1 gap-4 sm:grid-cols-2 md:grid-cols-5"),E(t,"role","search")},m(f,m){w(f,t,m),P(r,t,null),T(t,e),P(l,t,null),T(t,i),P(o,t,null),T(t,a),P(s,t,null),T(t,c),P(u,t,null),$=!0},p(f,m){const C={};m&4096&&(C.$$scope={dirty:m,ctx:f}),o.$set(C);const y={};m&4096&&(y.$$scope={dirty:m,ctx:f}),s.$set(y);const A={};m&4096&&(A.$$scope={dirty:m,ctx:f}),!_&&m&4&&(_=!0,A.value=f[2],st(()=>_=!1)),u.$set(A)},i(f){$||(b(r.$$.fragment,f),b(l.$$.fragment,f),b(o.$$.fragment,f),b(s.$$.fragment,f),b(u.$$.fragment,f),$=!0)},o(f){v(r.$$.fragment,f),v(l.$$.fragment,f),v(o.$$.fragment,f),v(s.$$.fragment,f),v(u.$$.fragment,f),$=!1},d(f){f&&p(t),F(r),F(l),F(o),F(s),F(u)}}}function bl(n){let t,r;return t=new ml({props:{icon:!0,placeholder:k("common.search"),value:n[0].url.searchParams.get("query")}}),t.$on("submit",n[4]),{c(){S(t.$$.fragment)},l(e){I(t.$$.fragment,e)},m(e,l){P(t,e,l),r=!0},p(e,l){const i={};l&1&&(i.value=e[0].url.searchParams.get("query")),t.$set(i)},i(e){r||(b(t.$$.fragment,e),r=!0)},o(e){v(t.$$.fragment,e),r=!1},d(e){F(t,e)}}}function kl(n){let t=n[6]+"",r;return{c(){r=L(t)},l(e){r=B(e,t)},m(e,l){w(e,r,l)},p:V,d(e){e&&p(r)}}}function xe(n){let t,r;return t=new ke({props:{value:n[6],$$slots:{default:[kl]},$$scope:{ctx:n}}}),{c(){S(t.$$.fragment)},l(e){I(t.$$.fragment,e)},m(e,l){P(t,e,l),r=!0},p(e,l){const i={};l&4096&&(i.$$scope={dirty:l,ctx:e}),t.$set(i)},i(e){r||(b(t.$$.fragment,e),r=!0)},o(e){v(t.$$.fragment,e),r=!1},d(e){F(t,e)}}}function vl(n){let t,r,e=ie(Ve),l=[];for(let o=0;o<e.length;o+=1)l[o]=xe(Je(n,e,o));const i=o=>v(l[o],1,1,()=>{l[o]=null});return{c(){for(let o=0;o<l.length;o+=1)l[o].c();t=j()},l(o){for(let a=0;a<l.length;a+=1)l[a].l(o);t=j()},m(o,a){for(let s=0;s<l.length;s+=1)l[s]&&l[s].m(o,a);w(o,t,a),r=!0},p(o,a){if(a&0){e=ie(Ve);let s;for(s=0;s<e.length;s+=1){const c=Je(o,e,s);l[s]?(l[s].p(c,a),b(l[s],1)):(l[s]=xe(c),l[s].c(),b(l[s],1),l[s].m(t.parentNode,t))}for(Z(),s=e.length;s<l.length;s+=1)i(s);J()}},i(o){if(!r){for(let a=0;a<e.length;a+=1)b(l[a]);r=!0}},o(o){l=l.filter(Boolean);for(let a=0;a<l.length;a+=1)v(l[a]);r=!1},d(o){o&&p(t),it(l,o)}}}function yl(n){let t=n[7]+"",r;return{c(){r=L(t)},l(e){r=B(e,t)},m(e,l){w(e,r,l)},p:V,d(e){e&&p(r)}}}function et(n,t){let r,e,l;return e=new ke({props:{value:t[6],$$slots:{default:[yl]},$$scope:{ctx:t}}}),{key:n,first:null,c(){r=j(),S(e.$$.fragment),this.h()},l(i){r=j(),I(e.$$.fragment,i),this.h()},h(){this.first=r},m(i,o){w(i,r,o),P(e,i,o),l=!0},p(i,o){t=i;const a={};o&4096&&(a.$$scope={dirty:o,ctx:t}),e.$set(a)},i(i){l||(b(e.$$.fragment,i),l=!0)},o(i){v(e.$$.fragment,i),l=!1},d(i){i&&p(r),F(e,i)}}}function Tl(n){let t=[],r=new Map,e,l,i=ie(Object.values(n[3]));const o=a=>a[7];for(let a=0;a<i.length;a+=1){let s=Ze(n,i,a),c=o(s);r.set(c,t[a]=et(c,s))}return{c(){for(let a=0;a<t.length;a+=1)t[a].c();e=j()},l(a){for(let s=0;s<t.length;s+=1)t[s].l(a);e=j()},m(a,s){for(let c=0;c<t.length;c+=1)t[c]&&t[c].m(a,s);w(a,e,s),l=!0},p(a,s){s&8&&(i=ie(Object.values(a[3])),Z(),t=bt(t,s,o,1,a,i,r,e.parentNode,kt,et,e,Ze),J())},i(a){if(!l){for(let s=0;s<i.length;s+=1)b(t[s]);l=!0}},o(a){for(let s=0;s<t.length;s+=1)v(t[s]);l=!1},d(a){a&&p(e);for(let s=0;s<t.length;s+=1)t[s].d(a)}}}function El(n){let t=k("common.relative")+"",r;return{c(){r=L(t)},l(e){r=B(e,t)},m(e,l){w(e,r,l)},p:V,d(e){e&&p(r)}}}function Cl(n){let t=k("common.utc")+"",r;return{c(){r=L(t)},l(e){r=B(e,t)},m(e,l){w(e,r,l)},p:V,d(e){e&&p(r)}}}function Sl(n){let t=k("common.local")+"",r;return{c(){r=L(t)},l(e){r=B(e,t)},m(e,l){w(e,r,l)},p:V,d(e){e&&p(r)}}}function Il(n){let t,r,e,l,i,o;return t=new ke({props:{value:"relative",$$slots:{default:[El]},$$scope:{ctx:n}}}),e=new ke({props:{value:"UTC",$$slots:{default:[Cl]},$$scope:{ctx:n}}}),i=new ke({props:{value:"local",$$slots:{default:[Sl]},$$scope:{ctx:n}}}),{c(){S(t.$$.fragment),r=W(),S(e.$$.fragment),l=W(),S(i.$$.fragment)},l(a){I(t.$$.fragment,a),r=H(a),I(e.$$.fragment,a),l=H(a),I(i.$$.fragment,a)},m(a,s){P(t,a,s),w(a,r,s),P(e,a,s),w(a,l,s),P(i,a,s),o=!0},p(a,s){const c={};s&4096&&(c.$$scope={dirty:s,ctx:a}),t.$set(c);const u={};s&4096&&(u.$$scope={dirty:s,ctx:a}),e.$set(u);const _={};s&4096&&(_.$$scope={dirty:s,ctx:a}),i.$set(_)},i(a){o||(b(t.$$.fragment,a),b(e.$$.fragment,a),b(i.$$.fragment,a),o=!0)},o(a){v(t.$$.fragment,a),v(e.$$.fragment,a),v(i.$$.fragment,a),o=!1},d(a){a&&(p(r),p(l)),F(t,a),F(e,a),F(i,a)}}}function Pl(n){let t,r,e,l,i,o,a,s;const c=[hl,$l],u=[];function _(f,m){return f[1]?0:1}e=_(n),l=u[e]=c[e](n);const $=[bl,wl],d=[];function h(f,m){return f[1]?0:1}return o=h(n),a=d[o]=$[o](n),{c(){t=N("section"),r=N("p"),l.c(),i=W(),a.c(),this.h()},l(f){t=D(f,"SECTION",{class:!0});var m=O(t);r=D(m,"P",{class:!0});var C=O(r);l.l(C),C.forEach(p),i=H(m),a.l(m),m.forEach(p),this.h()},h(){E(r,"class","text-right text-xs"),E(t,"class","flex flex-col gap-2")},m(f,m){w(f,t,m),T(t,r),u[e].m(r,null),T(t,i),d[o].m(t,null),s=!0},p(f,[m]){let C=e;e=_(f),e===C?u[e].p(f,m):(Z(),v(u[C],1,1,()=>{u[C]=null}),J(),l=u[e],l?l.p(f,m):(l=u[e]=c[e](f),l.c()),b(l,1),l.m(r,null));let y=o;o=h(f),o===y?d[o].p(f,m):(Z(),v(d[y],1,1,()=>{d[y]=null}),J(),a=d[o],a?a.p(f,m):(a=d[o]=$[o](f),a.c()),b(a,1),a.m(t,null))},i(f){s||(b(l),b(a),s=!0)},o(f){v(l),v(a),s=!1},d(f){f&&p(t),u[e].d(),d[o].d()}}}let Fl="",Al="";function ql(n,t,r){let e,l,i;oe(n,Ie,c=>r(0,l=c)),oe(n,Ae,c=>r(2,i=c));const o={All:{value:null,label:k("workflows.all-statuses")},"Timed Out":{value:"TimedOut",label:k("workflows.timed-out")},Completed:{value:"Completed",label:k("workflows.completed")},Failed:{value:"Failed",label:k("workflows.failed")},"Continued as New":{value:"ContinuedAsNew",label:k("workflows.continued-as-new")},Canceled:{value:"Canceled",label:k("workflows.canceled")},Terminated:{value:"Terminated",label:k("workflows.terminated")}},a=c=>{const _=new FormData(c.target).get("query");l.url.searchParams.set("query",String(_)),Ht(l.url.toString())};function s(c){i=c,Ae.set(i)}return n.$$.update=()=>{n.$$.dirty&1&&r(1,e=l.url.searchParams.has("query"))},[l,e,i,o,a,s]}class Nl extends ue{constructor(t){super(),ce(this,t,ql,Pl,fe,{})}}function tt(n,t,r){const e=n.slice();return e[8]=t[r],e}function Dl(n){let t,r=k("workflows.archival-disabled-title")+"",e,l,i,o=k("workflows.archival-disabled-details")+"",a,s,c,u,_,$,d;u=new De({props:{content:`temporal operator namespace update --history-archival-state enabled ${n[4]}`,language:"text",inline:!0,copyIconTitle:k("common.copy-icon-title"),copySuccessIconTitle:k("common.copy-success-icon-title")}});let h=!n[1]&&lt(n);return{c(){t=N("h1"),e=L(r),l=W(),i=N("p"),a=L(o),s=L(":"),c=W(),S(u.$$.fragment),_=W(),h&&h.c(),$=j(),this.h()},l(f){t=D(f,"H1",{"data-testid":!0});var m=O(t);e=B(m,r),m.forEach(p),l=H(f),i=D(f,"P",{});var C=O(i);a=B(C,o),s=B(C,":"),C.forEach(p),c=H(f),I(u.$$.fragment,f),_=H(f),h&&h.l(f),$=j(),this.h()},h(){E(t,"data-testid","archived-disabled-title")},m(f,m){w(f,t,m),T(t,e),w(f,l,m),w(f,i,m),T(i,a),T(i,s),w(f,c,m),P(u,f,m),w(f,_,m),h&&h.m(f,m),w(f,$,m),d=!0},p(f,m){const C={};m&16&&(C.content=`temporal operator namespace update --history-archival-state enabled ${f[4]}`),u.$set(C),f[1]?h&&(Z(),v(h,1,1,()=>{h=null}),J()):h?(h.p(f,m),m&2&&b(h,1)):(h=lt(f),h.c(),b(h,1),h.m($.parentNode,$))},i(f){d||(b(u.$$.fragment,f),b(h),d=!0)},o(f){v(u.$$.fragment,f),v(h),d=!1},d(f){f&&(p(t),p(l),p(i),p(c),p(_),p($)),F(u,f),h&&h.d(f)}}}function Wl(n){let t,r=k("workflows.visibility-disabled-archival")+"",e,l,i,o=k("workflows.archival-link-preface")+"",a,s,c=k("workflows.archival-link")+"",u,_,$,d,h;return d=new De({props:{content:`temporal operator namespace update --visibility-archival-state enabled ${n[4]}`,language:"text",inline:!0,copyIconTitle:k("common.copy-icon-title"),copySuccessIconTitle:k("common.copy-success-icon-title")}}),{c(){t=N("h1"),e=L(r),l=W(),i=N("p"),a=L(o),s=N("a"),u=L(c),_=L(":"),$=W(),S(d.$$.fragment),this.h()},l(f){t=D(f,"H1",{"data-testid":!0});var m=O(t);e=B(m,r),m.forEach(p),l=H(f),i=D(f,"P",{});var C=O(i);a=B(C,o),s=D(C,"A",{class:!0,href:!0,target:!0,rel:!0});var y=O(s);u=B(y,c),y.forEach(p),_=B(C,":"),C.forEach(p),$=H(f),I(d.$$.fragment,f),this.h()},h(){E(t,"data-testid","visibility-disabled-title"),E(s,"class","text-blue-700 underline"),E(s,"href","https://docs.temporal.io/clusters#archival"),E(s,"target","_blank"),E(s,"rel","noreferrer")},m(f,m){w(f,t,m),T(t,e),w(f,l,m),w(f,i,m),T(i,a),T(i,s),T(s,u),T(i,_),w(f,$,m),P(d,f,m),h=!0},p(f,m){const C={};m&16&&(C.content=`temporal operator namespace update --visibility-archival-state enabled ${f[4]}`),d.$set(C)},i(f){h||(b(d.$$.fragment,f),h=!0)},o(f){v(d.$$.fragment,f),h=!1},d(f){f&&(p(t),p(l),p(i),p($)),F(d,f)}}}function Hl(n){let t,r=k("workflows.archived-workflows")+"",e,l,i,o,a,s,c,u=!n[0]&&rt();const _=[Bl,Ll],$=[];function d(h,f){var m;return(m=h[3])!=null&&m.length?0:1}return o=d(n),a=$[o]=_[o](n),{c(){t=N("h1"),e=L(r),l=W(),u&&u.c(),i=W(),a.c(),s=j(),this.h()},l(h){t=D(h,"H1",{"data-testid":!0});var f=O(t);e=B(f,r),f.forEach(p),l=H(h),u&&u.l(h),i=H(h),a.l(h),s=j(),this.h()},h(){E(t,"data-testid","archived-enabled-title")},m(h,f){w(h,t,f),T(t,e),w(h,l,f),u&&u.m(h,f),w(h,i,f),$[o].m(h,f),w(h,s,f),c=!0},p(h,f){h[0]?u&&(Z(),v(u,1,1,()=>{u=null}),J()):u?f&1&&b(u,1):(u=rt(),u.c(),b(u,1),u.m(i.parentNode,i));let m=o;o=d(h),o===m?$[o].p(h,f):(Z(),v($[m],1,1,()=>{$[m]=null}),J(),a=$[o],a?a.p(h,f):(a=$[o]=_[o](h),a.c()),b(a,1),a.m(s.parentNode,s))},i(h){c||(b(u),b(a),c=!0)},o(h){v(u),v(a),c=!1},d(h){h&&(p(t),p(l),p(i),p(s)),u&&u.d(h),$[o].d(h)}}}function lt(n){let t,r=k("workflows.archival-link-preface")+"",e,l,i=k("workflows.archival-link")+"",o,a,s,c,u;return c=new De({props:{content:`temporal operator namespace update --visibility-archival-state enabled ${n[4]}`,language:"text",inline:!0,copyIconTitle:k("common.copy-icon-title"),copySuccessIconTitle:k("common.copy-success-icon-title")}}),{c(){t=N("p"),e=L(r),l=N("a"),o=L(i),a=L(":"),s=W(),S(c.$$.fragment),this.h()},l(_){t=D(_,"P",{});var $=O(t);e=B($,r),l=D($,"A",{class:!0,href:!0,target:!0,rel:!0});var d=O(l);o=B(d,i),d.forEach(p),a=B($,":"),$.forEach(p),s=H(_),I(c.$$.fragment,_),this.h()},h(){E(l,"class","text-blue-700 underline"),E(l,"href","https://docs.temporal.io/clusters#archival"),E(l,"target","_blank"),E(l,"rel","noreferrer")},m(_,$){w(_,t,$),T(t,e),T(t,l),T(l,o),T(t,a),w(_,s,$),P(c,_,$),u=!0},p(_,$){const d={};$&16&&(d.content=`temporal operator namespace update --visibility-archival-state enabled ${_[4]}`),c.$set(d)},i(_){u||(b(c.$$.fragment,_),u=!0)},o(_){v(c.$$.fragment,_),u=!1},d(_){_&&(p(t),p(s)),F(c,_)}}}function rt(n){let t,r;return t=new Nl({}),{c(){S(t.$$.fragment)},l(e){I(t.$$.fragment,e)},m(e,l){P(t,e,l),r=!0},i(e){r||(b(t.$$.fragment,e),r=!0)},o(e){v(t.$$.fragment,e),r=!1},d(e){F(t,e)}}}function Ll(n){let t,r;return t=new Dt({props:{title:k("workflows.workflow-empty-state-title"),content:k("workflows.archival-empty-state-description")}}),{c(){S(t.$$.fragment)},l(e){I(t.$$.fragment,e)},m(e,l){P(t,e,l),r=!0},p:V,i(e){r||(b(t.$$.fragment,e),r=!0)},o(e){v(t.$$.fragment,e),r=!1},d(e){F(t,e)}}}function Bl(n){let t,r;return t=new Wt({props:{items:n[3],"aria-label":k("workflows.archived-workflows"),pageSizeSelectLabel:k("common.per-page"),previousButtonLabel:k("common.previous"),nextButtonLabel:k("common.next"),$$slots:{default:[Rl,({visibleItems:e})=>({7:e}),({visibleItems:e})=>e?128:0]},$$scope:{ctx:n}}}),{c(){S(t.$$.fragment)},l(e){I(t.$$.fragment,e)},m(e,l){P(t,e,l),r=!0},p(e,l){const i={};l&8&&(i.items=e[3]),l&2192&&(i.$$scope={dirty:l,ctx:e}),t.$set(i)},i(e){r||(b(t.$$.fragment,e),r=!0)},o(e){v(t.$$.fragment,e),r=!1},d(e){F(t,e)}}}function at(n){let t,r;return t=new Jt({props:{workflow:n[8],namespace:n[4]}}),{c(){S(t.$$.fragment)},l(e){I(t.$$.fragment,e)},m(e,l){P(t,e,l),r=!0},p(e,l){const i={};l&128&&(i.workflow=e[8]),l&16&&(i.namespace=e[4]),t.$set(i)},i(e){r||(b(t.$$.fragment,e),r=!0)},o(e){v(t.$$.fragment,e),r=!1},d(e){F(t,e)}}}function Ol(n){let t,r,e=ie(n[7]),l=[];for(let o=0;o<e.length;o+=1)l[o]=at(tt(n,e,o));const i=o=>v(l[o],1,1,()=>{l[o]=null});return{c(){for(let o=0;o<l.length;o+=1)l[o].c();t=j()},l(o){for(let a=0;a<l.length;a+=1)l[a].l(o);t=j()},m(o,a){for(let s=0;s<l.length;s+=1)l[s]&&l[s].m(o,a);w(o,t,a),r=!0},p(o,a){if(a&144){e=ie(o[7]);let s;for(s=0;s<e.length;s+=1){const c=tt(o,e,s);l[s]?(l[s].p(c,a),b(l[s],1)):(l[s]=at(c),l[s].c(),b(l[s],1),l[s].m(t.parentNode,t))}for(Z(),s=e.length;s<l.length;s+=1)i(s);J()}},i(o){if(!r){for(let a=0;a<e.length;a+=1)b(l[a]);r=!0}},o(o){l=l.filter(Boolean);for(let a=0;a<l.length;a+=1)v(l[a]);r=!1},d(o){o&&p(t),it(l,o)}}}function Rl(n){let t,r;return t=new nl({props:{$$slots:{default:[Ol]},$$scope:{ctx:n}}}),{c(){S(t.$$.fragment)},l(e){I(t.$$.fragment,e)},m(e,l){P(t,e,l),r=!0},p(e,l){const i={};l&2192&&(i.$$scope={dirty:l,ctx:e}),t.$set(i)},i(e){r||(b(t.$$.fragment,e),r=!0)},o(e){v(t.$$.fragment,e),r=!1},d(e){F(t,e)}}}function jl(n){let t,r,e,l,i,o;t=new vt({props:{title:`${k("workflows.archival")} | ${n[4]}`,url:n[5].url.href}});const a=[Hl,Wl,Dl],s=[];function c(u,_){return u[2]&&u[1]?0:u[2]?1:2}return e=c(n),l=s[e]=a[e](n),{c(){S(t.$$.fragment),r=W(),l.c(),i=j()},l(u){I(t.$$.fragment,u),r=H(u),l.l(u),i=j()},m(u,_){P(t,u,_),w(u,r,_),s[e].m(u,_),w(u,i,_),o=!0},p(u,[_]){const $={};_&16&&($.title=`${k("workflows.archival")} | ${u[4]}`),_&32&&($.url=u[5].url.href),t.$set($);let d=e;e=c(u),e===d?s[e].p(u,_):(Z(),v(s[d],1,1,()=>{s[d]=null}),J(),l=s[e],l?l.p(u,_):(l=s[e]=a[e](u),l.c()),b(l,1),l.m(i.parentNode,i))},i(u){o||(b(t.$$.fragment,u),b(l),o=!0)},o(u){v(t.$$.fragment,u),v(l),o=!1},d(u){u&&(p(r),p(i)),F(t,u),s[e].d(u)}}}function Ql(n,t,r){let e,l,i,o,a,s;oe(n,Ie,u=>r(5,s=u));let{data:c}=t;return n.$$set=u=>{"data"in u&&r(6,c=u.data)},n.$$.update=()=>{n.$$.dirty&64&&r(4,{namespace:{namespaceInfo:{name:e}},workflows:l,archivalEnabled:i,visibilityArchivalEnabled:o,archivalQueryingNotSupported:a}=c,e,(r(3,l),r(6,c)),(r(2,i),r(6,c)),(r(1,o),r(6,c)),(r(0,a),r(6,c)))},[a,o,i,l,e,s,c]}class dr extends ue{constructor(t){super(),ce(this,t,Ql,jl,fe,{data:6})}}export{dr as component,hr as universal};
