import{s as we,h as Q,b as B,t as X,j,k as L,f as $,d as F,l as x,m as q,i as R,n as N,q as fe,c as ee,v as de,D as Qe,z as Ve,A as pn,H as Pe,x as _e,O as ie,Q as ae,R as Ge,w as pe,y as xe,Z as Pn,a as Te,E as bt,p as Ye,F as vt,u as De,g as Ce,e as Ae,M as et,G as Wn,B as Et,W as Rn,P as _n}from"../chunks/scheduler.D6mQsyhd.js";import{S as $e,i as he,c as C,a as A,m as S,t as _,b as g,d as P,g as ne,e as re,h as ue,j as It,f as dn}from"../chunks/index.CDeUyeTp.js";import{p as Me}from"../chunks/stores.BojrgQJp.js";import{v as Vn}from"../chunks/data-encoder-settings.Be8matYc.js";import{L as Re}from"../chunks/link.D6erU1er.js";import{t as y}from"../chunks/translate.BBe5dcco.js";import{c as gn,l as Mn,p as yn,u as Nn,v as Tt}from"../chunks/workflows.DcdsJssb.js";import{e as je,s as Dt,u as Se,v as Ct,w as At,b as Ee,x as qe,y as Be,c as Fe,z as He,A as Ue}from"../chunks/route-for.DQpq352r.js";import{B as qn}from"../chunks/button.Ck7DMcWC.js";import{L as Bn}from"../chunks/loading.azOfDUyA.js";import{s as St,a as wn}from"../chunks/index.2cpoF_sa.js";import{f as ge,r as Fn,t as Hn}from"../chunks/time-format.Cl4ff6Ut.js";import{w as be,r as ye,i as Un}from"../chunks/workflow-run.b9pyYQ-w.js";import{o as On}from"../chunks/format-time.Dn4a2B__.js";import{C as $n}from"../chunks/index.Bb7rj1hs.js";import{I as Ne}from"../chunks/icon.BRzabkM-.js";import{T as tt}from"../chunks/tooltip.Pfwiu_V0.js";import{e as We}from"../chunks/each.5YhwczXz.js";import{w as nt,g as Pt}from"../chunks/entry.CeX7q0_8.js";import{w as Qn,a as jn,b as Ln,C as zn,T as Jn}from"../chunks/workflow-terminate-enabled.C3uJYQmN.js";import{C as Ze,M as hn}from"../chunks/checkbox.C2hXsfAS.js";import{I as kn}from"../chunks/input.DVB0x0Tc.js";import{M as bn}from"../chunks/modal.CzPaE8Nm.js";import{S as vn,O as rt}from"../chunks/option.Dy11ekG-.js";import{r as En,f as Oe,b as Wt,p as Yn,g as Rt,t as Vt}from"../chunks/events.DwQPsHbp.js";import{p as Gn}from"../chunks/persist-store.x1waU68k.js";import{t as Zn}from"../chunks/versions.D-t7dHP-.js";import{i as In}from"../chunks/is-network-error.DxxRlstw.js";import{m as Kn}from"../chunks/route-for-api.V09kpwgu.js";import{P as Xn}from"../chunks/payload-input-with-encoding.CqvzWEi6.js";import{t as xn,v as er}from"../chunks/toaster.BTgy9cLT.js";import{B as tr}from"../chunks/button.BphFbnPT.js";import{d as ot}from"../chunks/menu.Tm2g1Cyj.js";import{S as Tn}from"../chunks/split-button.DhgQrDuX.js";import{c as nr}from"../chunks/core-user.BnRjdOJ4.js";import{w as Ke}from"../chunks/workflow-create-disabled.CUttOjKh.js";import{W as rr}from"../chunks/workflow-status.CzCjZFN4.js";import{C as or}from"../chunks/compatibility-badge.CDvsa1sO.js";import{k as lr,g as sr}from"../chunks/pollers-service.DLVFMc4x.js";import{g as fr}from"../chunks/spread.CgU5AtxT.js";import{A as Dn}from"../chunks/alert.VYr5tJfe.js";import{B as Le}from"../chunks/badge.BRSKsVh1.js";import{M as Cn}from"../chunks/markdown.C2mFRNS0.js";import{T as ir,a as ar,b as Ie}from"../chunks/tab.BBWuRhMc.js";import{n as ur}from"../chunks/namespaces.C7g-ynCo.js";import{g as cr}from"../chunks/get-workflow-relationships.iud_1sqx.js";import{h as mr}from"../chunks/has.BnvKvYqj.js";import{e as pr,d as _r,a as Mt}from"../chunks/decode-payload.D_dVEyTF.js";import{t as dr,f as gr}from"../chunks/events-service.B0Mqng7h.js";import{b as wr}from"../chunks/query-service.D3qd6OWl.js";import{a as $r}from"../chunks/auth-user.BzkB45qV.js";import{r as hr}from"../chunks/data-encoder-config.Ba3s-LeF.js";import{c as kr}from"../chunks/copy-to-clipboard.CCRRCFpS.js";import{s as Xe}from"../chunks/parse-with-big-int.BKSBwM2t.js";function br(r){let e=y("workflows.back-to-workflows")+"",n;return{c(){n=X(e)},l(t){n=x(t,e)},m(t,o){R(t,n,o)},p:de,d(t){t&&$(n)}}}function vr(r){var h,D;let e,n,t,o,s,l,f=(((h=r[0])==null?void 0:h.statusCode)??"500")+"",i,a,c,p,v,d,w=(((D=r[0])==null?void 0:D.statusText)??"")+"",u,m;return t=new Re({props:{href:`${je({namespace:r[2]})}?${r[3]}`,"data-testid":"back-to-workflows",icon:"chevron-left",$$slots:{default:[br]},$$scope:{ctx:r}}}),{c(){e=Q("header"),n=Q("div"),C(t.$$.fragment),o=B(),s=Q("div"),l=Q("h1"),i=X(f),a=B(),c=Q("p"),p=X(r[1]),v=B(),d=Q("p"),u=X(w),this.h()},l(I){e=j(I,"HEADER",{class:!0});var b=L(e);n=j(b,"DIV",{class:!0});var U=L(n);A(t.$$.fragment,U),U.forEach($),b.forEach($),o=F(I),s=j(I,"DIV",{class:!0});var M=L(s);l=j(M,"H1",{class:!0});var J=L(l);i=x(J,f),J.forEach($),a=F(M),c=j(M,"P",{class:!0});var z=L(c);p=x(z,r[1]),z.forEach($),v=F(M),d=j(M,"P",{class:!0});var te=L(d);u=x(te,w),te.forEach($),M.forEach($),this.h()},h(){q(n,"class","mb-4 block"),q(e,"class","mb-4 flex flex-col gap-1"),q(l,"class","leading-0 text-[12rem] font-semibold"),q(c,"class","-mt-12 text-lg"),q(d,"class","text-2xl font-bold text-red-700"),q(s,"class","text-center align-middle")},m(I,b){R(I,e,b),N(e,n),S(t,n,null),R(I,o,b),R(I,s,b),N(s,l),N(l,i),N(s,a),N(s,c),N(c,p),N(s,v),N(s,d),N(d,u),m=!0},p(I,[b]){var M,J;const U={};b&12&&(U.href=`${je({namespace:I[2]})}?${I[3]}`),b&32&&(U.$$scope={dirty:b,ctx:I}),t.$set(U),(!m||b&1)&&f!==(f=(((M=I[0])==null?void 0:M.statusCode)??"500")+"")&&fe(i,f),(!m||b&2)&&fe(p,I[1]),(!m||b&1)&&w!==(w=(((J=I[0])==null?void 0:J.statusText)??"")+"")&&fe(u,w)},i(I){m||(_(t.$$.fragment,I),m=!0)},o(I){g(t.$$.fragment,I),m=!1},d(I){I&&($(e),$(o),$(s)),P(t)}}}function Er(r,e,n){let t,o,s,l;ee(r,Me,i=>n(4,s=i)),ee(r,gn,i=>n(3,l=i));let{error:f}=e;return r.$$set=i=>{"error"in i&&n(0,f=i.error)},r.$$.update=()=>{r.$$.dirty&16&&n(2,{namespace:t}=s.params,t),r.$$.dirty&1&&n(1,o=f.statusCode===404?y("workflows.workflow-404-title"):y("workflows.workflow-error-title"))},[f,o,t,l,s]}class Ir extends $e{constructor(e){super(),he(this,e,Er,vr,we,{error:0})}}function yt(r){let e,n;return{c(){e=Q("span"),n=X(r[0]),this.h()},l(t){e=j(t,"SPAN",{class:!0});var o=L(e);n=x(o,r[0]),o.forEach($),this.h()},h(){q(e,"class","font-mono")},m(t,o){R(t,e,o),N(e,n)},p(t,o){o&1&&fe(n,t[0])},d(t){t&&$(e)}}}function Nt(r){let e,n;return e=new Ne({props:{name:r[5]}}),{c(){C(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,o){S(e,t,o),n=!0},p(t,o){const s={};o&32&&(s.name=t[5]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function Tr(r){let e,n;return e=new tt({props:{text:r[6],hide:!r[6],top:!0,$$slots:{default:[Ar]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,o){S(e,t,o),n=!0},p(t,o){const s={};o&64&&(s.text=t[6]),o&64&&(s.hide=!t[6]),o&642&&(s.$$scope={dirty:o,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function Dr(r){let e,n;return e=new Re({props:{href:r[4],class:"value truncate rounded-sm p-1 leading-4 "+(r[7]&&"surface-subtle"),$$slots:{default:[Sr]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,o){S(e,t,o),n=!0},p(t,o){const s={};o&16&&(s.href=t[4]),o&128&&(s.class="value truncate rounded-sm p-1 leading-4 "+(t[7]&&"surface-subtle")),o&514&&(s.$$scope={dirty:o,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function Cr(r){let e,n;return e=new $n({props:{copyIconTitle:y("common.copy-icon-title"),copySuccessIconTitle:y("common.copy-success-icon-title"),content:r[1],visible:!0,"container-class":"gap-1 w-full justify-end",$$slots:{default:[Mr]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,o){S(e,t,o),n=!0},p(t,o){const s={};o&2&&(s.content=t[1]),o&730&&(s.$$scope={dirty:o,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function Ar(r){let e,n;return{c(){e=Q("span"),n=X(r[1]),this.h()},l(t){e=j(t,"SPAN",{class:!0});var o=L(e);n=x(o,r[1]),o.forEach($),this.h()},h(){q(e,"class","w-fit select-all truncate rounded-sm p-1 leading-4"),Pe(e,"surface-subtle",r[7])},m(t,o){R(t,e,o),N(e,n)},p(t,o){o&2&&fe(n,t[1]),o&128&&Pe(e,"surface-subtle",t[7])},d(t){t&&$(e)}}}function Sr(r){let e;return{c(){e=X(r[1])},l(n){e=x(n,r[1])},m(n,t){R(n,e,t)},p(n,t){t&2&&fe(e,n[1])},d(n){n&&$(e)}}}function Pr(r){let e,n;return e=new tt({props:{text:r[6],hide:!r[6],top:!0,$$slots:{default:[Rr]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,o){S(e,t,o),n=!0},p(t,o){const s={};o&64&&(s.text=t[6]),o&64&&(s.hide=!t[6]),o&642&&(s.$$scope={dirty:o,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function Wr(r){let e,n;return e=new Re({props:{href:r[4],class:"flex w-fit flex-row items-center gap-1 truncate rounded-sm p-1 leading-4 "+(r[7]&&"surface-subtle"),$$slots:{default:[Vr]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,o){S(e,t,o),n=!0},p(t,o){const s={};o&16&&(s.href=t[4]),o&128&&(s.class="flex w-fit flex-row items-center gap-1 truncate rounded-sm p-1 leading-4 "+(t[7]&&"surface-subtle")),o&522&&(s.$$scope={dirty:o,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function Rr(r){let e,n;return{c(){e=Q("span"),n=X(r[1]),this.h()},l(t){e=j(t,"SPAN",{class:!0});var o=L(e);n=x(o,r[1]),o.forEach($),this.h()},h(){q(e,"class","w-fit select-all truncate rounded-sm p-1 leading-4"),Pe(e,"surface-subtle",r[7])},m(t,o){R(t,e,o),N(e,n)},p(t,o){o&2&&fe(n,t[1]),o&128&&Pe(e,"surface-subtle",t[7])},d(t){t&&$(e)}}}function qt(r){let e,n;return e=new Ne({props:{name:"filter",class:"shrink-0"}}),{c(){C(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,o){S(e,t,o),n=!0},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function Vr(r){let e,n,t,o,s,l=r[3]&&qt();return{c(){e=Q("span"),n=X(r[1]),t=B(),l&&l.c(),o=_e(),this.h()},l(f){e=j(f,"SPAN",{class:!0});var i=L(e);n=x(i,r[1]),i.forEach($),t=F(f),l&&l.l(f),o=_e(),this.h()},h(){q(e,"class","truncate")},m(f,i){R(f,e,i),N(e,n),R(f,t,i),l&&l.m(f,i),R(f,o,i),s=!0},p(f,i){(!s||i&2)&&fe(n,f[1]),f[3]?l?i&8&&_(l,1):(l=qt(),l.c(),_(l,1),l.m(o.parentNode,o)):l&&(ne(),g(l,1,1,()=>{l=null}),re())},i(f){s||(_(l),s=!0)},o(f){g(l),s=!1},d(f){f&&($(e),$(t),$(o)),l&&l.d(f)}}}function Mr(r){let e,n,t,o;const s=[Wr,Pr],l=[];function f(i,a){return i[4]?0:1}return e=f(r),n=l[e]=s[e](r),{c(){n.c(),t=_e()},l(i){n.l(i),t=_e()},m(i,a){l[e].m(i,a),R(i,t,a),o=!0},p(i,a){let c=e;e=f(i),e===c?l[e].p(i,a):(ne(),g(l[c],1,1,()=>{l[c]=null}),re(),n=l[e],n?n.p(i,a):(n=l[e]=s[e](i),n.c()),_(n,1),n.m(t.parentNode,t))},i(i){o||(_(n),o=!0)},o(i){g(n),o=!1},d(i){i&&$(t),l[e].d(i)}}}function yr(r){let e,n,t,o,s,l,f,i=r[0]&&yt(r),a=r[5]&&Nt(r);const c=[Cr,Dr,Tr],p=[];function v(d,w){return d[2]?0:d[4]?1:2}return o=v(r),s=p[o]=c[o](r),{c(){e=Q("p"),i&&i.c(),n=B(),a&&a.c(),t=B(),s.c(),this.h()},l(d){e=j(d,"P",{class:!0});var w=L(e);i&&i.l(w),n=F(w),a&&a.l(w),t=F(w),s.l(w),w.forEach($),this.h()},h(){q(e,"class",l="flex h-4 items-center justify-between gap-16 truncate whitespace-nowrap "+r[8].class)},m(d,w){R(d,e,w),i&&i.m(e,null),N(e,n),a&&a.m(e,null),N(e,t),p[o].m(e,null),f=!0},p(d,[w]){d[0]?i?i.p(d,w):(i=yt(d),i.c(),i.m(e,n)):i&&(i.d(1),i=null),d[5]?a?(a.p(d,w),w&32&&_(a,1)):(a=Nt(d),a.c(),_(a,1),a.m(e,t)):a&&(ne(),g(a,1,1,()=>{a=null}),re());let u=o;o=v(d),o===u?p[o].p(d,w):(ne(),g(p[u],1,1,()=>{p[u]=null}),re(),s=p[o],s?s.p(d,w):(s=p[o]=c[o](d),s.c()),_(s,1),s.m(e,null)),(!f||w&256&&l!==(l="flex h-4 items-center justify-between gap-16 truncate whitespace-nowrap "+d[8].class))&&q(e,"class",l)},i(d){f||(_(a),_(s),f=!0)},o(d){g(a),g(s),f=!1},d(d){d&&$(e),i&&i.d(),a&&a.d(),p[o].d()}}}function Nr(r,e,n){const t=["title","content","copyable","filterable","href","icon","tooltip","badge"];let o=Qe(e,t),{title:s=""}=e,{content:l}=e,{copyable:f=!1}=e,{filterable:i=!1}=e,{href:a=null}=e,{icon:c=void 0}=e,{tooltip:p=""}=e,{badge:v=!1}=e;return r.$$set=d=>{e=Ve(Ve({},e),pn(d)),n(8,o=Qe(e,t)),"title"in d&&n(0,s=d.title),"content"in d&&n(1,l=d.content),"copyable"in d&&n(2,f=d.copyable),"filterable"in d&&n(3,i=d.filterable),"href"in d&&n(4,a=d.href),"icon"in d&&n(5,c=d.icon),"tooltip"in d&&n(6,p=d.tooltip),"badge"in d&&n(7,v=d.badge)},[s,l,f,i,a,c,p,v,o]}class ve extends $e{constructor(e){super(),he(this,e,Nr,yr,we,{title:0,content:1,copyable:2,filterable:3,href:4,icon:5,tooltip:6,badge:7})}}function Bt(r){var t,o,s,l,f,i;let e,n;return e=new ve({props:{title:y("workflows.parent-workflow"),content:(o=(t=r[0])==null?void 0:t.parent)==null?void 0:o.workflowId,href:Ct({namespace:r[3],workflow:(l=(s=r[0])==null?void 0:s.parent)==null?void 0:l.workflowId,run:(i=(f=r[0])==null?void 0:f.parent)==null?void 0:i.runId})}}),{c(){C(e.$$.fragment)},l(a){A(e.$$.fragment,a)},m(a,c){S(e,a,c),n=!0},p(a,c){var v,d,w,u,m,h;const p={};c&1&&(p.content=(d=(v=a[0])==null?void 0:v.parent)==null?void 0:d.workflowId),c&9&&(p.href=Ct({namespace:a[3],workflow:(u=(w=a[0])==null?void 0:w.parent)==null?void 0:u.workflowId,run:(h=(m=a[0])==null?void 0:m.parent)==null?void 0:h.runId})),e.$set(p)},i(a){n||(_(e.$$.fragment,a),n=!0)},o(a){g(e.$$.fragment,a),n=!1},d(a){P(e,a)}}}function qr(r){var U,M,J,z,te,H,G,Y,T,E,K,O,k,V,oe;let e,n,t,o,s,l,f,i,a,c,p,v,d,w,u,m,h,D,I;t=new ve({props:{title:y("common.start"),tooltip:r[4]?ge((U=r[0])==null?void 0:U.startTime,r[5],{relative:!1}):ge((M=r[0])==null?void 0:M.startTime,r[5],{relative:!0}),content:ge((J=r[0])==null?void 0:J.startTime,r[5],{relative:r[4]})}}),s=new ve({props:{title:y("common.end"),tooltip:r[4]?ge((z=r[0])==null?void 0:z.endTime,r[5],{relative:!1}):ge((te=r[0])==null?void 0:te.endTime,r[5],{relative:!0}),content:(H=r[0])!=null&&H.endTime?ge((G=r[0])==null?void 0:G.endTime,r[5],{relative:r[4]}):"-"}}),f=new ve({props:{content:r[2],icon:"clock"}}),c=new ve({props:{title:y("common.run-id"),content:(Y=r[0])==null?void 0:Y.runId,copyable:!0}}),v=new ve({props:{title:y("common.workflow-type"),content:(T=r[0])==null?void 0:T.name,copyable:!0,filterable:!0,href:Dt({namespace:r[3],query:`WorkflowType="${(E=r[0])==null?void 0:E.name}"`})}}),w=new ve({props:{title:y("common.task-queue"),content:(K=r[0])==null?void 0:K.taskQueue,href:Se({namespace:r[1].params.namespace,workflow:(O=r[0])==null?void 0:O.id,run:(k=r[0])==null?void 0:k.runId})}});let b=((V=r[0])==null?void 0:V.parent)&&Bt(r);return D=new ve({props:{title:y("common.history-size-bytes"),content:(oe=r[0])==null?void 0:oe.historySizeBytes}}),{c(){e=Q("div"),n=Q("div"),C(t.$$.fragment),o=B(),C(s.$$.fragment),l=B(),C(f.$$.fragment),i=B(),a=Q("div"),C(c.$$.fragment),p=B(),C(v.$$.fragment),d=B(),C(w.$$.fragment),u=B(),m=Q("div"),b&&b.c(),h=B(),C(D.$$.fragment),this.h()},l(W){e=j(W,"DIV",{class:!0});var Z=L(e);n=j(Z,"DIV",{class:!0});var le=L(n);A(t.$$.fragment,le),o=F(le),A(s.$$.fragment,le),l=F(le),A(f.$$.fragment,le),le.forEach($),i=F(Z),a=j(Z,"DIV",{class:!0});var se=L(a);A(c.$$.fragment,se),p=F(se),A(v.$$.fragment,se),d=F(se),A(w.$$.fragment,se),se.forEach($),u=F(Z),m=j(Z,"DIV",{class:!0});var ce=L(m);b&&b.l(ce),h=F(ce),A(D.$$.fragment,ce),ce.forEach($),Z.forEach($),this.h()},h(){q(n,"class","flex w-full flex-col gap-2 xl:w-1/3"),q(a,"class","flex w-full flex-col gap-2 xl:w-1/3"),q(m,"class","flex w-full flex-col gap-2 xl:w-1/3"),q(e,"class","flex w-full flex-col gap-2 xl:flex-row xl:gap-16")},m(W,Z){R(W,e,Z),N(e,n),S(t,n,null),N(n,o),S(s,n,null),N(n,l),S(f,n,null),N(e,i),N(e,a),S(c,a,null),N(a,p),S(v,a,null),N(a,d),S(w,a,null),N(e,u),N(e,m),b&&b.m(m,null),N(m,h),S(D,m,null),I=!0},p(W,[Z]){var st,ft,it,at,ut,ct,mt,pt,_t,dt,gt,wt,$t,ht,kt;const le={};Z&49&&(le.tooltip=W[4]?ge((st=W[0])==null?void 0:st.startTime,W[5],{relative:!1}):ge((ft=W[0])==null?void 0:ft.startTime,W[5],{relative:!0})),Z&49&&(le.content=ge((it=W[0])==null?void 0:it.startTime,W[5],{relative:W[4]})),t.$set(le);const se={};Z&49&&(se.tooltip=W[4]?ge((at=W[0])==null?void 0:at.endTime,W[5],{relative:!1}):ge((ut=W[0])==null?void 0:ut.endTime,W[5],{relative:!0})),Z&49&&(se.content=(ct=W[0])!=null&&ct.endTime?ge((mt=W[0])==null?void 0:mt.endTime,W[5],{relative:W[4]}):"-"),s.$set(se);const ce={};Z&4&&(ce.content=W[2]),f.$set(ce);const ke={};Z&1&&(ke.content=(pt=W[0])==null?void 0:pt.runId),c.$set(ke);const ze={};Z&1&&(ze.content=(_t=W[0])==null?void 0:_t.name),Z&9&&(ze.href=Dt({namespace:W[3],query:`WorkflowType="${(dt=W[0])==null?void 0:dt.name}"`})),v.$set(ze);const Je={};Z&1&&(Je.content=(gt=W[0])==null?void 0:gt.taskQueue),Z&3&&(Je.href=Se({namespace:W[1].params.namespace,workflow:(wt=W[0])==null?void 0:wt.id,run:($t=W[0])==null?void 0:$t.runId})),w.$set(Je),(ht=W[0])!=null&&ht.parent?b?(b.p(W,Z),Z&1&&_(b,1)):(b=Bt(W),b.c(),_(b,1),b.m(m,h)):b&&(ne(),g(b,1,1,()=>{b=null}),re());const lt={};Z&1&&(lt.content=(kt=W[0])==null?void 0:kt.historySizeBytes),D.$set(lt)},i(W){I||(_(t.$$.fragment,W),_(s.$$.fragment,W),_(f.$$.fragment,W),_(c.$$.fragment,W),_(v.$$.fragment,W),_(w.$$.fragment,W),_(b),_(D.$$.fragment,W),I=!0)},o(W){g(t.$$.fragment,W),g(s.$$.fragment,W),g(f.$$.fragment,W),g(c.$$.fragment,W),g(v.$$.fragment,W),g(w.$$.fragment,W),g(b),g(D.$$.fragment,W),I=!1},d(W){W&&$(e),P(t),P(s),P(f),P(c),P(v),P(w),b&&b.d(),P(D)}}}function Br(r,e,n){let t,o,s,l,f,i,a;return ee(r,be,c=>n(6,l=c)),ee(r,Me,c=>n(1,f=c)),ee(r,Fn,c=>n(4,i=c)),ee(r,Hn,c=>n(5,a=c)),r.$$.update=()=>{r.$$.dirty&2&&n(3,{namespace:t}=f.params,t),r.$$.dirty&64&&n(0,{workflow:o}=l,o),r.$$.dirty&1&&n(2,s=On({start:o==null?void 0:o.startTime,end:(o==null?void 0:o.endTime)||Date.now(),includeMilliseconds:!0}))},[o,f,s,t,i,a,l]}class Fr extends $e{constructor(e){super(),he(this,e,Br,qr,we,{})}}const An=Gn("resetWorkflows",{});function Ft(r,e,n){const t=r.slice();return t[25]=e[n],t}function Hr(r){let e,n=y("workflows.reset-modal-title")+"",t;return{c(){e=Q("h3"),t=X(n),this.h()},l(o){e=j(o,"H3",{slot:!0});var s=L(e);t=x(s,n),s.forEach($),this.h()},h(){q(e,"slot","title")},m(o,s){R(o,e,s),N(e,t)},p:de,d(o){o&&$(e)}}}function Ur(r){let e=r[25].id+"",n,t,o=r[25].eventType+"",s;return{c(){n=X(e),t=X(" - "),s=X(o)},l(l){n=x(l,e),t=x(l," - "),s=x(l,o)},m(l,f){R(l,n,f),R(l,t,f),R(l,s,f)},p(l,f){f&512&&e!==(e=l[25].id+"")&&fe(n,e),f&512&&o!==(o=l[25].eventType+"")&&fe(s,o)},d(l){l&&($(n),$(t),$(s))}}}function Ht(r){let e,n;return e=new rt({props:{value:r[25].id,$$slots:{default:[Ur]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,o){S(e,t,o),n=!0},p(t,o){const s={};o&512&&(s.value=t[25].id),o&268435968&&(s.$$scope={dirty:o,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function Or(r){let e,n,t=We(r[9]),o=[];for(let l=0;l<t.length;l+=1)o[l]=Ht(Ft(r,t,l));const s=l=>g(o[l],1,1,()=>{o[l]=null});return{c(){for(let l=0;l<o.length;l+=1)o[l].c();e=_e()},l(l){for(let f=0;f<o.length;f+=1)o[f].l(l);e=_e()},m(l,f){for(let i=0;i<o.length;i+=1)o[i]&&o[i].m(l,f);R(l,e,f),n=!0},p(l,f){if(f&512){t=We(l[9]);let i;for(i=0;i<t.length;i+=1){const a=Ft(l,t,i);o[i]?(o[i].p(a,f),_(o[i],1)):(o[i]=Ht(a),o[i].c(),_(o[i],1),o[i].m(e.parentNode,e))}for(ne(),i=t.length;i<o.length;i+=1)s(i);re()}},i(l){if(!n){for(let f=0;f<t.length;f+=1)_(o[f]);n=!0}},o(l){o=o.filter(Boolean);for(let f=0;f<o.length;f+=1)g(o[f]);n=!1},d(l){l&&$(e),xe(o,l)}}}function Qr(r){let e,n,t;function o(l){r[20](l)}let s={id:"reset-include-signals-checkbox","data-testid":"reset-include-signals-checkbox",label:y("workflows.reset-reapply-type-label")};return r[5]!==void 0&&(s.checked=r[5]),e=new Ze({props:s}),ie.push(()=>ue(e,"checked",o)),{c(){C(e.$$.fragment)},l(l){A(e.$$.fragment,l)},m(l,f){S(e,l,f),t=!0},p(l,f){const i={};!n&&f&32&&(n=!0,i.checked=l[5],ae(()=>n=!1)),e.$set(i)},i(l){t||(_(e.$$.fragment,l),t=!0)},o(l){g(e.$$.fragment,l),t=!1},d(l){P(e,l)}}}function jr(r){let e,n,t,o,s,l;function f(p){r[18](p)}let i={id:"reset-exclude-signals-checkbox","data-testid":"reset-exclude-signals-checkbox",label:y("workflows.reset-exclude-signals")};r[6]!==void 0&&(i.checked=r[6]),e=new Ze({props:i}),ie.push(()=>ue(e,"checked",f));function a(p){r[19](p)}let c={id:"reset-exclude-updates-checkbox","data-testid":"reset-exclude-updates-checkbox",label:y("workflows.reset-exclude-updates")};return r[7]!==void 0&&(c.checked=r[7]),o=new Ze({props:c}),ie.push(()=>ue(o,"checked",a)),{c(){C(e.$$.fragment),t=B(),C(o.$$.fragment)},l(p){A(e.$$.fragment,p),t=F(p),A(o.$$.fragment,p)},m(p,v){S(e,p,v),R(p,t,v),S(o,p,v),l=!0},p(p,v){const d={};!n&&v&64&&(n=!0,d.checked=p[6],ae(()=>n=!1)),e.$set(d);const w={};!s&&v&128&&(s=!0,w.checked=p[7],ae(()=>s=!1)),o.$set(w)},i(p){l||(_(e.$$.fragment,p),_(o.$$.fragment,p),l=!0)},o(p){g(e.$$.fragment,p),g(o.$$.fragment,p),l=!1},d(p){p&&$(t),P(e,p),P(o,p)}}}function Lr(r){let e,n,t,o,s,l,f,i,a,c,p;function v(I){r[17](I)}let d={"data-testid":"workflow-reset-event-id-select",menuClass:"max-h-[16rem]",label:y("workflows.reset-event-radio-group-description"),id:"reset-event-id",$$slots:{default:[Or]},$$scope:{ctx:r}};r[8]!==void 0&&(d.value=r[8]),n=new vn({props:d}),ie.push(()=>ue(n,"value",v));const w=[jr,Qr],u=[];function m(I,b){return b&3072&&(s=null),s==null&&(s=!!(I[10]||Kn("1.24.0",I[11]))),s?0:1}l=m(r,-1),f=u[l]=w[l](r);function h(I){r[21](I)}let D={id:"reset-reason",label:y("common.reason")};return r[4]!==void 0&&(D.value=r[4]),a=new kn({props:D}),ie.push(()=>ue(a,"value",h)),{c(){e=Q("div"),C(n.$$.fragment),o=B(),f.c(),i=B(),C(a.$$.fragment),this.h()},l(I){e=j(I,"DIV",{class:!0});var b=L(e);A(n.$$.fragment,b),o=F(b),f.l(b),i=F(b),A(a.$$.fragment,b),b.forEach($),this.h()},h(){q(e,"class","flex w-full flex-col gap-4")},m(I,b){R(I,e,b),S(n,e,null),N(e,o),u[l].m(e,null),N(e,i),S(a,e,null),p=!0},p(I,b){const U={};b&268435968&&(U.$$scope={dirty:b,ctx:I}),!t&&b&256&&(t=!0,U.value=I[8],ae(()=>t=!1)),n.$set(U);let M=l;l=m(I,b),l===M?u[l].p(I,b):(ne(),g(u[M],1,1,()=>{u[M]=null}),re(),f=u[l],f?f.p(I,b):(f=u[l]=w[l](I),f.c()),_(f,1),f.m(e,i));const J={};!c&&b&16&&(c=!0,J.value=I[4],ae(()=>c=!1)),a.$set(J)},i(I){p||(_(n.$$.fragment,I),_(f),_(a.$$.fragment,I),p=!0)},o(I){g(n.$$.fragment,I),g(f),g(a.$$.fragment,I),p=!1},d(I){I&&$(e),P(n),u[l].d(),P(a)}}}function zr(r){let e,n,t,o;function s(i){r[22](i)}function l(i){r[23](i)}let f={id:"reset-confirmation-modal","data-testid":"reset-confirmation-modal",confirmText:y("common.confirm"),cancelText:y("common.cancel"),loading:r[3],confirmDisabled:!r[8],$$slots:{content:[Lr],title:[Hr]},$$scope:{ctx:r}};return r[2]!==void 0&&(f.error=r[2]),r[0]!==void 0&&(f.open=r[0]),e=new bn({props:f}),ie.push(()=>ue(e,"error",s)),ie.push(()=>ue(e,"open",l)),e.$on("confirmModal",r[14]),e.$on("cancelModal",r[13]),{c(){C(e.$$.fragment)},l(i){A(e.$$.fragment,i)},m(i,a){S(e,i,a),o=!0},p(i,[a]){const c={};a&8&&(c.loading=i[3]),a&256&&(c.confirmDisabled=!i[8]),a&268439536&&(c.$$scope={dirty:a,ctx:i}),!n&&a&4&&(n=!0,c.error=i[2],ae(()=>n=!1)),!t&&a&1&&(t=!0,c.open=i[0],ae(()=>t=!1)),e.$set(c)},i(i){o||(_(e.$$.fragment,i),o=!0)},o(i){g(e.$$.fragment,i),o=!1},d(i){P(e,i)}}}function Jr(r,e,n){let t,o=de,s=()=>(o(),o=Ge(d,E=>n(24,t=E)),d),l,f,i,a;ee(r,En,E=>n(9,f=E)),ee(r,Mn,E=>n(10,i=E)),ee(r,Zn,E=>n(11,a=E)),r.$$.on_destroy.push(()=>o());let{open:c}=e,{workflow:p}=e,{namespace:v}=e,{refresh:d}=e;s();let w="",u=!1,m=nt("");ee(r,m,E=>n(8,l=E));let h,D=!0,I=!1,b=!1;const U=()=>{n(0,c=!1),n(5,D=!0),n(6,I=!1),n(7,b=!1),pe(m,l="",l),n(4,h="")},M=async()=>{n(2,w=""),n(3,u=!0);try{const E=await yn({namespace:v,workflow:p,eventId:l,reason:h,includeSignals:D,excludeSignals:I,excludeUpdates:b});E&&E.runId&&An.update(K=>({...K,[p.runId]:E.runId})),pe(d,t=Date.now(),t),U()}catch(E){n(2,w=In(E)?E.message:y("common.unknown-error"))}finally{n(3,u=!1)}U()};function J(E){l=E,m.set(l)}function z(E){I=E,n(6,I)}function te(E){b=E,n(7,b)}function H(E){D=E,n(5,D)}function G(E){h=E,n(4,h)}function Y(E){w=E,n(2,w)}function T(E){c=E,n(0,c)}return r.$$set=E=>{"open"in E&&n(0,c=E.open),"workflow"in E&&n(15,p=E.workflow),"namespace"in E&&n(16,v=E.namespace),"refresh"in E&&s(n(1,d=E.refresh))},[c,d,w,u,h,D,I,b,l,f,i,a,m,U,M,p,v,J,z,te,H,G,Y,T]}class Yr extends $e{constructor(e){super(),he(this,e,Jr,zr,we,{open:0,workflow:15,namespace:16,refresh:1})}}function Ut(r,e,n){const t=r.slice();return t[25]=e[n].name,t[26]=e[n].description!==void 0?e[n].description:"",t}function Gr(r){let e,n=y("workflows.signal-modal-title")+"",t;return{c(){e=Q("h3"),t=X(n),this.h()},l(o){e=j(o,"H3",{slot:!0});var s=L(e);t=x(s,n),s.forEach($),this.h()},h(){q(e,"slot","title")},m(o,s){R(o,e,s),N(e,t)},p:de,d(o){o&&$(e)}}}function Zr(r){let e,n,t;function o(l){r[18](l)}let s={id:"signal-name",label:y("workflows.signal-name-label"),required:!0};return r[4]!==void 0&&(s.value=r[4]),e=new kn({props:s}),ie.push(()=>ue(e,"value",o)),{c(){C(e.$$.fragment)},l(l){A(e.$$.fragment,l)},m(l,f){S(e,l,f),t=!0},p(l,f){const i={};!n&&f&16&&(n=!0,i.value=l[4],ae(()=>n=!1)),e.$set(i)},i(l){t||(_(e.$$.fragment,l),t=!0)},o(l){g(e.$$.fragment,l),t=!1},d(l){P(e,l)}}}function Kr(r){let e,n,t;function o(l){r[17](l)}let s={id:"signal-select",label:y("workflows.signal-name-label"),class:"min-w-fit","data-testid":"signal-select",placeholder:"Select a signal",required:!0,$$slots:{default:[eo]},$$scope:{ctx:r}};return r[4]!==void 0&&(s.value=r[4]),e=new vn({props:s}),ie.push(()=>ue(e,"value",o)),{c(){C(e.$$.fragment)},l(l){A(e.$$.fragment,l)},m(l,f){S(e,l,f),t=!0},p(l,f){const i={};f&536871168&&(i.$$scope={dirty:f,ctx:l}),!n&&f&16&&(n=!0,i.value=l[4],ae(()=>n=!1)),e.$set(i)},i(l){t||(_(e.$$.fragment,l),t=!0)},o(l){g(e.$$.fragment,l),t=!1},d(l){P(e,l)}}}function Xr(r){let e=r[25]+"",n;return{c(){n=X(e)},l(t){n=x(t,e)},m(t,o){R(t,n,o)},p(t,o){o&256&&e!==(e=t[25]+"")&&fe(n,e)},d(t){t&&$(n)}}}function Ot(r){let e,n;return e=new rt({props:{value:r[25],description:r[26],$$slots:{default:[Xr]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,o){S(e,t,o),n=!0},p(t,o){const s={};o&256&&(s.value=t[25]),o&256&&(s.description=t[26]),o&536871168&&(s.$$scope={dirty:o,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function xr(r){let e;return{c(){e=X("Custom")},l(n){e=x(n,"Custom")},m(n,t){R(n,e,t)},d(n){n&&$(e)}}}function eo(r){let e,n,t,o=We(r[8]),s=[];for(let f=0;f<o.length;f+=1)s[f]=Ot(Ut(r,o,f));const l=f=>g(s[f],1,1,()=>{s[f]=null});return n=new rt({props:{value:"custom",description:"Input Signal name",$$slots:{default:[xr]},$$scope:{ctx:r}}}),n.$on("click",r[11]),{c(){for(let f=0;f<s.length;f+=1)s[f].c();e=B(),C(n.$$.fragment)},l(f){for(let i=0;i<s.length;i+=1)s[i].l(f);e=F(f),A(n.$$.fragment,f)},m(f,i){for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(f,i);R(f,e,i),S(n,f,i),t=!0},p(f,i){if(i&256){o=We(f[8]);let c;for(c=0;c<o.length;c+=1){const p=Ut(f,o,c);s[c]?(s[c].p(p,i),_(s[c],1)):(s[c]=Ot(p),s[c].c(),_(s[c],1),s[c].m(e.parentNode,e))}for(ne(),c=o.length;c<s.length;c+=1)l(c);re()}const a={};i&536870912&&(a.$$scope={dirty:i,ctx:f}),n.$set(a)},i(f){if(!t){for(let i=0;i<o.length;i+=1)_(s[i]);_(n.$$.fragment,f),t=!0}},o(f){s=s.filter(Boolean);for(let i=0;i<s.length;i+=1)g(s[i]);g(n.$$.fragment,f),t=!1},d(f){f&&$(e),xe(s,f),P(n,f)}}}function to(r){let e,n,t,o,s,l,f,i;const a=[Kr,Zr],c=[];function p(u,m){var h;return((h=u[8])==null?void 0:h.length)>0&&!u[5]?0:1}n=p(r),t=c[n]=a[n](r);function v(u){r[19](u)}function d(u){r[20](u)}let w={};return r[7]!==void 0&&(w.input=r[7]),r[6]!==void 0&&(w.encoding=r[6]),s=new Xn({props:w}),ie.push(()=>ue(s,"input",v)),ie.push(()=>ue(s,"encoding",d)),{c(){e=Q("div"),t.c(),o=B(),C(s.$$.fragment),this.h()},l(u){e=j(u,"DIV",{slot:!0,class:!0});var m=L(e);t.l(m),o=F(m),A(s.$$.fragment,m),m.forEach($),this.h()},h(){q(e,"slot","content"),q(e,"class","flex flex-col gap-4")},m(u,m){R(u,e,m),c[n].m(e,null),N(e,o),S(s,e,null),i=!0},p(u,m){let h=n;n=p(u),n===h?c[n].p(u,m):(ne(),g(c[h],1,1,()=>{c[h]=null}),re(),t=c[n],t?t.p(u,m):(t=c[n]=a[n](u),t.c()),_(t,1),t.m(e,o));const D={};!l&&m&128&&(l=!0,D.input=u[7],ae(()=>l=!1)),!f&&m&64&&(f=!0,D.encoding=u[6],ae(()=>f=!1)),s.$set(D)},i(u){i||(_(t),_(s.$$.fragment,u),i=!0)},o(u){g(t),g(s.$$.fragment,u),i=!1},d(u){u&&$(e),c[n].d(),P(s)}}}function no(r){let e,n,t,o;function s(i){r[21](i)}function l(i){r[22](i)}let f={id:"signal-confirmation-modal","data-testid":"signal-confirmation-modal",loading:r[3],confirmText:y("common.submit"),cancelText:y("common.cancel"),confirmDisabled:!r[4]||!r[6],$$slots:{content:[to],title:[Gr]},$$scope:{ctx:r}};return r[2]!==void 0&&(f.error=r[2]),r[0]!==void 0&&(f.open=r[0]),e=new bn({props:f}),ie.push(()=>ue(e,"error",s)),ie.push(()=>ue(e,"open",l)),e.$on("cancelModal",r[9]),e.$on("confirmModal",r[10]),{c(){C(e.$$.fragment)},l(i){A(e.$$.fragment,i)},m(i,a){S(e,i,a),o=!0},p(i,[a]){const c={};a&8&&(c.loading=i[3]),a&80&&(c.confirmDisabled=!i[4]||!i[6]),a&536871408&&(c.$$scope={dirty:a,ctx:i}),!n&&a&4&&(n=!0,c.error=i[2],ae(()=>n=!1)),!t&&a&1&&(t=!0,c.open=i[0],ae(()=>t=!1)),e.$set(c)},i(i){o||(_(e.$$.fragment,i),o=!0)},o(i){g(e.$$.fragment,i),o=!1},d(i){P(e,i)}}}const Qt="json/plain";function ro(r,e,n){let t,o,s,l=de,f=()=>(l(),l=Ge(m,O=>n(23,s=O)),m),i,a=de,c=()=>(a(),a=Ge(U,O=>n(24,i=O)),U),p;ee(r,be,O=>n(16,p=O)),r.$$.on_destroy.push(()=>l()),r.$$.on_destroy.push(()=>a());var v;let{open:d}=e,{workflow:w}=e,{namespace:u}=e,{refresh:m}=e;f();let h="",D=!1,I="",b=!1,U=nt(Qt);c();let M="";const J=()=>{n(0,d=!1),n(4,I=""),n(7,M=""),n(5,b=!1),pe(U,i=Qt,i)},z=async()=>{n(2,h=""),n(3,D=!0);try{await Nn({namespace:u,workflow:w,input:M,encoding:i,name:I}),pe(m,s=Date.now(),s),xn.push({message:y("workflows.signal-success"),id:"workflow-signal-success-toast"}),J()}catch(O){n(2,h=In(O)?O.message:y("common.unknown-error"))}finally{n(3,D=!1)}},te=()=>{n(5,b=!0),n(4,I="")};function H(O){I=O,n(4,I)}function G(O){I=O,n(4,I)}function Y(O){M=O,n(7,M)}function T(O){U=O,c(n(6,U))}function E(O){h=O,n(2,h)}function K(O){d=O,n(0,d)}return r.$$set=O=>{"open"in O&&n(0,d=O.open),"workflow"in O&&n(12,w=O.workflow),"namespace"in O&&n(13,u=O.namespace),"refresh"in O&&f(n(1,m=O.refresh))},r.$$.update=()=>{r.$$.dirty&65536&&n(15,{metadata:t}=p,t),r.$$.dirty&49152&&n(8,o=n(14,v=t==null?void 0:t.definition)===null||v===void 0?void 0:v.signalDefinitions)},[d,m,h,D,I,b,U,M,o,J,z,te,w,u,v,t,p,H,G,Y,T,E,K]}class oo extends $e{constructor(e){super(),he(this,e,ro,no,we,{open:0,workflow:12,namespace:13,refresh:1})}}const lo=(r,e,n)=>!r.disableWriteActions&&!r.workflowSignalDisabled&&!e.namespaceWriteDisabled(n);function jt(r,e,n){const t=r.slice();return t[31]=e[n].onClick,t[32]=e[n].destructive,t[33]=e[n].label,t[34]=e[n].enabled,t[35]=e[n].testId,t[36]=e[n].description,t}function so(r){let e,n;return e=new tt({props:{bottomRight:!0,width:200,text:r[4],hide:r[7],$$slots:{default:[uo]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,o){S(e,t,o),n=!0},p(t,o){const s={};o[0]&16&&(s.text=t[4]),o[0]&128&&(s.hide=t[7]),o[0]&2176|o[1]&256&&(s.$$scope={dirty:o,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function fo(r){let e,n;return e=new Tn({props:{id:"workflow-actions",menuClass:"w-[16rem]",position:"right",primaryActionDisabled:!r[7],label:y("workflows.reset"),menuLabel:y("workflows.workflow-actions"),$$slots:{default:[mo]},$$scope:{ctx:r}}}),e.$on("click",r[25]),{c(){C(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,o){S(e,t,o),n=!0},p(t,o){const s={};o[0]&128&&(s.primaryActionDisabled=!t[7]),o[0]&3|o[1]&256&&(s.$$scope={dirty:o,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function io(r){let e,n;return e=new Tn({props:{id:"workflow-actions",menuClass:"w-[16rem] md:w-[24rem]",position:"right",disabled:r[14],primaryActionDisabled:!r[15]||r[2],label:y("workflows.request-cancellation"),menuLabel:y("workflows.workflow-actions"),$$slots:{default:[go]},$$scope:{ctx:r}}}),e.$on("click",r[23]),{c(){C(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,o){S(e,t,o),n=!0},p(t,o){const s={};o[0]&16384&&(s.disabled=t[14]),o[0]&32772&&(s.primaryActionDisabled=!t[15]||t[2]),o[0]&8451|o[1]&256&&(s.$$scope={dirty:o,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function ao(r){let e=y("workflows.reset")+"",n;return{c(){n=X(e)},l(t){n=x(t,e)},m(t,o){R(t,n,o)},p:de,d(t){t&&$(n)}}}function uo(r){let e,n;return e=new tr({props:{"aria-label":y("workflows.reset"),disabled:!r[7],variant:"primary","data-testid":"workflow-reset-button",$$slots:{default:[ao]},$$scope:{ctx:r}}}),e.$on("click",r[26]),{c(){C(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,o){S(e,t,o),n=!0},p(t,o){const s={};o[0]&128&&(s.disabled=!t[7]),o[1]&256&&(s.$$scope={dirty:o,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function co(r){let e=y("workflows.start-workflow-like-this-one")+"",n;return{c(){n=X(e)},l(t){n=x(t,e)},m(t,o){R(t,n,o)},p:de,d(t){t&&$(n)}}}function mo(r){let e,n;return e=new ot({props:{"data-testid":"start-workflow-button",$$slots:{default:[co]},$$scope:{ctx:r}}}),e.$on("click",r[24]),{c(){C(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,o){S(e,t,o),n=!0},p(t,o){const s={};o[1]&256&&(s.$$scope={dirty:o,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function Lt(r){let e,n;return e=new hn({}),{c(){C(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,o){S(e,t,o),n=!0},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function po(r){let e=r[33]+"",n;return{c(){n=X(e)},l(t){n=x(t,e)},m(t,o){R(t,n,o)},p(t,o){o[0]&8192&&e!==(e=t[33]+"")&&fe(n,e)},d(t){t&&$(n)}}}function zt(r){let e,n,t,o=r[32]&&Lt();return n=new ot({props:{destructive:r[32],disabled:!r[34],"data-testid":r[35],description:r[36],$$slots:{default:[po]},$$scope:{ctx:r}}}),n.$on("click",function(){Pn(r[31])&&r[31].apply(this,arguments)}),{c(){o&&o.c(),e=B(),C(n.$$.fragment)},l(s){o&&o.l(s),e=F(s),A(n.$$.fragment,s)},m(s,l){o&&o.m(s,l),R(s,e,l),S(n,s,l),t=!0},p(s,l){r=s,r[32]?o?l[0]&8192&&_(o,1):(o=Lt(),o.c(),_(o,1),o.m(e.parentNode,e)):o&&(ne(),g(o,1,1,()=>{o=null}),re());const f={};l[0]&8192&&(f.destructive=r[32]),l[0]&8192&&(f.disabled=!r[34]),l[0]&8192&&(f["data-testid"]=r[35]),l[0]&8192&&(f.description=r[36]),l[0]&8192|l[1]&256&&(f.$$scope={dirty:l,ctx:r}),n.$set(f)},i(s){t||(_(o),_(n.$$.fragment,s),t=!0)},o(s){g(o),g(n.$$.fragment,s),t=!1},d(s){s&&$(e),o&&o.d(s),P(n,s)}}}function Jt(r){let e,n,t,o;return e=new hn({}),t=new ot({props:{"data-testid":"start-workflow-button",$$slots:{default:[_o]},$$scope:{ctx:r}}}),t.$on("click",r[22]),{c(){C(e.$$.fragment),n=B(),C(t.$$.fragment)},l(s){A(e.$$.fragment,s),n=F(s),A(t.$$.fragment,s)},m(s,l){S(e,s,l),R(s,n,l),S(t,s,l),o=!0},p(s,l){const f={};l[1]&256&&(f.$$scope={dirty:l,ctx:s}),t.$set(f)},i(s){o||(_(e.$$.fragment,s),_(t.$$.fragment,s),o=!0)},o(s){g(e.$$.fragment,s),g(t.$$.fragment,s),o=!1},d(s){s&&$(n),P(e,s),P(t,s)}}}function _o(r){let e=y("workflows.start-workflow-like-this-one")+"",n;return{c(){n=X(e)},l(t){n=x(t,e)},m(t,o){R(t,n,o)},p:de,d(t){t&&$(n)}}}function go(r){let e,n=!Ke(r[8]),t,o,s=We(r[13]),l=[];for(let a=0;a<s.length;a+=1)l[a]=zt(jt(r,s,a));const f=a=>g(l[a],1,1,()=>{l[a]=null});let i=n&&Jt(r);return{c(){for(let a=0;a<l.length;a+=1)l[a].c();e=B(),i&&i.c(),t=_e()},l(a){for(let c=0;c<l.length;c+=1)l[c].l(a);e=F(a),i&&i.l(a),t=_e()},m(a,c){for(let p=0;p<l.length;p+=1)l[p]&&l[p].m(a,c);R(a,e,c),i&&i.m(a,c),R(a,t,c),o=!0},p(a,c){if(c[0]&8192){s=We(a[13]);let p;for(p=0;p<s.length;p+=1){const v=jt(a,s,p);l[p]?(l[p].p(v,c),_(l[p],1)):(l[p]=zt(v),l[p].c(),_(l[p],1),l[p].m(e.parentNode,e))}for(ne(),p=s.length;p<l.length;p+=1)f(p);re()}c[0]&256&&(n=!Ke(a[8])),n?i?(i.p(a,c),c[0]&256&&_(i,1)):(i=Jt(a),i.c(),_(i,1),i.m(t.parentNode,t)):i&&(ne(),g(i,1,1,()=>{i=null}),re())},i(a){if(!o){for(let c=0;c<s.length;c+=1)_(l[c]);_(i),o=!0}},o(a){l=l.filter(Boolean);for(let c=0;c<l.length;c+=1)g(l[c]);g(i),o=!1},d(a){a&&($(e),$(t)),xe(l,a),i&&i.d(a)}}}function Yt(r){let e,n,t;function o(l){r[27](l)}let s={refresh:ye,workflow:r[0],namespace:r[1]};return r[11]!==void 0&&(s.open=r[11]),e=new Yr({props:s}),ie.push(()=>ue(e,"open",o)),{c(){C(e.$$.fragment)},l(l){A(e.$$.fragment,l)},m(l,f){S(e,l,f),t=!0},p(l,f){const i={};f[0]&1&&(i.workflow=l[0]),f[0]&2&&(i.namespace=l[1]),!n&&f[0]&2048&&(n=!0,i.open=l[11],ae(()=>n=!1)),e.$set(i)},i(l){t||(_(e.$$.fragment,l),t=!0)},o(l){g(e.$$.fragment,l),t=!1},d(l){P(e,l)}}}function Gt(r){let e,n,t;function o(l){r[28](l)}let s={refresh:ye,workflow:r[0],namespace:r[1]};return r[12]!==void 0&&(s.open=r[12]),e=new oo({props:s}),ie.push(()=>ue(e,"open",o)),{c(){C(e.$$.fragment)},l(l){A(e.$$.fragment,l)},m(l,f){S(e,l,f),t=!0},p(l,f){const i={};f[0]&1&&(i.workflow=l[0]),f[0]&2&&(i.namespace=l[1]),!n&&f[0]&4096&&(n=!0,i.open=l[12],ae(()=>n=!1)),e.$set(i)},i(l){t||(_(e.$$.fragment,l),t=!0)},o(l){g(e.$$.fragment,l),t=!1},d(l){P(e,l)}}}function Zt(r){let e,n,t;function o(l){r[29](l)}let s={refresh:ye,workflow:r[0],namespace:r[1]};return r[9]!==void 0&&(s.open=r[9]),e=new zn({props:s}),ie.push(()=>ue(e,"open",o)),{c(){C(e.$$.fragment)},l(l){A(e.$$.fragment,l)},m(l,f){S(e,l,f),t=!0},p(l,f){const i={};f[0]&1&&(i.workflow=l[0]),f[0]&2&&(i.namespace=l[1]),!n&&f[0]&512&&(n=!0,i.open=l[9],ae(()=>n=!1)),e.$set(i)},i(l){t||(_(e.$$.fragment,l),t=!0)},o(l){g(e.$$.fragment,l),t=!1},d(l){P(e,l)}}}function Kt(r){let e,n,t;function o(l){r[30](l)}let s={refresh:ye,workflow:r[0],namespace:r[1]};return r[10]!==void 0&&(s.open=r[10]),e=new Jn({props:s}),ie.push(()=>ue(e,"open",o)),{c(){C(e.$$.fragment)},l(l){A(e.$$.fragment,l)},m(l,f){S(e,l,f),t=!0},p(l,f){const i={};f[0]&1&&(i.workflow=l[0]),f[0]&2&&(i.namespace=l[1]),!n&&f[0]&1024&&(n=!0,i.open=l[10],ae(()=>n=!1)),e.$set(i)},i(l){t||(_(e.$$.fragment,l),t=!0)},o(l){g(e.$$.fragment,l),t=!1},d(l){P(e,l)}}}function wo(r){let e,n,t,o,s,l,f,i,a;const c=[io,fo,so],p=[];function v(h,D){return D[0]&256&&(e=null),h[3]?0:(e==null&&(e=!Ke(h[8])),e?1:2)}n=v(r,[-1,-1]),t=p[n]=c[n](r);let d=r[7]&&Yt(r),w=r[6]&&Gt(r),u=r[15]&&Zt(r),m=r[5]&&Kt(r);return{c(){t.c(),o=B(),d&&d.c(),s=B(),w&&w.c(),l=B(),u&&u.c(),f=B(),m&&m.c(),i=_e()},l(h){t.l(h),o=F(h),d&&d.l(h),s=F(h),w&&w.l(h),l=F(h),u&&u.l(h),f=F(h),m&&m.l(h),i=_e()},m(h,D){p[n].m(h,D),R(h,o,D),d&&d.m(h,D),R(h,s,D),w&&w.m(h,D),R(h,l,D),u&&u.m(h,D),R(h,f,D),m&&m.m(h,D),R(h,i,D),a=!0},p(h,D){let I=n;n=v(h,D),n===I?p[n].p(h,D):(ne(),g(p[I],1,1,()=>{p[I]=null}),re(),t=p[n],t?t.p(h,D):(t=p[n]=c[n](h),t.c()),_(t,1),t.m(o.parentNode,o)),h[7]?d?(d.p(h,D),D[0]&128&&_(d,1)):(d=Yt(h),d.c(),_(d,1),d.m(s.parentNode,s)):d&&(ne(),g(d,1,1,()=>{d=null}),re()),h[6]?w?(w.p(h,D),D[0]&64&&_(w,1)):(w=Gt(h),w.c(),_(w,1),w.m(l.parentNode,l)):w&&(ne(),g(w,1,1,()=>{w=null}),re()),h[15]?u?(u.p(h,D),D[0]&32768&&_(u,1)):(u=Zt(h),u.c(),_(u,1),u.m(f.parentNode,f)):u&&(ne(),g(u,1,1,()=>{u=null}),re()),h[5]?m?(m.p(h,D),D[0]&32&&_(m,1)):(m=Kt(h),m.c(),_(m,1),m.m(i.parentNode,i)):m&&(ne(),g(m,1,1,()=>{m=null}),re())},i(h){a||(_(t),_(d),_(w),_(u),_(m),a=!0)},o(h){g(t),g(d),g(w),g(u),g(m),a=!1},d(h){h&&($(o),$(s),$(l),$(f),$(i)),p[n].d(h),d&&d.d(h),w&&w.d(h),u&&u.d(h),m&&m.d(h)}}}function $o(r,e,n){let t,o,s,l,f,i,a,c,p;ee(r,En,V=>n(20,a=V)),ee(r,Me,V=>n(8,p=V));var v,d;let{workflow:w}=e,{namespace:u}=e,{cancelInProgress:m}=e,{isRunning:h}=e,D=!1,I=!1,b=!1,U=!1,M,J=nr();ee(r,J,V=>n(21,c=V));let z;const te=()=>Pt(At({namespace:u,workflowId:w.id,taskQueue:w.taskQueue,workflowType:w.name})),H=()=>n(9,D=!0),G=()=>Pt(At({namespace:u,workflowId:w.id,taskQueue:w.taskQueue,workflowType:w.name})),Y=()=>n(11,b=!0),T=()=>n(11,b=!0);function E(V){b=V,n(11,b),n(7,f),n(4,M),n(6,o),n(5,s),n(19,l),n(0,w),n(20,a),n(17,v),n(18,d),n(8,p),n(21,c),n(1,u)}function K(V){U=V,n(12,U),n(7,f),n(4,M),n(6,o),n(5,s),n(19,l),n(0,w),n(20,a),n(17,v),n(18,d),n(8,p),n(21,c),n(1,u)}function O(V){D=V,n(9,D)}function k(V){I=V,n(10,I),n(7,f),n(4,M),n(6,o),n(5,s),n(19,l),n(0,w),n(20,a),n(17,v),n(18,d),n(8,p),n(21,c),n(1,u)}return r.$$set=V=>{"workflow"in V&&n(0,w=V.workflow),"namespace"in V&&n(1,u=V.namespace),"cancelInProgress"in V&&n(2,m=V.cancelInProgress),"isRunning"in V&&n(3,h=V.isRunning)},r.$$.update=()=>{r.$$.dirty[0]&2097410&&n(15,t=Qn(p.data.settings,c,u)),r.$$.dirty[0]&2097410&&n(6,o=lo(p.data.settings,c,u)),r.$$.dirty[0]&2097410&&n(5,s=jn(p.data.settings,c,u)),r.$$.dirty[0]&2097410&&n(19,l=Ln(p.data.settings,c,u)),r.$$.dirty[0]&1572865&&n(7,f=l&&w.pendingChildren.length===0&&a.length>0),r.$$.dirty[0]&224&&n(14,i=!f&&!o&&!s),r.$$.dirty[0]&1966081&&(l?l&&(n(17,v=w==null?void 0:w.pendingChildren)===null||v===void 0?void 0:v.length)>0?n(4,M=y("workflows.reset-disabled-pending-children")):l&&(n(18,d=w==null?void 0:w.pendingChildren)===null||d===void 0?void 0:d.length)===0&&a.length===0&&n(4,M=y("workflows.reset-disabled-no-events")):n(4,M=y("workflows.reset-disabled-unauthorized"))),r.$$.dirty[0]&240&&n(13,z=[{label:y("workflows.reset"),onClick:()=>n(11,b=!0),testId:"reset-button",enabled:f,description:f?"":M},{label:y("workflows.signal"),onClick:()=>n(12,U=!0),testId:"signal-button",enabled:o,description:o?"":y("workflows.signal-disabled")},{label:y("workflows.terminate"),onClick:()=>n(10,I=!0),testId:"terminate-button",enabled:s,destructive:!0,description:s?"":y("workflows.terminate-disabled")}])},[w,u,m,h,M,s,o,f,p,D,I,b,U,z,i,t,J,v,d,l,a,c,te,H,G,Y,T,E,K,O,k]}class ho extends $e{constructor(e){super(),he(this,e,$o,wo,we,{workflow:0,namespace:1,cancelInProgress:2,isRunning:3},null,[-1,-1])}}function ko(r){let e,n,t=y("workers.buildId")+"",o,s,l;return s=new or({props:{active:!0,buildId:r[0]}}),{c(){e=Q("p"),n=Q("span"),o=X(t),C(s.$$.fragment),this.h()},l(f){e=j(f,"P",{class:!0});var i=L(e);n=j(i,"SPAN",{});var a=L(n);o=x(a,t),a.forEach($),A(s.$$.fragment,i),i.forEach($),this.h()},h(){q(e,"class","flex items-center gap-1")},m(f,i){R(f,e,i),N(e,n),N(n,o),S(s,e,null),l=!0},p(f,[i]){const a={};i&1&&(a.buildId=f[0]),s.$set(a)},i(f){l||(_(s.$$.fragment,f),l=!0)},o(f){g(s.$$.fragment,f),l=!1},d(f){f&&$(e),P(s)}}}function bo(r,e,n){let t,{workflow:o}=e;return r.$$set=s=>{"workflow"in s&&n(1,o=s.workflow)},r.$$.update=()=>{r.$$.dirty&2&&n(0,t=lr(o))},[t,o]}class vo extends $e{constructor(e){super(),he(this,e,bo,ko,we,{workflow:1})}}const Eo=r=>({open:r&1}),Xt=r=>({open:r[0]}),Io=r=>({}),xt=r=>({}),To=r=>({}),en=r=>({}),Do=r=>({}),tn=r=>({});function Co(r){let e,n,t,o,s,l,f,i,a,c,p,v,d,w,u,m,h,D;const I=r[6].title,b=Te(I,r,r[5],tn),U=r[6].description,M=Te(U,r,r[5],en),J=r[6].action,z=Te(J,r,r[5],xt);i=new Ne({props:{class:"m-2 shrink-0",name:r[0]?"arrow-down":"arrow-right"}});const te=r[6].default,H=Te(te,r,r[5],Xt);let G=[{class:"w-full"},r[3]],Y={};for(let T=0;T<G.length;T+=1)Y=Ve(Y,G[T]);return{c(){e=Q("div"),n=Q("button"),t=Q("div"),b&&b.c(),o=B(),M&&M.c(),s=B(),l=Q("div"),z&&z.c(),f=B(),C(i.$$.fragment),p=B(),v=Q("div"),H&&H.c(),this.h()},l(T){e=j(T,"DIV",{class:!0});var E=L(e);n=j(E,"BUTTON",{id:!0,"aria-expanded":!0,"aria-controls":!0,class:!0,type:!0});var K=L(n);t=j(K,"DIV",{class:!0});var O=L(t);b&&b.l(O),o=F(O),M&&M.l(O),s=F(O),l=j(O,"DIV",{class:!0,role:!0});var k=L(l);z&&z.l(k),f=F(k),A(i.$$.fragment,k),k.forEach($),O.forEach($),K.forEach($),p=F(E),v=j(E,"DIV",{id:!0,"aria-labelledby":!0,role:!0,class:!0});var V=L(v);H&&H.l(V),V.forEach($),E.forEach($),this.h()},h(){q(l,"class","flex flex-row items-center gap-2 pr-2"),q(l,"role","none"),q(t,"class","flex w-full flex-row items-center justify-between gap-2"),q(n,"id",a=r[1]+"-trigger"),q(n,"aria-expanded",r[0]),q(n,"aria-controls",c=r[1]+"-content"),q(n,"class","w-full cursor-pointer hover:bg-interactive-secondary-hover focus-visible:bg-interactive focus-visible:outline-none"),q(n,"type","button"),q(v,"id",d=r[1]+"-content"),q(v,"aria-labelledby",w=r[1]+"-trigger"),q(v,"role","textbox"),q(v,"class","rounded-b-2 block w-full bg-primary p-2"),Pe(v,"hidden",!r[0]),bt(e,Y)},m(T,E){R(T,e,E),N(e,n),N(n,t),b&&b.m(t,null),N(t,o),M&&M.m(t,null),N(t,s),N(t,l),z&&z.m(l,null),N(l,f),S(i,l,null),N(e,p),N(e,v),H&&H.m(v,null),m=!0,h||(D=[Ye(l,"click",vt(r[7])),Ye(l,"keyup",vt(r[8])),Ye(n,"click",r[2])],h=!0)},p(T,[E]){b&&b.p&&(!m||E&32)&&De(b,I,T,T[5],m?Ae(I,T[5],E,Do):Ce(T[5]),tn),M&&M.p&&(!m||E&32)&&De(M,U,T,T[5],m?Ae(U,T[5],E,To):Ce(T[5]),en),z&&z.p&&(!m||E&32)&&De(z,J,T,T[5],m?Ae(J,T[5],E,Io):Ce(T[5]),xt);const K={};E&1&&(K.name=T[0]?"arrow-down":"arrow-right"),i.$set(K),(!m||E&2&&a!==(a=T[1]+"-trigger"))&&q(n,"id",a),(!m||E&1)&&q(n,"aria-expanded",T[0]),(!m||E&2&&c!==(c=T[1]+"-content"))&&q(n,"aria-controls",c),H&&H.p&&(!m||E&33)&&De(H,te,T,T[5],m?Ae(te,T[5],E,Eo):Ce(T[5]),Xt),(!m||E&2&&d!==(d=T[1]+"-content"))&&q(v,"id",d),(!m||E&2&&w!==(w=T[1]+"-trigger"))&&q(v,"aria-labelledby",w),(!m||E&1)&&Pe(v,"hidden",!T[0]),bt(e,Y=fr(G,[{class:"w-full"},E&8&&T[3]]))},i(T){m||(_(b,T),_(M,T),_(z,T),_(i.$$.fragment,T),_(H,T),T&&et(()=>{m&&(u||(u=It(v,St,{},!0)),u.run(1))}),m=!0)},o(T){g(b,T),g(M,T),g(z,T),g(i.$$.fragment,T),g(H,T),T&&(u||(u=It(v,St,{},!1)),u.run(0)),m=!1},d(T){T&&$(e),b&&b.d(T),M&&M.d(T),z&&z.d(T),P(i),H&&H.d(T),T&&u&&u.end(),h=!1,Wn(D)}}}function Ao(r,e,n){const t=["id","open","onToggle"];let o=Qe(e,t),{$$slots:s={},$$scope:l}=e,{id:f=er()}=e,{open:i=!1}=e,{onToggle:a=de}=e;const c=()=>{n(0,i=!i),a()};function p(d){Et.call(this,r,d)}function v(d){Et.call(this,r,d)}return r.$$set=d=>{e=Ve(Ve({},e),pn(d)),n(3,o=Qe(e,t)),"id"in d&&n(1,f=d.id),"open"in d&&n(0,i=d.open),"onToggle"in d&&n(4,a=d.onToggle),"$$scope"in d&&n(5,l=d.$$scope)},[i,f,c,o,a,l,s,p,v]}class So extends $e{constructor(e){super(),he(this,e,Ao,Co,we,{id:1,open:0,onToggle:4})}}const Po=(r,e)=>{const n=r==="Running",t=e==null?void 0:e.some(o=>(o==null?void 0:o.eventType)==="WorkflowExecutionCancelRequested");return n&&t},nn=r=>{const e=r==null?void 0:r.indexOf("?");return e>-1?r.slice(0,e):r},me=(r,e,n=!1)=>{const t=nn(r).split("/"),o=nn(e).split("/");if(n&&t.length!==o.length)return!1;for(let s=0;s<t.length;s++){const l=t[s],f=o[s];if(l!==f)return!1}return!0};function Wo(r){let e=(r[15]?y("common.workflows"):y("workflows.back-to-workflows"))+"",n;return{c(){n=X(e)},l(t){n=x(t,e)},m(t,o){R(t,n,o)},p(t,o){o&32768&&e!==(e=(t[15]?y("common.workflows"):y("workflows.back-to-workflows"))+"")&&fe(n,e)},d(t){t&&$(n)}}}function rn(r){let e,n;return e=new Re({props:{href:Ee({...r[14]}),"data-testid":"back-to-workflow-execution",icon:"chevron-left",$$slots:{default:[Ro]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,o){S(e,t,o),n=!0},p(t,o){const s={};o&16384&&(s.href=Ee({...t[14]})),o&536870920&&(s.$$scope={dirty:o,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function Ro(r){var t;let e=((t=r[3])==null?void 0:t.runId)+"",n;return{c(){n=X(e)},l(o){n=x(o,e)},m(o,s){R(o,n,s)},p(o,s){var l;s&8&&e!==(e=((l=o[3])==null?void 0:l.runId)+"")&&fe(n,e)},d(o){o&&$(n)}}}function on(r){let e,n;return e=new vo({props:{workflow:r[3]}}),{c(){C(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,o){S(e,t,o),n=!0},p(t,o){const s={};o&8&&(s.workflow=t[3]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function ln(r){let e,n;return e=new So({props:{$$slots:{title:[Mo],default:[Vo,({open:t})=>({28:t}),({open:t})=>t?268435456:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,o){S(e,t,o),n=!0},p(t,o){const s={};o&805306374&&(s.$$scope={dirty:o,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function sn(r){let e,n=y("workflows.summary")+"",t,o,s,l;return s=new Cn({props:{content:r[2]}}),{c(){e=Q("h3"),t=X(n),o=B(),C(s.$$.fragment)},l(f){e=j(f,"H3",{});var i=L(e);t=x(i,n),i.forEach($),o=F(f),A(s.$$.fragment,f)},m(f,i){R(f,e,i),N(e,t),R(f,o,i),S(s,f,i),l=!0},p(f,i){const a={};i&4&&(a.content=f[2]),s.$set(a)},i(f){l||(_(s.$$.fragment,f),l=!0)},o(f){g(s.$$.fragment,f),l=!1},d(f){f&&($(e),$(o)),P(s,f)}}}function fn(r){let e,n=y("workflows.details")+"",t,o,s,l;return s=new Cn({props:{content:r[1]}}),{c(){e=Q("h3"),t=X(n),o=B(),C(s.$$.fragment)},l(f){e=j(f,"H3",{});var i=L(e);t=x(i,n),i.forEach($),o=F(f),A(s.$$.fragment,f)},m(f,i){R(f,e,i),N(e,t),R(f,o,i),S(s,f,i),l=!0},p(f,i){const a={};i&2&&(a.content=f[1]),s.$set(a)},i(f){l||(_(s.$$.fragment,f),l=!0)},o(f){g(s.$$.fragment,f),l=!1},d(f){f&&($(e),$(o)),P(s,f)}}}function Vo(r){let e,n,t,o=r[28]&&r[2]&&sn(r),s=r[28]&&r[1]&&fn(r);return{c(){o&&o.c(),e=B(),s&&s.c(),n=_e()},l(l){o&&o.l(l),e=F(l),s&&s.l(l),n=_e()},m(l,f){o&&o.m(l,f),R(l,e,f),s&&s.m(l,f),R(l,n,f),t=!0},p(l,f){l[28]&&l[2]?o?(o.p(l,f),f&268435460&&_(o,1)):(o=sn(l),o.c(),_(o,1),o.m(e.parentNode,e)):o&&(ne(),g(o,1,1,()=>{o=null}),re()),l[28]&&l[1]?s?(s.p(l,f),f&268435458&&_(s,1)):(s=fn(l),s.c(),_(s,1),s.m(n.parentNode,n)):s&&(ne(),g(s,1,1,()=>{s=null}),re())},i(l){t||(_(o),_(s),t=!0)},o(l){g(o),g(s),t=!1},d(l){l&&($(e),$(n)),o&&o.d(l),s&&s.d(l)}}}function Mo(r){let e,n,t=y("workflows.summary-and-details")+"",o,s;return n=new Ne({props:{name:"flag",class:"text-indigo-600/80",width:32,height:32}}),{c(){e=Q("div"),C(n.$$.fragment),o=X(t),this.h()},l(l){e=j(l,"DIV",{slot:!0,class:!0});var f=L(e);A(n.$$.fragment,f),o=x(f,t),f.forEach($),this.h()},h(){q(e,"slot","title"),q(e,"class","flex w-full items-center gap-2 rounded p-2 text-xl")},m(l,f){R(l,e,f),S(n,e,null),N(e,o),s=!0},p:de,i(l){s||(_(n.$$.fragment,l),s=!0)},o(l){g(n.$$.fragment,l),s=!1},d(l){l&&$(e),P(n)}}}function an(r){let e,n,t,o;return n=new Dn({props:{icon:"info",intent:"info",title:y("workflows.cancel-request-sent"),$$slots:{default:[yo]},$$scope:{ctx:r}}}),{c(){e=Q("div"),C(n.$$.fragment)},l(s){e=j(s,"DIV",{});var l=L(e);A(n.$$.fragment,l),l.forEach($)},m(s,l){R(s,e,l),S(n,e,null),o=!0},p(s,l){const f={};l&536870912&&(f.$$scope={dirty:l,ctx:s}),n.$set(f)},i(s){o||(_(n.$$.fragment,s),s&&(t||et(()=>{t=dn(e,wn,{duration:200,delay:100}),t.start()})),o=!0)},o(s){g(n.$$.fragment,s),o=!1},d(s){s&&$(e),P(n)}}}function yo(r){let e=y("workflows.cancel-request-sent-description")+"",n;return{c(){n=X(e)},l(t){n=x(t,e)},m(t,o){R(t,n,o)},p:de,d(t){t&&$(n)}}}function un(r){let e,n,t,o;return n=new Dn({props:{icon:"info",intent:"info","data-testid":"workflow-reset-alert",title:y("workflows.reset-success-alert-title"),$$slots:{default:[qo]},$$scope:{ctx:r}}}),{c(){e=Q("div"),C(n.$$.fragment)},l(s){e=j(s,"DIV",{});var l=L(e);A(n.$$.fragment,l),l.forEach($)},m(s,l){R(s,e,l),S(n,e,null),o=!0},p(s,l){const f={};l&536870961&&(f.$$scope={dirty:l,ctx:s}),n.$set(f)},i(s){o||(_(n.$$.fragment,s),s&&(t||et(()=>{t=dn(e,wn,{duration:200,delay:100}),t.start()})),o=!0)},o(s){g(n.$$.fragment,s),o=!1},d(s){s&&$(e),P(n)}}}function No(r){let e;return{c(){e=X("here")},l(n){e=x(n,"here")},m(n,t){R(n,e,t)},d(n){n&&$(e)}}}function qo(r){var s,l,f,i;let e,n,t,o;return n=new Re({props:{href:Ee({namespace:r[0],workflow:(l=(s=r[4])==null?void 0:s.workflow)==null?void 0:l.id,run:r[5][(i=(f=r[4])==null?void 0:f.workflow)==null?void 0:i.runId]}),$$slots:{default:[No]},$$scope:{ctx:r}}}),{c(){e=X("You can find the resulting Workflow Execution "),C(n.$$.fragment),t=X(".")},l(a){e=x(a,"You can find the resulting Workflow Execution "),A(n.$$.fragment,a),t=x(a,".")},m(a,c){R(a,e,c),S(n,a,c),R(a,t,c),o=!0},p(a,c){var v,d,w,u;const p={};c&49&&(p.href=Ee({namespace:a[0],workflow:(d=(v=a[4])==null?void 0:v.workflow)==null?void 0:d.id,run:a[5][(u=(w=a[4])==null?void 0:w.workflow)==null?void 0:u.runId]})),c&536870912&&(p.$$scope={dirty:c,ctx:a}),n.$set(p)},i(a){o||(_(n.$$.fragment,a),o=!0)},o(a){g(n.$$.fragment,a),o=!1},d(a){a&&($(e),$(t)),P(n,a)}}}function Bo(r){var t;let e=((t=r[3])==null?void 0:t.historyEvents)+"",n;return{c(){n=X(e)},l(o){n=x(o,e)},m(o,s){R(o,n,s)},p(o,s){var l;s&8&&e!==(e=((l=o[3])==null?void 0:l.historyEvents)+"")&&fe(n,e)},d(o){o&&$(n)}}}function Fo(r){let e,n;return e=new Le({props:{type:"primary",class:"px-2 py-0",$$slots:{default:[Bo]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,o){S(e,t,o),n=!0},p(t,o){const s={};o&536870920&&(s.$$scope={dirty:o,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function Ho(r){var t,o;let e=((o=(t=r[16])==null?void 0:t.pollers)==null?void 0:o.length)+"",n;return{c(){n=X(e)},l(s){n=x(s,e)},m(s,l){R(s,n,l)},p(s,l){var f,i;l&65536&&e!==(e=((i=(f=s[16])==null?void 0:f.pollers)==null?void 0:i.length)+"")&&fe(n,e)},d(s){s&&$(n)}}}function Uo(r){let e,n;return e=new Le({props:{type:"primary",class:"px-2 py-0",$$slots:{default:[Ho]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,o){S(e,t,o),n=!0},p(t,o){const s={};o&536936448&&(s.$$scope={dirty:o,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function Oo(r){let e=r[8].relationshipCount+"",n;return{c(){n=X(e)},l(t){n=x(t,e)},m(t,o){R(t,n,o)},p(t,o){o&256&&e!==(e=t[8].relationshipCount+"")&&fe(n,e)},d(t){t&&$(n)}}}function Qo(r){let e,n;return e=new Le({props:{type:"primary",class:"px-2 py-0",$$slots:{default:[Oo]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,o){S(e,t,o),n=!0},p(t,o){const s={};o&536871168&&(s.$$scope={dirty:o,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function cn(r){let e,n;return e=new Ne({props:{name:"canceled"}}),{c(){C(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,o){S(e,t,o),n=!0},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function jo(r){var f,i;let e,n,t=((i=(f=r[3])==null?void 0:f.pendingActivities)==null?void 0:i.length)+"",o,s,l=r[12]&&cn();return{c(){e=Q("div"),l&&l.c(),n=B(),o=X(t),this.h()},l(a){e=j(a,"DIV",{class:!0});var c=L(e);l&&l.l(c),n=F(c),o=x(c,t),c.forEach($),this.h()},h(){q(e,"class","flex items-center gap-1")},m(a,c){R(a,e,c),l&&l.m(e,null),N(e,n),N(e,o),s=!0},p(a,c){var p,v;a[12]?l?c&4096&&_(l,1):(l=cn(),l.c(),_(l,1),l.m(e,n)):l&&(ne(),g(l,1,1,()=>{l=null}),re()),(!s||c&8)&&t!==(t=((v=(p=a[3])==null?void 0:p.pendingActivities)==null?void 0:v.length)+"")&&fe(o,t)},i(a){s||(_(l),s=!0)},o(a){g(l),s=!1},d(a){a&&$(e),l&&l.d()}}}function Lo(r){let e,n;return e=new Le({props:{type:r[12]?"warning":"primary",class:"px-2 py-0",$$slots:{default:[jo]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,o){S(e,t,o),n=!0},p(t,o){const s={};o&4096&&(s.type=t[12]?"warning":"primary"),o&536875016&&(s.$$scope={dirty:o,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function zo(r){let e,n,t,o,s,l,f,i,a,c,p,v,d,w;return e=new Ie({props:{label:y("workflows.history-tab"),id:"history-tab",href:Ee({...r[14]}),active:me(r[6].url.pathname,Ee({...r[14]})),$$slots:{default:[Fo]},$$scope:{ctx:r}}}),t=new Ie({props:{label:y("workflows.workers-tab"),id:"workers-tab",href:Se(r[14]),active:me(r[6].url.pathname,Se(r[14])),$$slots:{default:[Uo]},$$scope:{ctx:r}}}),s=new Ie({props:{label:y("workflows.relationships"),id:"relationships-tab",href:qe(r[14]),active:me(r[6].url.pathname,qe(r[14])),$$slots:{default:[Qo]},$$scope:{ctx:r}}}),f=new Ie({props:{label:y("workflows.pending-activities-tab"),id:"pending-activities-tab",href:Be(r[14]),active:me(r[6].url.pathname,Be(r[14])),$$slots:{default:[Lo]},$$scope:{ctx:r}}}),a=new Ie({props:{label:y("workflows.call-stack-tab"),id:"call-stack-tab",href:Fe(r[14]),active:me(r[6].url.pathname,Fe(r[14]))}}),p=new Ie({props:{label:y("workflows.queries-tab"),id:"queries-tab",href:He(r[14]),active:me(r[6].url.pathname,He(r[14]))}}),d=new Ie({props:{label:y("workflows.metadata-tab"),id:"metadata-tab",href:Ue(r[14]),active:me(r[6].url.pathname,Ue(r[14]))}}),{c(){C(e.$$.fragment),n=B(),C(t.$$.fragment),o=B(),C(s.$$.fragment),l=B(),C(f.$$.fragment),i=B(),C(a.$$.fragment),c=B(),C(p.$$.fragment),v=B(),C(d.$$.fragment)},l(u){A(e.$$.fragment,u),n=F(u),A(t.$$.fragment,u),o=F(u),A(s.$$.fragment,u),l=F(u),A(f.$$.fragment,u),i=F(u),A(a.$$.fragment,u),c=F(u),A(p.$$.fragment,u),v=F(u),A(d.$$.fragment,u)},m(u,m){S(e,u,m),R(u,n,m),S(t,u,m),R(u,o,m),S(s,u,m),R(u,l,m),S(f,u,m),R(u,i,m),S(a,u,m),R(u,c,m),S(p,u,m),R(u,v,m),S(d,u,m),w=!0},p(u,m){const h={};m&16384&&(h.href=Ee({...u[14]})),m&16448&&(h.active=me(u[6].url.pathname,Ee({...u[14]}))),m&536870920&&(h.$$scope={dirty:m,ctx:u}),e.$set(h);const D={};m&16384&&(D.href=Se(u[14])),m&16448&&(D.active=me(u[6].url.pathname,Se(u[14]))),m&536936448&&(D.$$scope={dirty:m,ctx:u}),t.$set(D);const I={};m&16384&&(I.href=qe(u[14])),m&16448&&(I.active=me(u[6].url.pathname,qe(u[14]))),m&536871168&&(I.$$scope={dirty:m,ctx:u}),s.$set(I);const b={};m&16384&&(b.href=Be(u[14])),m&16448&&(b.active=me(u[6].url.pathname,Be(u[14]))),m&536875016&&(b.$$scope={dirty:m,ctx:u}),f.$set(b);const U={};m&16384&&(U.href=Fe(u[14])),m&16448&&(U.active=me(u[6].url.pathname,Fe(u[14]))),a.$set(U);const M={};m&16384&&(M.href=He(u[14])),m&16448&&(M.active=me(u[6].url.pathname,He(u[14]))),p.$set(M);const J={};m&16384&&(J.href=Ue(u[14])),m&16448&&(J.active=me(u[6].url.pathname,Ue(u[14]))),d.$set(J)},i(u){w||(_(e.$$.fragment,u),_(t.$$.fragment,u),_(s.$$.fragment,u),_(f.$$.fragment,u),_(a.$$.fragment,u),_(p.$$.fragment,u),_(d.$$.fragment,u),w=!0)},o(u){g(e.$$.fragment,u),g(t.$$.fragment,u),g(s.$$.fragment,u),g(f.$$.fragment,u),g(a.$$.fragment,u),g(p.$$.fragment,u),g(d.$$.fragment,u),w=!1},d(u){u&&($(n),$(o),$(l),$(i),$(c),$(v)),P(e,u),P(t,u),P(s,u),P(f,u),P(a,u),P(p,u),P(d,u)}}}function Jo(r){let e,n;return e=new ar({props:{class:"flex flex-wrap gap-6 pt-2",label:"workflow detail",$$slots:{default:[zo]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,o){S(e,t,o),n=!0},p(t,o){const s={};o&536957256&&(s.$$scope={dirty:o,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function Yo(r){var K,O;let e,n,t,o,s,l,f,i,a,c,p,v,d,w,u,m,h,D,I,b,U,M,J,z,te;t=new Re({props:{href:`${je({namespace:r[0]})}?${r[17]}`,"data-testid":"back-to-workflows",icon:"chevron-left",$$slots:{default:[Wo]},$$scope:{ctx:r}}});let H=r[15]&&rn(r);a=new rr({props:{status:(K=r[3])==null?void 0:K.status,big:!0}}),d=new $n({props:{copyIconTitle:y("common.copy-icon-title"),copySuccessIconTitle:y("common.copy-success-icon-title"),content:(O=r[3])==null?void 0:O.id,clickAllToCopy:!0,"container-class":"w-full",class:"overflow-hidden text-ellipsis"}});let G=r[9]&&on(r);h=new ho({props:{isRunning:r[13],cancelInProgress:r[11],workflow:r[3],namespace:r[0]}});let Y=r[7]&&ln(r);b=new Fr({});let T=r[11]&&an(r),E=r[10]&&un(r);return z=new ir({props:{$$slots:{default:[Jo]},$$scope:{ctx:r}}}),{c(){e=Q("div"),n=Q("div"),C(t.$$.fragment),o=B(),H&&H.c(),s=B(),l=Q("header"),f=Q("div"),i=Q("div"),C(a.$$.fragment),c=B(),p=Q("div"),v=Q("h1"),C(d.$$.fragment),w=B(),G&&G.c(),u=B(),m=Q("div"),C(h.$$.fragment),D=B(),Y&&Y.c(),I=B(),C(b.$$.fragment),U=B(),T&&T.c(),M=B(),E&&E.c(),J=B(),C(z.$$.fragment),this.h()},l(k){e=j(k,"DIV",{class:!0});var V=L(e);n=j(V,"DIV",{class:!0});var oe=L(n);A(t.$$.fragment,oe),o=F(oe),H&&H.l(oe),oe.forEach($),V.forEach($),s=F(k),l=j(k,"HEADER",{class:!0});var W=L(l);f=j(W,"DIV",{class:!0});var Z=L(f);i=j(Z,"DIV",{class:!0});var le=L(i);A(a.$$.fragment,le),c=F(le),p=j(le,"DIV",{class:!0});var se=L(p);v=j(se,"H1",{"data-testid":!0,class:!0});var ce=L(v);A(d.$$.fragment,ce),ce.forEach($),w=F(se),G&&G.l(se),se.forEach($),le.forEach($),u=F(Z),m=j(Z,"DIV",{class:!0});var ke=L(m);A(h.$$.fragment,ke),ke.forEach($),Z.forEach($),D=F(W),Y&&Y.l(W),I=F(W),A(b.$$.fragment,W),U=F(W),T&&T.l(W),M=F(W),E&&E.l(W),J=F(W),A(z.$$.fragment,W),W.forEach($),this.h()},h(){q(n,"class","flex items-center gap-2"),q(e,"class","flex items-center justify-between pb-4"),q(v,"data-testid","workflow-id-heading"),q(v,"class","gap-0 overflow-hidden"),q(p,"class","flex flex-col flex-wrap gap-0"),q(i,"class","flex flex-col items-center gap-4 lg:flex-row"),q(m,"class","px-2"),q(f,"class","flex flex-col items-center justify-between gap-4 lg:flex-row"),q(l,"class","rounded-top flex flex-col gap-2")},m(k,V){R(k,e,V),N(e,n),S(t,n,null),N(n,o),H&&H.m(n,null),R(k,s,V),R(k,l,V),N(l,f),N(f,i),S(a,i,null),N(i,c),N(i,p),N(p,v),S(d,v,null),N(p,w),G&&G.m(p,null),N(f,u),N(f,m),S(h,m,null),N(l,D),Y&&Y.m(l,null),N(l,I),S(b,l,null),N(l,U),T&&T.m(l,null),N(l,M),E&&E.m(l,null),N(l,J),S(z,l,null),te=!0},p(k,[V]){var ce,ke;const oe={};V&131073&&(oe.href=`${je({namespace:k[0]})}?${k[17]}`),V&536903680&&(oe.$$scope={dirty:V,ctx:k}),t.$set(oe),k[15]?H?(H.p(k,V),V&32768&&_(H,1)):(H=rn(k),H.c(),_(H,1),H.m(n,null)):H&&(ne(),g(H,1,1,()=>{H=null}),re());const W={};V&8&&(W.status=(ce=k[3])==null?void 0:ce.status),a.$set(W);const Z={};V&8&&(Z.content=(ke=k[3])==null?void 0:ke.id),d.$set(Z),k[9]?G?(G.p(k,V),V&512&&_(G,1)):(G=on(k),G.c(),_(G,1),G.m(p,null)):G&&(ne(),g(G,1,1,()=>{G=null}),re());const le={};V&8192&&(le.isRunning=k[13]),V&2048&&(le.cancelInProgress=k[11]),V&8&&(le.workflow=k[3]),V&1&&(le.namespace=k[0]),h.$set(le),k[7]?Y?(Y.p(k,V),V&128&&_(Y,1)):(Y=ln(k),Y.c(),_(Y,1),Y.m(l,I)):Y&&(ne(),g(Y,1,1,()=>{Y=null}),re()),k[11]?T?(T.p(k,V),V&2048&&_(T,1)):(T=an(k),T.c(),_(T,1),T.m(l,M)):T&&(ne(),g(T,1,1,()=>{T=null}),re()),k[10]?E?(E.p(k,V),V&1024&&_(E,1)):(E=un(k),E.c(),_(E,1),E.m(l,J)):E&&(ne(),g(E,1,1,()=>{E=null}),re());const se={};V&536957256&&(se.$$scope={dirty:V,ctx:k}),z.$set(se)},i(k){te||(_(t.$$.fragment,k),_(H),_(a.$$.fragment,k),_(d.$$.fragment,k),_(G),_(h.$$.fragment,k),_(Y),_(b.$$.fragment,k),_(T),_(E),_(z.$$.fragment,k),te=!0)},o(k){g(t.$$.fragment,k),g(H),g(a.$$.fragment,k),g(d.$$.fragment,k),g(G),g(h.$$.fragment,k),g(Y),g(b.$$.fragment,k),g(T),g(E),g(z.$$.fragment,k),te=!1},d(k){k&&($(e),$(s),$(l)),P(t),H&&H.d(),P(a),P(d),G&&G.d(),P(h),Y&&Y.d(),P(b),T&&T.d(),E&&E.d(),P(z)}}}function Go(r,e,n){let t,o,s,l,f,i,a,c,p,v,d,w,u,m,h,D,I,b,U;ee(r,be,K=>n(4,m=K)),ee(r,ur,K=>n(26,h=K)),ee(r,Oe,K=>n(27,D=K)),ee(r,An,K=>n(5,I=K)),ee(r,Me,K=>n(6,b=K)),ee(r,gn,K=>n(17,U=K));var M,J,z,te,H,G,Y,T;let{namespace:E}=e;return r.$$set=K=>{"namespace"in K&&n(0,E=K.namespace)},r.$$.update=()=>{r.$$.dirty&16&&n(3,{workflow:t,workers:o}=m,t,(n(16,o),n(4,m))),r.$$.dirty&64&&n(15,s=b.params.id),r.$$.dirty&9&&n(14,l={namespace:E,workflow:t==null?void 0:t.id,run:t==null?void 0:t.runId}),r.$$.dirty&262160&&n(13,f=n(18,M=m==null?void 0:m.workflow)===null||M===void 0?void 0:M.isRunning),r.$$.dirty&524304&&n(12,i=["Terminated","TimedOut","Canceled"].includes(n(19,J=m.workflow)===null||J===void 0?void 0:J.status)),r.$$.dirty&135266320&&n(11,a=Po(n(20,z=m==null?void 0:m.workflow)===null||z===void 0?void 0:z.status,D)),r.$$.dirty&2097200&&n(10,c=mr(I,n(21,te=m==null?void 0:m.workflow)===null||te===void 0?void 0:te.runId)),r.$$.dirty&12582920&&n(9,p=n(22,H=t==null?void 0:t.assignedBuildId)!==null&&H!==void 0?H:n(23,G=t==null?void 0:t.mostRecentWorkerVersionStamp)===null||G===void 0?void 0:G.useVersioning),r.$$.dirty&201326600&&n(8,v=cr(t,D,h)),r.$$.dirty&16777232&&n(2,d=n(24,Y=m==null?void 0:m.userMetadata)===null||Y===void 0?void 0:Y.summary),r.$$.dirty&33554448&&n(1,w=n(25,T=m==null?void 0:m.userMetadata)===null||T===void 0?void 0:T.details),r.$$.dirty&6&&n(7,u=d||w)},[E,w,d,t,m,I,b,u,v,p,c,a,i,f,l,s,o,U,M,J,z,te,H,G,Y,T,h,D]}class Zo extends $e{constructor(e){super(),he(this,e,Go,Yo,we,{namespace:0})}}async function Ko({activity:r,namespace:e,settings:n,accessToken:t},{convertWithCodec:o=pr,decodeAttributes:s=_r}={}){const l=await o({attributes:r,namespace:e,settings:n,accessToken:t});return s(l)}const Xo=async({activity:r,namespace:e,settings:n,accessToken:t})=>await Ko({activity:r,namespace:e,settings:n,accessToken:t}),mn=async(r,e,n,t)=>{const o=(r==null?void 0:r.pendingActivities)??[],s=[];for(const l of o){const f=await Xo({activity:l,namespace:e,settings:n,accessToken:t});s.push(f)}return s};function xo(r){let e,n,t,o,s;const l=[rl,nl,tl],f=[];function i(a,c){return a[2]?0:a[1].workflow?2:1}return n=i(r),t=f[n]=l[n](r),{c(){e=Q("div"),t.c(),this.h()},l(a){e=j(a,"DIV",{class:!0});var c=L(e);t.l(c),c.forEach($),this.h()},h(){q(e,"class",o="absolute bottom-0 left-0 right-0 "+(r[6]?"top-[540px]":"top-0")+" } flex h-full flex-col gap-4")},m(a,c){R(a,e,c),f[n].m(e,null),s=!0},p(a,c){let p=n;n=i(a),n===p?f[n].p(a,c):(ne(),g(f[p],1,1,()=>{f[p]=null}),re(),t=f[n],t?t.p(a,c):(t=f[n]=l[n](a),t.c()),_(t,1),t.m(e,null)),(!s||c&64&&o!==(o="absolute bottom-0 left-0 right-0 "+(a[6]?"top-[540px]":"top-0")+" } flex h-full flex-col gap-4"))&&q(e,"class",o)},i(a){s||(_(t),s=!0)},o(a){g(t),s=!1},d(a){a&&$(e),f[n].d()}}}function el(r){let e,n,t,o=Xe(r[3],null,2)+"",s,l;return n=new qn({props:{copyIconTitle:y("common.copy-icon-title"),copySuccessIconTitle:y("common.copy-success-icon-title"),class:"absolute right-1 top-1",copied:r[5]}}),n.$on("click",r[8]),{c(){e=Q("div"),C(n.$$.fragment),t=B(),s=X(o),this.h()},l(f){e=j(f,"DIV",{class:!0});var i=L(e);A(n.$$.fragment,i),t=F(i),s=x(i,o),i.forEach($),this.h()},h(){q(e,"class","relative h-auto whitespace-break-spaces break-words rounded bg-primary p-4")},m(f,i){R(f,e,i),S(n,e,null),N(e,t),N(e,s),l=!0},p(f,i){const a={};i&32&&(a.copied=f[5]),n.$set(a),(!l||i&8)&&o!==(o=Xe(f[3],null,2)+"")&&fe(s,o)},i(f){l||(_(n.$$.fragment,f),l=!0)},o(f){g(n.$$.fragment,f),l=!1},d(f){f&&$(e),P(n)}}}function tl(r){let e,n,t,o;n=new Zo({props:{namespace:r[0].params.namespace}});const s=r[16].default,l=Te(s,r,r[15],null);return{c(){e=Q("div"),C(n.$$.fragment),t=B(),l&&l.c(),this.h()},l(f){e=j(f,"DIV",{class:!0});var i=L(e);A(n.$$.fragment,i),i.forEach($),t=F(f),l&&l.l(f),this.h()},h(){q(e,"class","border-b border-subtle px-4 pt-8 md:pt-20 xl:px-8")},m(f,i){R(f,e,i),S(n,e,null),R(f,t,i),l&&l.m(f,i),o=!0},p(f,i){const a={};i&1&&(a.namespace=f[0].params.namespace),n.$set(a),l&&l.p&&(!o||i&32768)&&De(l,s,f,f[15],o?Ae(s,f[15],i,null):Ce(f[15]),null)},i(f){o||(_(n.$$.fragment,f),_(l,f),o=!0)},o(f){g(n.$$.fragment,f),g(l,f),o=!1},d(f){f&&($(e),$(t)),P(n),l&&l.d(f)}}}function nl(r){let e,n;return e=new Bn({props:{class:"pt-24"}}),{c(){C(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,o){S(e,t,o),n=!0},p:de,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function rl(r){let e,n;return e=new Ir({props:{error:r[2]}}),{c(){C(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,o){S(e,t,o),n=!0},p(t,o){const s={};o&4&&(s.error=t[2]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function ol(r){let e,n,t,o;const s=[el,xo],l=[];function f(i,a){return i[4]?0:1}return e=f(r),n=l[e]=s[e](r),{c(){n.c(),t=_e()},l(i){n.l(i),t=_e()},m(i,a){l[e].m(i,a),R(i,t,a),o=!0},p(i,[a]){let c=e;e=f(i),e===c?l[e].p(i,a):(ne(),g(l[c],1,1,()=>{l[c]=null}),re(),n=l[e],n?n.p(i,a):(n=l[e]=s[e](i),n.c()),_(n,1),n.m(t.parentNode,t))},i(i){o||(_(n),o=!0)},o(i){g(n),o=!1},d(i){i&&$(t),l[e].d(i)}}}function ll(r,e,n){let t,o,s,l,f,i,a,c,p,v,d,w,u,m,h,D;ee(r,Wt,k=>n(19,i=k)),ee(r,Me,k=>n(0,a=k)),ee(r,Yn,k=>n(12,c=k)),ee(r,Oe,k=>n(13,p=k)),ee(r,Rt,k=>n(20,v=k)),ee(r,ye,k=>n(14,d=k)),ee(r,be,k=>n(1,w=k)),ee(r,Vt,k=>n(21,u=k)),ee(r,$r,k=>n(22,m=k)),ee(r,Vn,k=>n(6,D=k));let{$$slots:I={},$$scope:b}=e,U,M,J;const{copy:z,copied:te}=kr();ee(r,te,k=>n(5,h=k));const H=k=>{z(k,Xe(f))},G=async k=>{const V={summary:"",details:""};try{if(k!=null&&k.summary){const oe=await Mt(k.summary);typeof oe=="string"&&(V.summary=oe)}if(k!=null&&k.details){const oe=await Mt(k.details);typeof oe=="string"&&(V.details=oe)}pe(be,w={...w,userMetadata:V},w)}catch(oe){console.error("Error decoding user metadata",oe)}},Y=async(k,V,oe)=>{const{settings:W}=a.data,{workflow:Z,error:le}=await Tt({namespace:k,workflowId:V,runId:oe});if(le){n(2,U=le);return}await G(Z);const{taskQueue:se}=Z,ce=await sr({queue:se,namespace:k});pe(be,w={...w,workflow:Z,workers:ce},w),Z.pendingActivities=await mn(Z,k,W,m==null?void 0:m.accessToken),M=new AbortController,wr({namespace:k,workflow:{id:V,runId:oe}},W,m==null?void 0:m.accessToken,M.signal).then(ke=>{pe(be,w.metadata=ke,w)}),pe(Oe,p=await gr({namespace:k,workflowId:V,runId:oe,sort:"ascending",signal:M.signal,historySize:Z.historyEvents}),p)},T=async k=>{var V;if(k&&(!((V=w==null?void 0:w.workflow)===null||V===void 0)&&V.isRunning)){const{settings:oe}=a.data,{workflow:W,error:Z}=await Tt({namespace:t,workflowId:o,runId:s});if(Z){n(2,U=Z);return}pe(be,w.workflow=W,w),W.pendingActivities=await mn(W,t,oe,m==null?void 0:m.accessToken)}},E=()=>{pe(Oe,p=[],p),M&&M.abort()},K=()=>{pe(Vt,u=null,u),pe(be,w=Un,w),n(2,U=void 0),E(),hr(),clearInterval(J),J=null},O=(k,V)=>{V||pe(Rt,v=k,v)};return Rn(()=>{const k=a.url.searchParams.get("sort");k&&pe(Wt,i=k,i),J=setInterval(()=>{dr()},1e4)}),_n(()=>{K()}),r.$$set=k=>{"$$scope"in k&&n(15,b=k.$$scope)},r.$$.update=()=>{r.$$.dirty&1&&n(11,{namespace:t,workflow:o,run:s}=a.params,t,(n(10,o),n(0,a)),(n(9,s),n(0,a))),r.$$.dirty&1&&n(4,l=a.url.searchParams.has("json")),r.$$.dirty&8194&&n(3,f={...w,eventHistory:p}),r.$$.dirty&512&&K(),r.$$.dirty&3584&&Y(t,o,s),r.$$.dirty&16384&&T(d),r.$$.dirty&12288&&O(p,c)},[a,w,U,f,l,h,D,te,H,s,o,t,c,p,d,b,I]}class sl extends $e{constructor(e){super(),he(this,e,ll,ol,we,{})}}const Sn={namespace:null,workflowId:null,runId:null,rawPayloads:null,sort:null},fl=nt(Sn),il=()=>{fl.set(Sn)};function al(r){let e;const n=r[0].default,t=Te(n,r,r[1],null);return{c(){t&&t.c()},l(o){t&&t.l(o)},m(o,s){t&&t.m(o,s),e=!0},p(o,s){t&&t.p&&(!e||s&2)&&De(t,n,o,o[1],e?Ae(n,o[1],s,null):Ce(o[1]),null)},i(o){e||(_(t,o),e=!0)},o(o){g(t,o),e=!1},d(o){t&&t.d(o)}}}function ul(r){let e,n;return e=new sl({props:{$$slots:{default:[al]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,o){S(e,t,o),n=!0},p(t,[o]){const s={};o&2&&(s.$$scope={dirty:o,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function cl(r,e,n){let{$$slots:t={},$$scope:o}=e;return _n(()=>{il()}),r.$$set=s=>{"$$scope"in s&&n(1,o=s.$$scope)},[t,o]}class ms extends $e{constructor(e){super(),he(this,e,cl,ul,we,{})}}export{ms as component};
