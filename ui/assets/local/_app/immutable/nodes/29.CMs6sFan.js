import{s as te,h as w,j as v,k as E,f as _,m as b,i as h,t as B,l as S,n as C,q as z,a as fe,b as R,d as N,u as ue,g as ce,e as _e,c as ee,w as W,v as D,x as me,G as ve,o as x,a2 as pe,L as ct}from"../chunks/scheduler.CnYDgCRb.js";import{S as le,i as re,g as L,b as k,e as K,t as g,c as A,a as P,m as q,d as H}from"../chunks/index.DW7Zsqzm.js";import{p as ge}from"../chunks/stores.D11TaBJ8.js";import{P as _t}from"../chunks/page-title.DEkRIe-Y.js";import{h as se,u as be}from"../chunks/await_block.riFHw7oM.js";import{P as Te,W as mt}from"../chunks/worker-table.BVoU3kxY.js";import{T as dt,a as ht,b as Ee}from"../chunks/tab.Bftl0E5Q.js";import{t as j}from"../chunks/translate.BBe5dcco.js";import{a as $t,b as pt,c as gt,d as bt,e as Ie,f as ye,h as Ce,p as kt,i as wt,j as De,g as Re}from"../chunks/pollers-service.BS1ZNa_0.js";import{p as vt}from"../chunks/persist-store.CHHMGDgX.js";import{e as Y,u as de,o as he}from"../chunks/each.rY6XwTBs.js";import{B as Tt}from"../chunks/badge.Bwh1WhIm.js";import{I as it}from"../chunks/icon.BLtYHMSM.js";import{t as Ne}from"../chunks/tw-merge.BY2kakn8.js";import{E as $e}from"../chunks/empty-state.LMdRD7f9.js";import{T as oe,a as ie,b as ne}from"../chunks/table.DF3ZrEJB.js";import{t as ft,r as Et,f as ae}from"../chunks/time-format.DxHtKRfw.js";import"../chunks/auth-user.D7YyuaIh.js";import"../chunks/toaster.CRekXPtX.js";import"../chunks/paths.DuBnKM09.js";import"../chunks/entry.DIIy5RK3.js";import{S as It}from"../chunks/index.C8jtbdR1.js";const Qe=vt("taskQueueView","workers",!0),yt=o=>({}),Ae=o=>({}),Ct=o=>({}),Pe=o=>({});function Dt(o){let t,l,e,s;return l=new it({props:{name:"merge"}}),{c(){t=w("span"),A(l.$$.fragment),e=B(o[2]),this.h()},l(r){t=v(r,"SPAN",{class:!0});var a=E(t);P(l.$$.fragment,a),e=S(a,o[2]),a.forEach(_),this.h()},h(){b(t,"class","flex items-center gap-1 rounded-sm border border-subtle px-1 text-sm text-primary")},m(r,a){h(r,t,a),q(l,t,null),C(t,e),s=!0},p(r,a){(!s||a&4)&&z(e,r[2])},i(r){s||(g(l.$$.fragment,r),s=!0)},o(r){k(l.$$.fragment,r),s=!1},d(r){r&&_(t),H(l)}}}function Rt(o){let t,l,e,s,r,a,n;l=new it({props:{name:"merge"}});const i=o[4]["overall-default-worker"],f=fe(i,o,o[3],Pe),m=o[4]["default-worker"],u=fe(m,o,o[3],Ae);return{c(){t=w("span"),A(l.$$.fragment),e=B(o[2]),s=R(),f&&f.c(),r=R(),u&&u.c(),this.h()},l(c){t=v(c,"SPAN",{class:!0});var d=E(t);P(l.$$.fragment,d),e=S(d,o[2]),s=N(d),f&&f.l(d),r=N(d),u&&u.l(d),d.forEach(_),this.h()},h(){b(t,"class",a=Ne("flex items-center gap-1 rounded-sm border border-subtle px-1 text-sm text-primary",o[1]&&"border-green-200 bg-green-200 text-black"))},m(c,d){h(c,t,d),q(l,t,null),C(t,e),C(t,s),f&&f.m(t,null),C(t,r),u&&u.m(t,null),n=!0},p(c,d){(!n||d&4)&&z(e,c[2]),f&&f.p&&(!n||d&8)&&ue(f,i,c,c[3],n?_e(i,c[3],d,Ct):ce(c[3]),Pe),u&&u.p&&(!n||d&8)&&ue(u,m,c,c[3],n?_e(m,c[3],d,yt):ce(c[3]),Ae),(!n||d&2&&a!==(a=Ne("flex items-center gap-1 rounded-sm border border-subtle px-1 text-sm text-primary",c[1]&&"border-green-200 bg-green-200 text-black")))&&b(t,"class",a)},i(c){n||(g(l.$$.fragment,c),g(f,c),g(u,c),n=!0)},o(c){k(l.$$.fragment,c),k(f,c),k(u,c),n=!1},d(c){c&&_(t),H(l),f&&f.d(c),u&&u.d(c)}}}function Nt(o){let t,l,e,s;const r=[Rt,Dt],a=[];function n(i,f){return i[0]&&i[2]?0:i[2]?1:-1}return~(l=n(o))&&(e=a[l]=r[l](o)),{c(){t=w("p"),e&&e.c(),this.h()},l(i){t=v(i,"P",{class:!0});var f=E(t);e&&e.l(f),f.forEach(_),this.h()},h(){b(t,"class","flex select-all gap-2 font-mono")},m(i,f){h(i,t,f),~l&&a[l].m(t,null),s=!0},p(i,[f]){let m=l;l=n(i),l===m?~l&&a[l].p(i,f):(e&&(L(),k(a[m],1,1,()=>{a[m]=null}),K()),~l?(e=a[l],e?e.p(i,f):(e=a[l]=r[l](i),e.c()),g(e,1),e.m(t,null)):e=null)},i(i){s||(g(e),s=!0)},o(i){k(e),s=!1},d(i){i&&_(t),~l&&a[l].d()}}}function Qt(o,t,l){let{$$slots:e={},$$scope:s}=t,{defaultVersion:r=!1}=t,{active:a=!1}=t,{buildId:n}=t;return o.$$set=i=>{"defaultVersion"in i&&l(0,r=i.defaultVersion),"active"in i&&l(1,a=i.active),"buildId"in i&&l(2,n=i.buildId),"$$scope"in i&&l(3,s=i.$$scope)},[r,a,n,s,e]}class ke extends le{constructor(t){super(),re(this,t,Qt,Nt,te,{defaultVersion:0,active:1,buildId:2})}}function qe(o,t,l){const e=o.slice();e[8]=t[l];const s=gt(e[8]);e[9]=s;const r=bt(e[2],e[0],e[9]);return e[10]=r,e}function He(o,t,l){const e=o.slice();return e[13]=t[l],e[15]=l,e}function Ve(o,t,l){const e=o.slice();return e[9]=t[l],e}function Be(o){let t,l,e,s,r;return e=new $e({props:{title:j("workers.no-version-sets-found")}}),{c(){t=w("tr"),l=w("td"),A(e.$$.fragment),s=R(),this.h()},l(a){t=v(a,"TR",{class:!0});var n=E(t);l=v(n,"TD",{colspan:!0});var i=E(l);P(e.$$.fragment,i),i.forEach(_),s=N(n),n.forEach(_),this.h()},h(){b(l,"colspan","2"),b(t,"class","w-full")},m(a,n){h(a,t,n),C(t,l),q(e,l,null),C(t,s),r=!0},p:D,i(a){r||(g(e.$$.fragment,a),r=!0)},o(a){k(e.$$.fragment,a),r=!1},d(a){a&&_(t),H(e)}}}function Se(o){let t=j("workers.overall")+"",l;return{c(){l=B(t)},l(e){l=S(e,t)},m(e,s){h(e,l,s)},p:D,d(e){e&&_(l)}}}function At(o){let t,l=o[15]===0&&Se();return{c(){l&&l.c(),t=W()},l(e){l&&l.l(e),t=W()},m(e,s){l&&l.m(e,s),h(e,t,s)},p(e,s){e[15]===0?l?l.p(e,s):(l=Se(),l.c(),l.m(t.parentNode,t)):l&&(l.d(1),l=null)},d(e){e&&_(t),l&&l.d(e)}}}function Pt(o){let t=j("workers.default")+"",l;return{c(){l=B(t)},l(e){l=S(e,t)},m(e,s){h(e,l,s)},p:D,d(e){e&&_(l)}}}function qt(o){let t=j("workers.default")+"",l,e;return{c(){l=B(t),e=R()},l(s){l=S(s,t),e=N(s)},m(s,r){h(s,l,r),h(s,e,r)},p:D,d(s){s&&(_(l),_(e))}}}function We(o){let t,l;return t=new ke({props:{active:!1,buildId:o[9],$$slots:{"default-worker":[qt]},$$scope:{ctx:o}}}),{c(){A(t.$$.fragment)},l(e){P(t.$$.fragment,e)},m(e,s){q(t,e,s),l=!0},p(e,s){const r={};s&16&&(r.buildId=e[9]),s&262144&&(r.$$scope={dirty:s,ctx:e}),t.$set(r)},i(e){l||(g(t.$$.fragment,e),l=!0)},o(e){k(t.$$.fragment,e),l=!1},d(e){H(t,e)}}}function Ht(o){let t,l,e,s,r,a,n;l=new ke({props:{defaultVersion:!0,active:o[15]===0,buildId:Ie(o[13].buildIds),$$slots:{"default-worker":[Pt],"overall-default-worker":[At]},$$scope:{ctx:o}}});let i=Y(ye(o[13].buildIds)),f=[];for(let u=0;u<i.length;u+=1)f[u]=We(Ve(o,i,u));const m=u=>k(f[u],1,1,()=>{f[u]=null});return{c(){t=w("td"),A(l.$$.fragment),e=R(),s=w("td"),r=w("div");for(let u=0;u<f.length;u+=1)f[u].c();a=R(),this.h()},l(u){t=v(u,"TD",{class:!0,"data-testid":!0});var c=E(t);P(l.$$.fragment,c),c.forEach(_),e=N(u),s=v(u,"TD",{class:!0,"data-testid":!0});var d=E(s);r=v(d,"DIV",{class:!0});var $=E(r);for(let p=0;p<f.length;p+=1)f[p].l($);$.forEach(_),d.forEach(_),a=N(u),this.h()},h(){b(t,"class","text-left"),b(t,"data-testid","version-default"),b(r,"class","flex flex-wrap gap-2 font-mono"),b(s,"class","text-left"),b(s,"data-testid","version-compatible-builds")},m(u,c){h(u,t,c),q(l,t,null),h(u,e,c),h(u,s,c),C(s,r);for(let d=0;d<f.length;d+=1)f[d]&&f[d].m(r,null);h(u,a,c),n=!0},p(u,c){const d={};if(c&16&&(d.active=u[15]===0),c&16&&(d.buildId=Ie(u[13].buildIds)),c&262160&&(d.$$scope={dirty:c,ctx:u}),l.$set(d),c&16){i=Y(ye(u[13].buildIds));let $;for($=0;$<i.length;$+=1){const p=Ve(u,i,$);f[$]?(f[$].p(p,c),g(f[$],1)):(f[$]=We(p),f[$].c(),g(f[$],1),f[$].m(r,null))}for(L(),$=i.length;$<f.length;$+=1)m($);K()}},i(u){if(!n){g(l.$$.fragment,u);for(let c=0;c<i.length;c+=1)g(f[c]);n=!0}},o(u){k(l.$$.fragment,u),f=f.filter(Boolean);for(let c=0;c<f.length;c+=1)k(f[c]);n=!1},d(u){u&&(_(t),_(e),_(s),_(a)),H(l),me(f,u)}}}function Fe(o,t){let l,e,s;return e=new ne({props:{"data-testid":"version-row",$$slots:{default:[Ht]},$$scope:{ctx:t}}}),{key:o,first:null,c(){l=W(),A(e.$$.fragment),this.h()},l(r){l=W(),P(e.$$.fragment,r),this.h()},h(){this.first=l},m(r,a){h(r,l,a),q(e,r,a),s=!0},p(r,a){t=r;const n={};a&262160&&(n.$$scope={dirty:a,ctx:t}),e.$set(n)},i(r){s||(g(e.$$.fragment,r),s=!0)},o(r){k(e.$$.fragment,r),s=!1},d(r){r&&_(l),H(e,r)}}}function Vt(o){let t=[],l=new Map,e,s,r=Y(o[4]);const a=i=>i[15];for(let i=0;i<r.length;i+=1){let f=He(o,r,i),m=a(f);l.set(m,t[i]=Fe(m,f))}let n=null;return r.length||(n=Be()),{c(){for(let i=0;i<t.length;i+=1)t[i].c();e=W(),n&&n.c()},l(i){for(let f=0;f<t.length;f+=1)t[f].l(i);e=W(),n&&n.l(i)},m(i,f){for(let m=0;m<t.length;m+=1)t[m]&&t[m].m(i,f);h(i,e,f),n&&n.m(i,f),s=!0},p(i,f){f&16&&(r=Y(i[4]),L(),t=de(t,f,a,1,i,r,l,e.parentNode,he,Fe,e,He),K(),!r.length&&n?n.p(i,f):r.length?n&&(L(),k(n,1,1,()=>{n=null}),K()):(n=Be(),n.c(),g(n,1),n.m(e.parentNode,e)))},i(i){if(!s){for(let f=0;f<r.length;f+=1)g(t[f]);s=!0}},o(i){for(let f=0;f<t.length;f+=1)k(t[f]);s=!1},d(i){i&&_(e);for(let f=0;f<t.length;f+=1)t[f].d(i);n&&n.d(i)}}}function Bt(o){let t,l=j("workers.default")+"",e,s,r,a=j("workers.compatible-build-ids")+"",n;return{c(){t=w("th"),e=B(l),s=R(),r=w("th"),n=B(a),this.h()},l(i){t=v(i,"TH",{class:!0});var f=E(t);e=S(f,l),f.forEach(_),s=N(i),r=v(i,"TH",{class:!0});var m=E(r);n=S(m,a),m.forEach(_),this.h()},h(){b(t,"class","w-3/12"),b(r,"class","w-9/12")},m(i,f){h(i,t,f),C(t,e),h(i,s,f),h(i,r,f),C(r,n)},p:D,d(i){i&&(_(t),_(s),_(r))}}}function St(o){let t,l;return t=new ie({props:{slot:"headers",$$slots:{default:[Bt]},$$scope:{ctx:o}}}),{c(){A(t.$$.fragment)},l(e){P(t.$$.fragment,e)},m(e,s){q(t,e,s),l=!0},p(e,s){const r={};s&262144&&(r.$$scope={dirty:s,ctx:e}),t.$set(r)},i(e){l||(g(t.$$.fragment,e),l=!0)},o(e){k(t.$$.fragment,e),l=!1},d(e){H(t,e)}}}function Wt(o){var e,s;let t=(((s=(e=o[1])==null?void 0:e.pollers)==null?void 0:s.length)||0)+"",l;return{c(){l=B(t)},l(r){l=S(r,t)},m(r,a){h(r,l,a)},p(r,a){var n,i;a&2&&t!==(t=(((i=(n=r[1])==null?void 0:n.pollers)==null?void 0:i.length)||0)+"")&&z(l,t)},d(r){r&&_(l)}}}function Oe(o){let t,l,e,s,r,a;return e=new $e({props:{title:j("workflows.workers-empty-state")}}),{c(){t=w("tr"),l=w("td"),A(e.$$.fragment),r=R(),this.h()},l(n){t=v(n,"TR",{class:!0});var i=E(t);l=v(i,"TD",{colspan:!0});var f=E(l);P(e.$$.fragment,f),f.forEach(_),r=N(i),i.forEach(_),this.h()},h(){var n,i;b(l,"colspan",s=(i=(n=o[2])==null?void 0:n.buildIdReachability)!=null&&i.length?6:4),b(t,"class","w-full")},m(n,i){h(n,t,i),C(t,l),q(e,l,null),C(t,r),a=!0},p(n,i){var f,m;(!a||i&4&&s!==(s=(m=(f=n[2])==null?void 0:f.buildIdReachability)!=null&&m.length?6:4))&&b(l,"colspan",s)},i(n){a||(g(e.$$.fragment,n),a=!0)},o(n){k(e.$$.fragment,n),a=!1},d(n){n&&_(t),H(e)}}}function je(o){let t,l,e,s,r,a,n,i=o[10]+"",f,m;return e=new ke({props:{defaultVersion:o[9]===o[3],active:o[9]===o[3],buildId:o[9],$$slots:{"default-worker":[Ot],"overall-default-worker":[Ft]},$$scope:{ctx:o}}}),{c(){t=w("td"),l=w("p"),A(e.$$.fragment),s=R(),r=w("td"),a=w("p"),n=w("span"),f=B(i),this.h()},l(u){t=v(u,"TD",{class:!0,"data-testid":!0});var c=E(t);l=v(c,"P",{class:!0});var d=E(l);P(e.$$.fragment,d),d.forEach(_),c.forEach(_),s=N(u),r=v(u,"TD",{class:!0,"data-testid":!0});var $=E(r);a=v($,"P",{});var p=E(a);n=v(p,"SPAN",{class:!0});var T=E(n);f=S(T,i),T.forEach(_),p.forEach(_),$.forEach(_),this.h()},h(){b(l,"class","select-all"),b(t,"class","text-left"),b(t,"data-testid","worker-identity"),b(n,"class","svelte-kdqm2r"),ve(n,"reachability",!!o[10]),b(r,"class","text-left"),b(r,"data-testid","worker-last-access-time")},m(u,c){h(u,t,c),C(t,l),q(e,l,null),h(u,s,c),h(u,r,c),C(r,a),C(a,n),C(n,f),m=!0},p(u,c){const d={};c&10&&(d.defaultVersion=u[9]===u[3]),c&10&&(d.active=u[9]===u[3]),c&2&&(d.buildId=u[9]),c&262154&&(d.$$scope={dirty:c,ctx:u}),e.$set(d),(!m||c&7)&&i!==(i=u[10]+"")&&z(f,i),(!m||c&7)&&ve(n,"reachability",!!u[10])},i(u){m||(g(e.$$.fragment,u),m=!0)},o(u){k(e.$$.fragment,u),m=!1},d(u){u&&(_(t),_(s),_(r)),H(e)}}}function Me(o){let t=j("workers.overall")+"",l;return{c(){l=B(t)},l(e){l=S(e,t)},m(e,s){h(e,l,s)},p:D,d(e){e&&_(l)}}}function Ft(o){let t,l=o[9]===o[3]&&Me();return{c(){l&&l.c(),t=W()},l(e){l&&l.l(e),t=W()},m(e,s){l&&l.m(e,s),h(e,t,s)},p(e,s){e[9]===e[3]?l?l.p(e,s):(l=Me(),l.c(),l.m(t.parentNode,t)):l&&(l.d(1),l=null)},d(e){e&&_(t),l&&l.d(e)}}}function Ot(o){let t=j("workers.default")+"",l;return{c(){l=B(t)},l(e){l=S(e,t)},m(e,s){h(e,l,s)},p:D,d(e){e&&_(l)}}}function jt(o){var V,G;let t,l,e=o[8].identity+"",s,r,a,n,i,f=ae(o[8].lastAccessTime,o[5],{relative:o[6]})+"",m,u,c,d,$,p,T,F,M,y=((G=(V=o[2])==null?void 0:V.buildIdReachability)==null?void 0:G.length)&&je(o);return d=new Te({props:{includesTaskQueueType:o[8].taskQueueTypes.includes("WORKFLOW")}}),T=new Te({props:{includesTaskQueueType:o[8].taskQueueTypes.includes("ACTIVITY")}}),{c(){t=w("td"),l=w("p"),s=B(e),r=R(),y&&y.c(),a=R(),n=w("td"),i=w("p"),m=B(f),u=R(),c=w("td"),A(d.$$.fragment),$=R(),p=w("td"),A(T.$$.fragment),F=R(),this.h()},l(Q){t=v(Q,"TD",{class:!0,"data-testid":!0});var I=E(t);l=v(I,"P",{class:!0});var O=E(l);s=S(O,e),O.forEach(_),I.forEach(_),r=N(Q),y&&y.l(Q),a=N(Q),n=v(Q,"TD",{class:!0,"data-testid":!0});var U=E(n);i=v(U,"P",{class:!0});var J=E(i);m=S(J,f),J.forEach(_),U.forEach(_),u=N(Q),c=v(Q,"TD",{"data-testid":!0});var X=E(c);P(d.$$.fragment,X),X.forEach(_),$=N(Q),p=v(Q,"TD",{"data-testid":!0});var Z=E(p);P(T.$$.fragment,Z),Z.forEach(_),F=N(Q),this.h()},h(){b(l,"class","select-all"),b(t,"class","text-left"),b(t,"data-testid","worker-identity"),b(i,"class","select-all"),b(n,"class","text-left"),b(n,"data-testid","worker-last-access-time"),b(c,"data-testid","workflow-poller"),b(p,"data-testid","activity-poller")},m(Q,I){h(Q,t,I),C(t,l),C(l,s),h(Q,r,I),y&&y.m(Q,I),h(Q,a,I),h(Q,n,I),C(n,i),C(i,m),h(Q,u,I),h(Q,c,I),q(d,c,null),h(Q,$,I),h(Q,p,I),q(T,p,null),h(Q,F,I),M=!0},p(Q,I){var J,X;(!M||I&2)&&e!==(e=Q[8].identity+"")&&z(s,e),(X=(J=Q[2])==null?void 0:J.buildIdReachability)!=null&&X.length?y?(y.p(Q,I),I&4&&g(y,1)):(y=je(Q),y.c(),g(y,1),y.m(a.parentNode,a)):y&&(L(),k(y,1,1,()=>{y=null}),K()),(!M||I&98)&&f!==(f=ae(Q[8].lastAccessTime,Q[5],{relative:Q[6]})+"")&&z(m,f);const O={};I&2&&(O.includesTaskQueueType=Q[8].taskQueueTypes.includes("WORKFLOW")),d.$set(O);const U={};I&2&&(U.includesTaskQueueType=Q[8].taskQueueTypes.includes("ACTIVITY")),T.$set(U)},i(Q){M||(g(y),g(d.$$.fragment,Q),g(T.$$.fragment,Q),M=!0)},o(Q){k(y),k(d.$$.fragment,Q),k(T.$$.fragment,Q),M=!1},d(Q){Q&&(_(t),_(r),_(a),_(n),_(u),_(c),_($),_(p),_(F)),y&&y.d(Q),H(d),H(T)}}}function Le(o,t){let l,e,s;return e=new ne({props:{"data-testid":"worker-row",$$slots:{default:[jt]},$$scope:{ctx:t}}}),{key:o,first:null,c(){l=W(),A(e.$$.fragment),this.h()},l(r){l=W(),P(e.$$.fragment,r),this.h()},h(){this.first=l},m(r,a){h(r,l,a),q(e,r,a),s=!0},p(r,a){t=r;const n={};a&262255&&(n.$$scope={dirty:a,ctx:t}),e.$set(n)},i(r){s||(g(e.$$.fragment,r),s=!0)},o(r){k(e.$$.fragment,r),s=!1},d(r){r&&_(l),H(e,r)}}}function Mt(o){var i;let t=[],l=new Map,e,s,r=Y((i=o[1])==null?void 0:i.pollers);const a=f=>f[8].identity;for(let f=0;f<r.length;f+=1){let m=qe(o,r,f),u=a(m);l.set(u,t[f]=Le(u,m))}let n=null;return r.length||(n=Oe(o)),{c(){for(let f=0;f<t.length;f+=1)t[f].c();e=W(),n&&n.c()},l(f){for(let m=0;m<t.length;m+=1)t[m].l(f);e=W(),n&&n.l(f)},m(f,m){for(let u=0;u<t.length;u+=1)t[u]&&t[u].m(f,m);h(f,e,m),n&&n.m(f,m),s=!0},p(f,m){var u;m&111&&(r=Y((u=f[1])==null?void 0:u.pollers),L(),t=de(t,m,a,1,f,r,l,e.parentNode,he,Le,e,qe),K(),!r.length&&n?n.p(f,m):r.length?n&&(L(),k(n,1,1,()=>{n=null}),K()):(n=Oe(f),n.c(),g(n,1),n.m(e.parentNode,e)))},i(f){if(!s){for(let m=0;m<r.length;m+=1)g(t[m]);s=!0}},o(f){for(let m=0;m<t.length;m+=1)k(t[m]);s=!1},d(f){f&&_(e);for(let m=0;m<t.length;m+=1)t[m].d(f);n&&n.d(f)}}}function Lt(o){let t,l=j("workflows.workers-tab")+"",e;return{c(){t=w("caption"),e=B(l),this.h()},l(s){t=v(s,"CAPTION",{class:!0,slot:!0});var r=E(t);e=S(r,l),r.forEach(_),this.h()},h(){b(t,"class","sr-only"),b(t,"slot","caption")},m(s,r){h(s,t,r),C(t,e)},p:D,d(s){s&&_(t)}}}function Ke(o){let t,l=j("workers.version")+"",e,s,r,a=j("workers.retirability")+"",n;return{c(){t=w("th"),e=B(l),s=R(),r=w("th"),n=B(a),this.h()},l(i){t=v(i,"TH",{class:!0});var f=E(t);e=S(f,l),f.forEach(_),s=N(i),r=v(i,"TH",{class:!0});var m=E(r);n=S(m,a),m.forEach(_),this.h()},h(){b(t,"class","w-3/12"),b(r,"class","w-2/12")},m(i,f){h(i,t,f),C(t,e),h(i,s,f),h(i,r,f),C(r,n)},p:D,d(i){i&&(_(t),_(s),_(r))}}}function Kt(o){var G,Q;let t,l=j("common.id")+"",e,s,r,a,n,i=j("workflows.last-accessed")+"",f,m,u,c,d=j("workflows.workflow-task-handler")+"",$,p,T,F,M=j("workflows.activity-handler")+"",y,V=((Q=(G=o[2])==null?void 0:G.buildIdReachability)==null?void 0:Q.length)&&Ke();return{c(){t=w("th"),e=B(l),r=R(),V&&V.c(),a=R(),n=w("th"),f=B(i),m=R(),u=w("th"),c=w("p"),$=B(d),p=R(),T=w("th"),F=w("p"),y=B(M),this.h()},l(I){t=v(I,"TH",{class:!0});var O=E(t);e=S(O,l),O.forEach(_),r=N(I),V&&V.l(I),a=N(I),n=v(I,"TH",{class:!0});var U=E(n);f=S(U,i),U.forEach(_),m=N(I),u=v(I,"TH",{class:!0});var J=E(u);c=v(J,"P",{class:!0});var X=E(c);$=S(X,d),X.forEach(_),J.forEach(_),p=N(I),T=v(I,"TH",{class:!0});var Z=E(T);F=v(Z,"P",{class:!0});var we=E(F);y=S(we,M),we.forEach(_),Z.forEach(_),this.h()},h(){var I,O;b(t,"class",s=(O=(I=o[2])==null?void 0:I.buildIdReachability)!=null&&O.length?"w-3/12":"w-6/12"),b(n,"class","w-2/12"),b(c,"class","text-center"),b(u,"class","w-2/12"),b(F,"class","text-center"),b(T,"class","w-2/12 text-center")},m(I,O){h(I,t,O),C(t,e),h(I,r,O),V&&V.m(I,O),h(I,a,O),h(I,n,O),C(n,f),h(I,m,O),h(I,u,O),C(u,c),C(c,$),h(I,p,O),h(I,T,O),C(T,F),C(F,y)},p(I,O){var U,J,X,Z;O&4&&s!==(s=(J=(U=I[2])==null?void 0:U.buildIdReachability)!=null&&J.length?"w-3/12":"w-6/12")&&b(t,"class",s),(Z=(X=I[2])==null?void 0:X.buildIdReachability)!=null&&Z.length?V?V.p(I,O):(V=Ke(),V.c(),V.m(a.parentNode,a)):V&&(V.d(1),V=null)},d(I){I&&(_(t),_(r),_(a),_(n),_(m),_(u),_(p),_(T)),V&&V.d(I)}}}function Yt(o){let t,l;return t=new ie({props:{slot:"headers",$$slots:{default:[Kt]},$$scope:{ctx:o}}}),{c(){A(t.$$.fragment)},l(e){P(t.$$.fragment,e)},m(e,s){q(t,e,s),l=!0},p(e,s){const r={};s&262148&&(r.$$scope={dirty:s,ctx:e}),t.$set(r)},i(e){l||(g(t.$$.fragment,e),l=!0)},o(e){k(t.$$.fragment,e),l=!1},d(e){H(t,e)}}}function zt(o){let t,l=j("workers.version-sets")+"",e,s,r,a,n,i=j("workers.workers")+"",f,m,u,c,d,$;return r=new oe({props:{class:"mb-6 w-full min-w-[600px] table-fixed",$$slots:{headers:[St],default:[Vt]},$$scope:{ctx:o}}}),u=new Tt({props:{type:"count",$$slots:{default:[Wt]},$$scope:{ctx:o}}}),d=new oe({props:{class:"mb-6 w-full min-w-[600px] table-fixed",$$slots:{headers:[Yt],caption:[Lt],default:[Mt]},$$scope:{ctx:o}}}),{c(){t=w("h2"),e=B(l),s=R(),A(r.$$.fragment),a=R(),n=w("h2"),f=B(i),m=R(),A(u.$$.fragment),c=R(),A(d.$$.fragment),this.h()},l(p){t=v(p,"H2",{"data-testid":!0});var T=E(t);e=S(T,l),T.forEach(_),s=N(p),P(r.$$.fragment,p),a=N(p),n=v(p,"H2",{class:!0,"data-testid":!0});var F=E(n);f=S(F,i),m=N(F),P(u.$$.fragment,F),F.forEach(_),c=N(p),P(d.$$.fragment,p),this.h()},h(){b(t,"data-testid","version-sets"),b(n,"class","flex items-center gap-2"),b(n,"data-testid","workers")},m(p,T){h(p,t,T),C(t,e),h(p,s,T),q(r,p,T),h(p,a,T),h(p,n,T),C(n,f),C(n,m),q(u,n,null),h(p,c,T),q(d,p,T),$=!0},p(p,[T]){const F={};T&262160&&(F.$$scope={dirty:T,ctx:p}),r.$set(F);const M={};T&262146&&(M.$$scope={dirty:T,ctx:p}),u.$set(M);const y={};T&262255&&(y.$$scope={dirty:T,ctx:p}),d.$set(y)},i(p){$||(g(r.$$.fragment,p),g(u.$$.fragment,p),g(d.$$.fragment,p),$=!0)},o(p){k(r.$$.fragment,p),k(u.$$.fragment,p),k(d.$$.fragment,p),$=!1},d(p){p&&(_(t),_(s),_(a),_(n),_(c)),H(r,p),H(u),H(d,p)}}}function Gt(o,t,l){let e,s,r,a;ee(o,ft,u=>l(5,r=u)),ee(o,Et,u=>l(6,a=u));let{taskQueue:n}=t,{workers:i}=t,{reachability:f=void 0}=t,{compatibility:m=void 0}=t;return o.$$set=u=>{"taskQueue"in u&&l(0,n=u.taskQueue),"workers"in u&&l(1,i=u.workers),"reachability"in u&&l(2,f=u.reachability),"compatibility"in u&&l(7,m=u.compatibility)},o.$$.update=()=>{o.$$.dirty&128&&l(4,e=$t(m)),o.$$.dirty&128&&l(3,s=pt(m))},[n,i,f,s,e,r,a,m]}class Ut extends le{constructor(t){super(),re(this,t,Gt,zt,te,{taskQueue:0,workers:1,reachability:2,compatibility:7})}}function Ye(o,t,l){const e=o.slice();return e[12]=t[l],e[14]=l,e}function ze(o,t,l){const e=o.slice();return e[12]=t[l],e[14]=l,e}function Ge(o){let t,l,e,s;return e=new $e({props:{title:j("workers.no-assignment-rules-found")}}),{c(){t=w("tr"),l=w("td"),A(e.$$.fragment),this.h()},l(r){t=v(r,"TR",{class:!0});var a=E(t);l=v(a,"TD",{colspan:!0});var n=E(l);P(e.$$.fragment,n),n.forEach(_),a.forEach(_),this.h()},h(){b(l,"colspan","4"),b(t,"class","w-full")},m(r,a){h(r,t,a),C(t,l),q(e,l,null),s=!0},p:D,i(r){s||(g(e.$$.fragment,r),s=!0)},o(r){k(e.$$.fragment,r),s=!1},d(r){r&&_(t),H(e)}}}function Jt(o){var M;let t,l=o[14]+"",e,s,r,a=((M=o[12].rule)==null?void 0:M.targetBuildId)+"",n,i,f,m=o[5](o[12]).toFixed(0)+"",u,c,d,$,p,T=ae(o[12].createTime,o[4])+"",F;return{c(){t=w("td"),e=B(l),s=R(),r=w("td"),n=B(a),i=R(),f=w("td"),u=B(m),c=B("%"),d=R(),$=w("td"),p=w("p"),F=B(T),this.h()},l(y){t=v(y,"TD",{class:!0,"data-testid":!0});var V=E(t);e=S(V,l),V.forEach(_),s=N(y),r=v(y,"TD",{class:!0,"data-testid":!0});var G=E(r);n=S(G,a),G.forEach(_),i=N(y),f=v(y,"TD",{class:!0,"data-testid":!0});var Q=E(f);u=S(Q,m),c=S(Q,"%"),Q.forEach(_),d=N(y),$=v(y,"TD",{class:!0,"data-testid":!0});var I=E($);p=v(I,"P",{});var O=E(p);F=S(O,T),O.forEach(_),I.forEach(_),this.h()},h(){b(t,"class","text-left"),b(t,"data-testid","index"),b(r,"class","break-all text-left"),b(r,"data-testid","target-build-id"),b(f,"class","text-right"),b(f,"data-testid","target-ramp"),b($,"class","justfiy-between flex w-full items-center text-right"),b($,"data-testid","target-create-time")},m(y,V){h(y,t,V),C(t,e),h(y,s,V),h(y,r,V),C(r,n),h(y,i,V),h(y,f,V),C(f,u),C(f,c),h(y,d,V),h(y,$,V),C($,p),C(p,F)},p(y,V){var G;V&4&&l!==(l=y[14]+"")&&z(e,l),V&4&&a!==(a=((G=y[12].rule)==null?void 0:G.targetBuildId)+"")&&z(n,a),V&4&&m!==(m=y[5](y[12]).toFixed(0)+"")&&z(u,m),V&20&&T!==(T=ae(y[12].createTime,y[4])+"")&&z(F,T)},d(y){y&&(_(t),_(s),_(r),_(i),_(f),_(d),_($))}}}function Ue(o,t){let l,e,s;return e=new ne({props:{"data-testid":"version-row",$$slots:{default:[Jt]},$$scope:{ctx:t}}}),{key:o,first:null,c(){l=W(),A(e.$$.fragment),this.h()},l(r){l=W(),P(e.$$.fragment,r),this.h()},h(){this.first=l},m(r,a){h(r,l,a),q(e,r,a),s=!0},p(r,a){t=r;const n={};a&65556&&(n.$$scope={dirty:a,ctx:t}),e.$set(n)},i(r){s||(g(e.$$.fragment,r),s=!0)},o(r){k(e.$$.fragment,r),s=!1},d(r){r&&_(l),H(e,r)}}}function Je(o){let t,l;return t=new ne({props:{"data-testid":"view-all",class:"surface-subtle cursor-pointer",$$slots:{default:[Xt]},$$scope:{ctx:o}}}),t.$on("click",o[11]),{c(){A(t.$$.fragment)},l(e){P(t.$$.fragment,e)},m(e,s){q(t,e,s),l=!0},p(e,s){const r={};s&65536&&(r.$$scope={dirty:s,ctx:e}),t.$set(r)},i(e){l||(g(t.$$.fragment,e),l=!0)},o(e){k(t.$$.fragment,e),l=!1},d(e){H(t,e)}}}function Xt(o){let t,l,e,s=j("workers.show-inactive-assignment-rules")+"",r,a,n,i,f;return{c(){t=w("td"),l=R(),e=w("td"),r=B(s),a=R(),n=w("td"),i=R(),f=w("td"),this.h()},l(m){t=v(m,"TD",{}),E(t).forEach(_),l=N(m),e=v(m,"TD",{class:!0});var u=E(e);r=S(u,s),u.forEach(_),a=N(m),n=v(m,"TD",{}),E(n).forEach(_),i=N(m),f=v(m,"TD",{}),E(f).forEach(_),this.h()},h(){b(e,"class","break-all text-left text-blue-700 underline")},m(m,u){h(m,t,u),h(m,l,u),h(m,e,u),C(e,r),h(m,a,u),h(m,n,u),h(m,i,u),h(m,f,u)},p:D,d(m){m&&(_(t),_(l),_(e),_(a),_(n),_(i),_(f))}}}function Zt(o){var m;let t=[],l=new Map,e,s,r,a=Y(o[2]);const n=u=>u[14];for(let u=0;u<a.length;u+=1){let c=ze(o,a,u),d=n(c);l.set(d,t[u]=Ue(d,c))}let i=null;a.length||(i=Ge());let f=!o[0]&&((m=o[1])==null?void 0:m.length)&&Je(o);return{c(){for(let u=0;u<t.length;u+=1)t[u].c();i&&i.c(),e=R(),f&&f.c(),s=W()},l(u){for(let c=0;c<t.length;c+=1)t[c].l(u);i&&i.l(u),e=N(u),f&&f.l(u),s=W()},m(u,c){for(let d=0;d<t.length;d+=1)t[d]&&t[d].m(u,c);i&&i.m(u,c),h(u,e,c),f&&f.m(u,c),h(u,s,c),r=!0},p(u,c){var d;c&52&&(a=Y(u[2]),L(),t=de(t,c,n,1,u,a,l,e.parentNode,he,Ue,e,ze),K(),!a.length&&i?i.p(u,c):a.length?i&&(L(),k(i,1,1,()=>{i=null}),K()):(i=Ge(),i.c(),g(i,1),i.m(e.parentNode,e))),!u[0]&&((d=u[1])!=null&&d.length)?f?(f.p(u,c),c&3&&g(f,1)):(f=Je(u),f.c(),g(f,1),f.m(s.parentNode,s)):f&&(L(),k(f,1,1,()=>{f=null}),K())},i(u){if(!r){for(let c=0;c<a.length;c+=1)g(t[c]);g(f),r=!0}},o(u){for(let c=0;c<t.length;c+=1)k(t[c]);k(f),r=!1},d(u){u&&(_(e),_(s));for(let c=0;c<t.length;c+=1)t[c].d(u);i&&i.d(u),f&&f.d(u)}}}function xt(o){let t,l="Index",e,s,r="Target Build ID",a,n,i="Ramp",f,m,u="Create Time";return{c(){t=w("th"),t.textContent=l,e=R(),s=w("th"),s.textContent=r,a=R(),n=w("th"),n.textContent=i,f=R(),m=w("th"),m.textContent=u,this.h()},l(c){t=v(c,"TH",{class:!0,"data-svelte-h":!0}),x(t)!=="svelte-9c3h6b"&&(t.textContent=l),e=N(c),s=v(c,"TH",{class:!0,"data-svelte-h":!0}),x(s)!=="svelte-1y9wj7a"&&(s.textContent=r),a=N(c),n=v(c,"TH",{class:!0,"data-svelte-h":!0}),x(n)!=="svelte-v0wniv"&&(n.textContent=i),f=N(c),m=v(c,"TH",{class:!0,"data-svelte-h":!0}),x(m)!=="svelte-1bmkxw8"&&(m.textContent=u),this.h()},h(){b(t,"class","w-20"),b(s,"class","grow"),b(n,"class","w-20"),b(m,"class","text-right")},m(c,d){h(c,t,d),h(c,e,d),h(c,s,d),h(c,a,d),h(c,n,d),h(c,f,d),h(c,m,d)},p:D,d(c){c&&(_(t),_(e),_(s),_(a),_(n),_(f),_(m))}}}function el(o){let t,l;return t=new ie({props:{slot:"headers",$$slots:{default:[xt]},$$scope:{ctx:o}}}),{c(){A(t.$$.fragment)},l(e){P(t.$$.fragment,e)},m(e,s){q(t,e,s),l=!0},p(e,s){const r={};s&65536&&(r.$$scope={dirty:s,ctx:e}),t.$set(r)},i(e){l||(g(t.$$.fragment,e),l=!0)},o(e){k(t.$$.fragment,e),l=!1},d(e){H(t,e)}}}function Xe(o){let t,l,e,s,r;return e=new $e({props:{title:j("workers.no-redirect-rules-found")}}),{c(){t=w("tr"),l=w("td"),A(e.$$.fragment),s=R(),this.h()},l(a){t=v(a,"TR",{class:!0});var n=E(t);l=v(n,"TD",{colspan:!0});var i=E(l);P(e.$$.fragment,i),i.forEach(_),s=N(n),n.forEach(_),this.h()},h(){b(l,"colspan","3"),b(t,"class","w-full")},m(a,n){h(a,t,n),C(t,l),q(e,l,null),C(t,s),r=!0},p:D,i(a){r||(g(e.$$.fragment,a),r=!0)},o(a){k(e.$$.fragment,a),r=!1},d(a){a&&_(t),H(e)}}}function tl(o){let t,l=o[12].rule.sourceBuildId+"",e,s,r,a=o[12].rule.targetBuildId+"",n,i,f,m=ae(o[12].createTime,o[4])+"",u,c;return{c(){t=w("td"),e=B(l),s=R(),r=w("td"),n=B(a),i=R(),f=w("td"),u=B(m),c=R(),this.h()},l(d){t=v(d,"TD",{class:!0,"data-testid":!0});var $=E(t);e=S($,l),$.forEach(_),s=N(d),r=v(d,"TD",{class:!0,"data-testid":!0});var p=E(r);n=S(p,a),p.forEach(_),i=N(d),f=v(d,"TD",{class:!0,"data-testid":!0});var T=E(f);u=S(T,m),T.forEach(_),c=N(d),this.h()},h(){b(t,"class","text-left"),b(t,"data-testid","target-source"),b(r,"class","text-left"),b(r,"data-testid","target-source"),b(f,"class","text-left"),b(f,"data-testid","target-source")},m(d,$){h(d,t,$),C(t,e),h(d,s,$),h(d,r,$),C(r,n),h(d,i,$),h(d,f,$),C(f,u),h(d,c,$)},p(d,$){$&8&&l!==(l=d[12].rule.sourceBuildId+"")&&z(e,l),$&8&&a!==(a=d[12].rule.targetBuildId+"")&&z(n,a),$&24&&m!==(m=ae(d[12].createTime,d[4])+"")&&z(u,m)},d(d){d&&(_(t),_(s),_(r),_(i),_(f),_(c))}}}function Ze(o,t){let l,e,s;return e=new ne({props:{"data-testid":"version-row",$$slots:{default:[tl]},$$scope:{ctx:t}}}),{key:o,first:null,c(){l=W(),A(e.$$.fragment),this.h()},l(r){l=W(),P(e.$$.fragment,r),this.h()},h(){this.first=l},m(r,a){h(r,l,a),q(e,r,a),s=!0},p(r,a){t=r;const n={};a&65560&&(n.$$scope={dirty:a,ctx:t}),e.$set(n)},i(r){s||(g(e.$$.fragment,r),s=!0)},o(r){k(e.$$.fragment,r),s=!1},d(r){r&&_(l),H(e,r)}}}function ll(o){let t=[],l=new Map,e,s,r=Y(o[3]);const a=i=>i[14];for(let i=0;i<r.length;i+=1){let f=Ye(o,r,i),m=a(f);l.set(m,t[i]=Ze(m,f))}let n=null;return r.length||(n=Xe()),{c(){for(let i=0;i<t.length;i+=1)t[i].c();e=W(),n&&n.c()},l(i){for(let f=0;f<t.length;f+=1)t[f].l(i);e=W(),n&&n.l(i)},m(i,f){for(let m=0;m<t.length;m+=1)t[m]&&t[m].m(i,f);h(i,e,f),n&&n.m(i,f),s=!0},p(i,f){f&24&&(r=Y(i[3]),L(),t=de(t,f,a,1,i,r,l,e.parentNode,he,Ze,e,Ye),K(),!r.length&&n?n.p(i,f):r.length?n&&(L(),k(n,1,1,()=>{n=null}),K()):(n=Xe(),n.c(),g(n,1),n.m(e.parentNode,e)))},i(i){if(!s){for(let f=0;f<r.length;f+=1)g(t[f]);s=!0}},o(i){for(let f=0;f<t.length;f+=1)k(t[f]);s=!1},d(i){i&&_(e);for(let f=0;f<t.length;f+=1)t[f].d(i);n&&n.d(i)}}}function rl(o){let t,l="Source Build ID",e,s,r="Target Build ID",a,n,i="Create Time";return{c(){t=w("th"),t.textContent=l,e=R(),s=w("th"),s.textContent=r,a=R(),n=w("th"),n.textContent=i,this.h()},l(f){t=v(f,"TH",{class:!0,"data-svelte-h":!0}),x(t)!=="svelte-1ojbhda"&&(t.textContent=l),e=N(f),s=v(f,"TH",{class:!0,"data-svelte-h":!0}),x(s)!=="svelte-1kj4z8i"&&(s.textContent=r),a=N(f),n=v(f,"TH",{class:!0,"data-svelte-h":!0}),x(n)!=="svelte-jrosx7"&&(n.textContent=i),this.h()},h(){b(t,"class","w-1/3"),b(s,"class","w-1/3"),b(n,"class","w-1/3")},m(f,m){h(f,t,m),h(f,e,m),h(f,s,m),h(f,a,m),h(f,n,m)},p:D,d(f){f&&(_(t),_(e),_(s),_(a),_(n))}}}function sl(o){let t,l;return t=new ie({props:{slot:"headers",$$slots:{default:[rl]},$$scope:{ctx:o}}}),{c(){A(t.$$.fragment)},l(e){P(t.$$.fragment,e)},m(e,s){q(t,e,s),l=!0},p(e,s){const r={};s&65536&&(r.$$scope={dirty:s,ctx:e}),t.$set(r)},i(e){l||(g(t.$$.fragment,e),l=!0)},o(e){k(t.$$.fragment,e),l=!1},d(e){H(t,e)}}}function al(o){let t,l=j("workers.assignment-rules")+"",e,s,r,a,n,i=j("workers.redirect-rules")+"",f,m,u,c;return r=new oe({props:{class:"mb-6 w-full table-fixed",$$slots:{headers:[el],default:[Zt]},$$scope:{ctx:o}}}),u=new oe({props:{class:"mb-6 w-full table-fixed",$$slots:{headers:[sl],default:[ll]},$$scope:{ctx:o}}}),{c(){t=w("h2"),e=B(l),s=R(),A(r.$$.fragment),a=R(),n=w("h2"),f=B(i),m=R(),A(u.$$.fragment),this.h()},l(d){t=v(d,"H2",{"data-testid":!0});var $=E(t);e=S($,l),$.forEach(_),s=N(d),P(r.$$.fragment,d),a=N(d),n=v(d,"H2",{"data-testid":!0});var p=E(n);f=S(p,i),p.forEach(_),m=N(d),P(u.$$.fragment,d),this.h()},h(){b(t,"data-testid","worker-rules"),b(n,"data-testid","worker-rules")},m(d,$){h(d,t,$),C(t,e),h(d,s,$),q(r,d,$),h(d,a,$),h(d,n,$),C(n,f),h(d,m,$),q(u,d,$),c=!0},p(d,[$]){const p={};$&65559&&(p.$$scope={dirty:$,ctx:d}),r.$set(p);const T={};$&65560&&(T.$$scope={dirty:$,ctx:d}),u.$set(T)},i(d){c||(g(r.$$.fragment,d),g(u.$$.fragment,d),c=!0)},o(d){k(r.$$.fragment,d),k(u.$$.fragment,d),c=!1},d(d){d&&(_(t),_(s),_(a),_(n),_(m)),H(r,d),H(u,d)}}}function nl(o,t,l){let e,s,r,a,n,i,f,m;ee(o,ft,p=>l(4,m=p));let{rules:u}=t,c=!1;const d=p=>{var T,F,M;return!((T=p.rule)===null||T===void 0)&&T.percentageRamp?!((M=(F=p.rule)===null||F===void 0?void 0:F.percentageRamp)===null||M===void 0)&&M.rampPercentage?p.rule.percentageRamp.rampPercentage:0:100},$=()=>l(0,c=!c);return o.$$set=p=>{"rules"in p&&l(6,u=p.rules)},o.$$.update=()=>{o.$$.dirty&64&&l(9,{assignmentRules:e=[],compatibleRedirectRules:s=[]}=u,e,(l(3,s),l(6,u))),o.$$.dirty&512&&l(10,r=e.find(p=>d(p)===100)),o.$$.dirty&1536&&l(8,a=e.indexOf(r)),o.$$.dirty&768&&l(7,n=e.filter((p,T)=>T<=a)),o.$$.dirty&768&&l(1,i=e.filter((p,T)=>T>a)),o.$$.dirty&131&&l(2,f=c?[...n,...i]:n)},[c,i,f,s,m,d,u,n,a,e,r,$]}class ol extends le{constructor(t){super(),re(this,t,nl,al,te,{rules:6})}}function xe(o,t,l){const e=o.slice();return e[8]=t[l],e}function et(o,t,l){const e=o.slice();return e[5]=t[l],e}function tt(o,t,l){const e=o.slice();return e[5]=t[l],e[7]=l,e}const il=o=>({}),lt=o=>({});function rt(o){let t,l,e;return l=new It({props:{class:"h-4 w-full"}}),{c(){t=w("td"),A(l.$$.fragment),this.h()},l(s){t=v(s,"TD",{style:!0});var r=E(t);P(l.$$.fragment,r),r.forEach(_),this.h()},h(){pe(t,"padding-right","0.5rem")},m(s,r){h(s,t,r),q(l,t,null),e=!0},p:D,i(s){e||(g(l.$$.fragment,s),e=!0)},o(s){k(l.$$.fragment,s),e=!1},d(s){s&&_(t),H(l)}}}function fl(o){let t,l,e=Y(Array.from(new Array(o[1]))),s=[];for(let a=0;a<e.length;a+=1)s[a]=rt(et(o,e,a));const r=a=>k(s[a],1,1,()=>{s[a]=null});return{c(){for(let a=0;a<s.length;a+=1)s[a].c();t=R()},l(a){for(let n=0;n<s.length;n+=1)s[n].l(a);t=N(a)},m(a,n){for(let i=0;i<s.length;i+=1)s[i]&&s[i].m(a,n);h(a,t,n),l=!0},p(a,n){if(n&2){e=Y(Array.from(new Array(a[1])));let i;for(i=0;i<e.length;i+=1){const f=et(a,e,i);s[i]?(s[i].p(f,n),g(s[i],1)):(s[i]=rt(),s[i].c(),g(s[i],1),s[i].m(t.parentNode,t))}for(L(),i=e.length;i<s.length;i+=1)r(i);K()}},i(a){if(!l){for(let n=0;n<e.length;n+=1)g(s[n]);l=!0}},o(a){s=s.filter(Boolean);for(let n=0;n<s.length;n+=1)k(s[n]);l=!1},d(a){a&&_(t),me(s,a)}}}function st(o){let t,l;return t=new ne({props:{$$slots:{default:[fl]},$$scope:{ctx:o}}}),{c(){A(t.$$.fragment)},l(e){P(t.$$.fragment,e)},m(e,s){q(t,e,s),l=!0},p(e,s){const r={};s&18&&(r.$$scope={dirty:s,ctx:e}),t.$set(r)},i(e){l||(g(t.$$.fragment,e),l=!0)},o(e){k(t.$$.fragment,e),l=!1},d(e){H(t,e)}}}function ul(o){let t,l,e=Y(Array.from(Array(o[0]).keys())),s=[];for(let a=0;a<e.length;a+=1)s[a]=st(xe(o,e,a));const r=a=>k(s[a],1,1,()=>{s[a]=null});return{c(){for(let a=0;a<s.length;a+=1)s[a].c();t=W()},l(a){for(let n=0;n<s.length;n+=1)s[n].l(a);t=W()},m(a,n){for(let i=0;i<s.length;i+=1)s[i]&&s[i].m(a,n);h(a,t,n),l=!0},p(a,n){if(n&3){e=Y(Array.from(Array(a[0]).keys()));let i;for(i=0;i<e.length;i+=1){const f=xe(a,e,i);s[i]?(s[i].p(f,n),g(s[i],1)):(s[i]=st(f),s[i].c(),g(s[i],1),s[i].m(t.parentNode,t))}for(L(),i=e.length;i<s.length;i+=1)r(i);K()}},i(a){if(!l){for(let n=0;n<e.length;n+=1)g(s[n]);l=!0}},o(a){s=s.filter(Boolean);for(let n=0;n<s.length;n+=1)k(s[n]);l=!1},d(a){a&&_(t),me(s,a)}}}function at(o){let t;return{c(){t=w("th"),this.h()},l(l){t=v(l,"TH",{style:!0}),E(t).forEach(_),this.h()},h(){pe(t,"width",o[2][o[7]]+"%")},m(l,e){h(l,t,e)},p(l,e){e&4&&pe(t,"width",l[2][l[7]]+"%")},d(l){l&&_(t)}}}function cl(o){let t,l=Y(Array.from(new Array(o[1]))),e=[];for(let s=0;s<l.length;s+=1)e[s]=at(tt(o,l,s));return{c(){for(let s=0;s<e.length;s+=1)e[s].c();t=W()},l(s){for(let r=0;r<e.length;r+=1)e[r].l(s);t=W()},m(s,r){for(let a=0;a<e.length;a+=1)e[a]&&e[a].m(s,r);h(s,t,r)},p(s,r){if(r&6){l=Y(Array.from(new Array(s[1])));let a;for(a=0;a<l.length;a+=1){const n=tt(s,l,a);e[a]?e[a].p(n,r):(e[a]=at(n),e[a].c(),e[a].m(t.parentNode,t))}for(;a<e.length;a+=1)e[a].d(1);e.length=l.length}},d(s){s&&_(t),me(e,s)}}}function _l(o){let t;const l=o[3].headers,e=fe(l,o,o[4],lt),s=e||cl(o);return{c(){s.c()},l(r){s.l(r)},m(r,a){s.m(r,a),t=!0},p(r,a){e?e.p&&(!t||a&16)&&ue(e,l,r,r[4],t?_e(l,r[4],a,il):ce(r[4]),lt):s.p&&(!t||a&6)&&s.p(r,t?a:-1)},i(r){t||(g(s,r),t=!0)},o(r){k(s,r),t=!1},d(r){s.d(r)}}}function ml(o){let t,l;return t=new ie({props:{slot:"headers",class:"h-8",$$slots:{default:[_l]},$$scope:{ctx:o}}}),{c(){A(t.$$.fragment)},l(e){P(t.$$.fragment,e)},m(e,s){q(t,e,s),l=!0},p(e,s){const r={};s&22&&(r.$$scope={dirty:s,ctx:e}),t.$set(r)},i(e){l||(g(t.$$.fragment,e),l=!0)},o(e){k(t.$$.fragment,e),l=!1},d(e){H(t,e)}}}function dl(o){let t,l;return t=new oe({props:{class:"w-full table-fixed",variant:"fancy",$$slots:{headers:[ml],default:[ul]},$$scope:{ctx:o}}}),{c(){A(t.$$.fragment)},l(e){P(t.$$.fragment,e)},m(e,s){q(t,e,s),l=!0},p(e,[s]){const r={};s&23&&(r.$$scope={dirty:s,ctx:e}),t.$set(r)},i(e){l||(g(t.$$.fragment,e),l=!0)},o(e){k(t.$$.fragment,e),l=!1},d(e){H(t,e)}}}function hl(o,t,l){let{$$slots:e={},$$scope:s}=t,{rows:r=10}=t,{columns:a=4}=t,{columnWidths:n=new Array(a).fill(100/a)}=t;return o.$$set=i=>{"rows"in i&&l(0,r=i.rows),"columns"in i&&l(1,a=i.columns),"columnWidths"in i&&l(2,n=i.columnWidths),"$$scope"in i&&l(4,s=i.$$scope)},[r,a,n,e,s]}class ut extends le{constructor(t){super(),re(this,t,hl,dl,te,{rows:0,columns:1,columnWidths:2})}}function nt(o){o[9]=o[12].rules,o[10]=o[12].compatibility,o[11]=o[12].versionSets}const $l=o=>({compatibility:o&33}),ot=o=>({compatibility:o[10]});function pl(o){return{c:D,l:D,m:D,p:D,i:D,o:D,d:D}}function gl(o){nt(o);let t,l,e,s,r;const a=[wl,kl,bl],n=[];function i(f,m){var u;return m&37&&(t=null),t==null&&(t=!!f[2](f[9])),t?0:f[4]&&((u=f[11])!=null&&u.length)?1:2}return l=i(o,-1),e=n[l]=a[l](o),{c(){e.c(),s=W()},l(f){e.l(f),s=W()},m(f,m){n[l].m(f,m),h(f,s,m),r=!0},p(f,m){nt(f);let u=l;l=i(f,m),l===u?n[l].p(f,m):(L(),k(n[u],1,1,()=>{n[u]=null}),K(),e=n[l],e?e.p(f,m):(e=n[l]=a[l](f),e.c()),g(e,1),e.m(s.parentNode,s))},i(f){r||(g(e),r=!0)},o(f){k(e),r=!1},d(f){f&&_(s),n[l].d(f)}}}function bl(o){let t,l="No versioning configured for task queue.";return{c(){t=w("p"),t.textContent=l},l(e){t=v(e,"P",{"data-svelte-h":!0}),x(t)!=="svelte-1l2qp7c"&&(t.textContent=l)},m(e,s){h(e,t,s)},p:D,i:D,o:D,d(e){e&&_(t)}}}function kl(o){let t,l,e,s={ctx:o,current:null,token:null,hasCatch:!1,pending:El,then:Tl,catch:vl,value:13,blocks:[,,,]};return se(l=De({namespace:o[5],buildIds:o[3],queue:o[0]}),s),{c(){t=W(),s.block.c()},l(r){t=W(),s.block.l(r)},m(r,a){h(r,t,a),s.block.m(r,s.anchor=a),s.mount=()=>t.parentNode,s.anchor=t,e=!0},p(r,a){o=r,s.ctx=o,a&41&&l!==(l=De({namespace:o[5],buildIds:o[3],queue:o[0]}))&&se(l,s)||be(s,o,a)},i(r){e||(g(s.block),e=!0)},o(r){for(let a=0;a<3;a+=1){const n=s.blocks[a];k(n)}e=!1},d(r){r&&_(t),s.block.d(r),s.token=null,s=null}}}function wl(o){let t,l;return t=new ol({props:{rules:o[9]}}),{c(){A(t.$$.fragment)},l(e){P(t.$$.fragment,e)},m(e,s){q(t,e,s),l=!0},p(e,s){const r={};s&33&&(r.rules=e[9]),t.$set(r)},i(e){l||(g(t.$$.fragment,e),l=!0)},o(e){k(t.$$.fragment,e),l=!1},d(e){H(t,e)}}}function vl(o){return{c:D,l:D,m:D,p:D,i:D,o:D,d:D}}function Tl(o){let t,l,e;const s=o[8].default,r=fe(s,o,o[7],ot);return l=new Ut({props:{taskQueue:o[0],workers:o[1],compatibility:o[10],reachability:o[13]}}),{c(){r&&r.c(),t=R(),A(l.$$.fragment)},l(a){r&&r.l(a),t=N(a),P(l.$$.fragment,a)},m(a,n){r&&r.m(a,n),h(a,t,n),q(l,a,n),e=!0},p(a,n){r&&r.p&&(!e||n&161)&&ue(r,s,a,a[7],e?_e(s,a[7],n,$l):ce(a[7]),ot);const i={};n&1&&(i.taskQueue=a[0]),n&2&&(i.workers=a[1]),n&33&&(i.compatibility=a[10]),n&41&&(i.reachability=a[13]),l.$set(i)},i(a){e||(g(r,a),g(l.$$.fragment,a),e=!0)},o(a){k(r,a),k(l.$$.fragment,a),e=!1},d(a){a&&_(t),r&&r.d(a),H(l,a)}}}function El(o){let t,l;return t=new ut({props:{rows:3}}),{c(){A(t.$$.fragment)},l(e){P(t.$$.fragment,e)},m(e,s){q(t,e,s),l=!0},p:D,i(e){l||(g(t.$$.fragment,e),l=!0)},o(e){k(t.$$.fragment,e),l=!1},d(e){H(t,e)}}}function Il(o){let t,l;return t=new ut({props:{rows:3}}),{c(){A(t.$$.fragment)},l(e){P(t.$$.fragment,e)},m(e,s){q(t,e,s),l=!0},p:D,i(e){l||(g(t.$$.fragment,e),l=!0)},o(e){k(t.$$.fragment,e),l=!1},d(e){H(t,e)}}}function yl(o){let t,l,e,s={ctx:o,current:null,token:null,hasCatch:!1,pending:Il,then:gl,catch:pl,value:12,blocks:[,,,]};return se(l=Ce({namespace:o[5],queue:o[0]}),s),{c(){t=W(),s.block.c()},l(r){t=W(),s.block.l(r)},m(r,a){h(r,t,a),s.block.m(r,s.anchor=a),s.mount=()=>t.parentNode,s.anchor=t,e=!0},p(r,[a]){o=r,s.ctx=o,a&33&&l!==(l=Ce({namespace:o[5],queue:o[0]}))&&se(l,s)||be(s,o,a)},i(r){e||(g(s.block),e=!0)},o(r){for(let a=0;a<3;a+=1){const n=s.blocks[a];k(n)}e=!1},d(r){r&&_(t),s.block.d(r),s.token=null,s=null}}}function Cl(o,t,l){let e,s,r,a,n;ee(o,ge,c=>l(6,n=c));let{$$slots:i={},$$scope:f}=t,{taskQueue:m}=t,{workers:u}=t;return o.$$set=c=>{"taskQueue"in c&&l(0,m=c.taskQueue),"workers"in c&&l(1,u=c.workers),"$$scope"in c&&l(7,f=c.$$scope)},o.$$.update=()=>{o.$$.dirty&64&&l(5,{namespace:e}=n.params,e),o.$$.dirty&2&&l(4,s=kt(u.pollers)),o.$$.dirty&2&&l(3,r=wt(u.pollers))},l(2,a=c=>(c==null?void 0:c.assignmentRules)||(c==null?void 0:c.compatibleRedirectRules)),[m,u,a,r,s,e,n,f,i]}class Dl extends le{constructor(t){super(),re(this,t,Cl,yl,te,{taskQueue:0,workers:1})}}function Rl(o){return{c:D,l:D,m:D,p:D,i:D,o:D,d:D}}function Nl(o){let t,l,e,s,r,a,n,i,f;r=new dt({props:{$$slots:{default:[Al]},$$scope:{ctx:o}}});const m=[ql,Pl],u=[];function c(d,$){return d[2]==="versioning"?0:1}return n=c(o),i=u[n]=m[n](o),{c(){t=w("section"),l=w("h2"),e=B(o[1]),s=R(),A(r.$$.fragment),a=R(),i.c(),this.h()},l(d){t=v(d,"SECTION",{class:!0});var $=E(t);l=v($,"H2",{"data-testid":!0});var p=E(l);e=S(p,o[1]),p.forEach(_),s=N($),P(r.$$.fragment,$),a=N($),i.l($),$.forEach(_),this.h()},h(){b(l,"data-testid","task-queue-name"),b(t,"class","flex flex-col gap-4")},m(d,$){h(d,t,$),C(t,l),C(l,e),C(t,s),q(r,t,null),C(t,a),u[n].m(t,null),f=!0},p(d,$){(!f||$&2)&&z(e,d[1]);const p={};$&260&&(p.$$scope={dirty:$,ctx:d}),r.$set(p);let T=n;n=c(d),n===T?u[n].p(d,$):(L(),k(u[T],1,1,()=>{u[T]=null}),K(),i=u[n],i?i.p(d,$):(i=u[n]=m[n](d),i.c()),g(i,1),i.m(t,null))},i(d){f||(g(r.$$.fragment,d),g(i),f=!0)},o(d){k(r.$$.fragment,d),k(i),f=!1},d(d){d&&_(t),H(r),u[n].d()}}}function Ql(o){let t,l,e,s;return t=new Ee({props:{label:j("workers.workers"),id:"worker-tab",onClick:o[5],active:o[2]==="workers"}}),e=new Ee({props:{label:j("workers.versioning"),id:"versioning-tab",onClick:o[6],active:o[2]==="versioning"}}),{c(){A(t.$$.fragment),l=R(),A(e.$$.fragment)},l(r){P(t.$$.fragment,r),l=N(r),P(e.$$.fragment,r)},m(r,a){q(t,r,a),h(r,l,a),q(e,r,a),s=!0},p(r,a){const n={};a&4&&(n.active=r[2]==="workers"),t.$set(n);const i={};a&4&&(i.active=r[2]==="versioning"),e.$set(i)},i(r){s||(g(t.$$.fragment,r),g(e.$$.fragment,r),s=!0)},o(r){k(t.$$.fragment,r),k(e.$$.fragment,r),s=!1},d(r){r&&_(l),H(t,r),H(e,r)}}}function Al(o){let t,l;return t=new ht({props:{class:"flex flex-wrap gap-6 p-4 pl-0",label:"task queue detail",$$slots:{default:[Ql]},$$scope:{ctx:o}}}),{c(){A(t.$$.fragment)},l(e){P(t.$$.fragment,e)},m(e,s){q(t,e,s),l=!0},p(e,s){const r={};s&260&&(r.$$scope={dirty:s,ctx:e}),t.$set(r)},i(e){l||(g(t.$$.fragment,e),l=!0)},o(e){k(t.$$.fragment,e),l=!1},d(e){H(t,e)}}}function Pl(o){let t,l;return t=new mt({props:{workers:o[7]}}),{c(){A(t.$$.fragment)},l(e){P(t.$$.fragment,e)},m(e,s){q(t,e,s),l=!0},p(e,s){const r={};s&3&&(r.workers=e[7]),t.$set(r)},i(e){l||(g(t.$$.fragment,e),l=!0)},o(e){k(t.$$.fragment,e),l=!1},d(e){H(t,e)}}}function ql(o){let t,l;return t=new Dl({props:{taskQueue:o[1],workers:o[7]}}),{c(){A(t.$$.fragment)},l(e){P(t.$$.fragment,e)},m(e,s){q(t,e,s),l=!0},p(e,s){const r={};s&2&&(r.taskQueue=e[1]),s&3&&(r.workers=e[7]),t.$set(r)},i(e){l||(g(t.$$.fragment,e),l=!0)},o(e){k(t.$$.fragment,e),l=!1},d(e){H(t,e)}}}function Hl(o){return{c:D,l:D,m:D,p:D,i:D,o:D,d:D}}function Vl(o){let t,l,e,s={ctx:o,current:null,token:null,hasCatch:!1,pending:Hl,then:Nl,catch:Rl,value:7,blocks:[,,,]};return se(l=Re({queue:o[1],namespace:o[0]}),s),{c(){t=W(),s.block.c()},l(r){t=W(),s.block.l(r)},m(r,a){h(r,t,a),s.block.m(r,s.anchor=a),s.mount=()=>t.parentNode,s.anchor=t,e=!0},p(r,[a]){o=r,s.ctx=o,a&3&&l!==(l=Re({queue:o[1],namespace:o[0]}))&&se(l,s)||be(s,o,a)},i(r){e||(g(s.block),e=!0)},o(r){for(let a=0;a<3;a+=1){const n=s.blocks[a];k(n)}e=!1},d(r){r&&_(t),s.block.d(r),s.token=null,s=null}}}function Bl(o,t,l){let e,s,r,a;ee(o,Qe,m=>l(2,r=m)),ee(o,ge,m=>l(4,a=m));const n=m=>{ct(Qe,r=m,r)},i=()=>n("workers"),f=()=>n("versioning");return o.$$.update=()=>{o.$$.dirty&16&&l(1,{queue:e,namespace:s}=a.params,e,(l(0,s),l(4,a)))},[s,e,r,n,a,i,f]}class Sl extends le{constructor(t){super(),re(this,t,Bl,Vl,te,{})}}function Wl(o){let t,l,e,s;return t=new _t({props:{title:`Task Queue | ${o[1]}`,url:o[0].url.href}}),e=new Sl({}),{c(){A(t.$$.fragment),l=R(),A(e.$$.fragment)},l(r){P(t.$$.fragment,r),l=N(r),P(e.$$.fragment,r)},m(r,a){q(t,r,a),h(r,l,a),q(e,r,a),s=!0},p(r,[a]){const n={};a&1&&(n.url=r[0].url.href),t.$set(n)},i(r){s||(g(t.$$.fragment,r),g(e.$$.fragment,r),s=!0)},o(r){k(t.$$.fragment,r),k(e.$$.fragment,r),s=!1},d(r){r&&_(l),H(t,r),H(e,r)}}}function Fl(o,t,l){let e;ee(o,ge,r=>l(0,e=r));const s=e.params.queue;return[e,s]}class fr extends le{constructor(t){super(),re(this,t,Fl,Wl,te,{})}}export{fr as component};
