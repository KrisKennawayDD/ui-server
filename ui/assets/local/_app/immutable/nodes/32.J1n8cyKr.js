import"../chunks/CWj6FrbW.js";import"../chunks/69_IOA4Y.js";import{p as ue,as as Ne,l as K,a as pe,c as O,e as M,b as de,g as e,d as u,s as p,m as T,ag as fe,r as D,f as ne,t as E,n as Pe,az as ke,i as Qt,aN as vo}from"../chunks/BZ1i_Yzi.js";import{t as Y,a as s,b as oe,c as be}from"../chunks/B11KKQxI.js";import{i as me}from"../chunks/EXou6kTq.js";import{s as ve,d as Jt,a as d,b as z,m as xe}from"../chunks/nHCSEYHe.js";import{p as Me}from"../chunks/BVnKkDQB.js";import{P as wo}from"../chunks/BSbw5w3E.js";import{s as Q}from"../chunks/BtIgVYD3.js";import{i as W}from"../chunks/Pfo2U1_a.js";import{s as rt}from"../chunks/DBXxAZ3D.js";import{d as ft,w as _e,o as go}from"../chunks/Dm8LSs3h.js";import{p as J,l as qt,s as ho}from"../chunks/DQFlnzBt.js";import{M as Vt}from"../chunks/By_pQPqW.js";import{t as h}from"../chunks/D2OY9xdY.js";import{T as ye,a as Xt,u as $o}from"../chunks/BOA8zpL7.js";import{A as $e}from"../chunks/TBME1SPK.js";import{b as bo,c as _o,e as ko}from"../chunks/KFrERvhE.js";import{a as Ft}from"../chunks/BipkNA2r.js";import{t as Et}from"../chunks/BGZA9hX-.js";import{B as Le,C as Ot,r as tt,D as yo,E as Dt,F as xo,w as Zt,G as Io,p as Co,e as To,o as Po}from"../chunks/BM3j6n3q.js";import{i as Rt}from"../chunks/DOIkg3zK.js";import{I as St}from"../chunks/BTX1jv7P.js";import{v as ot}from"../chunks/Dz_GI0CC.js";import{R as Wo,a as zt}from"../chunks/BEdqJc0w.js";import{a as So,w as Bo,b as jo,T as Ao,C as Vo}from"../chunks/WyVqxdGX.js";import{S as Fo,w as Eo,I as Oo,c as Do,C as Ro,b as Mo}from"../chunks/X4Emwmej.js";import{e as De,q as Lo}from"../chunks/D5cC3u49.js";import{t as Ut,a as Qo,f as qo}from"../chunks/B36Kfl8J.js";import{p as zo}from"../chunks/Bfc47y5P.js";import{B as We}from"../chunks/CuHSugC7.js";import{w as Re,i as Nt,h as eo}from"../chunks/DQej5oI3.js";import{c as Uo}from"../chunks/aSfmkhKo.js";import{s as to,i as No,w as Ho,b as Ko}from"../chunks/BAHlwUGp.js";import{u as Yo}from"../chunks/CQHyZKsn.js";import{T as mt}from"../chunks/Cx2hZcFR.js";import{W as Go}from"../chunks/Y83S4E3_.js";import{e as Ze,i as et}from"../chunks/DT_Kaee1.js";import{a as Ct,s as Ht}from"../chunks/BqyZnqh5.js";import{A as Jo}from"../chunks/CR4vVWSJ.js";import{L as Bt}from"../chunks/W8fNd3J-.js";import{L as Xo}from"../chunks/CJSepuex.js";import{I as jt}from"../chunks/DrUA5UyL.js";import{P as Zo}from"../chunks/BnsxSCoI.js";import{s as er}from"../chunks/CTBtQUu0.js";import{W as tr}from"../chunks/ASPrLBMs.js";import{B as or}from"../chunks/D6I1ivHq.js";import{f as dt,r as rr,t as ar}from"../chunks/iju4fhDV.js";import{S as At}from"../chunks/o0kI7_oM.js";import{u as sr}from"../chunks/qEOT7B5E.js";import{F as nr}from"../chunks/BVzEXWvL.js";import{b as lr,B as oo}from"../chunks/L6rBFISd.js";import{C as ro}from"../chunks/CIpcddpD.js";import{i as cr,m as ir}from"../chunks/HVeMsM_a.js";import{s as ao,i as so}from"../chunks/DICjq-EM.js";import{t as no,s as ur}from"../chunks/5mT-kVMF.js";import{c as dr}from"../chunks/CgbhQxMf.js";import{w as lo}from"../chunks/DnwUjuID.js";import{g as fr}from"../chunks/Br_5kUzv.js";import{l as mr}from"../chunks/D6bk2mRZ.js";const pr=!1,ks=Object.freeze(Object.defineProperty({__proto__:null,ssr:pr},Symbol.toStringTag,{value:"Module"}));var vr=Y('<p class="mb-2"><!></p> <div class="surface-subtle mb-2 overflow-scroll whitespace-nowrap border border-subtle p-2"><code data-testid="batch-action-workflows-query"> </code></div> <span class="text-xs"><!></span>',1),wr=Y("<p><!></p>"),gr=Y('<div class="mb-4 flex flex-col gap-4"><!> <!> <!> <!></div>');function Mt(_,r){ue(r,!1);const[t,F]=ve(),l=()=>d(I,"$allSelected",t),m=()=>d(Le,"$workflowsQuery",t),c=()=>d(e(j),"$operableWorkflowsCount",t),a=T(),j=T();let i=J(r,"action",8),y=J(r,"reason",12),P=J(r,"jobId",12),v=J(r,"reasonPlaceholder",8),$=J(r,"jobIdPlaceholder",8),b=J(r,"jobIdValid",12);const{allSelected:I,terminableWorkflows:w,cancelableWorkflows:A,selectedWorkflows:f}=Ne(Qe),x=k=>{switch(k){case $e.Cancel:return h("common.cancel");case $e.Terminate:return h("workflows.terminate");case $e.Reset:return h("workflows.reset")}},R=k=>ft([A,w,f],([te,ee,re])=>{switch(k){case $e.Cancel:return te.length;case $e.Terminate:return ee.length;case $e.Reset:return re.length}}),U=k=>{b(/^[\w.~-]*$/.test(k.target.value))};K(()=>fe(i()),()=>{p(a,x(i()))}),K(()=>fe(i()),()=>{Jt(p(j,R(i())),"$operableWorkflowsCount",t)}),pe(),me();var N=gr(),V=M(N);{var G=k=>{var te=vr(),ee=ne(te),re=M(ee);const le=u(()=>({action:e(a)}));ye(re,{key:"workflows.batch-operation-confirmation-all",get replace(){return e(le)}}),D(ee);var C=O(ee,2),H=M(C),ae=M(H,!0);D(H),D(C);var se=O(C,2),ce=M(se);const ie=u(()=>({action:e(a)}));ye(ce,{key:"workflows.batch-operation-count-disclaimer",get replace(){return e(ie)}}),D(se),E(()=>Q(ae,m())),s(k,te)},o=k=>{var te=wr(),ee=M(te);{var re=C=>{ye(C,{key:"workflows.batch-reset-confirmation",get count(){return c()}})},le=C=>{const H=u(()=>({action:e(a)}));ye(C,{key:"workflows.batch-confirmation",get replace(){return e(H)},get count(){return c()}})};W(ee,C=>{i()===$e.Reset?C(re):C(le,!1)})}D(te),s(k,te)};W(V,k=>{l()?k(G):k(o,!1)})}var g=O(V,2);const n=u(()=>h("common.reason")),L=u(()=>h("workflows.batch-operation-confirmation-input-hint",{placeholder:v()}));St(g,{get id(){return`bulk-action-reason-${i()??""}`},get label(){return e(n)},get hintText(){return e(L)},get placeholder(){return v()},get value(){return y()},set value(k){y(k)},$$legacy:!0});var S=O(g,2);const X=u(()=>h("common.job-id")),q=u(()=>b()?h("batch.job-id-input-hint"):h("batch.job-id-input-error"));St(S,{id:"batch-operation-job-id",get label(){return e(X)},get hintText(){return e(q)},get placeholder(){return $()},get valid(){return b()},get value(){return P()},set value(k){P(k)},$$events:{input:U},$$legacy:!0});var Z=O(S,2);rt(Z,r,"default",{},null),D(N),s(_,N),de(),F()}var hr=Y('<h3 slot="title"><!></h3>');function $r(_,r){ue(r,!1);const[t,F]=ve(),l=()=>d(Ft,"$authUser",t),m=()=>d($,"$reason",t),c=()=>d(I,"$jobId",t),a=()=>d(w,"$jobIdValid",t),j=()=>d(x,"$allSelected",t),i=()=>d(Le,"$workflowsQuery",t),y=()=>d(R,"$cancelableWorkflows",t);let P=J(r,"namespace",8),v=J(r,"open",12);const $=_e(""),b=Ot($e.Cancel,l().email),I=_e(""),w=_e(!0);let A=T(ot()),f=T("");const{allSelected:x,cancelableWorkflows:R}=Ne(Qe),U=()=>{z($,""),z(I,""),z(w,!0),p(A,ot())},N=async()=>{p(f,"");const o={namespace:P(),reason:m()||b,jobId:c()||e(A),...j()?{query:i()}:{workflows:y()}};try{await bo(o),v(!1),U(),Et.push({message:h("workflows.batch-cancel-all-success"),id:"batch-cancel-success-toast"})}catch(g){p(f,Rt(g)?g.message:h("common.unknown-error"))}};K(()=>fe(v()),()=>{v()&&U()}),pe(),me();const V=u(()=>h("common.cancel")),G=u(()=>h("common.confirm"));Vt(_,{id:"batch-cancel-confirmation-modal","data-testid":"batch-cancel-confirmation",confirmType:"destructive",get cancelText(){return e(V)},confirmDisabled:!w,get confirmText(){return e(G)},get open(){return v()},set open(o){v(o)},get error(){return e(f)},set error(o){p(f,o)},$$events:{confirmModal:N},$$slots:{title:(o,g)=>{var n=hr(),L=M(n);ye(L,{key:"workflows.batch-cancel-modal-title"}),D(n),s(o,n)},content:(o,g)=>{Mt(o,{get jobIdPlaceholder(){return e(A)},reasonPlaceholder:b,get action(){return $e.Cancel},get reason(){return xe(),m()},set reason(n){z($,n)},get jobId(){return xe(),c()},set jobId(n){z(I,n)},get jobIdValid(){return xe(),a()},set jobIdValid(n){z(w,n)},$$legacy:!0})}},$$legacy:!0}),de(),F()}var br=Y('<h3 slot="title"><!></h3>'),_r=Y("<!> <!>",1);function kr(_,r){ue(r,!1);const[t,F]=ve(),l=()=>d(Ft,"$authUser",t),m=()=>d(A,"$reason",t),c=()=>d(x,"$jobId",t),a=()=>d(R,"$jobIdValid",t),j=()=>d(e(w),"$resetType",t),i=()=>d(U,"$allSelected",t),y=()=>d(Le,"$workflowsQuery",t),P=()=>d(N,"$selectedWorkflows",t);let v=J(r,"namespace",8),$=J(r,"open",12,!1),b=T(""),I=T(ot()),w=T(_e("first"));const A=_e(""),f=Ot($e.Reset,l().email),x=_e(""),R=_e(!0),{allSelected:U,selectedWorkflows:N}=Ne(Qe),V=()=>{z(A,""),z(x,""),z(R,!0),p(I,ot())},G=async()=>{p(b,"");const n={namespace:v(),reason:m()||f,jobId:c()||e(I),resetType:j(),...i()?{query:y()}:{workflows:P()}};try{await _o(n),$(!1),V(),Et.push({message:h("workflows.batch-reset-all-success"),id:"batch-reset-success-toast"})}catch(L){p(b,Rt(L)?L.message:h("common.unknown-error"))}};K(()=>fe($()),()=>{$()&&V()}),pe(),me();const o=u(()=>h("common.cancel")),g=u(()=>h("workflows.reset"));Vt(_,{get cancelText(){return e(o)},get confirmText(){return e(g)},id:"batch-reset-confirmation-modal",confirmType:"destructive",get error(){return e(b)},set error(n){p(b,n)},get open(){return $()},set open(n){$(n)},$$events:{confirmModal:G},$$slots:{title:(n,L)=>{var S=br(),X=M(S);ye(X,{key:"workflows.batch-reset-modal-title"}),D(S),s(n,S)},content:(n,L)=>{Mt(n,{get jobIdPlaceholder(){return e(I)},reasonPlaceholder:f,get action(){return $e.Reset},get reason(){return xe(),m()},set reason(S){z(A,S)},get jobId(){return xe(),c()},set jobId(S){z(x,S)},get jobIdValid(){return xe(),a()},set jobIdValid(S){z(R,S)},children:(S,X)=>{const q=u(()=>h("workflows.reset-event-radio-group-description"));Wo(S,{get description(){return e(q)},name:"reset-event",get group(){return e(w)},set group(Z){Jt(p(w,Z),"$resetType",t)},children:(Z,k)=>{var te=_r(),ee=ne(te);zt(ee,{id:"reset-event-first",value:"first",label:"First Workflow task"});var re=O(ee,2);zt(re,{id:"reset-event-last",value:"last",label:"Last Workflow task"}),s(Z,te)},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0})}},$$legacy:!0}),de(),F()}var yr=Y('<h3 slot="title"><!></h3>');function xr(_,r){ue(r,!1);const[t,F]=ve(),l=()=>d(Ft,"$authUser",t),m=()=>d($,"$reason",t),c=()=>d(I,"$jobId",t),a=()=>d(w,"$jobIdValid",t),j=()=>d(x,"$allSelected",t),i=()=>d(Le,"$workflowsQuery",t),y=()=>d(R,"$terminableWorkflows",t);let P=J(r,"namespace",8),v=J(r,"open",12);const $=_e(""),b=Ot($e.Terminate,l().email),I=_e(""),w=_e(!0);let A=T(ot()),f=T("");const{allSelected:x,terminableWorkflows:R}=Ne(Qe),U=()=>{z($,""),z(I,""),z(w,!0),p(A,ot())},N=async()=>{p(f,"");try{const o={namespace:P(),reason:m()||b,jobId:c()||e(A),...j()?{query:i()}:{workflows:y()}};await ko(o),v(!1),U(),Et.push({message:h("workflows.batch-terminate-all-success"),id:"batch-terminate-success-toast"})}catch(o){p(f,Rt(o)?o.message:h("common.unknown-error"))}};K(()=>fe(v()),()=>{v()&&U()}),pe(),me();const V=u(()=>h("common.cancel")),G=u(()=>h("workflows.terminate"));Vt(_,{id:"batch-terminate-confirmation-modal","data-testid":"batch-terminate-confirmation",confirmType:"destructive",get cancelText(){return e(V)},confirmDisabled:!w,get confirmText(){return e(G)},get open(){return v()},set open(o){v(o)},get error(){return e(f)},set error(o){p(f,o)},$$events:{confirmModal:N},$$slots:{title:(o,g)=>{var n=yr(),L=M(n);ye(L,{key:"workflows.batch-terminate-modal-title"}),D(n),s(o,n)},content:(o,g)=>{Mt(o,{reasonPlaceholder:b,get jobIdPlaceholder(){return e(A)},get action(){return $e.Terminate},get reason(){return xe(),m()},set reason(n){z($,n)},get jobId(){return xe(),c()},set jobId(n){z(I,n)},get jobIdValid(){return xe(),a()},set jobIdValid(n){z(w,n)},$$legacy:!0})}},$$legacy:!0}),de(),F()}var Ir=Y('<div class="w-full"><form class="flex items-center gap-0" role="search"><!> <!></form></div>');function Cr(_,r){ue(r,!1);const[t,F]=ve(),l=()=>d(Me,"$page",t),m=()=>d(to,"$searchAttributes",t),c=T();let a=T("");function j(f){p(a,f)}const i=()=>{if(!e(a))z(Re,[]),z(Le,"");else try{z(Re,Xt(e(a),m()))}catch(f){console.error(f)}e(a)&&e(a)===e(c)?z(tt,Date.now()):Yo({url:l().url,parameter:"query",value:e(a),allowEmpty:!0,clearParameters:[Uo]})};function y(){i()}K(()=>l(),()=>{p(c,l().url.searchParams.get("query"))}),K(()=>e(c),()=>{j(e(c))}),pe(),me();var P=Ir(),v=M(P),$=M(v);const b=u(()=>h("workflows.search-placeholder")),I=u(()=>h("workflows.search-placeholder")),w=u(()=>h("common.clear-input-button-label"));St($,{id:"manual-search",type:"search",get label(){return e(b)},labelHidden:!0,get placeholder(){return e(I)},icon:"search",class:"grow lg:w-3/4 [&_*]:border-r-0",clearable:!0,get clearButtonLabel(){return e(w)},get value(){return e(a)},set value(f){p(a,f)},$$events:{clear:y},$$legacy:!0});var A=O($,2);We(A,{"data-testid":"manual-search-button",variant:"primary",type:"submit",children:(f,x)=>{Pe();var R=oe();E(U=>Q(R,U),[()=>h("common.search")],u),s(f,R)},$$slots:{default:!0}}),D(v),D(P),De("submit",v,zo(i)),Ut(1,v,()=>Qo,()=>({x:-100,duration:150})),Ut(1,P,()=>qo),s(_,P),de(),F()}var Tr=Y('<div class="flex w-full items-start gap-1"><!> <!></div>');function Pr(_,r){ue(r,!1);const[t,F]=ve(),l=()=>d(Nt,"$searchInputViewOpen",t),m=()=>d(Re,"$workflowFilters",t),c=T();var a=T();K(()=>ke(a),()=>{p(c,Eo.match(p(a,window==null?void 0:window.location)===null||ke(a)===void 0?void 0:ke(a).pathname))}),pe(),me();var j=Tr(),i=M(j);{var y=$=>{const b=u(()=>h("workflows.close-search-input"));mt($,{get text(){return e(b)},topLeft:!0,children:(I,w)=>{We(I,{"data-testid":"manual-search-toggle",id:"close-search-input",variant:"ghost",class:"mt-1",leadingIcon:"filter",size:"xs",$$events:{click:()=>z(Nt,!1)}})},$$slots:{default:!0}})};W(i,$=>{l()&&e(c)&&$(y)})}var P=O(i,2);const v=u(()=>!l());Fo(P,{get showFilter(){return e(v)},refresh:()=>{z(tt,Date.now())},get filters(){return xe(),m()},set filters($){z(Re,$)},children:($,b)=>{var I=be(),w=ne(I);{var A=f=>{Cr(f,{})};W(w,f=>{l()&&f(A)})}s($,I)},$$slots:{default:!0},$$legacy:!0}),D(j),s(_,j),de(),F()}function Wr(_,r){ue(r,!1);const[t,F]=ve(),l=()=>d(yo,"$loading",t),m=()=>d(Dt,"$updating",t);let c=J(r,"count",8,0);me();const a=u(()=>l()||m());We(_,{size:"xs",variant:"ghost",leadingIcon:"retry",get loading(){return e(a)},$$events:{click:()=>z(tt,Date.now())},children:(j,i)=>{var y=be(),P=ne(y);{var v=b=>{var I=oe();E(w=>Q(I,`+${w??""}`),[()=>c().toLocaleString()],u),s(b,I)},$=(b,I)=>{{var w=A=>{var f=oe();E(x=>Q(f,x),[()=>c().toLocaleString()],u),s(A,f)};W(b,A=>{c()<0&&A(w)},I)}};W(P,b=>{c()>0?b(v):b($,!1)})}s(j,y)},$$slots:{default:!0}}),de(),F()}const Kt=""+new URL("../assets/empty-state-dark_2x.BtTCLk6j.png",import.meta.url).href,Sr=""+new URL("../assets/empty-state-light_2x.BAwLJnNu.png",import.meta.url).href;var Br=Y('<link rel="preload" as="image">'),jr=Y("<p> </p> <p> </p>",1),Ar=Y("<li><!></li>"),Vr=Y('<!> <p> <!>.</p> <ul class="flex flex-col gap-2"></ul>',1),Fr=Y("<h2><!></h2> <!>",1),Er=Y('<div class="flex h-auto w-full flex-col overflow-hidden xl:flex-row" aria-live="polite"><div class="surface-primary flex w-auto min-w-[280px] flex-col gap-4 border-b border-table p-8 xl:min-w-[520px] xl:border-b-0 xl:border-r"><!></div> <div class="bg-[#DDD6FE]"><img alt="" class="aspect-auto"></div></div>');function Or(_,r){ue(r,!1);const[t,F]=ve(),l=()=>d(Me,"$page",t),m=()=>d(xo,"$workflowError",t),c=T();let a=J(r,"updating",8,!1);const j=["samples-go","samples-java","samples-typescript","samples-python","samples-dotnet","samples-php"];K(()=>l(),()=>{p(c,l().url.searchParams.get("query"))}),pe(),me();var i=Er();Lo(w=>{var A=Br();Ct(A,"href",Kt),s(w,A)});var y=M(i),P=M(y);{var v=w=>{Xo(w,{})},$=w=>{var A=Fr(),f=ne(A),x=M(f);{var R=o=>{var g=oe();E(n=>Q(g,n),[()=>h("workflows.workflow-query-empty-state-title")],u),s(o,g)},U=o=>{var g=oe();E(n=>Q(g,n),[()=>h("workflows.workflow-empty-state-title")],u),s(o,g)};W(x,o=>{e(c)?o(R):o(U,!1)})}D(f);var N=O(f,2);{var V=o=>{const g=u(()=>h("workflows.workflow-query-error-state"));Jo(o,{intent:"warning",icon:"warning",get title(){return e(g)},style:"overflow-wrap: anywhere",children:(n,L)=>{Pe();var S=oe();E(()=>Q(S,m())),s(n,S)},$$slots:{default:!0}})},G=(o,g)=>{{var n=S=>{var X=jr(),q=ne(X),Z=M(q,!0);D(q);var k=O(q,2),te=M(k,!0);D(k),E((ee,re)=>{Q(Z,ee),Q(te,re)},[()=>h("workflows.workflow-query-empty-state-preface"),()=>h("workflows.workflow-query-empty-state-postface")],u),s(S,X)},L=S=>{var X=Vr(),q=ne(X);rt(q,r,"cloud",{},null);var Z=O(q,2),k=M(Z),te=O(k);Bt(te,{newTab:!0,href:"https://github.com/temporalio",children:(re,le)=>{Pe();var C=oe("github.com/temporalio");s(re,C)},$$slots:{default:!0}}),Pe(),D(Z);var ee=O(Z,2);Ze(ee,5,()=>j,et,(re,le)=>{var C=Ar(),H=M(C);Bt(H,{icon:"github",newTab:!0,get href(){return`https://github.com/temporalio/${e(le)??""}`},children:(ae,se)=>{Pe();var ce=oe();E(()=>Q(ce,e(le))),s(ae,ce)},$$slots:{default:!0}}),D(C),s(re,C)}),D(ee),E(re=>Q(k,`${re??""} `),[()=>h("workflows.workflow-empty-state-description")],u),s(S,X)};W(o,S=>{e(c)?S(n):S(L,!1)},g)}};W(N,o=>{m()?o(V):o(G,!1)})}s(w,A)};W(P,w=>{a()?w(v):w($,!1)})}D(y);var b=O(y,2),I=M(b);D(b),D(i),E(()=>Ct(I,"src",e(c)?Sr:Kt)),s(_,i),de(),F()}const Dr=_=>{const r=er({workflows:_},null,2);t(r,`workflows-${_==null?void 0:_.length}-${Date.now()}.json`,"text/plain");function t(F,l,m){const c=document.createElement("a"),a=new Blob([F],{type:m});c.href=URL.createObjectURL(a),c.download=l,c.click()}},Rr=(_,r=2)=>{if(!+_)return"0 Bytes";const t=1024,F=r<0?0:r,l=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],m=Math.floor(Math.log(_)/Math.log(t));return`${parseFloat((_/Math.pow(t,m)).toFixed(F))} ${l[m]}`},Mr={WorkflowId:"id",WorkflowType:"name",RunId:"runId"};var Lr=Y("<!> <!>",1);function Wt(_,r){ue(r,!1);const[t,F]=ve(),l=()=>d(Me,"$page",t),m=()=>d(Re,"$workflowFilters",t),c=T(),a=T(),j=T();let i=J(r,"attribute",8),y=J(r,"workflow",8),P=J(r,"filterOrCopyButtonsVisible",8,!1);const v=()=>{const R=m().find(N=>N.attribute===i()),U=()=>m().filter(N=>N.attribute!==i());if(!R||R.value!==e(c)){const N={attribute:i(),type:At.KEYWORD,value:e(c),conditional:"=",operator:"",parenthesis:""};z(Re,[...U(),N])}else z(Re,[...U()]);$o(l().url,m())};K(()=>(fe(y()),fe(i())),()=>{p(c,y()[Mr[i()]])}),K(()=>l(),()=>{p(a,l().params.namespace)}),K(()=>(e(a),fe(y())),()=>{p(j,lr({namespace:e(a),workflow:y().id,run:y().runId}))}),pe(),me();var $=Lr(),b=ne($);Bt(b,{get href(){return e(j)},children:(R,U)=>{Pe();var N=oe();E(()=>Q(N,e(c))),s(R,N)},$$slots:{default:!0}});var I=O(b,2);const w=u(()=>h("common.copy-icon-title")),A=u(()=>h("common.copy-success-icon-title")),f=u(()=>h("common.filter-workflows")),x=u(()=>m().some(R=>R.attribute===i()&&R.value===e(c)));nr(I,{get copyIconTitle(){return e(w)},get copySuccessIconTitle(){return e(A)},get filterIconTitle(){return e(f)},get show(){return P()},get content(){return e(c)},onFilter:v,get filtered(){return e(x)}}),s(_,$),de(),F()}var Qr=Y('<td class="workflows-summary-table-body-cell filterable svelte-njqsv2" data-testid="workflows-summary-table-body-cell"><!></td>'),qr=Y('<td class="workflows-summary-table-body-cell svelte-njqsv2" data-testid="workflows-summary-table-body-cell"><!></td>');function Yt(_,r){ue(r,!1);const[t,F]=ve(),l=()=>d(ar,"$timeFormat",t),m=()=>d(rr,"$relativeTime",t),c=()=>d(Ko,"$customSearchAttributes",t),a=T();let j=J(r,"column",8),i=J(r,"workflow",8),y=T(!1);const P=()=>p(y,!0),v=()=>p(y,!1),$=f=>{const x=f.relatedTarget;x&&!["filter-button","copy-button"].includes(x.id)&&v()};K(()=>(e(a),fe(j())),()=>{(f=>p(a,f.label))(j())}),pe(),me();var b=be(),I=ne(b);{var w=f=>{var x=Qr(),R=M(x);{var U=V=>{Wt(V,{get filterOrCopyButtonsVisible(){return e(y)},attribute:"WorkflowType",get workflow(){return i()}})},N=(V,G)=>{{var o=n=>{Wt(n,{get filterOrCopyButtonsVisible(){return e(y)},attribute:"WorkflowId",get workflow(){return i()}})},g=(n,L)=>{{var S=X=>{Wt(X,{get filterOrCopyButtonsVisible(){return e(y)},attribute:"RunId",get workflow(){return i()}})};W(n,X=>{e(a)==="Run ID"&&X(S)},L)}};W(V,n=>{e(a)==="Workflow ID"?n(o):n(g,!1)},G)}};W(R,V=>{e(a)==="Type"?V(U):V(N,!1)})}D(x),De("mouseover",x,P),De("focus",x,P),De("focusin",x,P),De("focusout",x,$),De("mouseleave",x,v),De("blur",x,v),s(f,x)},A=f=>{var x=qr(),R=M(x);{var U=V=>{tr(V,{get status(){return i().status}})},N=(V,G)=>{{var o=n=>{var L=oe();E(S=>Q(L,S),[()=>dt(i().endTime,l(),{relative:m()})],u),s(n,L)},g=(n,L)=>{{var S=q=>{var Z=oe();E(k=>Q(Z,k),[()=>dt(i().startTime,l(),{relative:m()})],u),s(q,Z)},X=(q,Z)=>{{var k=ee=>{var re=oe();E(()=>Q(re,i().taskQueue)),s(ee,re)},te=(ee,re)=>{{var le=H=>{var ae=oe();E(()=>{var se;return Q(ae,((se=i())==null?void 0:se.parentNamespaceId)??"")}),s(H,ae)},C=(H,ae)=>{{var se=ie=>{var he=oe();E(Ie=>Q(he,Ie),[()=>Rr(parseInt(i().historySizeBytes,10))],u),s(ie,he)},ce=(ie,he)=>{{var Ie=we=>{var Ee=oe();E(qe=>Q(Ee,qe),[()=>parseInt(i().stateTransitionCount,10)>0?i().stateTransitionCount:""],u),s(we,Ee)},Fe=(we,Ee)=>{{var qe=Ce=>{var ze=oe();E(st=>Q(ze,st),[()=>dt(i().executionTime,l(),{relative:m()})],u),s(Ce,ze)},at=(Ce,ze)=>{{var st=Oe=>{var B=oe();E(ge=>Q(B,ge),[()=>sr({start:i().startTime,end:i().endTime,includeMillisecondsForUnderSecond:!0})],u),s(Oe,B)},Tt=(Oe,B)=>{{var ge=Te=>{var Be=oe();E(Ue=>Q(Be,Ue),[()=>parseInt(i().historyEvents,10)>0?i().historyEvents:""],u),s(Te,Be)},Se=(Te,Be)=>{{var Ue=He=>{var pt=oe();E(()=>{var vt,wt;return Q(pt,((wt=(vt=i().searchAttributes)==null?void 0:vt.indexedFields)==null?void 0:wt.TemporalScheduledById)??"")}),s(He,pt)},io=(He,pt)=>{{var vt=Ke=>{var gt=oe();const nt=u(()=>{var Ye,je;return(je=(Ye=i().searchAttributes)==null?void 0:Ye.indexedFields)==null?void 0:je.TemporalScheduledStartTime});E(Ye=>Q(gt,Ye),[()=>e(nt)&&typeof e(nt)=="string"?dt(e(nt),l(),{relative:m()}):""],u),s(Ke,gt)},wt=(Ke,gt)=>{{var nt=je=>{var ht=oe();const lt=u(()=>{var $t,Ae;return(Ae=($t=i().searchAttributes)==null?void 0:$t.indexedFields)==null?void 0:Ae.TemporalWorkerDeployment});E(()=>Q(ht,e(lt)&&typeof e(lt)=="string"?e(lt):"")),s(je,ht)},Ye=(je,ht)=>{{var lt=Ae=>{var bt=oe();const ct=u(()=>{var _t,Ve;return(Ve=(_t=i().searchAttributes)==null?void 0:_t.indexedFields)==null?void 0:Ve.TemporalWorkerDeploymentVersion});E(()=>Q(bt,e(ct)&&typeof e(ct)=="string"?e(ct):"")),s(Ae,bt)},$t=(Ae,bt)=>{{var ct=Ve=>{var kt=oe();const it=u(()=>{var Ge,ut;return(ut=(Ge=i().searchAttributes)==null?void 0:Ge.indexedFields)==null?void 0:ut.TemporalWorkflowVersioningBehavior});E(()=>Q(kt,e(it)&&typeof e(it)=="string"?e(it):"")),s(Ve,kt)},_t=(Ve,kt)=>{{var it=Ge=>{var ut=be();const yt=u(()=>i().searchAttributes.indexedFields[e(a)]);var uo=ne(ut);{var fo=Je=>{var xt=oe();E(Pt=>Q(xt,Pt),[()=>dt(e(yt),l(),{relative:m()})],u),s(Je,xt)},mo=(Je,xt)=>{{var Pt=Xe=>{or(Xe,{children:(It,va)=>{Pe();var Lt=oe();E(()=>Q(Lt,e(yt))),s(It,Lt)},$$slots:{default:!0}})},po=Xe=>{var It=oe();E(()=>Q(It,e(yt))),s(Xe,It)};W(Je,Xe=>{c()[e(a)]===At.BOOL?Xe(Pt):Xe(po,!1)},xt)}};W(uo,Je=>{c()[e(a)]===At.DATETIME&&typeof e(yt)=="string"?Je(fo):Je(mo,!1)})}s(Ge,ut)};W(Ve,Ge=>{No(e(a))&&Ho(i(),e(a))&&Ge(it)},kt)}};W(Ae,Ve=>{e(a)==="Versioning Behavior"?Ve(ct):Ve(_t,!1)},bt)}};W(je,Ae=>{e(a)==="Deployment Version"?Ae(lt):Ae($t,!1)},ht)}};W(Ke,je=>{e(a)==="Deployment"?je(nt):je(Ye,!1)},gt)}};W(He,Ke=>{e(a)==="Scheduled Start Time"?Ke(vt):Ke(wt,!1)},pt)}};W(Te,He=>{e(a)==="Scheduled By ID"?He(Ue):He(io,!1)},Be)}};W(Oe,Te=>{e(a)==="History Length"?Te(ge):Te(Se,!1)},B)}};W(Ce,Oe=>{e(a)==="Execution Duration"?Oe(st):Oe(Tt,!1)},ze)}};W(we,Ce=>{e(a)==="Execution Time"?Ce(qe):Ce(at,!1)},Ee)}};W(ie,we=>{e(a)==="State Transitions"?we(Ie):we(Fe,!1)},he)}};W(H,ie=>{e(a)==="History Size"?ie(se):ie(ce,!1)},ae)}};W(ee,H=>{e(a)==="Parent Namespace"?H(le):H(C,!1)},re)}};W(q,ee=>{e(a)==="Task Queue"?ee(k):ee(te,!1)},Z)}};W(n,q=>{e(a)==="Start"?q(S):q(X,!1)},L)}};W(V,n=>{e(a)==="End"?n(o):n(g,!1)},G)}};W(R,V=>{e(a)==="Status"?V(U):V(N,!1)})}D(x),s(f,x)};W(I,f=>{e(a)==="Run ID"||e(a)==="Workflow ID"||e(a)==="Type"?f(w):f(A,!1)})}s(_,b),de(),F()}var zr=Y("<th> </th>");function Ur(_,r){ue(r,!1);const t=T();let F=J(r,"column",8);K(()=>(e(t),fe(F())),()=>{(c=>p(t,c.label))(F())}),pe();var l=zr(),m=M(l,!0);D(l),E(()=>{Ct(l,"data-testid",`workflows-summary-table-header-cell-${e(t)??""}`),Q(m,e(t))}),s(_,l),de()}const Nr=["workflowCancelDisabled","workflowTerminateDisabled"],Hr=_=>_.disableWriteActions||_.batchActionsDisabled?!1:Nr.some(r=>!_[r]),co=ft([no,ao,ur,so],([_,r,t,F])=>(F?!0:cr(_,"1.18.0"))&&r&&Hr(t));var Kr=Y('<span class="font-semibold"><!></span>'),Yr=Y('<span> <button data-testid="select-all-workflows" class="cursor-pointer underline"><!></button> </span>'),Gr=Y('<span class="font-semibold"><!></span> <!>',1),Jr=Y('<!> <div class="ml-4 inline-flex gap-2"><!> <!> <!></div>',1);function Xr(_,r){ue(r,!1);const[t,F]=ve(),l=()=>d(f,"$selectedWorkflows",t),m=()=>d(Me,"$page",t),c=()=>d(o,"$coreUser",t),a=()=>d(so,"$isCloud",t),j=()=>d(no,"$temporalVersion",t),i=()=>d(x,"$allSelected",t),y=()=>d(Zt,"$workflowCount",t),P=()=>d(Le,"$workflowsQuery",t),v=()=>d(U,"$cancelableWorkflows",t),$=T(),b=T(),I=T();var w=T();let A=J(r,"workflows",8);const{selectedWorkflows:f,allSelected:x,handleSelectAll:R,cancelableWorkflows:U,openBatchCancelConfirmationModal:N,openBatchTerminateConfirmationModal:V,openBatchResetConfirmationModal:G}=Ne(Qe);let o=dr(),g=T();K(()=>(ke(w),l()),()=>{p(g,p(w,l()===null||l()===void 0?void 0:l().length)!==null&&ke(w)!==void 0?ke(w):0)}),K(()=>(m(),c()),()=>{p($,So(m().data.settings,c(),m().params.namespace))}),K(()=>(m(),c()),()=>{p(b,Bo(m().data.settings,c(),m().params.namespace))}),K(()=>(m(),c(),a(),j()),()=>{p(I,jo(m().data.settings,c(),m().params.namespace)&&a()?!0:ir("1.23.0",j()))}),pe(),me();var n=Jr(),L=ne(n);{var S=C=>{var H=Kr(),ae=M(H);ye(ae,{key:"workflows.all-selected",get count(){return y().count}}),D(H),s(C,H)},X=C=>{var H=Gr(),ae=ne(H),se=M(ae);ye(se,{key:"workflows.n-selected",get count(){return e(g)}}),D(ae);var ce=O(ae,2);{var ie=he=>{var Ie=Yr(),Fe=M(Ie),we=O(Fe),Ee=M(we);ye(Ee,{key:"workflows.select-all",get count(){return y().count}}),D(we);var qe=O(we);D(Ie),E((at,Ce)=>{Q(Fe,`(${at??""} `),Q(qe,` ${Ce??""})`)},[()=>h("workflows.select-all-leading"),()=>h("workflows.select-all-trailing")],u),De("click",we,()=>R(A())),s(he,Ie)};W(ce,he=>{P()&&he(ie)})}s(C,H)};W(L,C=>{i()?C(S):C(X,!1)})}var q=O(L,2),Z=M(q);{var k=C=>{const H=u(()=>!v().length);We(C,{size:"xs",variant:"ghost",class:"text-off-white focus-visible:border-table","data-testid":"bulk-cancel-button",get disabled(){return e(H)},$$events:{click:N},children:(ae,se)=>{Pe();var ce=oe();E(ie=>Q(ce,ie),[()=>h("workflows.request-cancellation")],u),s(ae,ce)},$$slots:{default:!0}})};W(Z,C=>{e(b)&&C(k)})}var te=O(Z,2);{var ee=C=>{We(C,{size:"xs",variant:"ghost",class:"text-off-white focus-visible:border-table","data-testid":"bulk-reset-button",$$events:{click:G},children:(H,ae)=>{Pe();var se=oe();E(ce=>Q(se,ce),[()=>h("workflows.reset")],u),s(H,se)},$$slots:{default:!0}})};W(te,C=>{e(I)&&C(ee)})}var re=O(te,2);{var le=C=>{We(C,{size:"xs",variant:"destructive",class:"focus-visible:border-table","data-testid":"bulk-terminate-button",$$events:{click:V},children:(H,ae)=>{Pe();var se=oe();E(ce=>Q(se,ce),[()=>h("workflows.terminate")],u),s(H,se)},$$slots:{default:!0}})};W(re,C=>{e($)&&C(le)})}D(q),s(_,n),de(),F()}var Zr=Y('<th class="batch-actions-checkbox-table-cell svelte-zmv232"><!></th>'),ea=Y('<th class="batch-actions-table-cell svelte-zmv232"><!></th>'),ta=Y('<tr><!><th class="w-6"></th><!></tr>');function oa(_,r){ue(r,!1);const[t,F]=ve(),l=()=>d(b,"$selectedWorkflows",t),m=()=>d(co,"$supportsBulkActions",t),c=()=>d(I,"$pageSelected",t),a=()=>d(w,"$batchActionsVisible",t),j=T(),i=T();let y=J(r,"workflows",8),P=J(r,"empty",8),v=J(r,"columnsCount",8);const{handleSelectPage:$,selectedWorkflows:b,pageSelected:I,batchActionsVisible:w}=Ne(Qe),A=G=>{const{checked:o}=G.detail;$(o,y())};K(()=>(l(),fe(y())),()=>{p(j,l().length>0&&l().length<y().length)}),K(()=>h,()=>{p(i,h("workflows.select-all-workflows"))}),pe(),me();var f=ta(),x=M(f);{var R=G=>{var o=Zr(),g=M(o);ro(g,{get label(){return e(i)},labelHidden:!0,id:"select-visible-workflows","data-testid":"batch-actions-checkbox",get indeterminate(){return e(j)},get checked(){return xe(),c()},set checked(n){z(I,n)},$$events:{change:A},$$legacy:!0}),D(o),s(G,o)};W(x,G=>{!P()&&m()&&G(R)})}var U=O(x,2);{var N=G=>{var o=ea(),g=M(o);Xr(g,{get workflows(){return y()}}),D(o),E(()=>Ct(o,"colspan",v())),s(G,o)},V=G=>{var o=be(),g=ne(o);rt(g,r,"default",{},null),s(G,o)};W(U,G=>{m()&&a()?G(N):G(V,!1)})}D(f),s(_,f),de(),F()}function ra(_,r){const t=qt(r,["children","$$slots","$$events","$$legacy"]),F=qt(t,["namespace","workflowId","taskQueue","workflowType"]);ue(r,!1);const l=T();let m=J(r,"namespace",8),c=J(r,"workflowId",8),a=J(r,"taskQueue",8),j=J(r,"workflowType",8);K(()=>(fe(m()),fe(c()),fe(a()),fe(j())),()=>{p(l,oo({namespace:m(),workflowId:c(),taskQueue:a(),workflowType:j()}))}),pe(),me();const i=u(()=>h("workflows.start-workflow-like-this-one"));mt(_,{get text(){return e(i)},topLeft:!0,children:(y,P)=>{We(y,ho({size:"xs",variant:"ghost",class:"start-button",leadingIcon:"lightning-bolt"},()=>F,{$$events:{click:()=>fr(e(l))}}))},$$slots:{default:!0}}),de()}var aa=Y('<td class="relative"><!></td> <td><!> <!></td>',1),sa=Y("<td></td>"),na=Y('<tr data-testid="workflows-summary-configurable-table-row"><!><!></tr>');function Gt(_,r){ue(r,!1);const[t,F]=ve(),l=()=>d(Me,"$page",t),m=()=>d(co,"$supportsBulkActions",t),c=()=>d(f,"$selectedWorkflows",t),a=()=>d(A,"$allSelected",t),j=()=>d(eo,"$hideChildWorkflows",t),i=T(),y=T(),P=T();let v=J(r,"workflow",8,void 0),$=J(r,"empty",8,!1),b=J(r,"viewChildren",8,()=>{}),I=J(r,"childCount",8,void 0),w=J(r,"child",8,!1);const{allSelected:A,selectedWorkflows:f}=Ne(Qe);K(()=>(e(i),l()),()=>{(o=>p(i,o.namespace))(l().params)}),K(()=>fe(v()),()=>{p(y,h("workflows.select-workflow",{workflow:v()===null||v()===void 0?void 0:v().id}))}),K(()=>fe(I()),()=>{p(P,I()!==void 0)}),pe(),me();var x=na();let R;var U=M(x);{var N=o=>{var g=aa(),n=ne(g),L=M(n);ro(L,{get label(){return e(y)},labelHidden:!0,get value(){return v()},get disabled(){return a()},get"aria-label"(){return e(y)},get group(){return xe(),c()},set group(k){z(f,k)},$$legacy:!0}),D(n);var S=O(n,2),X=M(S);{var q=k=>{ra(k,{get namespace(){return e(i)},get workflowId(){return v().id},get taskQueue(){return v().taskQueue},get workflowType(){return v().name}})};W(X,k=>{lo(l())||k(q)})}var Z=O(X,2);Oo(Z,{minimumVersion:"1.23.0",children:(k,te)=>{var ee=be(),re=ne(ee);{var le=C=>{const H=u(()=>e(P)?"primary":"ghost");We(C,{size:"xs",get variant(){return e(H)},$$events:{click:()=>b()(v())},children:(ae,se)=>{const ce=u(()=>e(P)?h("workflows.children",{count:I()}):h("workflows.show-children"));mt(ae,{get text(){return e(ce)},topLeft:!0,children:(ie,he)=>{jt(ie,{name:"relationship",class:"scale-80"})},$$slots:{default:!0}})},$$slots:{default:!0}})};W(re,C=>{j()&&!w()&&C(le)})}s(k,ee)},$$slots:{default:!0}}),D(S),E(()=>Ht(S,1,`cursor-point relative flex items-center justify-center gap-0.5 py-0.5 ${(j()&&!w()?"w-auto":"w-6")??""}`)),s(o,g)},V=o=>{var g=sa();s(o,g)};W(U,o=>{!$()&&m()?o(N):o(V,!1)})}var G=O(U);rt(G,r,"default",{},null),D(x),E(o=>R=Ht(x,1,"svelte-1j41e4d",null,R,o),[()=>({empty:$(),child:w()})],u),s(_,x),de(),F()}var la=Y("<!> <!>",1),ca=Y('<caption class="sr-only" slot="caption"> </caption>'),ia=Y("<!> <!>",1);function ua(_,r){ue(r,!1);const[t,F]=ve(),l=()=>d(Me,"$page",t),m=()=>d(Do,"$configurableTableColumns",t),c=()=>d(Io,"$workflows",t),a=()=>d(eo,"$hideChildWorkflows",t),j=()=>d(tt,"$refresh",t),i=()=>d(Le,"$workflowsQuery",t),y=()=>d(Dt,"$updating",t),P=T(),v=T(),$=T(),b=T();var I=T(),w=T();let A=J(r,"onClickConfigure",8),f=T([]);const x=()=>{p(f,[])},R=async o=>{if(e(b)(o))p(f,e(f).filter(g=>g.workflowId!==o.id&&g.runId!==o.runId));else{const g=await Co(e(P),o.id,o.runId);p(f,[{workflowId:o.id,runId:o.runId,children:g},...e(f)])}};K(()=>(e(P),l()),()=>{(o=>p(P,o.namespace))(l().params)}),K(()=>(ke(w),ke(I),m(),e(P)),()=>{p(v,p(w,p(I,m()===null||m()===void 0?void 0:m()[e(P)])===null||ke(I)===void 0?void 0:ke(I).workflows)!==null&&ke(w)!==void 0?ke(w):[])}),K(()=>c(),()=>{p($,c().length===0)}),K(()=>(a(),j(),i()),()=>{a(),j(),i(),x()}),K(()=>e(f),()=>{p(b,o=>e(f).find(g=>g.workflowId===o.id&&g.runId===o.runId))}),pe(),me();const U=u(()=>h("common.workflows")),N=u(()=>h("common.per-page")),V=u(()=>h("common.next-page")),G=u(()=>h("common.previous-page"));Zo(_,{get"aria-label"(){return e(U)},get perPageLabel(){return e(N)},get nextPageButtonLabel(){return e(V)},get previousPageButtonLabel(){return e(G)},pageButtonLabel:o=>h("common.go-to-page",{page:o}),get updating(){return y()},get items(){return c()},children:Qt,$$slots:{default:(o,g)=>{const n=u(()=>g.visibleItems);var L=be(),S=ne(L);Ze(S,1,()=>e(n),et,(X,q)=>{var Z=la(),k=ne(Z);const te=u(()=>{var le;return(le=e(b)(e(q)))==null?void 0:le.children.length});Gt(k,{get workflow(){return e(q)},viewChildren:R,get childCount(){return e(te)},children:(le,C)=>{var H=be(),ae=ne(H);Ze(ae,1,()=>e(v),et,(se,ce)=>{Yt(se,{get workflow(){return e(q)},get column(){return e(ce)}})}),s(le,H)},$$slots:{default:!0}});var ee=O(k,2);{var re=le=>{var C=be(),H=ne(C);Ze(H,1,()=>e(b)(e(q)).children,et,(ae,se)=>{Gt(ae,{get workflow(){return e(se)},child:!0,children:(ce,ie)=>{var he=be(),Ie=ne(he);Ze(Ie,1,()=>e(v),et,(Fe,we)=>{Yt(Fe,{get workflow(){return e(se)},get column(){return e(we)}})}),s(ce,he)},$$slots:{default:!0}})}),s(le,C)};W(ee,le=>{e(b)(e(q))&&le(re)})}s(X,Z)}),s(o,L)},caption:(o,g)=>{var n=ca(),L=M(n,!0);D(n),E(S=>Q(L,S),[()=>h("common.workflows")],u),s(o,n)},headers:(o,g)=>{const n=u(()=>g.visibleItems);oa(o,{get columnsCount(){return e(v).length},get empty(){return e($)},slot:"headers",get workflows(){return e(n)},children:Qt,$$slots:{default:(L,S)=>{var X=be(),q=ne(X);Ze(q,1,()=>e(v),et,(Z,k)=>{Ur(Z,{get column(){return e(k)}})}),s(L,X)}}})},empty:(o,g)=>{const n=u(()=>g.updating);Or(o,{get updating(){return e(n)},$$slots:{cloud:(L,S)=>{var X=be(),q=ne(X);rt(q,r,"cloud",{},null),s(L,X)}}})},"actions-end-additional":(o,g)=>{var n=ia(),L=ne(n);const S=u(()=>h("common.download-json"));mt(L,{get text(){return e(S)},top:!0,children:(q,Z)=>{We(q,{"data-testid":"export-history-button",size:"xs",variant:"ghost",$$events:{click:()=>Dr(c())},children:(k,te)=>{jt(k,{name:"download"})},$$slots:{default:!0}})},$$slots:{default:!0}});var X=O(L,2);mt(X,{text:"Configure Columns",top:!0,children:(q,Z)=>{We(q,{"data-testid":"workflows-summary-table-configuration-button",size:"xs",variant:"ghost",$$events:{click(...k){var te;(te=A())==null||te.apply(this,k)}},children:(k,te)=>{jt(k,{name:"settings"})},$$slots:{default:!0}})},$$slots:{default:!0}}),s(o,n)}}}),de(),F()}const Qe="BATCH_OPERATION_CONTEXT";var da=Y('<span data-testid="workflow-count"> </span> <!>',1),fa=Y('<!> <!> <!> <!> <!> <header class="flex flex-col gap-2"><div class="flex flex-col justify-between gap-2 md:flex-row"><h1 class="flex items-center gap-2" data-cy="workflows-title"><!> <!></h1> <!></div> <!></header> <!> <!> <!>',1);function ma(_,r){ue(r,!1);const[t,F]=ve(),l=()=>d(Me,"$page",t),m=()=>d(to,"$searchAttributes",t),c=()=>d(V,"$selectedWorkflows",t),a=()=>d(Dt,"$updating",t),j=()=>d(ao,"$supportsAdvancedVisibility",t),i=()=>d(Zt,"$workflowCount",t),y=()=>d(Po,"$groupByCountEnabled",t),P=T(),v=T(),$=T(),b=T();go(()=>{z(mr,l().params.namespace),e(P)&&z(Re,Xt(e(P),m()))});const I=()=>{z(U,!1),z(N,!1),z(V,[])};let w=T(!1),A=T(!1),f=T(!1),x=T(!1),R=T(!1);const U=_e(!1),N=_e(!1),V=_e([]),G=ft(V,B=>B.length>0),o=ft(V,B=>B.filter(ge=>ge.canBeTerminated)),g=ft(V,B=>B.filter(ge=>ge.status==="Running"));vo(Qe,{allSelected:U,pageSelected:N,terminableWorkflows:o,cancelableWorkflows:g,selectedWorkflows:V,batchActionsVisible:G,openBatchCancelConfirmationModal:()=>{c().length>1?p(A,!0):p(R,!0)},openBatchTerminateConfirmationModal:()=>{c().length>1?p(w,!0):p(x,!0)},openBatchResetConfirmationModal:()=>{p(f,!0)},handleSelectAll:B=>{U.set(!0),V.set([...B])},handleSelectPage:(B,ge)=>{N.set(B),U&&U.set(!1),B?V.set([...ge]):V.set([])}});let Z=T(!1);const k=()=>{p(Z,!0)};K(()=>l(),()=>{p(P,l().url.searchParams.get("query"))}),K(()=>e(P),()=>{e(P),z(Le,e(P))}),K(()=>l(),()=>{p(v,l().params.namespace)}),K(()=>l(),()=>{p($,l().url.searchParams.toString())}),K(()=>e($),()=>{e($),z(To,e($))}),K(()=>(e(v),l()),()=>{p(b,Mo(e(v),l().data.settings))}),K(()=>a(),()=>{a()&&I()}),pe(),me();var te=fa(),ee=ne(te);xr(ee,{get namespace(){return e(v)},get open(){return e(w)},set open(B){p(w,B)},$$legacy:!0});var re=O(ee,2);$r(re,{get namespace(){return e(v)},get open(){return e(A)},set open(B){p(A,B)},$$legacy:!0});var le=O(re,2);kr(le,{get namespace(){return e(v)},get open(){return e(f)},set open(B){p(f,B)},$$legacy:!0});var C=O(le,2);Ao(C,{refresh:tt,get namespace(){return e(v)},get workflow(){return c()[0]},get open(){return e(x)},set open(B){p(x,B)},$$legacy:!0});var H=O(C,2);Vo(H,{refresh:tt,get namespace(){return e(v)},get workflow(){return c()[0]},get open(){return e(R)},set open(B){p(R,B)},$$legacy:!0});var ae=O(H,2),se=M(ae),ce=M(se),ie=M(ce);{var he=B=>{var ge=da(),Se=ne(ge),Te=M(Se,!0);D(Se);var Be=O(Se,2);ye(Be,{key:"common.workflows-plural",get count(){return i().count}}),E(Ue=>Q(Te,Ue),[()=>i().count.toLocaleString()],u),s(B,ge)},Ie=B=>{ye(B,{key:"workflows.recent-workflows"})};W(ie,B=>{j()?B(he):B(Ie,!1)})}var Fe=O(ie,2);Wr(Fe,{get count(){return i().newCount}}),D(ce);var we=O(ce,2);{var Ee=B=>{const ge=u(()=>oo({namespace:e(v)}));We(B,{leadingIcon:"lightning-bolt",get href(){return e(ge)},children:(Se,Te)=>{Pe();var Be=oe();E(Ue=>Q(Be,Ue),[()=>h("workflows.start-workflow")],u),s(Se,Be)},$$slots:{default:!0}})};W(we,B=>{lo(l())||B(Ee)})}D(se);var qe=O(se,2);{var at=B=>{Go(B,{})};W(qe,B=>{y()&&B(at)})}D(ae);var Ce=O(ae,2);Pr(Ce,{});var ze=O(Ce,2);ua(ze,{onClickConfigure:k,$$slots:{cloud:(B,ge)=>{var Se=be(),Te=ne(Se);rt(Te,r,"cloud",{},null),s(B,Se)}}});var st=O(ze,2);const Tt=u(()=>h("common.columns")),Oe=u(()=>h("common.workflows-table"));Ro(st,{get availableColumns(){return e(b)},get type(){return e(Tt)},get title(){return e(Oe)},get open(){return e(Z)},set open(B){p(Z,B)},$$legacy:!0}),s(_,te),de(),F()}var pa=Y("<!> <!>",1);function ys(_,r){ue(r,!1);const[t,F]=ve(),l=()=>d(Me,"$page",t);me();var m=pa(),c=ne(m);const a=u(()=>`Workflows | ${l().params.namespace}`);wo(c,{get title(){return e(a)},get url(){return l().url.href}});var j=O(c,2);ma(j,{}),s(_,m),de(),F()}export{ys as component,ks as universal};
